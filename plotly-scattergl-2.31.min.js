/**
* plotly.js (scattergl-2.31 - minified) v2.3.1
* Copyright 2012-2021, Plotly, Inc.
* All rights reserved.
* Licensed under the MIT license
*/
!function(e) {
    if ("object" == typeof exports && "undefined" != typeof module)
        module.exports = e();
    else if ("function" == typeof define && define.amd)
        define([], e);
    else {
        ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).Plotly = e()
    }
}((function() {
    return function e(t, r, n) {
        function a(o, s) {
            if (!r[o]) {
                if (!t[o]) {
                    var l = "function" == typeof require && require;
                    if (!s && l)
                        return l(o, !0);
                    if (i)
                        return i(o, !0);
                    var c = new Error("Cannot find module '" + o + "'");
                    throw c.code = "MODULE_NOT_FOUND",
                    c
                }
                var u = r[o] = {
                    exports: {}
                };
                t[o][0].call(u.exports, (function(e) {
                    return a(t[o][1][e] || e)
                }
                ), u, u.exports, e, t, r, n)
            }
            return r[o].exports
        }
        for (var i = "function" == typeof require && require, o = 0; o < n.length; o++)
            a(n[o]);
        return a
    }({
        1: [function(e, t, r) {
            "use strict";
            var n = e("../src/lib")
              , a = {
                "X,X div": 'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',
                "X input,X button": 'font-family:"Open Sans",verdana,arial,sans-serif;',
                "X input:focus,X button:focus": "outline:none;",
                "X a": "text-decoration:none;",
                "X a:hover": "text-decoration:none;",
                "X .crisp": "shape-rendering:crispEdges;",
                "X .user-select-none": "-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;",
                "X svg": "overflow:hidden;",
                "X svg a": "fill:#447adb;",
                "X svg a:hover": "fill:#3c6dc5;",
                "X .main-svg": "position:absolute;top:0;left:0;pointer-events:none;",
                "X .main-svg .draglayer": "pointer-events:all;",
                "X .cursor-default": "cursor:default;",
                "X .cursor-pointer": "cursor:pointer;",
                "X .cursor-crosshair": "cursor:crosshair;",
                "X .cursor-move": "cursor:move;",
                "X .cursor-col-resize": "cursor:col-resize;",
                "X .cursor-row-resize": "cursor:row-resize;",
                "X .cursor-ns-resize": "cursor:ns-resize;",
                "X .cursor-ew-resize": "cursor:ew-resize;",
                "X .cursor-sw-resize": "cursor:sw-resize;",
                "X .cursor-s-resize": "cursor:s-resize;",
                "X .cursor-se-resize": "cursor:se-resize;",
                "X .cursor-w-resize": "cursor:w-resize;",
                "X .cursor-e-resize": "cursor:e-resize;",
                "X .cursor-nw-resize": "cursor:nw-resize;",
                "X .cursor-n-resize": "cursor:n-resize;",
                "X .cursor-ne-resize": "cursor:ne-resize;",
                "X .cursor-grab": "cursor:-webkit-grab;cursor:grab;",
                "X .modebar": "position:absolute;top:2px;right:2px;",
                "X .ease-bg": "-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;",
                "X .modebar--hover>:not(.watermark)": "opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;",
                "X:hover .modebar--hover .modebar-group": "opacity:1;",
                "X .modebar-group": "float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;",
                "X .modebar-btn": "position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;",
                "X .modebar-btn svg": "position:relative;top:2px;",
                "X .modebar.vertical": "display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;",
                "X .modebar.vertical svg": "top:-1px;",
                "X .modebar.vertical .modebar-group": "display:block;float:none;padding-left:0px;padding-bottom:8px;",
                "X .modebar.vertical .modebar-group .modebar-btn": "display:block;text-align:center;",
                "X [data-title]:before,X [data-title]:after": "position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;",
                "X [data-title]:hover:before,X [data-title]:hover:after": "display:block;opacity:1;",
                "X [data-title]:before": 'content:"";position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',
                "X [data-title]:after": "content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;",
                "X .vertical [data-title]:before,X .vertical [data-title]:after": "top:0%;right:200%;",
                "X .vertical [data-title]:before": "border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;",
                "X .select-outline": "fill:none;stroke-width:1;shape-rendering:crispEdges;",
                "X .select-outline-1": "stroke:#fff;",
                "X .select-outline-2": "stroke:#000;stroke-dasharray:2px 2px;",
                Y: 'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',
                "Y p": "margin:0;",
                "Y .notifier-note": "min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;",
                "Y .notifier-close": "color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;",
                "Y .notifier-close:hover": "color:#444;text-decoration:none;cursor:pointer;"
            };
            for (var i in a) {
                var o = i.replace(/^,/, " ,").replace(/X/g, ".js-plotly-plot .plotly").replace(/Y/g, ".plotly-notifier");
                n.addStyleRule(o, a[i])
            }
        }
        , {
            "../src/lib": 365
        }],
        2: [function(e, t, r) {
            "use strict";
            t.exports = e("../src/components/calendars")
        }
        , {
            "../src/components/calendars": 233
        }],
        3: [function(e, t, r) {
            "use strict";
            t.exports = e("../src/core")
        }
        , {
            "../src/core": 346
        }],
        4: [function(e, t, r) {
            "use strict";
            var n = e("./core");
            n.register([e("./scattergl"), e("./calendars")]),
            t.exports = n
        }
        , {
            "./calendars": 2,
            "./core": 3,
            "./scattergl": 5
        }],
        5: [function(e, t, r) {
            "use strict";
            t.exports = e("../src/traces/scattergl")
        }
        , {
            "../src/traces/scattergl": 500
        }],
        6: [function(e, t, r) {
            (function() {
                var e = {
                    version: "3.6.0"
                }
                  , r = [].slice
                  , n = function(e) {
                    return r.call(e)
                }
                  , a = this.document;
                function i(e) {
                    return e && (e.ownerDocument || e.document || e).documentElement
                }
                function o(e) {
                    return e && (e.ownerDocument && e.ownerDocument.defaultView || e.document && e || e.defaultView)
                }
                if (a)
                    try {
                        n(a.documentElement.childNodes)[0].nodeType
                    } catch (e) {
                        n = function(e) {
                            for (var t = e.length, r = new Array(t); t--; )
                                r[t] = e[t];
                            return r
                        }
                    }
                if (Date.now || (Date.now = function() {
                    return +new Date
                }
                ),
                a)
                    try {
                        a.createElement("DIV").style.setProperty("opacity", 0, "")
                    } catch (e) {
                        var s = this.Element.prototype
                          , l = s.setAttribute
                          , c = s.setAttributeNS
                          , u = this.CSSStyleDeclaration.prototype
                          , f = u.setProperty;
                        s.setAttribute = function(e, t) {
                            l.call(this, e, t + "")
                        }
                        ,
                        s.setAttributeNS = function(e, t, r) {
                            c.call(this, e, t, r + "")
                        }
                        ,
                        u.setProperty = function(e, t, r) {
                            f.call(this, e, t + "", r)
                        }
                    }
                function d(e, t) {
                    return e < t ? -1 : e > t ? 1 : e >= t ? 0 : NaN
                }
                function h(e) {
                    return null === e ? NaN : +e
                }
                function p(e) {
                    return !isNaN(e)
                }
                function g(e) {
                    return {
                        left: function(t, r, n, a) {
                            for (arguments.length < 3 && (n = 0),
                            arguments.length < 4 && (a = t.length); n < a; ) {
                                var i = n + a >>> 1;
                                e(t[i], r) < 0 ? n = i + 1 : a = i
                            }
                            return n
                        },
                        right: function(t, r, n, a) {
                            for (arguments.length < 3 && (n = 0),
                            arguments.length < 4 && (a = t.length); n < a; ) {
                                var i = n + a >>> 1;
                                e(t[i], r) > 0 ? a = i : n = i + 1
                            }
                            return n
                        }
                    }
                }
                e.ascending = d,
                e.descending = function(e, t) {
                    return t < e ? -1 : t > e ? 1 : t >= e ? 0 : NaN
                }
                ,
                e.min = function(e, t) {
                    var r, n, a = -1, i = e.length;
                    if (1 === arguments.length) {
                        for (; ++a < i; )
                            if (null != (n = e[a]) && n >= n) {
                                r = n;
                                break
                            }
                        for (; ++a < i; )
                            null != (n = e[a]) && r > n && (r = n)
                    } else {
                        for (; ++a < i; )
                            if (null != (n = t.call(e, e[a], a)) && n >= n) {
                                r = n;
                                break
                            }
                        for (; ++a < i; )
                            null != (n = t.call(e, e[a], a)) && r > n && (r = n)
                    }
                    return r
                }
                ,
                e.max = function(e, t) {
                    var r, n, a = -1, i = e.length;
                    if (1 === arguments.length) {
                        for (; ++a < i; )
                            if (null != (n = e[a]) && n >= n) {
                                r = n;
                                break
                            }
                        for (; ++a < i; )
                            null != (n = e[a]) && n > r && (r = n)
                    } else {
                        for (; ++a < i; )
                            if (null != (n = t.call(e, e[a], a)) && n >= n) {
                                r = n;
                                break
                            }
                        for (; ++a < i; )
                            null != (n = t.call(e, e[a], a)) && n > r && (r = n)
                    }
                    return r
                }
                ,
                e.extent = function(e, t) {
                    var r, n, a, i = -1, o = e.length;
                    if (1 === arguments.length) {
                        for (; ++i < o; )
                            if (null != (n = e[i]) && n >= n) {
                                r = a = n;
                                break
                            }
                        for (; ++i < o; )
                            null != (n = e[i]) && (r > n && (r = n),
                            a < n && (a = n))
                    } else {
                        for (; ++i < o; )
                            if (null != (n = t.call(e, e[i], i)) && n >= n) {
                                r = a = n;
                                break
                            }
                        for (; ++i < o; )
                            null != (n = t.call(e, e[i], i)) && (r > n && (r = n),
                            a < n && (a = n))
                    }
                    return [r, a]
                }
                ,
                e.sum = function(e, t) {
                    var r, n = 0, a = e.length, i = -1;
                    if (1 === arguments.length)
                        for (; ++i < a; )
                            p(r = +e[i]) && (n += r);
                    else
                        for (; ++i < a; )
                            p(r = +t.call(e, e[i], i)) && (n += r);
                    return n
                }
                ,
                e.mean = function(e, t) {
                    var r, n = 0, a = e.length, i = -1, o = a;
                    if (1 === arguments.length)
                        for (; ++i < a; )
                            p(r = h(e[i])) ? n += r : --o;
                    else
                        for (; ++i < a; )
                            p(r = h(t.call(e, e[i], i))) ? n += r : --o;
                    if (o)
                        return n / o
                }
                ,
                e.quantile = function(e, t) {
                    var r = (e.length - 1) * t + 1
                      , n = Math.floor(r)
                      , a = +e[n - 1]
                      , i = r - n;
                    return i ? a + i * (e[n] - a) : a
                }
                ,
                e.median = function(t, r) {
                    var n, a = [], i = t.length, o = -1;
                    if (1 === arguments.length)
                        for (; ++o < i; )
                            p(n = h(t[o])) && a.push(n);
                    else
                        for (; ++o < i; )
                            p(n = h(r.call(t, t[o], o))) && a.push(n);
                    if (a.length)
                        return e.quantile(a.sort(d), .5)
                }
                ,
                e.variance = function(e, t) {
                    var r, n, a = e.length, i = 0, o = 0, s = -1, l = 0;
                    if (1 === arguments.length)
                        for (; ++s < a; )
                            p(r = h(e[s])) && (o += (n = r - i) * (r - (i += n / ++l)));
                    else
                        for (; ++s < a; )
                            p(r = h(t.call(e, e[s], s))) && (o += (n = r - i) * (r - (i += n / ++l)));
                    if (l > 1)
                        return o / (l - 1)
                }
                ,
                e.deviation = function() {
                    var t = e.variance.apply(this, arguments);
                    return t ? Math.sqrt(t) : t
                }
                ;
                var y = g(d);
                function v(e) {
                    return e.length
                }
                e.bisectLeft = y.left,
                e.bisect = e.bisectRight = y.right,
                e.bisector = function(e) {
                    return g(1 === e.length ? function(t, r) {
                        return d(e(t), r)
                    }
                    : e)
                }
                ,
                e.shuffle = function(e, t, r) {
                    (i = arguments.length) < 3 && (r = e.length,
                    i < 2 && (t = 0));
                    for (var n, a, i = r - t; i; )
                        a = Math.random() * i-- | 0,
                        n = e[i + t],
                        e[i + t] = e[a + t],
                        e[a + t] = n;
                    return e
                }
                ,
                e.permute = function(e, t) {
                    for (var r = t.length, n = new Array(r); r--; )
                        n[r] = e[t[r]];
                    return n
                }
                ,
                e.pairs = function(e) {
                    for (var t = 0, r = e.length - 1, n = e[0], a = new Array(r < 0 ? 0 : r); t < r; )
                        a[t] = [n, n = e[++t]];
                    return a
                }
                ,
                e.transpose = function(t) {
                    if (!(i = t.length))
                        return [];
                    for (var r = -1, n = e.min(t, v), a = new Array(n); ++r < n; )
                        for (var i, o = -1, s = a[r] = new Array(i); ++o < i; )
                            s[o] = t[o][r];
                    return a
                }
                ,
                e.zip = function() {
                    return e.transpose(arguments)
                }
                ,
                e.keys = function(e) {
                    var t = [];
                    for (var r in e)
                        t.push(r);
                    return t
                }
                ,
                e.values = function(e) {
                    var t = [];
                    for (var r in e)
                        t.push(e[r]);
                    return t
                }
                ,
                e.entries = function(e) {
                    var t = [];
                    for (var r in e)
                        t.push({
                            key: r,
                            value: e[r]
                        });
                    return t
                }
                ,
                e.merge = function(e) {
                    for (var t, r, n, a = e.length, i = -1, o = 0; ++i < a; )
                        o += e[i].length;
                    for (r = new Array(o); --a >= 0; )
                        for (t = (n = e[a]).length; --t >= 0; )
                            r[--o] = n[t];
                    return r
                }
                ;
                var m = Math.abs;
                function b(e) {
                    for (var t = 1; e * t % 1; )
                        t *= 10;
                    return t
                }
                function x(e, t) {
                    for (var r in t)
                        Object.defineProperty(e.prototype, r, {
                            value: t[r],
                            enumerable: !1
                        })
                }
                function _() {
                    this._ = Object.create(null)
                }
                e.range = function(e, t, r) {
                    if (arguments.length < 3 && (r = 1,
                    arguments.length < 2 && (t = e,
                    e = 0)),
                    (t - e) / r == 1 / 0)
                        throw new Error("infinite range");
                    var n, a = [], i = b(m(r)), o = -1;
                    if (e *= i,
                    t *= i,
                    (r *= i) < 0)
                        for (; (n = e + r * ++o) > t; )
                            a.push(n / i);
                    else
                        for (; (n = e + r * ++o) < t; )
                            a.push(n / i);
                    return a
                }
                ,
                e.map = function(e, t) {
                    var r = new _;
                    if (e instanceof _)
                        e.forEach((function(e, t) {
                            r.set(e, t)
                        }
                        ));
                    else if (Array.isArray(e)) {
                        var n, a = -1, i = e.length;
                        if (1 === arguments.length)
                            for (; ++a < i; )
                                r.set(a, e[a]);
                        else
                            for (; ++a < i; )
                                r.set(t.call(e, n = e[a], a), n)
                    } else
                        for (var o in e)
                            r.set(o, e[o]);
                    return r
                }
                ;
                function w(e) {
                    return "__proto__" == (e += "") || "\0" === e[0] ? "\0" + e : e
                }
                function A(e) {
                    return "\0" === (e += "")[0] ? e.slice(1) : e
                }
                function k(e) {
                    return w(e)in this._
                }
                function T(e) {
                    return (e = w(e))in this._ && delete this._[e]
                }
                function M() {
                    var e = [];
                    for (var t in this._)
                        e.push(A(t));
                    return e
                }
                function S() {
                    var e = 0;
                    for (var t in this._)
                        ++e;
                    return e
                }
                function C() {
                    for (var e in this._)
                        return !1;
                    return !0
                }
                function O() {
                    this._ = Object.create(null)
                }
                function D(e) {
                    return e
                }
                function L(e, t, r) {
                    return function() {
                        var n = r.apply(t, arguments);
                        return n === t ? e : n
                    }
                }
                function E(e, t) {
                    if (t in e)
                        return t;
                    t = t.charAt(0).toUpperCase() + t.slice(1);
                    for (var r = 0, n = z.length; r < n; ++r) {
                        var a = z[r] + t;
                        if (a in e)
                            return a
                    }
                }
                x(_, {
                    has: k,
                    get: function(e) {
                        return this._[w(e)]
                    },
                    set: function(e, t) {
                        return this._[w(e)] = t
                    },
                    remove: T,
                    keys: M,
                    values: function() {
                        var e = [];
                        for (var t in this._)
                            e.push(this._[t]);
                        return e
                    },
                    entries: function() {
                        var e = [];
                        for (var t in this._)
                            e.push({
                                key: A(t),
                                value: this._[t]
                            });
                        return e
                    },
                    size: S,
                    empty: C,
                    forEach: function(e) {
                        for (var t in this._)
                            e.call(this, A(t), this._[t])
                    }
                }),
                e.nest = function() {
                    var t, r, n = {}, a = [], i = [];
                    function o(e, i, s) {
                        if (s >= a.length)
                            return r ? r.call(n, i) : t ? i.sort(t) : i;
                        for (var l, c, u, f, d = -1, h = i.length, p = a[s++], g = new _; ++d < h; )
                            (f = g.get(l = p(c = i[d]))) ? f.push(c) : g.set(l, [c]);
                        return e ? (c = e(),
                        u = function(t, r) {
                            c.set(t, o(e, r, s))
                        }
                        ) : (c = {},
                        u = function(t, r) {
                            c[t] = o(e, r, s)
                        }
                        ),
                        g.forEach(u),
                        c
                    }
                    return n.map = function(e, t) {
                        return o(t, e, 0)
                    }
                    ,
                    n.entries = function(t) {
                        return function e(t, r) {
                            if (r >= a.length)
                                return t;
                            var n = []
                              , o = i[r++];
                            return t.forEach((function(t, a) {
                                n.push({
                                    key: t,
                                    values: e(a, r)
                                })
                            }
                            )),
                            o ? n.sort((function(e, t) {
                                return o(e.key, t.key)
                            }
                            )) : n
                        }(o(e.map, t, 0), 0)
                    }
                    ,
                    n.key = function(e) {
                        return a.push(e),
                        n
                    }
                    ,
                    n.sortKeys = function(e) {
                        return i[a.length - 1] = e,
                        n
                    }
                    ,
                    n.sortValues = function(e) {
                        return t = e,
                        n
                    }
                    ,
                    n.rollup = function(e) {
                        return r = e,
                        n
                    }
                    ,
                    n
                }
                ,
                e.set = function(e) {
                    var t = new O;
                    if (e)
                        for (var r = 0, n = e.length; r < n; ++r)
                            t.add(e[r]);
                    return t
                }
                ,
                x(O, {
                    has: k,
                    add: function(e) {
                        return this._[w(e += "")] = !0,
                        e
                    },
                    remove: T,
                    values: M,
                    size: S,
                    empty: C,
                    forEach: function(e) {
                        for (var t in this._)
                            e.call(this, A(t))
                    }
                }),
                e.behavior = {},
                e.rebind = function(e, t) {
                    for (var r, n = 1, a = arguments.length; ++n < a; )
                        e[r = arguments[n]] = L(e, t, t[r]);
                    return e
                }
                ;
                var z = ["webkit", "ms", "moz", "Moz", "o", "O"];
                function F() {}
                function P() {}
                function I(e) {
                    var t = []
                      , r = new _;
                    function n() {
                        for (var r, n = t, a = -1, i = n.length; ++a < i; )
                            (r = n[a].on) && r.apply(this, arguments);
                        return e
                    }
                    return n.on = function(n, a) {
                        var i, o = r.get(n);
                        return arguments.length < 2 ? o && o.on : (o && (o.on = null,
                        t = t.slice(0, i = t.indexOf(o)).concat(t.slice(i + 1)),
                        r.remove(n)),
                        a && t.push(r.set(n, {
                            on: a
                        })),
                        e)
                    }
                    ,
                    n
                }
                function N() {
                    e.event.preventDefault()
                }
                function R() {
                    for (var t, r = e.event; t = r.sourceEvent; )
                        r = t;
                    return r
                }
                function j(t) {
                    for (var r = new P, n = 0, a = arguments.length; ++n < a; )
                        r[arguments[n]] = I(r);
                    return r.of = function(n, a) {
                        return function(i) {
                            try {
                                var o = i.sourceEvent = e.event;
                                i.target = t,
                                e.event = i,
                                r[i.type].apply(n, a)
                            } finally {
                                e.event = o
                            }
                        }
                    }
                    ,
                    r
                }
                e.dispatch = function() {
                    for (var e = new P, t = -1, r = arguments.length; ++t < r; )
                        e[arguments[t]] = I(e);
                    return e
                }
                ,
                P.prototype.on = function(e, t) {
                    var r = e.indexOf(".")
                      , n = "";
                    if (r >= 0 && (n = e.slice(r + 1),
                    e = e.slice(0, r)),
                    e)
                        return arguments.length < 2 ? this[e].on(n) : this[e].on(n, t);
                    if (2 === arguments.length) {
                        if (null == t)
                            for (e in this)
                                this.hasOwnProperty(e) && this[e].on(n, null);
                        return this
                    }
                }
                ,
                e.event = null,
                e.requote = function(e) {
                    return e.replace(B, "\\$&")
                }
                ;
                var B = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g
                  , H = {}.__proto__ ? function(e, t) {
                    e.__proto__ = t
                }
                : function(e, t) {
                    for (var r in t)
                        e[r] = t[r]
                }
                ;
                function U(e) {
                    return H(e, W),
                    e
                }
                var Y = function(e, t) {
                    return t.querySelector(e)
                }
                  , V = function(e, t) {
                    return t.querySelectorAll(e)
                }
                  , q = function(e, t) {
                    var r = e.matches || e[E(e, "matchesSelector")];
                    return (q = function(e, t) {
                        return r.call(e, t)
                    }
                    )(e, t)
                };
                "function" == typeof Sizzle && (Y = function(e, t) {
                    return Sizzle(e, t)[0] || null
                }
                ,
                V = Sizzle,
                q = Sizzle.matchesSelector),
                e.selection = function() {
                    return e.select(a.documentElement)
                }
                ;
                var W = e.selection.prototype = [];
                function G(e) {
                    return "function" == typeof e ? e : function() {
                        return Y(e, this)
                    }
                }
                function Z(e) {
                    return "function" == typeof e ? e : function() {
                        return V(e, this)
                    }
                }
                W.select = function(e) {
                    var t, r, n, a, i = [];
                    e = G(e);
                    for (var o = -1, s = this.length; ++o < s; ) {
                        i.push(t = []),
                        t.parentNode = (n = this[o]).parentNode;
                        for (var l = -1, c = n.length; ++l < c; )
                            (a = n[l]) ? (t.push(r = e.call(a, a.__data__, l, o)),
                            r && "__data__"in a && (r.__data__ = a.__data__)) : t.push(null)
                    }
                    return U(i)
                }
                ,
                W.selectAll = function(e) {
                    var t, r, a = [];
                    e = Z(e);
                    for (var i = -1, o = this.length; ++i < o; )
                        for (var s = this[i], l = -1, c = s.length; ++l < c; )
                            (r = s[l]) && (a.push(t = n(e.call(r, r.__data__, l, i))),
                            t.parentNode = r);
                    return U(a)
                }
                ;
                var J = "http://www.w3.org/1999/xhtml"
                  , X = {
                    svg: "http://www.w3.org/2000/svg",
                    xhtml: J,
                    xlink: "http://www.w3.org/1999/xlink",
                    xml: "http://www.w3.org/XML/1998/namespace",
                    xmlns: "http://www.w3.org/2000/xmlns/"
                };
                function Q(t, r) {
                    return t = e.ns.qualify(t),
                    null == r ? t.local ? function() {
                        this.removeAttributeNS(t.space, t.local)
                    }
                    : function() {
                        this.removeAttribute(t)
                    }
                    : "function" == typeof r ? t.local ? function() {
                        var e = r.apply(this, arguments);
                        null == e ? this.removeAttributeNS(t.space, t.local) : this.setAttributeNS(t.space, t.local, e)
                    }
                    : function() {
                        var e = r.apply(this, arguments);
                        null == e ? this.removeAttribute(t) : this.setAttribute(t, e)
                    }
                    : t.local ? function() {
                        this.setAttributeNS(t.space, t.local, r)
                    }
                    : function() {
                        this.setAttribute(t, r)
                    }
                }
                function $(e) {
                    return e.trim().replace(/\s+/g, " ")
                }
                function K(t) {
                    return new RegExp("(?:^|\\s+)" + e.requote(t) + "(?:\\s+|$)","g")
                }
                function ee(e) {
                    return (e + "").trim().split(/^|\s+/)
                }
                function te(e, t) {
                    var r = (e = ee(e).map(re)).length;
                    return "function" == typeof t ? function() {
                        for (var n = -1, a = t.apply(this, arguments); ++n < r; )
                            e[n](this, a)
                    }
                    : function() {
                        for (var n = -1; ++n < r; )
                            e[n](this, t)
                    }
                }
                function re(e) {
                    var t = K(e);
                    return function(r, n) {
                        if (a = r.classList)
                            return n ? a.add(e) : a.remove(e);
                        var a = r.getAttribute("class") || "";
                        n ? (t.lastIndex = 0,
                        t.test(a) || r.setAttribute("class", $(a + " " + e))) : r.setAttribute("class", $(a.replace(t, " ")))
                    }
                }
                function ne(e, t, r) {
                    return null == t ? function() {
                        this.style.removeProperty(e)
                    }
                    : "function" == typeof t ? function() {
                        var n = t.apply(this, arguments);
                        null == n ? this.style.removeProperty(e) : this.style.setProperty(e, n, r)
                    }
                    : function() {
                        this.style.setProperty(e, t, r)
                    }
                }
                function ae(e, t) {
                    return null == t ? function() {
                        delete this[e]
                    }
                    : "function" == typeof t ? function() {
                        var r = t.apply(this, arguments);
                        null == r ? delete this[e] : this[e] = r
                    }
                    : function() {
                        this[e] = t
                    }
                }
                function ie(t) {
                    return "function" == typeof t ? t : (t = e.ns.qualify(t)).local ? function() {
                        return this.ownerDocument.createElementNS(t.space, t.local)
                    }
                    : function() {
                        var e = this.ownerDocument
                          , r = this.namespaceURI;
                        return r === J && e.documentElement.namespaceURI === J ? e.createElement(t) : e.createElementNS(r, t)
                    }
                }
                function oe() {
                    var e = this.parentNode;
                    e && e.removeChild(this)
                }
                function se(e) {
                    return {
                        __data__: e
                    }
                }
                function le(e) {
                    return function() {
                        return q(this, e)
                    }
                }
                function ce(e) {
                    return arguments.length || (e = d),
                    function(t, r) {
                        return t && r ? e(t.__data__, r.__data__) : !t - !r
                    }
                }
                function ue(e, t) {
                    for (var r = 0, n = e.length; r < n; r++)
                        for (var a, i = e[r], o = 0, s = i.length; o < s; o++)
                            (a = i[o]) && t(a, o, r);
                    return e
                }
                function fe(e) {
                    return H(e, de),
                    e
                }
                e.ns = {
                    prefix: X,
                    qualify: function(e) {
                        var t = e.indexOf(":")
                          , r = e;
                        return t >= 0 && "xmlns" !== (r = e.slice(0, t)) && (e = e.slice(t + 1)),
                        X.hasOwnProperty(r) ? {
                            space: X[r],
                            local: e
                        } : e
                    }
                },
                W.attr = function(t, r) {
                    if (arguments.length < 2) {
                        if ("string" == typeof t) {
                            var n = this.node();
                            return (t = e.ns.qualify(t)).local ? n.getAttributeNS(t.space, t.local) : n.getAttribute(t)
                        }
                        for (r in t)
                            this.each(Q(r, t[r]));
                        return this
                    }
                    return this.each(Q(t, r))
                }
                ,
                W.classed = function(e, t) {
                    if (arguments.length < 2) {
                        if ("string" == typeof e) {
                            var r = this.node()
                              , n = (e = ee(e)).length
                              , a = -1;
                            if (t = r.classList) {
                                for (; ++a < n; )
                                    if (!t.contains(e[a]))
                                        return !1
                            } else
                                for (t = r.getAttribute("class"); ++a < n; )
                                    if (!K(e[a]).test(t))
                                        return !1;
                            return !0
                        }
                        for (t in e)
                            this.each(te(t, e[t]));
                        return this
                    }
                    return this.each(te(e, t))
                }
                ,
                W.style = function(e, t, r) {
                    var n = arguments.length;
                    if (n < 3) {
                        if ("string" != typeof e) {
                            for (r in n < 2 && (t = ""),
                            e)
                                this.each(ne(r, e[r], t));
                            return this
                        }
                        if (n < 2) {
                            var a = this.node();
                            return o(a).getComputedStyle(a, null).getPropertyValue(e)
                        }
                        r = ""
                    }
                    return this.each(ne(e, t, r))
                }
                ,
                W.property = function(e, t) {
                    if (arguments.length < 2) {
                        if ("string" == typeof e)
                            return this.node()[e];
                        for (t in e)
                            this.each(ae(t, e[t]));
                        return this
                    }
                    return this.each(ae(e, t))
                }
                ,
                W.text = function(e) {
                    return arguments.length ? this.each("function" == typeof e ? function() {
                        var t = e.apply(this, arguments);
                        this.textContent = null == t ? "" : t
                    }
                    : null == e ? function() {
                        this.textContent = ""
                    }
                    : function() {
                        this.textContent = e
                    }
                    ) : this.node().textContent
                }
                ,
                W.html = function(e) {
                    return arguments.length ? this.each("function" == typeof e ? function() {
                        var t = e.apply(this, arguments);
                        this.innerHTML = null == t ? "" : t
                    }
                    : null == e ? function() {
                        this.innerHTML = ""
                    }
                    : function() {
                        this.innerHTML = e
                    }
                    ) : this.node().innerHTML
                }
                ,
                W.append = function(e) {
                    return e = ie(e),
                    this.select((function() {
                        return this.appendChild(e.apply(this, arguments))
                    }
                    ))
                }
                ,
                W.insert = function(e, t) {
                    return e = ie(e),
                    t = G(t),
                    this.select((function() {
                        return this.insertBefore(e.apply(this, arguments), t.apply(this, arguments) || null)
                    }
                    ))
                }
                ,
                W.remove = function() {
                    return this.each(oe)
                }
                ,
                W.data = function(e, t) {
                    var r, n, a = -1, i = this.length;
                    if (!arguments.length) {
                        for (e = new Array(i = (r = this[0]).length); ++a < i; )
                            (n = r[a]) && (e[a] = n.__data__);
                        return e
                    }
                    function o(e, r) {
                        var n, a, i, o = e.length, u = r.length, f = Math.min(o, u), d = new Array(u), h = new Array(u), p = new Array(o);
                        if (t) {
                            var g, y = new _, v = new Array(o);
                            for (n = -1; ++n < o; )
                                (a = e[n]) && (y.has(g = t.call(a, a.__data__, n)) ? p[n] = a : y.set(g, a),
                                v[n] = g);
                            for (n = -1; ++n < u; )
                                (a = y.get(g = t.call(r, i = r[n], n))) ? !0 !== a && (d[n] = a,
                                a.__data__ = i) : h[n] = se(i),
                                y.set(g, !0);
                            for (n = -1; ++n < o; )
                                n in v && !0 !== y.get(v[n]) && (p[n] = e[n])
                        } else {
                            for (n = -1; ++n < f; )
                                a = e[n],
                                i = r[n],
                                a ? (a.__data__ = i,
                                d[n] = a) : h[n] = se(i);
                            for (; n < u; ++n)
                                h[n] = se(r[n]);
                            for (; n < o; ++n)
                                p[n] = e[n]
                        }
                        h.update = d,
                        h.parentNode = d.parentNode = p.parentNode = e.parentNode,
                        s.push(h),
                        l.push(d),
                        c.push(p)
                    }
                    var s = fe([])
                      , l = U([])
                      , c = U([]);
                    if ("function" == typeof e)
                        for (; ++a < i; )
                            o(r = this[a], e.call(r, r.parentNode.__data__, a));
                    else
                        for (; ++a < i; )
                            o(r = this[a], e);
                    return l.enter = function() {
                        return s
                    }
                    ,
                    l.exit = function() {
                        return c
                    }
                    ,
                    l
                }
                ,
                W.datum = function(e) {
                    return arguments.length ? this.property("__data__", e) : this.property("__data__")
                }
                ,
                W.filter = function(e) {
                    var t, r, n, a = [];
                    "function" != typeof e && (e = le(e));
                    for (var i = 0, o = this.length; i < o; i++) {
                        a.push(t = []),
                        t.parentNode = (r = this[i]).parentNode;
                        for (var s = 0, l = r.length; s < l; s++)
                            (n = r[s]) && e.call(n, n.__data__, s, i) && t.push(n)
                    }
                    return U(a)
                }
                ,
                W.order = function() {
                    for (var e = -1, t = this.length; ++e < t; )
                        for (var r, n = this[e], a = n.length - 1, i = n[a]; --a >= 0; )
                            (r = n[a]) && (i && i !== r.nextSibling && i.parentNode.insertBefore(r, i),
                            i = r);
                    return this
                }
                ,
                W.sort = function(e) {
                    e = ce.apply(this, arguments);
                    for (var t = -1, r = this.length; ++t < r; )
                        this[t].sort(e);
                    return this.order()
                }
                ,
                W.each = function(e) {
                    return ue(this, (function(t, r, n) {
                        e.call(t, t.__data__, r, n)
                    }
                    ))
                }
                ,
                W.call = function(e) {
                    var t = n(arguments);
                    return e.apply(t[0] = this, t),
                    this
                }
                ,
                W.empty = function() {
                    return !this.node()
                }
                ,
                W.node = function() {
                    for (var e = 0, t = this.length; e < t; e++)
                        for (var r = this[e], n = 0, a = r.length; n < a; n++) {
                            var i = r[n];
                            if (i)
                                return i
                        }
                    return null
                }
                ,
                W.size = function() {
                    var e = 0;
                    return ue(this, (function() {
                        ++e
                    }
                    )),
                    e
                }
                ;
                var de = [];
                function he(e) {
                    var t, r;
                    return function(n, a, i) {
                        var o, s = e[i].update, l = s.length;
                        for (i != r && (r = i,
                        t = 0),
                        a >= t && (t = a + 1); !(o = s[t]) && ++t < l; )
                            ;
                        return o
                    }
                }
                function pe(t, r, a) {
                    var i = "__on" + t
                      , o = t.indexOf(".")
                      , s = ye;
                    o > 0 && (t = t.slice(0, o));
                    var l = ge.get(t);
                    function c() {
                        var e = this[i];
                        e && (this.removeEventListener(t, e, e.$),
                        delete this[i])
                    }
                    return l && (t = l,
                    s = ve),
                    o ? r ? function() {
                        var e = s(r, n(arguments));
                        c.call(this),
                        this.addEventListener(t, this[i] = e, e.$ = a),
                        e._ = r
                    }
                    : c : r ? F : function() {
                        var r, n = new RegExp("^__on([^.]+)" + e.requote(t) + "$");
                        for (var a in this)
                            if (r = a.match(n)) {
                                var i = this[a];
                                this.removeEventListener(r[1], i, i.$),
                                delete this[a]
                            }
                    }
                }
                e.selection.enter = fe,
                e.selection.enter.prototype = de,
                de.append = W.append,
                de.empty = W.empty,
                de.node = W.node,
                de.call = W.call,
                de.size = W.size,
                de.select = function(e) {
                    for (var t, r, n, a, i, o = [], s = -1, l = this.length; ++s < l; ) {
                        n = (a = this[s]).update,
                        o.push(t = []),
                        t.parentNode = a.parentNode;
                        for (var c = -1, u = a.length; ++c < u; )
                            (i = a[c]) ? (t.push(n[c] = r = e.call(a.parentNode, i.__data__, c, s)),
                            r.__data__ = i.__data__) : t.push(null)
                    }
                    return U(o)
                }
                ,
                de.insert = function(e, t) {
                    return arguments.length < 2 && (t = he(this)),
                    W.insert.call(this, e, t)
                }
                ,
                e.select = function(e) {
                    var t;
                    return "string" == typeof e ? (t = [Y(e, a)]).parentNode = a.documentElement : (t = [e]).parentNode = i(e),
                    U([t])
                }
                ,
                e.selectAll = function(e) {
                    var t;
                    return "string" == typeof e ? (t = n(V(e, a))).parentNode = a.documentElement : (t = n(e)).parentNode = null,
                    U([t])
                }
                ,
                W.on = function(e, t, r) {
                    var n = arguments.length;
                    if (n < 3) {
                        if ("string" != typeof e) {
                            for (r in n < 2 && (t = !1),
                            e)
                                this.each(pe(r, e[r], t));
                            return this
                        }
                        if (n < 2)
                            return (n = this.node()["__on" + e]) && n._;
                        r = !1
                    }
                    return this.each(pe(e, t, r))
                }
                ;
                var ge = e.map({
                    mouseenter: "mouseover",
                    mouseleave: "mouseout"
                });
                function ye(t, r) {
                    return function(n) {
                        var a = e.event;
                        e.event = n,
                        r[0] = this.__data__;
                        try {
                            t.apply(this, r)
                        } finally {
                            e.event = a
                        }
                    }
                }
                function ve(e, t) {
                    var r = ye(e, t);
                    return function(e) {
                        var t = e.relatedTarget;
                        t && (t === this || 8 & t.compareDocumentPosition(this)) || r.call(this, e)
                    }
                }
                a && ge.forEach((function(e) {
                    "on" + e in a && ge.remove(e)
                }
                ));
                var me, be = 0;
                function xe(t) {
                    var r = ".dragsuppress-" + ++be
                      , n = "click" + r
                      , a = e.select(o(t)).on("touchmove" + r, N).on("dragstart" + r, N).on("selectstart" + r, N);
                    if (null == me && (me = !("onselectstart"in t) && E(t.style, "userSelect")),
                    me) {
                        var s = i(t).style
                          , l = s[me];
                        s[me] = "none"
                    }
                    return function(e) {
                        if (a.on(r, null),
                        me && (s[me] = l),
                        e) {
                            var t = function() {
                                a.on(n, null)
                            };
                            a.on(n, (function() {
                                N(),
                                t()
                            }
                            ), !0),
                            setTimeout(t, 0)
                        }
                    }
                }
                e.mouse = function(e) {
                    return we(e, R())
                }
                ;
                var _e = this.navigator && /WebKit/.test(this.navigator.userAgent) ? -1 : 0;
                function we(t, r) {
                    r.changedTouches && (r = r.changedTouches[0]);
                    var n = t.ownerSVGElement || t;
                    if (n.createSVGPoint) {
                        var a = n.createSVGPoint();
                        if (_e < 0) {
                            var i = o(t);
                            if (i.scrollX || i.scrollY) {
                                var s = (n = e.select("body").append("svg").style({
                                    position: "absolute",
                                    top: 0,
                                    left: 0,
                                    margin: 0,
                                    padding: 0,
                                    border: "none"
                                }, "important"))[0][0].getScreenCTM();
                                _e = !(s.f || s.e),
                                n.remove()
                            }
                        }
                        return _e ? (a.x = r.pageX,
                        a.y = r.pageY) : (a.x = r.clientX,
                        a.y = r.clientY),
                        [(a = a.matrixTransform(t.getScreenCTM().inverse())).x, a.y]
                    }
                    var l = t.getBoundingClientRect();
                    return [r.clientX - l.left - t.clientLeft, r.clientY - l.top - t.clientTop]
                }
                function Ae() {
                    return e.event.changedTouches[0].identifier
                }
                e.touch = function(e, t, r) {
                    if (arguments.length < 3 && (r = t,
                    t = R().changedTouches),
                    t)
                        for (var n, a = 0, i = t.length; a < i; ++a)
                            if ((n = t[a]).identifier === r)
                                return we(e, n)
                }
                ,
                e.behavior.drag = function() {
                    var t = j(i, "drag", "dragstart", "dragend")
                      , r = null
                      , n = s(F, e.mouse, o, "mousemove", "mouseup")
                      , a = s(Ae, e.touch, D, "touchmove", "touchend");
                    function i() {
                        this.on("mousedown.drag", n).on("touchstart.drag", a)
                    }
                    function s(n, a, i, o, s) {
                        return function() {
                            var l, c = this, u = e.event.target.correspondingElement || e.event.target, f = c.parentNode, d = t.of(c, arguments), h = 0, p = n(), g = ".drag" + (null == p ? "" : "-" + p), y = e.select(i(u)).on(o + g, b).on(s + g, x), v = xe(u), m = a(f, p);
                            function b() {
                                var e, t, r = a(f, p);
                                r && (e = r[0] - m[0],
                                t = r[1] - m[1],
                                h |= e | t,
                                m = r,
                                d({
                                    type: "drag",
                                    x: r[0] + l[0],
                                    y: r[1] + l[1],
                                    dx: e,
                                    dy: t
                                }))
                            }
                            function x() {
                                a(f, p) && (y.on(o + g, null).on(s + g, null),
                                v(h),
                                d({
                                    type: "dragend"
                                }))
                            }
                            l = r ? [(l = r.apply(c, arguments)).x - m[0], l.y - m[1]] : [0, 0],
                            d({
                                type: "dragstart"
                            })
                        }
                    }
                    return i.origin = function(e) {
                        return arguments.length ? (r = e,
                        i) : r
                    }
                    ,
                    e.rebind(i, t, "on")
                }
                ,
                e.touches = function(e, t) {
                    return arguments.length < 2 && (t = R().touches),
                    t ? n(t).map((function(t) {
                        var r = we(e, t);
                        return r.identifier = t.identifier,
                        r
                    }
                    )) : []
                }
                ;
                var ke = 1e-6
                  , Te = 1e-12
                  , Me = Math.PI
                  , Se = 2 * Me
                  , Ce = Se - ke
                  , Oe = Me / 2
                  , De = Me / 180
                  , Le = 180 / Me;
                function Ee(e) {
                    return e > 0 ? 1 : e < 0 ? -1 : 0
                }
                function ze(e, t, r) {
                    return (t[0] - e[0]) * (r[1] - e[1]) - (t[1] - e[1]) * (r[0] - e[0])
                }
                function Fe(e) {
                    return e > 1 ? 0 : e < -1 ? Me : Math.acos(e)
                }
                function Pe(e) {
                    return e > 1 ? Oe : e < -1 ? -Oe : Math.asin(e)
                }
                function Ie(e) {
                    return ((e = Math.exp(e)) + 1 / e) / 2
                }
                function Ne(e) {
                    return (e = Math.sin(e / 2)) * e
                }
                var Re = Math.SQRT2;
                e.interpolateZoom = function(e, t) {
                    var r, n, a = e[0], i = e[1], o = e[2], s = t[0], l = t[1], c = t[2], u = s - a, f = l - i, d = u * u + f * f;
                    if (d < Te)
                        n = Math.log(c / o) / Re,
                        r = function(e) {
                            return [a + e * u, i + e * f, o * Math.exp(Re * e * n)]
                        }
                        ;
                    else {
                        var h = Math.sqrt(d)
                          , p = (c * c - o * o + 4 * d) / (2 * o * 2 * h)
                          , g = (c * c - o * o - 4 * d) / (2 * c * 2 * h)
                          , y = Math.log(Math.sqrt(p * p + 1) - p)
                          , v = Math.log(Math.sqrt(g * g + 1) - g);
                        n = (v - y) / Re,
                        r = function(e) {
                            var t, r = e * n, s = Ie(y), l = o / (2 * h) * (s * (t = Re * r + y,
                            ((t = Math.exp(2 * t)) - 1) / (t + 1)) - function(e) {
                                return ((e = Math.exp(e)) - 1 / e) / 2
                            }(y));
                            return [a + l * u, i + l * f, o * s / Ie(Re * r + y)]
                        }
                    }
                    return r.duration = 1e3 * n,
                    r
                }
                ,
                e.behavior.zoom = function() {
                    var t, r, n, i, s, l, c, u, f, d = {
                        x: 0,
                        y: 0,
                        k: 1
                    }, h = [960, 500], p = He, g = 250, y = 0, v = "mousedown.zoom", m = "mousemove.zoom", b = "mouseup.zoom", x = "touchstart.zoom", _ = j(w, "zoomstart", "zoom", "zoomend");
                    function w(e) {
                        e.on(v, L).on(Be + ".zoom", z).on("dblclick.zoom", F).on(x, E)
                    }
                    function A(e) {
                        return [(e[0] - d.x) / d.k, (e[1] - d.y) / d.k]
                    }
                    function k(e) {
                        d.k = Math.max(p[0], Math.min(p[1], e))
                    }
                    function T(e, t) {
                        t = function(e) {
                            return [e[0] * d.k + d.x, e[1] * d.k + d.y]
                        }(t),
                        d.x += e[0] - t[0],
                        d.y += e[1] - t[1]
                    }
                    function M(t, n, a, i) {
                        t.__chart__ = {
                            x: d.x,
                            y: d.y,
                            k: d.k
                        },
                        k(Math.pow(2, i)),
                        T(r = n, a),
                        t = e.select(t),
                        g > 0 && (t = t.transition().duration(g)),
                        t.call(w.event)
                    }
                    function S() {
                        c && c.domain(l.range().map((function(e) {
                            return (e - d.x) / d.k
                        }
                        )).map(l.invert)),
                        f && f.domain(u.range().map((function(e) {
                            return (e - d.y) / d.k
                        }
                        )).map(u.invert))
                    }
                    function C(e) {
                        y++ || e({
                            type: "zoomstart"
                        })
                    }
                    function O(e) {
                        S(),
                        e({
                            type: "zoom",
                            scale: d.k,
                            translate: [d.x, d.y]
                        })
                    }
                    function D(e) {
                        --y || (e({
                            type: "zoomend"
                        }),
                        r = null)
                    }
                    function L() {
                        var t = this
                          , r = _.of(t, arguments)
                          , n = 0
                          , a = e.select(o(t)).on(m, l).on(b, c)
                          , i = A(e.mouse(t))
                          , s = xe(t);
                        function l() {
                            n = 1,
                            T(e.mouse(t), i),
                            O(r)
                        }
                        function c() {
                            a.on(m, null).on(b, null),
                            s(n),
                            D(r)
                        }
                        vs.call(t),
                        C(r)
                    }
                    function E() {
                        var t, r = this, n = _.of(r, arguments), a = {}, i = 0, o = ".zoom-" + e.event.changedTouches[0].identifier, l = "touchmove" + o, c = "touchend" + o, u = [], f = e.select(r), h = xe(r);
                        function p() {
                            var n = e.touches(r);
                            return t = d.k,
                            n.forEach((function(e) {
                                e.identifier in a && (a[e.identifier] = A(e))
                            }
                            )),
                            n
                        }
                        function g() {
                            var t = e.event.target;
                            e.select(t).on(l, y).on(c, m),
                            u.push(t);
                            for (var n = e.event.changedTouches, o = 0, f = n.length; o < f; ++o)
                                a[n[o].identifier] = null;
                            var h = p()
                              , g = Date.now();
                            if (1 === h.length) {
                                if (g - s < 500) {
                                    var v = h[0];
                                    M(r, v, a[v.identifier], Math.floor(Math.log(d.k) / Math.LN2) + 1),
                                    N()
                                }
                                s = g
                            } else if (h.length > 1) {
                                v = h[0];
                                var b = h[1]
                                  , x = v[0] - b[0]
                                  , _ = v[1] - b[1];
                                i = x * x + _ * _
                            }
                        }
                        function y() {
                            var o, l, c, u, f = e.touches(r);
                            vs.call(r);
                            for (var d = 0, h = f.length; d < h; ++d,
                            u = null)
                                if (c = f[d],
                                u = a[c.identifier]) {
                                    if (l)
                                        break;
                                    o = c,
                                    l = u
                                }
                            if (u) {
                                var p = (p = c[0] - o[0]) * p + (p = c[1] - o[1]) * p
                                  , g = i && Math.sqrt(p / i);
                                o = [(o[0] + c[0]) / 2, (o[1] + c[1]) / 2],
                                l = [(l[0] + u[0]) / 2, (l[1] + u[1]) / 2],
                                k(g * t)
                            }
                            s = null,
                            T(o, l),
                            O(n)
                        }
                        function m() {
                            if (e.event.touches.length) {
                                for (var t = e.event.changedTouches, r = 0, i = t.length; r < i; ++r)
                                    delete a[t[r].identifier];
                                for (var s in a)
                                    return void p()
                            }
                            e.selectAll(u).on(o, null),
                            f.on(v, L).on(x, E),
                            h(),
                            D(n)
                        }
                        g(),
                        C(n),
                        f.on(v, null).on(x, g)
                    }
                    function z() {
                        var a = _.of(this, arguments);
                        i ? clearTimeout(i) : (vs.call(this),
                        t = A(r = n || e.mouse(this)),
                        C(a)),
                        i = setTimeout((function() {
                            i = null,
                            D(a)
                        }
                        ), 50),
                        N(),
                        k(Math.pow(2, .002 * je()) * d.k),
                        T(r, t),
                        O(a)
                    }
                    function F() {
                        var t = e.mouse(this)
                          , r = Math.log(d.k) / Math.LN2;
                        M(this, t, A(t), e.event.shiftKey ? Math.ceil(r) - 1 : Math.floor(r) + 1)
                    }
                    return Be || (Be = "onwheel"in a ? (je = function() {
                        return -e.event.deltaY * (e.event.deltaMode ? 120 : 1)
                    }
                    ,
                    "wheel") : "onmousewheel"in a ? (je = function() {
                        return e.event.wheelDelta
                    }
                    ,
                    "mousewheel") : (je = function() {
                        return -e.event.detail
                    }
                    ,
                    "MozMousePixelScroll")),
                    w.event = function(t) {
                        t.each((function() {
                            var t = _.of(this, arguments)
                              , n = d;
                            xs ? e.select(this).transition().each("start.zoom", (function() {
                                d = this.__chart__ || {
                                    x: 0,
                                    y: 0,
                                    k: 1
                                },
                                C(t)
                            }
                            )).tween("zoom:zoom", (function() {
                                var a = h[0]
                                  , i = h[1]
                                  , o = r ? r[0] : a / 2
                                  , s = r ? r[1] : i / 2
                                  , l = e.interpolateZoom([(o - d.x) / d.k, (s - d.y) / d.k, a / d.k], [(o - n.x) / n.k, (s - n.y) / n.k, a / n.k]);
                                return function(e) {
                                    var r = l(e)
                                      , n = a / r[2];
                                    this.__chart__ = d = {
                                        x: o - r[0] * n,
                                        y: s - r[1] * n,
                                        k: n
                                    },
                                    O(t)
                                }
                            }
                            )).each("interrupt.zoom", (function() {
                                D(t)
                            }
                            )).each("end.zoom", (function() {
                                D(t)
                            }
                            )) : (this.__chart__ = d,
                            C(t),
                            O(t),
                            D(t))
                        }
                        ))
                    }
                    ,
                    w.translate = function(e) {
                        return arguments.length ? (d = {
                            x: +e[0],
                            y: +e[1],
                            k: d.k
                        },
                        S(),
                        w) : [d.x, d.y]
                    }
                    ,
                    w.scale = function(e) {
                        return arguments.length ? (d = {
                            x: d.x,
                            y: d.y,
                            k: null
                        },
                        k(+e),
                        S(),
                        w) : d.k
                    }
                    ,
                    w.scaleExtent = function(e) {
                        return arguments.length ? (p = null == e ? He : [+e[0], +e[1]],
                        w) : p
                    }
                    ,
                    w.center = function(e) {
                        return arguments.length ? (n = e && [+e[0], +e[1]],
                        w) : n
                    }
                    ,
                    w.size = function(e) {
                        return arguments.length ? (h = e && [+e[0], +e[1]],
                        w) : h
                    }
                    ,
                    w.duration = function(e) {
                        return arguments.length ? (g = +e,
                        w) : g
                    }
                    ,
                    w.x = function(e) {
                        return arguments.length ? (c = e,
                        l = e.copy(),
                        d = {
                            x: 0,
                            y: 0,
                            k: 1
                        },
                        w) : c
                    }
                    ,
                    w.y = function(e) {
                        return arguments.length ? (f = e,
                        u = e.copy(),
                        d = {
                            x: 0,
                            y: 0,
                            k: 1
                        },
                        w) : f
                    }
                    ,
                    e.rebind(w, _, "on")
                }
                ;
                var je, Be, He = [0, 1 / 0];
                function Ue() {}
                function Ye(e, t, r) {
                    return this instanceof Ye ? (this.h = +e,
                    this.s = +t,
                    void (this.l = +r)) : arguments.length < 2 ? e instanceof Ye ? new Ye(e.h,e.s,e.l) : lt("" + e, ct, Ye) : new Ye(e,t,r)
                }
                e.color = Ue,
                Ue.prototype.toString = function() {
                    return this.rgb() + ""
                }
                ,
                e.hsl = Ye;
                var Ve = Ye.prototype = new Ue;
                function qe(e, t, r) {
                    var n, a;
                    function i(e) {
                        return Math.round(255 * function(e) {
                            return e > 360 ? e -= 360 : e < 0 && (e += 360),
                            e < 60 ? n + (a - n) * e / 60 : e < 180 ? a : e < 240 ? n + (a - n) * (240 - e) / 60 : n
                        }(e))
                    }
                    return e = isNaN(e) ? 0 : (e %= 360) < 0 ? e + 360 : e,
                    t = isNaN(t) || t < 0 ? 0 : t > 1 ? 1 : t,
                    n = 2 * (r = r < 0 ? 0 : r > 1 ? 1 : r) - (a = r <= .5 ? r * (1 + t) : r + t - r * t),
                    new nt(i(e + 120),i(e),i(e - 120))
                }
                function We(t, r, n) {
                    return this instanceof We ? (this.h = +t,
                    this.c = +r,
                    void (this.l = +n)) : arguments.length < 2 ? t instanceof We ? new We(t.h,t.c,t.l) : Ke(t instanceof Je ? t.l : (t = ut((t = e.rgb(t)).r, t.g, t.b)).l, t.a, t.b) : new We(t,r,n)
                }
                Ve.brighter = function(e) {
                    return e = Math.pow(.7, arguments.length ? e : 1),
                    new Ye(this.h,this.s,this.l / e)
                }
                ,
                Ve.darker = function(e) {
                    return e = Math.pow(.7, arguments.length ? e : 1),
                    new Ye(this.h,this.s,e * this.l)
                }
                ,
                Ve.rgb = function() {
                    return qe(this.h, this.s, this.l)
                }
                ,
                e.hcl = We;
                var Ge = We.prototype = new Ue;
                function Ze(e, t, r) {
                    return isNaN(e) && (e = 0),
                    isNaN(t) && (t = 0),
                    new Je(r,Math.cos(e *= De) * t,Math.sin(e) * t)
                }
                function Je(e, t, r) {
                    return this instanceof Je ? (this.l = +e,
                    this.a = +t,
                    void (this.b = +r)) : arguments.length < 2 ? e instanceof Je ? new Je(e.l,e.a,e.b) : e instanceof We ? Ze(e.h, e.c, e.l) : ut((e = nt(e)).r, e.g, e.b) : new Je(e,t,r)
                }
                Ge.brighter = function(e) {
                    return new We(this.h,this.c,Math.min(100, this.l + Xe * (arguments.length ? e : 1)))
                }
                ,
                Ge.darker = function(e) {
                    return new We(this.h,this.c,Math.max(0, this.l - Xe * (arguments.length ? e : 1)))
                }
                ,
                Ge.rgb = function() {
                    return Ze(this.h, this.c, this.l).rgb()
                }
                ,
                e.lab = Je;
                var Xe = 18
                  , Qe = Je.prototype = new Ue;
                function $e(e, t, r) {
                    var n = (e + 16) / 116
                      , a = n + t / 500
                      , i = n - r / 200;
                    return new nt(rt(3.2404542 * (a = .95047 * et(a)) - 1.5371385 * (n = 1 * et(n)) - .4985314 * (i = 1.08883 * et(i))),rt(-.969266 * a + 1.8760108 * n + .041556 * i),rt(.0556434 * a - .2040259 * n + 1.0572252 * i))
                }
                function Ke(e, t, r) {
                    return e > 0 ? new We(Math.atan2(r, t) * Le,Math.sqrt(t * t + r * r),e) : new We(NaN,NaN,e)
                }
                function et(e) {
                    return e > .206893034 ? e * e * e : (e - 4 / 29) / 7.787037
                }
                function tt(e) {
                    return e > .008856 ? Math.pow(e, 1 / 3) : 7.787037 * e + 4 / 29
                }
                function rt(e) {
                    return Math.round(255 * (e <= .00304 ? 12.92 * e : 1.055 * Math.pow(e, 1 / 2.4) - .055))
                }
                function nt(e, t, r) {
                    return this instanceof nt ? (this.r = ~~e,
                    this.g = ~~t,
                    void (this.b = ~~r)) : arguments.length < 2 ? e instanceof nt ? new nt(e.r,e.g,e.b) : lt("" + e, nt, qe) : new nt(e,t,r)
                }
                function at(e) {
                    return new nt(e >> 16,e >> 8 & 255,255 & e)
                }
                function it(e) {
                    return at(e) + ""
                }
                Qe.brighter = function(e) {
                    return new Je(Math.min(100, this.l + Xe * (arguments.length ? e : 1)),this.a,this.b)
                }
                ,
                Qe.darker = function(e) {
                    return new Je(Math.max(0, this.l - Xe * (arguments.length ? e : 1)),this.a,this.b)
                }
                ,
                Qe.rgb = function() {
                    return $e(this.l, this.a, this.b)
                }
                ,
                e.rgb = nt;
                var ot = nt.prototype = new Ue;
                function st(e) {
                    return e < 16 ? "0" + Math.max(0, e).toString(16) : Math.min(255, e).toString(16)
                }
                function lt(e, t, r) {
                    var n, a, i, o = 0, s = 0, l = 0;
                    if (n = /([a-z]+)\((.*)\)/.exec(e = e.toLowerCase()))
                        switch (a = n[2].split(","),
                        n[1]) {
                        case "hsl":
                            return r(parseFloat(a[0]), parseFloat(a[1]) / 100, parseFloat(a[2]) / 100);
                        case "rgb":
                            return t(dt(a[0]), dt(a[1]), dt(a[2]))
                        }
                    return (i = ht.get(e)) ? t(i.r, i.g, i.b) : (null == e || "#" !== e.charAt(0) || isNaN(i = parseInt(e.slice(1), 16)) || (4 === e.length ? (o = (3840 & i) >> 4,
                    o |= o >> 4,
                    s = 240 & i,
                    s |= s >> 4,
                    l = 15 & i,
                    l |= l << 4) : 7 === e.length && (o = (16711680 & i) >> 16,
                    s = (65280 & i) >> 8,
                    l = 255 & i)),
                    t(o, s, l))
                }
                function ct(e, t, r) {
                    var n, a, i = Math.min(e /= 255, t /= 255, r /= 255), o = Math.max(e, t, r), s = o - i, l = (o + i) / 2;
                    return s ? (a = l < .5 ? s / (o + i) : s / (2 - o - i),
                    n = e == o ? (t - r) / s + (t < r ? 6 : 0) : t == o ? (r - e) / s + 2 : (e - t) / s + 4,
                    n *= 60) : (n = NaN,
                    a = l > 0 && l < 1 ? 0 : n),
                    new Ye(n,a,l)
                }
                function ut(e, t, r) {
                    var n = tt((.4124564 * (e = ft(e)) + .3575761 * (t = ft(t)) + .1804375 * (r = ft(r))) / .95047)
                      , a = tt((.2126729 * e + .7151522 * t + .072175 * r) / 1);
                    return Je(116 * a - 16, 500 * (n - a), 200 * (a - tt((.0193339 * e + .119192 * t + .9503041 * r) / 1.08883)))
                }
                function ft(e) {
                    return (e /= 255) <= .04045 ? e / 12.92 : Math.pow((e + .055) / 1.055, 2.4)
                }
                function dt(e) {
                    var t = parseFloat(e);
                    return "%" === e.charAt(e.length - 1) ? Math.round(2.55 * t) : t
                }
                ot.brighter = function(e) {
                    e = Math.pow(.7, arguments.length ? e : 1);
                    var t = this.r
                      , r = this.g
                      , n = this.b
                      , a = 30;
                    return t || r || n ? (t && t < a && (t = a),
                    r && r < a && (r = a),
                    n && n < a && (n = a),
                    new nt(Math.min(255, t / e),Math.min(255, r / e),Math.min(255, n / e))) : new nt(a,a,a)
                }
                ,
                ot.darker = function(e) {
                    return new nt((e = Math.pow(.7, arguments.length ? e : 1)) * this.r,e * this.g,e * this.b)
                }
                ,
                ot.hsl = function() {
                    return ct(this.r, this.g, this.b)
                }
                ,
                ot.toString = function() {
                    return "#" + st(this.r) + st(this.g) + st(this.b)
                }
                ;
                var ht = e.map({
                    aliceblue: 15792383,
                    antiquewhite: 16444375,
                    aqua: 65535,
                    aquamarine: 8388564,
                    azure: 15794175,
                    beige: 16119260,
                    bisque: 16770244,
                    black: 0,
                    blanchedalmond: 16772045,
                    blue: 255,
                    blueviolet: 9055202,
                    brown: 10824234,
                    burlywood: 14596231,
                    cadetblue: 6266528,
                    chartreuse: 8388352,
                    chocolate: 13789470,
                    coral: 16744272,
                    cornflowerblue: 6591981,
                    cornsilk: 16775388,
                    crimson: 14423100,
                    cyan: 65535,
                    darkblue: 139,
                    darkcyan: 35723,
                    darkgoldenrod: 12092939,
                    darkgray: 11119017,
                    darkgreen: 25600,
                    darkgrey: 11119017,
                    darkkhaki: 12433259,
                    darkmagenta: 9109643,
                    darkolivegreen: 5597999,
                    darkorange: 16747520,
                    darkorchid: 10040012,
                    darkred: 9109504,
                    darksalmon: 15308410,
                    darkseagreen: 9419919,
                    darkslateblue: 4734347,
                    darkslategray: 3100495,
                    darkslategrey: 3100495,
                    darkturquoise: 52945,
                    darkviolet: 9699539,
                    deeppink: 16716947,
                    deepskyblue: 49151,
                    dimgray: 6908265,
                    dimgrey: 6908265,
                    dodgerblue: 2003199,
                    firebrick: 11674146,
                    floralwhite: 16775920,
                    forestgreen: 2263842,
                    fuchsia: 16711935,
                    gainsboro: 14474460,
                    ghostwhite: 16316671,
                    gold: 16766720,
                    goldenrod: 14329120,
                    gray: 8421504,
                    green: 32768,
                    greenyellow: 11403055,
                    grey: 8421504,
                    honeydew: 15794160,
                    hotpink: 16738740,
                    indianred: 13458524,
                    indigo: 4915330,
                    ivory: 16777200,
                    khaki: 15787660,
                    lavender: 15132410,
                    lavenderblush: 16773365,
                    lawngreen: 8190976,
                    lemonchiffon: 16775885,
                    lightblue: 11393254,
                    lightcoral: 15761536,
                    lightcyan: 14745599,
                    lightgoldenrodyellow: 16448210,
                    lightgray: 13882323,
                    lightgreen: 9498256,
                    lightgrey: 13882323,
                    lightpink: 16758465,
                    lightsalmon: 16752762,
                    lightseagreen: 2142890,
                    lightskyblue: 8900346,
                    lightslategray: 7833753,
                    lightslategrey: 7833753,
                    lightsteelblue: 11584734,
                    lightyellow: 16777184,
                    lime: 65280,
                    limegreen: 3329330,
                    linen: 16445670,
                    magenta: 16711935,
                    maroon: 8388608,
                    mediumaquamarine: 6737322,
                    mediumblue: 205,
                    mediumorchid: 12211667,
                    mediumpurple: 9662683,
                    mediumseagreen: 3978097,
                    mediumslateblue: 8087790,
                    mediumspringgreen: 64154,
                    mediumturquoise: 4772300,
                    mediumvioletred: 13047173,
                    midnightblue: 1644912,
                    mintcream: 16121850,
                    mistyrose: 16770273,
                    moccasin: 16770229,
                    navajowhite: 16768685,
                    navy: 128,
                    oldlace: 16643558,
                    olive: 8421376,
                    olivedrab: 7048739,
                    orange: 16753920,
                    orangered: 16729344,
                    orchid: 14315734,
                    palegoldenrod: 15657130,
                    palegreen: 10025880,
                    paleturquoise: 11529966,
                    palevioletred: 14381203,
                    papayawhip: 16773077,
                    peachpuff: 16767673,
                    peru: 13468991,
                    pink: 16761035,
                    plum: 14524637,
                    powderblue: 11591910,
                    purple: 8388736,
                    rebeccapurple: 6697881,
                    red: 16711680,
                    rosybrown: 12357519,
                    royalblue: 4286945,
                    saddlebrown: 9127187,
                    salmon: 16416882,
                    sandybrown: 16032864,
                    seagreen: 3050327,
                    seashell: 16774638,
                    sienna: 10506797,
                    silver: 12632256,
                    skyblue: 8900331,
                    slateblue: 6970061,
                    slategray: 7372944,
                    slategrey: 7372944,
                    snow: 16775930,
                    springgreen: 65407,
                    steelblue: 4620980,
                    tan: 13808780,
                    teal: 32896,
                    thistle: 14204888,
                    tomato: 16737095,
                    turquoise: 4251856,
                    violet: 15631086,
                    wheat: 16113331,
                    white: 16777215,
                    whitesmoke: 16119285,
                    yellow: 16776960,
                    yellowgreen: 10145074
                });
                function pt(e) {
                    return "function" == typeof e ? e : function() {
                        return e
                    }
                }
                function gt(e) {
                    return function(t, r, n) {
                        return 2 === arguments.length && "function" == typeof r && (n = r,
                        r = null),
                        yt(t, r, e, n)
                    }
                }
                function yt(t, r, a, i) {
                    var o = {}
                      , s = e.dispatch("beforesend", "progress", "load", "error")
                      , l = {}
                      , c = new XMLHttpRequest
                      , u = null;
                    function f() {
                        var e, t = c.status;
                        if (!t && function(e) {
                            var t = e.responseType;
                            return t && "text" !== t ? e.response : e.responseText
                        }(c) || t >= 200 && t < 300 || 304 === t) {
                            try {
                                e = a.call(o, c)
                            } catch (e) {
                                return void s.error.call(o, e)
                            }
                            s.load.call(o, e)
                        } else
                            s.error.call(o, c)
                    }
                    return this.XDomainRequest && !("withCredentials"in c) && /^(http(s)?:)?\/\//.test(t) && (c = new XDomainRequest),
                    "onload"in c ? c.onload = c.onerror = f : c.onreadystatechange = function() {
                        c.readyState > 3 && f()
                    }
                    ,
                    c.onprogress = function(t) {
                        var r = e.event;
                        e.event = t;
                        try {
                            s.progress.call(o, c)
                        } finally {
                            e.event = r
                        }
                    }
                    ,
                    o.header = function(e, t) {
                        return e = (e + "").toLowerCase(),
                        arguments.length < 2 ? l[e] : (null == t ? delete l[e] : l[e] = t + "",
                        o)
                    }
                    ,
                    o.mimeType = function(e) {
                        return arguments.length ? (r = null == e ? null : e + "",
                        o) : r
                    }
                    ,
                    o.responseType = function(e) {
                        return arguments.length ? (u = e,
                        o) : u
                    }
                    ,
                    o.response = function(e) {
                        return a = e,
                        o
                    }
                    ,
                    ["get", "post"].forEach((function(e) {
                        o[e] = function() {
                            return o.send.apply(o, [e].concat(n(arguments)))
                        }
                    }
                    )),
                    o.send = function(e, n, a) {
                        if (2 === arguments.length && "function" == typeof n && (a = n,
                        n = null),
                        c.open(e, t, !0),
                        null == r || "accept"in l || (l.accept = r + ",*/*"),
                        c.setRequestHeader)
                            for (var i in l)
                                c.setRequestHeader(i, l[i]);
                        return null != r && c.overrideMimeType && c.overrideMimeType(r),
                        null != u && (c.responseType = u),
                        null != a && o.on("error", a).on("load", (function(e) {
                            a(null, e)
                        }
                        )),
                        s.beforesend.call(o, c),
                        c.send(null == n ? null : n),
                        o
                    }
                    ,
                    o.abort = function() {
                        return c.abort(),
                        o
                    }
                    ,
                    e.rebind(o, s, "on"),
                    null == i ? o : o.get(function(e) {
                        return 1 === e.length ? function(t, r) {
                            e(null == t ? r : null)
                        }
                        : e
                    }(i))
                }
                ht.forEach((function(e, t) {
                    ht.set(e, at(t))
                }
                )),
                e.functor = pt,
                e.xhr = gt(D),
                e.dsv = function(e, t) {
                    var r = new RegExp('["' + e + "\n]")
                      , n = e.charCodeAt(0);
                    function a(e, r, n) {
                        arguments.length < 3 && (n = r,
                        r = null);
                        var a = yt(e, t, null == r ? i : o(r), n);
                        return a.row = function(e) {
                            return arguments.length ? a.response(null == (r = e) ? i : o(e)) : r
                        }
                        ,
                        a
                    }
                    function i(e) {
                        return a.parse(e.responseText)
                    }
                    function o(e) {
                        return function(t) {
                            return a.parse(t.responseText, e)
                        }
                    }
                    function s(t) {
                        return t.map(l).join(e)
                    }
                    function l(e) {
                        return r.test(e) ? '"' + e.replace(/\"/g, '""') + '"' : e
                    }
                    return a.parse = function(e, t) {
                        var r;
                        return a.parseRows(e, (function(e, n) {
                            if (r)
                                return r(e, n - 1);
                            var a = function(t) {
                                for (var r = {}, n = e.length, a = 0; a < n; ++a)
                                    r[e[a]] = t[a];
                                return r
                            };
                            r = t ? function(e, r) {
                                return t(a(e), r)
                            }
                            : a
                        }
                        ))
                    }
                    ,
                    a.parseRows = function(e, t) {
                        var r, a, i = {}, o = {}, s = [], l = e.length, c = 0, u = 0;
                        function f() {
                            if (c >= l)
                                return o;
                            if (a)
                                return a = !1,
                                i;
                            var t = c;
                            if (34 === e.charCodeAt(t)) {
                                for (var r = t; r++ < l; )
                                    if (34 === e.charCodeAt(r)) {
                                        if (34 !== e.charCodeAt(r + 1))
                                            break;
                                        ++r
                                    }
                                return c = r + 2,
                                13 === (s = e.charCodeAt(r + 1)) ? (a = !0,
                                10 === e.charCodeAt(r + 2) && ++c) : 10 === s && (a = !0),
                                e.slice(t + 1, r).replace(/""/g, '"')
                            }
                            for (; c < l; ) {
                                var s, u = 1;
                                if (10 === (s = e.charCodeAt(c++)))
                                    a = !0;
                                else if (13 === s)
                                    a = !0,
                                    10 === e.charCodeAt(c) && (++c,
                                    ++u);
                                else if (s !== n)
                                    continue;
                                return e.slice(t, c - u)
                            }
                            return e.slice(t)
                        }
                        for (; (r = f()) !== o; ) {
                            for (var d = []; r !== i && r !== o; )
                                d.push(r),
                                r = f();
                            t && null == (d = t(d, u++)) || s.push(d)
                        }
                        return s
                    }
                    ,
                    a.format = function(t) {
                        if (Array.isArray(t[0]))
                            return a.formatRows(t);
                        var r = new O
                          , n = [];
                        return t.forEach((function(e) {
                            for (var t in e)
                                r.has(t) || n.push(r.add(t))
                        }
                        )),
                        [n.map(l).join(e)].concat(t.map((function(t) {
                            return n.map((function(e) {
                                return l(t[e])
                            }
                            )).join(e)
                        }
                        ))).join("\n")
                    }
                    ,
                    a.formatRows = function(e) {
                        return e.map(s).join("\n")
                    }
                    ,
                    a
                }
                ,
                e.csv = e.dsv(",", "text/csv"),
                e.tsv = e.dsv("\t", "text/tab-separated-values");
                var vt, mt, bt, xt, _t = this[E(this, "requestAnimationFrame")] || function(e) {
                    setTimeout(e, 17)
                }
                ;
                function wt(e, t, r) {
                    var n = arguments.length;
                    n < 2 && (t = 0),
                    n < 3 && (r = Date.now());
                    var a = r + t
                      , i = {
                        c: e,
                        t: a,
                        n: null
                    };
                    return mt ? mt.n = i : vt = i,
                    mt = i,
                    bt || (xt = clearTimeout(xt),
                    bt = 1,
                    _t(At)),
                    i
                }
                function At() {
                    var e = kt()
                      , t = Tt() - e;
                    t > 24 ? (isFinite(t) && (clearTimeout(xt),
                    xt = setTimeout(At, t)),
                    bt = 0) : (bt = 1,
                    _t(At))
                }
                function kt() {
                    for (var e = Date.now(), t = vt; t; )
                        e >= t.t && t.c(e - t.t) && (t.c = null),
                        t = t.n;
                    return e
                }
                function Tt() {
                    for (var e, t = vt, r = 1 / 0; t; )
                        t.c ? (t.t < r && (r = t.t),
                        t = (e = t).n) : t = e ? e.n = t.n : vt = t.n;
                    return mt = e,
                    r
                }
                function Mt(e, t) {
                    return t - (e ? Math.ceil(Math.log(e) / Math.LN10) : 1)
                }
                e.timer = function() {
                    wt.apply(this, arguments)
                }
                ,
                e.timer.flush = function() {
                    kt(),
                    Tt()
                }
                ,
                e.round = function(e, t) {
                    return t ? Math.round(e * (t = Math.pow(10, t))) / t : Math.round(e)
                }
                ;
                var St = ["y", "z", "a", "f", "p", "n", "\xb5", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"].map((function(e, t) {
                    var r = Math.pow(10, 3 * m(8 - t));
                    return {
                        scale: t > 8 ? function(e) {
                            return e / r
                        }
                        : function(e) {
                            return e * r
                        }
                        ,
                        symbol: e
                    }
                }
                ));
                function Ct(t) {
                    var r = t.decimal
                      , n = t.thousands
                      , a = t.grouping
                      , i = t.currency
                      , o = a && n ? function(e, t) {
                        for (var r = e.length, i = [], o = 0, s = a[0], l = 0; r > 0 && s > 0 && (l + s + 1 > t && (s = Math.max(1, t - l)),
                        i.push(e.substring(r -= s, r + s)),
                        !((l += s + 1) > t)); )
                            s = a[o = (o + 1) % a.length];
                        return i.reverse().join(n)
                    }
                    : D;
                    return function(t) {
                        var n = Ot.exec(t)
                          , a = n[1] || " "
                          , s = n[2] || ">"
                          , l = n[3] || "-"
                          , c = n[4] || ""
                          , u = n[5]
                          , f = +n[6]
                          , d = n[7]
                          , h = n[8]
                          , p = n[9]
                          , g = 1
                          , y = ""
                          , v = ""
                          , m = !1
                          , b = !0;
                        switch (h && (h = +h.substring(1)),
                        (u || "0" === a && "=" === s) && (u = a = "0",
                        s = "="),
                        p) {
                        case "n":
                            d = !0,
                            p = "g";
                            break;
                        case "%":
                            g = 100,
                            v = "%",
                            p = "f";
                            break;
                        case "p":
                            g = 100,
                            v = "%",
                            p = "r";
                            break;
                        case "b":
                        case "o":
                        case "x":
                        case "X":
                            "#" === c && (y = "0" + p.toLowerCase());
                        case "c":
                            b = !1;
                        case "d":
                            m = !0,
                            h = 0;
                            break;
                        case "s":
                            g = -1,
                            p = "r"
                        }
                        "$" === c && (y = i[0],
                        v = i[1]),
                        "r" != p || h || (p = "g"),
                        null != h && ("g" == p ? h = Math.max(1, Math.min(21, h)) : "e" != p && "f" != p || (h = Math.max(0, Math.min(20, h)))),
                        p = Dt.get(p) || Lt;
                        var x = u && d;
                        return function(t) {
                            var n = v;
                            if (m && t % 1)
                                return "";
                            var i = t < 0 || 0 === t && 1 / t < 0 ? (t = -t,
                            "-") : "-" === l ? "" : l;
                            if (g < 0) {
                                var c = e.formatPrefix(t, h);
                                t = c.scale(t),
                                n = c.symbol + v
                            } else
                                t *= g;
                            var _, w, A = (t = p(t, h)).lastIndexOf(".");
                            if (A < 0) {
                                var k = b ? t.lastIndexOf("e") : -1;
                                k < 0 ? (_ = t,
                                w = "") : (_ = t.substring(0, k),
                                w = t.substring(k))
                            } else
                                _ = t.substring(0, A),
                                w = r + t.substring(A + 1);
                            !u && d && (_ = o(_, 1 / 0));
                            var T = y.length + _.length + w.length + (x ? 0 : i.length)
                              , M = T < f ? new Array(T = f - T + 1).join(a) : "";
                            return x && (_ = o(M + _, M.length ? f - w.length : 1 / 0)),
                            i += y,
                            t = _ + w,
                            ("<" === s ? i + t + M : ">" === s ? M + i + t : "^" === s ? M.substring(0, T >>= 1) + i + t + M.substring(T) : i + (x ? t : M + t)) + n
                        }
                    }
                }
                e.formatPrefix = function(t, r) {
                    var n = 0;
                    return (t = +t) && (t < 0 && (t *= -1),
                    r && (t = e.round(t, Mt(t, r))),
                    n = 1 + Math.floor(1e-12 + Math.log(t) / Math.LN10),
                    n = Math.max(-24, Math.min(24, 3 * Math.floor((n - 1) / 3)))),
                    St[8 + n / 3]
                }
                ;
                var Ot = /(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i
                  , Dt = e.map({
                    b: function(e) {
                        return e.toString(2)
                    },
                    c: function(e) {
                        return String.fromCharCode(e)
                    },
                    o: function(e) {
                        return e.toString(8)
                    },
                    x: function(e) {
                        return e.toString(16)
                    },
                    X: function(e) {
                        return e.toString(16).toUpperCase()
                    },
                    g: function(e, t) {
                        return e.toPrecision(t)
                    },
                    e: function(e, t) {
                        return e.toExponential(t)
                    },
                    f: function(e, t) {
                        return e.toFixed(t)
                    },
                    r: function(t, r) {
                        return (t = e.round(t, Mt(t, r))).toFixed(Math.max(0, Math.min(20, Mt(t * (1 + 1e-15), r))))
                    }
                });
                function Lt(e) {
                    return e + ""
                }
                var Et = e.time = {}
                  , zt = Date;
                function Ft() {
                    this._ = new Date(arguments.length > 1 ? Date.UTC.apply(this, arguments) : arguments[0])
                }
                Ft.prototype = {
                    getDate: function() {
                        return this._.getUTCDate()
                    },
                    getDay: function() {
                        return this._.getUTCDay()
                    },
                    getFullYear: function() {
                        return this._.getUTCFullYear()
                    },
                    getHours: function() {
                        return this._.getUTCHours()
                    },
                    getMilliseconds: function() {
                        return this._.getUTCMilliseconds()
                    },
                    getMinutes: function() {
                        return this._.getUTCMinutes()
                    },
                    getMonth: function() {
                        return this._.getUTCMonth()
                    },
                    getSeconds: function() {
                        return this._.getUTCSeconds()
                    },
                    getTime: function() {
                        return this._.getTime()
                    },
                    getTimezoneOffset: function() {
                        return 0
                    },
                    valueOf: function() {
                        return this._.valueOf()
                    },
                    setDate: function() {
                        Pt.setUTCDate.apply(this._, arguments)
                    },
                    setDay: function() {
                        Pt.setUTCDay.apply(this._, arguments)
                    },
                    setFullYear: function() {
                        Pt.setUTCFullYear.apply(this._, arguments)
                    },
                    setHours: function() {
                        Pt.setUTCHours.apply(this._, arguments)
                    },
                    setMilliseconds: function() {
                        Pt.setUTCMilliseconds.apply(this._, arguments)
                    },
                    setMinutes: function() {
                        Pt.setUTCMinutes.apply(this._, arguments)
                    },
                    setMonth: function() {
                        Pt.setUTCMonth.apply(this._, arguments)
                    },
                    setSeconds: function() {
                        Pt.setUTCSeconds.apply(this._, arguments)
                    },
                    setTime: function() {
                        Pt.setTime.apply(this._, arguments)
                    }
                };
                var Pt = Date.prototype;
                function It(e, t, r) {
                    function n(t) {
                        var r = e(t)
                          , n = i(r, 1);
                        return t - r < n - t ? r : n
                    }
                    function a(r) {
                        return t(r = e(new zt(r - 1)), 1),
                        r
                    }
                    function i(e, r) {
                        return t(e = new zt(+e), r),
                        e
                    }
                    function o(e, n, i) {
                        var o = a(e)
                          , s = [];
                        if (i > 1)
                            for (; o < n; )
                                r(o) % i || s.push(new Date(+o)),
                                t(o, 1);
                        else
                            for (; o < n; )
                                s.push(new Date(+o)),
                                t(o, 1);
                        return s
                    }
                    e.floor = e,
                    e.round = n,
                    e.ceil = a,
                    e.offset = i,
                    e.range = o;
                    var s = e.utc = Nt(e);
                    return s.floor = s,
                    s.round = Nt(n),
                    s.ceil = Nt(a),
                    s.offset = Nt(i),
                    s.range = function(e, t, r) {
                        try {
                            zt = Ft;
                            var n = new Ft;
                            return n._ = e,
                            o(n, t, r)
                        } finally {
                            zt = Date
                        }
                    }
                    ,
                    e
                }
                function Nt(e) {
                    return function(t, r) {
                        try {
                            zt = Ft;
                            var n = new Ft;
                            return n._ = t,
                            e(n, r)._
                        } finally {
                            zt = Date
                        }
                    }
                }
                function Rt(t) {
                    var r = t.dateTime
                      , n = t.date
                      , a = t.time
                      , i = t.periods
                      , o = t.days
                      , s = t.shortDays
                      , l = t.months
                      , c = t.shortMonths;
                    function u(e) {
                        var t = e.length;
                        function r(r) {
                            for (var n, a, i, o = [], s = -1, l = 0; ++s < t; )
                                37 === e.charCodeAt(s) && (o.push(e.slice(l, s)),
                                null != (a = jt[n = e.charAt(++s)]) && (n = e.charAt(++s)),
                                (i = _[n]) && (n = i(r, null == a ? "e" === n ? " " : "0" : a)),
                                o.push(n),
                                l = s + 1);
                            return o.push(e.slice(l, s)),
                            o.join("")
                        }
                        return r.parse = function(t) {
                            var r = {
                                y: 1900,
                                m: 0,
                                d: 1,
                                H: 0,
                                M: 0,
                                S: 0,
                                L: 0,
                                Z: null
                            };
                            if (f(r, e, t, 0) != t.length)
                                return null;
                            "p"in r && (r.H = r.H % 12 + 12 * r.p);
                            var n = null != r.Z && zt !== Ft
                              , a = new (n ? Ft : zt);
                            return "j"in r ? a.setFullYear(r.y, 0, r.j) : "W"in r || "U"in r ? ("w"in r || (r.w = "W"in r ? 1 : 0),
                            a.setFullYear(r.y, 0, 1),
                            a.setFullYear(r.y, 0, "W"in r ? (r.w + 6) % 7 + 7 * r.W - (a.getDay() + 5) % 7 : r.w + 7 * r.U - (a.getDay() + 6) % 7)) : a.setFullYear(r.y, r.m, r.d),
                            a.setHours(r.H + (r.Z / 100 | 0), r.M + r.Z % 100, r.S, r.L),
                            n ? a._ : a
                        }
                        ,
                        r.toString = function() {
                            return e
                        }
                        ,
                        r
                    }
                    function f(e, t, r, n) {
                        for (var a, i, o, s = 0, l = t.length, c = r.length; s < l; ) {
                            if (n >= c)
                                return -1;
                            if (37 === (a = t.charCodeAt(s++))) {
                                if (o = t.charAt(s++),
                                !(i = w[o in jt ? t.charAt(s++) : o]) || (n = i(e, r, n)) < 0)
                                    return -1
                            } else if (a != r.charCodeAt(n++))
                                return -1
                        }
                        return n
                    }
                    u.utc = function(e) {
                        var t = u(e);
                        function r(e) {
                            try {
                                var r = new (zt = Ft);
                                return r._ = e,
                                t(r)
                            } finally {
                                zt = Date
                            }
                        }
                        return r.parse = function(e) {
                            try {
                                zt = Ft;
                                var r = t.parse(e);
                                return r && r._
                            } finally {
                                zt = Date
                            }
                        }
                        ,
                        r.toString = t.toString,
                        r
                    }
                    ,
                    u.multi = u.utc.multi = or;
                    var d = e.map()
                      , h = Yt(o)
                      , p = Vt(o)
                      , g = Yt(s)
                      , y = Vt(s)
                      , v = Yt(l)
                      , m = Vt(l)
                      , b = Yt(c)
                      , x = Vt(c);
                    i.forEach((function(e, t) {
                        d.set(e.toLowerCase(), t)
                    }
                    ));
                    var _ = {
                        a: function(e) {
                            return s[e.getDay()]
                        },
                        A: function(e) {
                            return o[e.getDay()]
                        },
                        b: function(e) {
                            return c[e.getMonth()]
                        },
                        B: function(e) {
                            return l[e.getMonth()]
                        },
                        c: u(r),
                        d: function(e, t) {
                            return Ut(e.getDate(), t, 2)
                        },
                        e: function(e, t) {
                            return Ut(e.getDate(), t, 2)
                        },
                        H: function(e, t) {
                            return Ut(e.getHours(), t, 2)
                        },
                        I: function(e, t) {
                            return Ut(e.getHours() % 12 || 12, t, 2)
                        },
                        j: function(e, t) {
                            return Ut(1 + Et.dayOfYear(e), t, 3)
                        },
                        L: function(e, t) {
                            return Ut(e.getMilliseconds(), t, 3)
                        },
                        m: function(e, t) {
                            return Ut(e.getMonth() + 1, t, 2)
                        },
                        M: function(e, t) {
                            return Ut(e.getMinutes(), t, 2)
                        },
                        p: function(e) {
                            return i[+(e.getHours() >= 12)]
                        },
                        S: function(e, t) {
                            return Ut(e.getSeconds(), t, 2)
                        },
                        U: function(e, t) {
                            return Ut(Et.sundayOfYear(e), t, 2)
                        },
                        w: function(e) {
                            return e.getDay()
                        },
                        W: function(e, t) {
                            return Ut(Et.mondayOfYear(e), t, 2)
                        },
                        x: u(n),
                        X: u(a),
                        y: function(e, t) {
                            return Ut(e.getFullYear() % 100, t, 2)
                        },
                        Y: function(e, t) {
                            return Ut(e.getFullYear() % 1e4, t, 4)
                        },
                        Z: ar,
                        "%": function() {
                            return "%"
                        }
                    }
                      , w = {
                        a: function(e, t, r) {
                            g.lastIndex = 0;
                            var n = g.exec(t.slice(r));
                            return n ? (e.w = y.get(n[0].toLowerCase()),
                            r + n[0].length) : -1
                        },
                        A: function(e, t, r) {
                            h.lastIndex = 0;
                            var n = h.exec(t.slice(r));
                            return n ? (e.w = p.get(n[0].toLowerCase()),
                            r + n[0].length) : -1
                        },
                        b: function(e, t, r) {
                            b.lastIndex = 0;
                            var n = b.exec(t.slice(r));
                            return n ? (e.m = x.get(n[0].toLowerCase()),
                            r + n[0].length) : -1
                        },
                        B: function(e, t, r) {
                            v.lastIndex = 0;
                            var n = v.exec(t.slice(r));
                            return n ? (e.m = m.get(n[0].toLowerCase()),
                            r + n[0].length) : -1
                        },
                        c: function(e, t, r) {
                            return f(e, _.c.toString(), t, r)
                        },
                        d: $t,
                        e: $t,
                        H: er,
                        I: er,
                        j: Kt,
                        L: nr,
                        m: Qt,
                        M: tr,
                        p: function(e, t, r) {
                            var n = d.get(t.slice(r, r += 2).toLowerCase());
                            return null == n ? -1 : (e.p = n,
                            r)
                        },
                        S: rr,
                        U: Wt,
                        w: qt,
                        W: Gt,
                        x: function(e, t, r) {
                            return f(e, _.x.toString(), t, r)
                        },
                        X: function(e, t, r) {
                            return f(e, _.X.toString(), t, r)
                        },
                        y: Jt,
                        Y: Zt,
                        Z: Xt,
                        "%": ir
                    };
                    return u
                }
                Et.year = It((function(e) {
                    return (e = Et.day(e)).setMonth(0, 1),
                    e
                }
                ), (function(e, t) {
                    e.setFullYear(e.getFullYear() + t)
                }
                ), (function(e) {
                    return e.getFullYear()
                }
                )),
                Et.years = Et.year.range,
                Et.years.utc = Et.year.utc.range,
                Et.day = It((function(e) {
                    var t = new zt(2e3,0);
                    return t.setFullYear(e.getFullYear(), e.getMonth(), e.getDate()),
                    t
                }
                ), (function(e, t) {
                    e.setDate(e.getDate() + t)
                }
                ), (function(e) {
                    return e.getDate() - 1
                }
                )),
                Et.days = Et.day.range,
                Et.days.utc = Et.day.utc.range,
                Et.dayOfYear = function(e) {
                    var t = Et.year(e);
                    return Math.floor((e - t - 6e4 * (e.getTimezoneOffset() - t.getTimezoneOffset())) / 864e5)
                }
                ,
                ["sunday", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday"].forEach((function(e, t) {
                    t = 7 - t;
                    var r = Et[e] = It((function(e) {
                        return (e = Et.day(e)).setDate(e.getDate() - (e.getDay() + t) % 7),
                        e
                    }
                    ), (function(e, t) {
                        e.setDate(e.getDate() + 7 * Math.floor(t))
                    }
                    ), (function(e) {
                        var r = Et.year(e).getDay();
                        return Math.floor((Et.dayOfYear(e) + (r + t) % 7) / 7) - (r !== t)
                    }
                    ));
                    Et[e + "s"] = r.range,
                    Et[e + "s"].utc = r.utc.range,
                    Et[e + "OfYear"] = function(e) {
                        var r = Et.year(e).getDay();
                        return Math.floor((Et.dayOfYear(e) + (r + t) % 7) / 7)
                    }
                }
                )),
                Et.week = Et.sunday,
                Et.weeks = Et.sunday.range,
                Et.weeks.utc = Et.sunday.utc.range,
                Et.weekOfYear = Et.sundayOfYear;
                var jt = {
                    "-": "",
                    _: " ",
                    0: "0"
                }
                  , Bt = /^\s*\d+/
                  , Ht = /^%/;
                function Ut(e, t, r) {
                    var n = e < 0 ? "-" : ""
                      , a = (n ? -e : e) + ""
                      , i = a.length;
                    return n + (i < r ? new Array(r - i + 1).join(t) + a : a)
                }
                function Yt(t) {
                    return new RegExp("^(?:" + t.map(e.requote).join("|") + ")","i")
                }
                function Vt(e) {
                    for (var t = new _, r = -1, n = e.length; ++r < n; )
                        t.set(e[r].toLowerCase(), r);
                    return t
                }
                function qt(e, t, r) {
                    Bt.lastIndex = 0;
                    var n = Bt.exec(t.slice(r, r + 1));
                    return n ? (e.w = +n[0],
                    r + n[0].length) : -1
                }
                function Wt(e, t, r) {
                    Bt.lastIndex = 0;
                    var n = Bt.exec(t.slice(r));
                    return n ? (e.U = +n[0],
                    r + n[0].length) : -1
                }
                function Gt(e, t, r) {
                    Bt.lastIndex = 0;
                    var n = Bt.exec(t.slice(r));
                    return n ? (e.W = +n[0],
                    r + n[0].length) : -1
                }
                function Zt(e, t, r) {
                    Bt.lastIndex = 0;
                    var n = Bt.exec(t.slice(r, r + 4));
                    return n ? (e.y = +n[0],
                    r + n[0].length) : -1
                }
                function Jt(e, t, r) {
                    Bt.lastIndex = 0;
                    var n, a = Bt.exec(t.slice(r, r + 2));
                    return a ? (e.y = (n = +a[0]) + (n > 68 ? 1900 : 2e3),
                    r + a[0].length) : -1
                }
                function Xt(e, t, r) {
                    return /^[+-]\d{4}$/.test(t = t.slice(r, r + 5)) ? (e.Z = -t,
                    r + 5) : -1
                }
                function Qt(e, t, r) {
                    Bt.lastIndex = 0;
                    var n = Bt.exec(t.slice(r, r + 2));
                    return n ? (e.m = n[0] - 1,
                    r + n[0].length) : -1
                }
                function $t(e, t, r) {
                    Bt.lastIndex = 0;
                    var n = Bt.exec(t.slice(r, r + 2));
                    return n ? (e.d = +n[0],
                    r + n[0].length) : -1
                }
                function Kt(e, t, r) {
                    Bt.lastIndex = 0;
                    var n = Bt.exec(t.slice(r, r + 3));
                    return n ? (e.j = +n[0],
                    r + n[0].length) : -1
                }
                function er(e, t, r) {
                    Bt.lastIndex = 0;
                    var n = Bt.exec(t.slice(r, r + 2));
                    return n ? (e.H = +n[0],
                    r + n[0].length) : -1
                }
                function tr(e, t, r) {
                    Bt.lastIndex = 0;
                    var n = Bt.exec(t.slice(r, r + 2));
                    return n ? (e.M = +n[0],
                    r + n[0].length) : -1
                }
                function rr(e, t, r) {
                    Bt.lastIndex = 0;
                    var n = Bt.exec(t.slice(r, r + 2));
                    return n ? (e.S = +n[0],
                    r + n[0].length) : -1
                }
                function nr(e, t, r) {
                    Bt.lastIndex = 0;
                    var n = Bt.exec(t.slice(r, r + 3));
                    return n ? (e.L = +n[0],
                    r + n[0].length) : -1
                }
                function ar(e) {
                    var t = e.getTimezoneOffset()
                      , r = t > 0 ? "-" : "+"
                      , n = m(t) / 60 | 0
                      , a = m(t) % 60;
                    return r + Ut(n, "0", 2) + Ut(a, "0", 2)
                }
                function ir(e, t, r) {
                    Ht.lastIndex = 0;
                    var n = Ht.exec(t.slice(r, r + 1));
                    return n ? r + n[0].length : -1
                }
                function or(e) {
                    for (var t = e.length, r = -1; ++r < t; )
                        e[r][0] = this(e[r][0]);
                    return function(t) {
                        for (var r = 0, n = e[r]; !n[1](t); )
                            n = e[++r];
                        return n[0](t)
                    }
                }
                e.locale = function(e) {
                    return {
                        numberFormat: Ct(e),
                        timeFormat: Rt(e)
                    }
                }
                ;
                var sr = e.locale({
                    decimal: ".",
                    thousands: ",",
                    grouping: [3],
                    currency: ["$", ""],
                    dateTime: "%a %b %e %X %Y",
                    date: "%m/%d/%Y",
                    time: "%H:%M:%S",
                    periods: ["AM", "PM"],
                    days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                    shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                    months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                    shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
                });
                function lr() {}
                e.format = sr.numberFormat,
                e.geo = {},
                lr.prototype = {
                    s: 0,
                    t: 0,
                    add: function(e) {
                        ur(e, this.t, cr),
                        ur(cr.s, this.s, this),
                        this.s ? this.t += cr.t : this.s = cr.t
                    },
                    reset: function() {
                        this.s = this.t = 0
                    },
                    valueOf: function() {
                        return this.s
                    }
                };
                var cr = new lr;
                function ur(e, t, r) {
                    var n = r.s = e + t
                      , a = n - e
                      , i = n - a;
                    r.t = e - i + (t - a)
                }
                function fr(e, t) {
                    e && hr.hasOwnProperty(e.type) && hr[e.type](e, t)
                }
                e.geo.stream = function(e, t) {
                    e && dr.hasOwnProperty(e.type) ? dr[e.type](e, t) : fr(e, t)
                }
                ;
                var dr = {
                    Feature: function(e, t) {
                        fr(e.geometry, t)
                    },
                    FeatureCollection: function(e, t) {
                        for (var r = e.features, n = -1, a = r.length; ++n < a; )
                            fr(r[n].geometry, t)
                    }
                }
                  , hr = {
                    Sphere: function(e, t) {
                        t.sphere()
                    },
                    Point: function(e, t) {
                        e = e.coordinates,
                        t.point(e[0], e[1], e[2])
                    },
                    MultiPoint: function(e, t) {
                        for (var r = e.coordinates, n = -1, a = r.length; ++n < a; )
                            e = r[n],
                            t.point(e[0], e[1], e[2])
                    },
                    LineString: function(e, t) {
                        pr(e.coordinates, t, 0)
                    },
                    MultiLineString: function(e, t) {
                        for (var r = e.coordinates, n = -1, a = r.length; ++n < a; )
                            pr(r[n], t, 0)
                    },
                    Polygon: function(e, t) {
                        gr(e.coordinates, t)
                    },
                    MultiPolygon: function(e, t) {
                        for (var r = e.coordinates, n = -1, a = r.length; ++n < a; )
                            gr(r[n], t)
                    },
                    GeometryCollection: function(e, t) {
                        for (var r = e.geometries, n = -1, a = r.length; ++n < a; )
                            fr(r[n], t)
                    }
                };
                function pr(e, t, r) {
                    var n, a = -1, i = e.length - r;
                    for (t.lineStart(); ++a < i; )
                        n = e[a],
                        t.point(n[0], n[1], n[2]);
                    t.lineEnd()
                }
                function gr(e, t) {
                    var r = -1
                      , n = e.length;
                    for (t.polygonStart(); ++r < n; )
                        pr(e[r], t, 1);
                    t.polygonEnd()
                }
                e.geo.area = function(t) {
                    return yr = 0,
                    e.geo.stream(t, Or),
                    yr
                }
                ;
                var yr, vr, mr, br, xr, _r, wr, Ar, kr, Tr, Mr, Sr, Cr = new lr, Or = {
                    sphere: function() {
                        yr += 4 * Me
                    },
                    point: F,
                    lineStart: F,
                    lineEnd: F,
                    polygonStart: function() {
                        Cr.reset(),
                        Or.lineStart = Dr
                    },
                    polygonEnd: function() {
                        var e = 2 * Cr;
                        yr += e < 0 ? 4 * Me + e : e,
                        Or.lineStart = Or.lineEnd = Or.point = F
                    }
                };
                function Dr() {
                    var e, t, r, n, a;
                    function i(e, t) {
                        t = t * De / 2 + Me / 4;
                        var i = (e *= De) - r
                          , o = i >= 0 ? 1 : -1
                          , s = o * i
                          , l = Math.cos(t)
                          , c = Math.sin(t)
                          , u = a * c
                          , f = n * l + u * Math.cos(s)
                          , d = u * o * Math.sin(s);
                        Cr.add(Math.atan2(d, f)),
                        r = e,
                        n = l,
                        a = c
                    }
                    Or.point = function(o, s) {
                        Or.point = i,
                        r = (e = o) * De,
                        n = Math.cos(s = (t = s) * De / 2 + Me / 4),
                        a = Math.sin(s)
                    }
                    ,
                    Or.lineEnd = function() {
                        i(e, t)
                    }
                }
                function Lr(e) {
                    var t = e[0]
                      , r = e[1]
                      , n = Math.cos(r);
                    return [n * Math.cos(t), n * Math.sin(t), Math.sin(r)]
                }
                function Er(e, t) {
                    return e[0] * t[0] + e[1] * t[1] + e[2] * t[2]
                }
                function zr(e, t) {
                    return [e[1] * t[2] - e[2] * t[1], e[2] * t[0] - e[0] * t[2], e[0] * t[1] - e[1] * t[0]]
                }
                function Fr(e, t) {
                    e[0] += t[0],
                    e[1] += t[1],
                    e[2] += t[2]
                }
                function Pr(e, t) {
                    return [e[0] * t, e[1] * t, e[2] * t]
                }
                function Ir(e) {
                    var t = Math.sqrt(e[0] * e[0] + e[1] * e[1] + e[2] * e[2]);
                    e[0] /= t,
                    e[1] /= t,
                    e[2] /= t
                }
                function Nr(e) {
                    return [Math.atan2(e[1], e[0]), Pe(e[2])]
                }
                function Rr(e, t) {
                    return m(e[0] - t[0]) < ke && m(e[1] - t[1]) < ke
                }
                e.geo.bounds = function() {
                    var t, r, n, a, i, o, s, l, c, u, f, d = {
                        point: h,
                        lineStart: g,
                        lineEnd: y,
                        polygonStart: function() {
                            d.point = v,
                            d.lineStart = b,
                            d.lineEnd = x,
                            c = 0,
                            Or.polygonStart()
                        },
                        polygonEnd: function() {
                            Or.polygonEnd(),
                            d.point = h,
                            d.lineStart = g,
                            d.lineEnd = y,
                            Cr < 0 ? (t = -(n = 180),
                            r = -(a = 90)) : c > ke ? a = 90 : c < -ke && (r = -90),
                            f[0] = t,
                            f[1] = n
                        }
                    };
                    function h(e, i) {
                        u.push(f = [t = e, n = e]),
                        i < r && (r = i),
                        i > a && (a = i)
                    }
                    function p(e, o) {
                        var s = Lr([e * De, o * De]);
                        if (l) {
                            var c = zr(l, s)
                              , u = zr([c[1], -c[0], 0], c);
                            Ir(u),
                            u = Nr(u);
                            var f = e - i
                              , d = f > 0 ? 1 : -1
                              , p = u[0] * Le * d
                              , g = m(f) > 180;
                            if (g ^ (d * i < p && p < d * e))
                                (y = u[1] * Le) > a && (a = y);
                            else if (g ^ (d * i < (p = (p + 360) % 360 - 180) && p < d * e)) {
                                var y;
                                (y = -u[1] * Le) < r && (r = y)
                            } else
                                o < r && (r = o),
                                o > a && (a = o);
                            g ? e < i ? _(t, e) > _(t, n) && (n = e) : _(e, n) > _(t, n) && (t = e) : n >= t ? (e < t && (t = e),
                            e > n && (n = e)) : e > i ? _(t, e) > _(t, n) && (n = e) : _(e, n) > _(t, n) && (t = e)
                        } else
                            h(e, o);
                        l = s,
                        i = e
                    }
                    function g() {
                        d.point = p
                    }
                    function y() {
                        f[0] = t,
                        f[1] = n,
                        d.point = h,
                        l = null
                    }
                    function v(e, t) {
                        if (l) {
                            var r = e - i;
                            c += m(r) > 180 ? r + (r > 0 ? 360 : -360) : r
                        } else
                            o = e,
                            s = t;
                        Or.point(e, t),
                        p(e, t)
                    }
                    function b() {
                        Or.lineStart()
                    }
                    function x() {
                        v(o, s),
                        Or.lineEnd(),
                        m(c) > ke && (t = -(n = 180)),
                        f[0] = t,
                        f[1] = n,
                        l = null
                    }
                    function _(e, t) {
                        return (t -= e) < 0 ? t + 360 : t
                    }
                    function w(e, t) {
                        return e[0] - t[0]
                    }
                    function A(e, t) {
                        return t[0] <= t[1] ? t[0] <= e && e <= t[1] : e < t[0] || t[1] < e
                    }
                    return function(i) {
                        if (a = n = -(t = r = 1 / 0),
                        u = [],
                        e.geo.stream(i, d),
                        c = u.length) {
                            u.sort(w);
                            for (var o = 1, s = [g = u[0]]; o < c; ++o)
                                A((h = u[o])[0], g) || A(h[1], g) ? (_(g[0], h[1]) > _(g[0], g[1]) && (g[1] = h[1]),
                                _(h[0], g[1]) > _(g[0], g[1]) && (g[0] = h[0])) : s.push(g = h);
                            for (var l, c, h, p = -1 / 0, g = (o = 0,
                            s[c = s.length - 1]); o <= c; g = h,
                            ++o)
                                h = s[o],
                                (l = _(g[1], h[0])) > p && (p = l,
                                t = h[0],
                                n = g[1])
                        }
                        return u = f = null,
                        t === 1 / 0 || r === 1 / 0 ? [[NaN, NaN], [NaN, NaN]] : [[t, r], [n, a]]
                    }
                }(),
                e.geo.centroid = function(t) {
                    vr = mr = br = xr = _r = wr = Ar = kr = Tr = Mr = Sr = 0,
                    e.geo.stream(t, jr);
                    var r = Tr
                      , n = Mr
                      , a = Sr
                      , i = r * r + n * n + a * a;
                    return i < Te && (r = wr,
                    n = Ar,
                    a = kr,
                    mr < ke && (r = br,
                    n = xr,
                    a = _r),
                    (i = r * r + n * n + a * a) < Te) ? [NaN, NaN] : [Math.atan2(n, r) * Le, Pe(a / Math.sqrt(i)) * Le]
                }
                ;
                var jr = {
                    sphere: F,
                    point: Br,
                    lineStart: Ur,
                    lineEnd: Yr,
                    polygonStart: function() {
                        jr.lineStart = Vr
                    },
                    polygonEnd: function() {
                        jr.lineStart = Ur
                    }
                };
                function Br(e, t) {
                    e *= De;
                    var r = Math.cos(t *= De);
                    Hr(r * Math.cos(e), r * Math.sin(e), Math.sin(t))
                }
                function Hr(e, t, r) {
                    ++vr,
                    br += (e - br) / vr,
                    xr += (t - xr) / vr,
                    _r += (r - _r) / vr
                }
                function Ur() {
                    var e, t, r;
                    function n(n, a) {
                        n *= De;
                        var i = Math.cos(a *= De)
                          , o = i * Math.cos(n)
                          , s = i * Math.sin(n)
                          , l = Math.sin(a)
                          , c = Math.atan2(Math.sqrt((c = t * l - r * s) * c + (c = r * o - e * l) * c + (c = e * s - t * o) * c), e * o + t * s + r * l);
                        mr += c,
                        wr += c * (e + (e = o)),
                        Ar += c * (t + (t = s)),
                        kr += c * (r + (r = l)),
                        Hr(e, t, r)
                    }
                    jr.point = function(a, i) {
                        a *= De;
                        var o = Math.cos(i *= De);
                        e = o * Math.cos(a),
                        t = o * Math.sin(a),
                        r = Math.sin(i),
                        jr.point = n,
                        Hr(e, t, r)
                    }
                }
                function Yr() {
                    jr.point = Br
                }
                function Vr() {
                    var e, t, r, n, a;
                    function i(e, t) {
                        e *= De;
                        var i = Math.cos(t *= De)
                          , o = i * Math.cos(e)
                          , s = i * Math.sin(e)
                          , l = Math.sin(t)
                          , c = n * l - a * s
                          , u = a * o - r * l
                          , f = r * s - n * o
                          , d = Math.sqrt(c * c + u * u + f * f)
                          , h = r * o + n * s + a * l
                          , p = d && -Fe(h) / d
                          , g = Math.atan2(d, h);
                        Tr += p * c,
                        Mr += p * u,
                        Sr += p * f,
                        mr += g,
                        wr += g * (r + (r = o)),
                        Ar += g * (n + (n = s)),
                        kr += g * (a + (a = l)),
                        Hr(r, n, a)
                    }
                    jr.point = function(o, s) {
                        e = o,
                        t = s,
                        jr.point = i,
                        o *= De;
                        var l = Math.cos(s *= De);
                        r = l * Math.cos(o),
                        n = l * Math.sin(o),
                        a = Math.sin(s),
                        Hr(r, n, a)
                    }
                    ,
                    jr.lineEnd = function() {
                        i(e, t),
                        jr.lineEnd = Yr,
                        jr.point = Br
                    }
                }
                function qr(e, t) {
                    function r(r, n) {
                        return r = e(r, n),
                        t(r[0], r[1])
                    }
                    return e.invert && t.invert && (r.invert = function(r, n) {
                        return (r = t.invert(r, n)) && e.invert(r[0], r[1])
                    }
                    ),
                    r
                }
                function Wr() {
                    return !0
                }
                function Gr(e, t, r, n, a) {
                    var i = []
                      , o = [];
                    if (e.forEach((function(e) {
                        if (!((t = e.length - 1) <= 0)) {
                            var t, r = e[0], n = e[t];
                            if (Rr(r, n)) {
                                a.lineStart();
                                for (var s = 0; s < t; ++s)
                                    a.point((r = e[s])[0], r[1]);
                                a.lineEnd()
                            } else {
                                var l = new Jr(r,e,null,!0)
                                  , c = new Jr(r,null,l,!1);
                                l.o = c,
                                i.push(l),
                                o.push(c),
                                l = new Jr(n,e,null,!1),
                                c = new Jr(n,null,l,!0),
                                l.o = c,
                                i.push(l),
                                o.push(c)
                            }
                        }
                    }
                    )),
                    o.sort(t),
                    Zr(i),
                    Zr(o),
                    i.length) {
                        for (var s = 0, l = r, c = o.length; s < c; ++s)
                            o[s].e = l = !l;
                        for (var u, f, d = i[0]; ; ) {
                            for (var h = d, p = !0; h.v; )
                                if ((h = h.n) === d)
                                    return;
                            u = h.z,
                            a.lineStart();
                            do {
                                if (h.v = h.o.v = !0,
                                h.e) {
                                    if (p)
                                        for (s = 0,
                                        c = u.length; s < c; ++s)
                                            a.point((f = u[s])[0], f[1]);
                                    else
                                        n(h.x, h.n.x, 1, a);
                                    h = h.n
                                } else {
                                    if (p)
                                        for (s = (u = h.p.z).length - 1; s >= 0; --s)
                                            a.point((f = u[s])[0], f[1]);
                                    else
                                        n(h.x, h.p.x, -1, a);
                                    h = h.p
                                }
                                u = (h = h.o).z,
                                p = !p
                            } while (!h.v);
                            a.lineEnd()
                        }
                    }
                }
                function Zr(e) {
                    if (t = e.length) {
                        for (var t, r, n = 0, a = e[0]; ++n < t; )
                            a.n = r = e[n],
                            r.p = a,
                            a = r;
                        a.n = r = e[0],
                        r.p = a
                    }
                }
                function Jr(e, t, r, n) {
                    this.x = e,
                    this.z = t,
                    this.o = r,
                    this.e = n,
                    this.v = !1,
                    this.n = this.p = null
                }
                function Xr(t, r, n, a) {
                    return function(i, o) {
                        var s, l = r(o), c = i.invert(a[0], a[1]), u = {
                            point: f,
                            lineStart: h,
                            lineEnd: p,
                            polygonStart: function() {
                                u.point = x,
                                u.lineStart = _,
                                u.lineEnd = w,
                                s = [],
                                g = []
                            },
                            polygonEnd: function() {
                                u.point = f,
                                u.lineStart = h,
                                u.lineEnd = p,
                                s = e.merge(s);
                                var t = function(e, t) {
                                    var r = e[0]
                                      , n = e[1]
                                      , a = [Math.sin(r), -Math.cos(r), 0]
                                      , i = 0
                                      , o = 0;
                                    Cr.reset();
                                    for (var s = 0, l = t.length; s < l; ++s) {
                                        var c = t[s]
                                          , u = c.length;
                                        if (u)
                                            for (var f = c[0], d = f[0], h = f[1] / 2 + Me / 4, p = Math.sin(h), g = Math.cos(h), y = 1; ; ) {
                                                y === u && (y = 0);
                                                var v = (e = c[y])[0]
                                                  , m = e[1] / 2 + Me / 4
                                                  , b = Math.sin(m)
                                                  , x = Math.cos(m)
                                                  , _ = v - d
                                                  , w = _ >= 0 ? 1 : -1
                                                  , A = w * _
                                                  , k = A > Me
                                                  , T = p * b;
                                                if (Cr.add(Math.atan2(T * w * Math.sin(A), g * x + T * Math.cos(A))),
                                                i += k ? _ + w * Se : _,
                                                k ^ d >= r ^ v >= r) {
                                                    var M = zr(Lr(f), Lr(e));
                                                    Ir(M);
                                                    var S = zr(a, M);
                                                    Ir(S);
                                                    var C = (k ^ _ >= 0 ? -1 : 1) * Pe(S[2]);
                                                    (n > C || n === C && (M[0] || M[1])) && (o += k ^ _ >= 0 ? 1 : -1)
                                                }
                                                if (!y++)
                                                    break;
                                                d = v,
                                                p = b,
                                                g = x,
                                                f = e
                                            }
                                    }
                                    return (i < -ke || i < ke && Cr < -ke) ^ 1 & o
                                }(c, g);
                                s.length ? (b || (o.polygonStart(),
                                b = !0),
                                Gr(s, Kr, t, n, o)) : t && (b || (o.polygonStart(),
                                b = !0),
                                o.lineStart(),
                                n(null, null, 1, o),
                                o.lineEnd()),
                                b && (o.polygonEnd(),
                                b = !1),
                                s = g = null
                            },
                            sphere: function() {
                                o.polygonStart(),
                                o.lineStart(),
                                n(null, null, 1, o),
                                o.lineEnd(),
                                o.polygonEnd()
                            }
                        };
                        function f(e, r) {
                            var n = i(e, r);
                            t(e = n[0], r = n[1]) && o.point(e, r)
                        }
                        function d(e, t) {
                            var r = i(e, t);
                            l.point(r[0], r[1])
                        }
                        function h() {
                            u.point = d,
                            l.lineStart()
                        }
                        function p() {
                            u.point = f,
                            l.lineEnd()
                        }
                        var g, y, v = $r(), m = r(v), b = !1;
                        function x(e, t) {
                            y.push([e, t]);
                            var r = i(e, t);
                            m.point(r[0], r[1])
                        }
                        function _() {
                            m.lineStart(),
                            y = []
                        }
                        function w() {
                            x(y[0][0], y[0][1]),
                            m.lineEnd();
                            var e, t = m.clean(), r = v.buffer(), n = r.length;
                            if (y.pop(),
                            g.push(y),
                            y = null,
                            n)
                                if (1 & t) {
                                    var a, i = -1;
                                    if ((n = (e = r[0]).length - 1) > 0) {
                                        for (b || (o.polygonStart(),
                                        b = !0),
                                        o.lineStart(); ++i < n; )
                                            o.point((a = e[i])[0], a[1]);
                                        o.lineEnd()
                                    }
                                } else
                                    n > 1 && 2 & t && r.push(r.pop().concat(r.shift())),
                                    s.push(r.filter(Qr))
                        }
                        return u
                    }
                }
                function Qr(e) {
                    return e.length > 1
                }
                function $r() {
                    var e, t = [];
                    return {
                        lineStart: function() {
                            t.push(e = [])
                        },
                        point: function(t, r) {
                            e.push([t, r])
                        },
                        lineEnd: F,
                        buffer: function() {
                            var r = t;
                            return t = [],
                            e = null,
                            r
                        },
                        rejoin: function() {
                            t.length > 1 && t.push(t.pop().concat(t.shift()))
                        }
                    }
                }
                function Kr(e, t) {
                    return ((e = e.x)[0] < 0 ? e[1] - Oe - ke : Oe - e[1]) - ((t = t.x)[0] < 0 ? t[1] - Oe - ke : Oe - t[1])
                }
                var en = Xr(Wr, (function(e) {
                    var t, r = NaN, n = NaN, a = NaN;
                    return {
                        lineStart: function() {
                            e.lineStart(),
                            t = 1
                        },
                        point: function(i, o) {
                            var s = i > 0 ? Me : -Me
                              , l = m(i - r);
                            m(l - Me) < ke ? (e.point(r, n = (n + o) / 2 > 0 ? Oe : -Oe),
                            e.point(a, n),
                            e.lineEnd(),
                            e.lineStart(),
                            e.point(s, n),
                            e.point(i, n),
                            t = 0) : a !== s && l >= Me && (m(r - a) < ke && (r -= a * ke),
                            m(i - s) < ke && (i -= s * ke),
                            n = function(e, t, r, n) {
                                var a, i, o = Math.sin(e - r);
                                return m(o) > ke ? Math.atan((Math.sin(t) * (i = Math.cos(n)) * Math.sin(r) - Math.sin(n) * (a = Math.cos(t)) * Math.sin(e)) / (a * i * o)) : (t + n) / 2
                            }(r, n, i, o),
                            e.point(a, n),
                            e.lineEnd(),
                            e.lineStart(),
                            e.point(s, n),
                            t = 0),
                            e.point(r = i, n = o),
                            a = s
                        },
                        lineEnd: function() {
                            e.lineEnd(),
                            r = n = NaN
                        },
                        clean: function() {
                            return 2 - t
                        }
                    }
                }
                ), (function(e, t, r, n) {
                    var a;
                    if (null == e)
                        a = r * Oe,
                        n.point(-Me, a),
                        n.point(0, a),
                        n.point(Me, a),
                        n.point(Me, 0),
                        n.point(Me, -a),
                        n.point(0, -a),
                        n.point(-Me, -a),
                        n.point(-Me, 0),
                        n.point(-Me, a);
                    else if (m(e[0] - t[0]) > ke) {
                        var i = e[0] < t[0] ? Me : -Me;
                        a = r * i / 2,
                        n.point(-i, a),
                        n.point(0, a),
                        n.point(i, a)
                    } else
                        n.point(t[0], t[1])
                }
                ), [-Me, -Me / 2]);
                function tn(e) {
                    var t = Math.cos(e)
                      , r = t > 0
                      , n = m(t) > ke;
                    return Xr(a, (function(e) {
                        var t, s, l, c, u;
                        return {
                            lineStart: function() {
                                c = l = !1,
                                u = 1
                            },
                            point: function(f, d) {
                                var h, p = [f, d], g = a(f, d), y = r ? g ? 0 : o(f, d) : g ? o(f + (f < 0 ? Me : -Me), d) : 0;
                                if (!t && (c = l = g) && e.lineStart(),
                                g !== l && (h = i(t, p),
                                (Rr(t, h) || Rr(p, h)) && (p[0] += ke,
                                p[1] += ke,
                                g = a(p[0], p[1]))),
                                g !== l)
                                    u = 0,
                                    g ? (e.lineStart(),
                                    h = i(p, t),
                                    e.point(h[0], h[1])) : (h = i(t, p),
                                    e.point(h[0], h[1]),
                                    e.lineEnd()),
                                    t = h;
                                else if (n && t && r ^ g) {
                                    var v;
                                    y & s || !(v = i(p, t, !0)) || (u = 0,
                                    r ? (e.lineStart(),
                                    e.point(v[0][0], v[0][1]),
                                    e.point(v[1][0], v[1][1]),
                                    e.lineEnd()) : (e.point(v[1][0], v[1][1]),
                                    e.lineEnd(),
                                    e.lineStart(),
                                    e.point(v[0][0], v[0][1])))
                                }
                                !g || t && Rr(t, p) || e.point(p[0], p[1]),
                                t = p,
                                l = g,
                                s = y
                            },
                            lineEnd: function() {
                                l && e.lineEnd(),
                                t = null
                            },
                            clean: function() {
                                return u | (c && l) << 1
                            }
                        }
                    }
                    ), Rn(e, 6 * De), r ? [0, -e] : [-Me, e - Me]);
                    function a(e, r) {
                        return Math.cos(e) * Math.cos(r) > t
                    }
                    function i(e, r, n) {
                        var a = [1, 0, 0]
                          , i = zr(Lr(e), Lr(r))
                          , o = Er(i, i)
                          , s = i[0]
                          , l = o - s * s;
                        if (!l)
                            return !n && e;
                        var c = t * o / l
                          , u = -t * s / l
                          , f = zr(a, i)
                          , d = Pr(a, c);
                        Fr(d, Pr(i, u));
                        var h = f
                          , p = Er(d, h)
                          , g = Er(h, h)
                          , y = p * p - g * (Er(d, d) - 1);
                        if (!(y < 0)) {
                            var v = Math.sqrt(y)
                              , b = Pr(h, (-p - v) / g);
                            if (Fr(b, d),
                            b = Nr(b),
                            !n)
                                return b;
                            var x, _ = e[0], w = r[0], A = e[1], k = r[1];
                            w < _ && (x = _,
                            _ = w,
                            w = x);
                            var T = w - _
                              , M = m(T - Me) < ke;
                            if (!M && k < A && (x = A,
                            A = k,
                            k = x),
                            M || T < ke ? M ? A + k > 0 ^ b[1] < (m(b[0] - _) < ke ? A : k) : A <= b[1] && b[1] <= k : T > Me ^ (_ <= b[0] && b[0] <= w)) {
                                var S = Pr(h, (-p + v) / g);
                                return Fr(S, d),
                                [b, Nr(S)]
                            }
                        }
                    }
                    function o(t, n) {
                        var a = r ? e : Me - e
                          , i = 0;
                        return t < -a ? i |= 1 : t > a && (i |= 2),
                        n < -a ? i |= 4 : n > a && (i |= 8),
                        i
                    }
                }
                function rn(e, t, r, n) {
                    return function(a) {
                        var i, o = a.a, s = a.b, l = o.x, c = o.y, u = 0, f = 1, d = s.x - l, h = s.y - c;
                        if (i = e - l,
                        d || !(i > 0)) {
                            if (i /= d,
                            d < 0) {
                                if (i < u)
                                    return;
                                i < f && (f = i)
                            } else if (d > 0) {
                                if (i > f)
                                    return;
                                i > u && (u = i)
                            }
                            if (i = r - l,
                            d || !(i < 0)) {
                                if (i /= d,
                                d < 0) {
                                    if (i > f)
                                        return;
                                    i > u && (u = i)
                                } else if (d > 0) {
                                    if (i < u)
                                        return;
                                    i < f && (f = i)
                                }
                                if (i = t - c,
                                h || !(i > 0)) {
                                    if (i /= h,
                                    h < 0) {
                                        if (i < u)
                                            return;
                                        i < f && (f = i)
                                    } else if (h > 0) {
                                        if (i > f)
                                            return;
                                        i > u && (u = i)
                                    }
                                    if (i = n - c,
                                    h || !(i < 0)) {
                                        if (i /= h,
                                        h < 0) {
                                            if (i > f)
                                                return;
                                            i > u && (u = i)
                                        } else if (h > 0) {
                                            if (i < u)
                                                return;
                                            i < f && (f = i)
                                        }
                                        return u > 0 && (a.a = {
                                            x: l + u * d,
                                            y: c + u * h
                                        }),
                                        f < 1 && (a.b = {
                                            x: l + f * d,
                                            y: c + f * h
                                        }),
                                        a
                                    }
                                }
                            }
                        }
                    }
                }
                function nn(t, r, n, a) {
                    return function(l) {
                        var c, u, f, d, h, p, g, y, v, m, b, x = l, _ = $r(), w = rn(t, r, n, a), A = {
                            point: M,
                            lineStart: function() {
                                A.point = S,
                                u && u.push(f = []);
                                m = !0,
                                v = !1,
                                g = y = NaN
                            },
                            lineEnd: function() {
                                c && (S(d, h),
                                p && v && _.rejoin(),
                                c.push(_.buffer()));
                                A.point = M,
                                v && l.lineEnd()
                            },
                            polygonStart: function() {
                                l = _,
                                c = [],
                                u = [],
                                b = !0
                            },
                            polygonEnd: function() {
                                l = x,
                                c = e.merge(c);
                                var r = function(e) {
                                    for (var t = 0, r = u.length, n = e[1], a = 0; a < r; ++a)
                                        for (var i, o = 1, s = u[a], l = s.length, c = s[0]; o < l; ++o)
                                            i = s[o],
                                            c[1] <= n ? i[1] > n && ze(c, i, e) > 0 && ++t : i[1] <= n && ze(c, i, e) < 0 && --t,
                                            c = i;
                                    return 0 !== t
                                }([t, a])
                                  , n = b && r
                                  , i = c.length;
                                (n || i) && (l.polygonStart(),
                                n && (l.lineStart(),
                                k(null, null, 1, l),
                                l.lineEnd()),
                                i && Gr(c, o, r, k, l),
                                l.polygonEnd()),
                                c = u = f = null
                            }
                        };
                        function k(e, o, l, c) {
                            var u = 0
                              , f = 0;
                            if (null == e || (u = i(e, l)) !== (f = i(o, l)) || s(e, o) < 0 ^ l > 0)
                                do {
                                    c.point(0 === u || 3 === u ? t : n, u > 1 ? a : r)
                                } while ((u = (u + l + 4) % 4) !== f);
                            else
                                c.point(o[0], o[1])
                        }
                        function T(e, i) {
                            return t <= e && e <= n && r <= i && i <= a
                        }
                        function M(e, t) {
                            T(e, t) && l.point(e, t)
                        }
                        function S(e, t) {
                            var r = T(e = Math.max(-1e9, Math.min(1e9, e)), t = Math.max(-1e9, Math.min(1e9, t)));
                            if (u && f.push([e, t]),
                            m)
                                d = e,
                                h = t,
                                p = r,
                                m = !1,
                                r && (l.lineStart(),
                                l.point(e, t));
                            else if (r && v)
                                l.point(e, t);
                            else {
                                var n = {
                                    a: {
                                        x: g,
                                        y: y
                                    },
                                    b: {
                                        x: e,
                                        y: t
                                    }
                                };
                                w(n) ? (v || (l.lineStart(),
                                l.point(n.a.x, n.a.y)),
                                l.point(n.b.x, n.b.y),
                                r || l.lineEnd(),
                                b = !1) : r && (l.lineStart(),
                                l.point(e, t),
                                b = !1)
                            }
                            g = e,
                            y = t,
                            v = r
                        }
                        return A
                    }
                    ;
                    function i(e, a) {
                        return m(e[0] - t) < ke ? a > 0 ? 0 : 3 : m(e[0] - n) < ke ? a > 0 ? 2 : 1 : m(e[1] - r) < ke ? a > 0 ? 1 : 0 : a > 0 ? 3 : 2
                    }
                    function o(e, t) {
                        return s(e.x, t.x)
                    }
                    function s(e, t) {
                        var r = i(e, 1)
                          , n = i(t, 1);
                        return r !== n ? r - n : 0 === r ? t[1] - e[1] : 1 === r ? e[0] - t[0] : 2 === r ? e[1] - t[1] : t[0] - e[0]
                    }
                }
                function an(e) {
                    var t = 0
                      , r = Me / 3
                      , n = Dn(e)
                      , a = n(t, r);
                    return a.parallels = function(e) {
                        return arguments.length ? n(t = e[0] * Me / 180, r = e[1] * Me / 180) : [t / Me * 180, r / Me * 180]
                    }
                    ,
                    a
                }
                function on(e, t) {
                    var r = Math.sin(e)
                      , n = (r + Math.sin(t)) / 2
                      , a = 1 + r * (2 * n - r)
                      , i = Math.sqrt(a) / n;
                    function o(e, t) {
                        var r = Math.sqrt(a - 2 * n * Math.sin(t)) / n;
                        return [r * Math.sin(e *= n), i - r * Math.cos(e)]
                    }
                    return o.invert = function(e, t) {
                        var r = i - t;
                        return [Math.atan2(e, r) / n, Pe((a - (e * e + r * r) * n * n) / (2 * n))]
                    }
                    ,
                    o
                }
                e.geo.clipExtent = function() {
                    var e, t, r, n, a, i, o = {
                        stream: function(e) {
                            return a && (a.valid = !1),
                            (a = i(e)).valid = !0,
                            a
                        },
                        extent: function(s) {
                            return arguments.length ? (i = nn(e = +s[0][0], t = +s[0][1], r = +s[1][0], n = +s[1][1]),
                            a && (a.valid = !1,
                            a = null),
                            o) : [[e, t], [r, n]]
                        }
                    };
                    return o.extent([[0, 0], [960, 500]])
                }
                ,
                (e.geo.conicEqualArea = function() {
                    return an(on)
                }
                ).raw = on,
                e.geo.albers = function() {
                    return e.geo.conicEqualArea().rotate([96, 0]).center([-.6, 38.7]).parallels([29.5, 45.5]).scale(1070)
                }
                ,
                e.geo.albersUsa = function() {
                    var t, r, n, a, i = e.geo.albers(), o = e.geo.conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), s = e.geo.conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), l = {
                        point: function(e, r) {
                            t = [e, r]
                        }
                    };
                    function c(e) {
                        var i = e[0]
                          , o = e[1];
                        return t = null,
                        r(i, o),
                        t || (n(i, o),
                        t) || a(i, o),
                        t
                    }
                    return c.invert = function(e) {
                        var t = i.scale()
                          , r = i.translate()
                          , n = (e[0] - r[0]) / t
                          , a = (e[1] - r[1]) / t;
                        return (a >= .12 && a < .234 && n >= -.425 && n < -.214 ? o : a >= .166 && a < .234 && n >= -.214 && n < -.115 ? s : i).invert(e)
                    }
                    ,
                    c.stream = function(e) {
                        var t = i.stream(e)
                          , r = o.stream(e)
                          , n = s.stream(e);
                        return {
                            point: function(e, a) {
                                t.point(e, a),
                                r.point(e, a),
                                n.point(e, a)
                            },
                            sphere: function() {
                                t.sphere(),
                                r.sphere(),
                                n.sphere()
                            },
                            lineStart: function() {
                                t.lineStart(),
                                r.lineStart(),
                                n.lineStart()
                            },
                            lineEnd: function() {
                                t.lineEnd(),
                                r.lineEnd(),
                                n.lineEnd()
                            },
                            polygonStart: function() {
                                t.polygonStart(),
                                r.polygonStart(),
                                n.polygonStart()
                            },
                            polygonEnd: function() {
                                t.polygonEnd(),
                                r.polygonEnd(),
                                n.polygonEnd()
                            }
                        }
                    }
                    ,
                    c.precision = function(e) {
                        return arguments.length ? (i.precision(e),
                        o.precision(e),
                        s.precision(e),
                        c) : i.precision()
                    }
                    ,
                    c.scale = function(e) {
                        return arguments.length ? (i.scale(e),
                        o.scale(.35 * e),
                        s.scale(e),
                        c.translate(i.translate())) : i.scale()
                    }
                    ,
                    c.translate = function(e) {
                        if (!arguments.length)
                            return i.translate();
                        var t = i.scale()
                          , u = +e[0]
                          , f = +e[1];
                        return r = i.translate(e).clipExtent([[u - .455 * t, f - .238 * t], [u + .455 * t, f + .238 * t]]).stream(l).point,
                        n = o.translate([u - .307 * t, f + .201 * t]).clipExtent([[u - .425 * t + ke, f + .12 * t + ke], [u - .214 * t - ke, f + .234 * t - ke]]).stream(l).point,
                        a = s.translate([u - .205 * t, f + .212 * t]).clipExtent([[u - .214 * t + ke, f + .166 * t + ke], [u - .115 * t - ke, f + .234 * t - ke]]).stream(l).point,
                        c
                    }
                    ,
                    c.scale(1070)
                }
                ;
                var sn, ln, cn, un, fn, dn, hn = {
                    point: F,
                    lineStart: F,
                    lineEnd: F,
                    polygonStart: function() {
                        ln = 0,
                        hn.lineStart = pn
                    },
                    polygonEnd: function() {
                        hn.lineStart = hn.lineEnd = hn.point = F,
                        sn += m(ln / 2)
                    }
                };
                function pn() {
                    var e, t, r, n;
                    function a(e, t) {
                        ln += n * e - r * t,
                        r = e,
                        n = t
                    }
                    hn.point = function(i, o) {
                        hn.point = a,
                        e = r = i,
                        t = n = o
                    }
                    ,
                    hn.lineEnd = function() {
                        a(e, t)
                    }
                }
                var gn = {
                    point: function(e, t) {
                        e < cn && (cn = e);
                        e > fn && (fn = e);
                        t < un && (un = t);
                        t > dn && (dn = t)
                    },
                    lineStart: F,
                    lineEnd: F,
                    polygonStart: F,
                    polygonEnd: F
                };
                function yn() {
                    var e = vn(4.5)
                      , t = []
                      , r = {
                        point: n,
                        lineStart: function() {
                            r.point = a
                        },
                        lineEnd: o,
                        polygonStart: function() {
                            r.lineEnd = s
                        },
                        polygonEnd: function() {
                            r.lineEnd = o,
                            r.point = n
                        },
                        pointRadius: function(t) {
                            return e = vn(t),
                            r
                        },
                        result: function() {
                            if (t.length) {
                                var e = t.join("");
                                return t = [],
                                e
                            }
                        }
                    };
                    function n(r, n) {
                        t.push("M", r, ",", n, e)
                    }
                    function a(e, n) {
                        t.push("M", e, ",", n),
                        r.point = i
                    }
                    function i(e, r) {
                        t.push("L", e, ",", r)
                    }
                    function o() {
                        r.point = n
                    }
                    function s() {
                        t.push("Z")
                    }
                    return r
                }
                function vn(e) {
                    return "m0," + e + "a" + e + "," + e + " 0 1,1 0," + -2 * e + "a" + e + "," + e + " 0 1,1 0," + 2 * e + "z"
                }
                var mn, bn = {
                    point: xn,
                    lineStart: _n,
                    lineEnd: wn,
                    polygonStart: function() {
                        bn.lineStart = An
                    },
                    polygonEnd: function() {
                        bn.point = xn,
                        bn.lineStart = _n,
                        bn.lineEnd = wn
                    }
                };
                function xn(e, t) {
                    br += e,
                    xr += t,
                    ++_r
                }
                function _n() {
                    var e, t;
                    function r(r, n) {
                        var a = r - e
                          , i = n - t
                          , o = Math.sqrt(a * a + i * i);
                        wr += o * (e + r) / 2,
                        Ar += o * (t + n) / 2,
                        kr += o,
                        xn(e = r, t = n)
                    }
                    bn.point = function(n, a) {
                        bn.point = r,
                        xn(e = n, t = a)
                    }
                }
                function wn() {
                    bn.point = xn
                }
                function An() {
                    var e, t, r, n;
                    function a(e, t) {
                        var a = e - r
                          , i = t - n
                          , o = Math.sqrt(a * a + i * i);
                        wr += o * (r + e) / 2,
                        Ar += o * (n + t) / 2,
                        kr += o,
                        Tr += (o = n * e - r * t) * (r + e),
                        Mr += o * (n + t),
                        Sr += 3 * o,
                        xn(r = e, n = t)
                    }
                    bn.point = function(i, o) {
                        bn.point = a,
                        xn(e = r = i, t = n = o)
                    }
                    ,
                    bn.lineEnd = function() {
                        a(e, t)
                    }
                }
                function kn(e) {
                    var t = 4.5
                      , r = {
                        point: n,
                        lineStart: function() {
                            r.point = a
                        },
                        lineEnd: o,
                        polygonStart: function() {
                            r.lineEnd = s
                        },
                        polygonEnd: function() {
                            r.lineEnd = o,
                            r.point = n
                        },
                        pointRadius: function(e) {
                            return t = e,
                            r
                        },
                        result: F
                    };
                    function n(r, n) {
                        e.moveTo(r + t, n),
                        e.arc(r, n, t, 0, Se)
                    }
                    function a(t, n) {
                        e.moveTo(t, n),
                        r.point = i
                    }
                    function i(t, r) {
                        e.lineTo(t, r)
                    }
                    function o() {
                        r.point = n
                    }
                    function s() {
                        e.closePath()
                    }
                    return r
                }
                function Tn(e) {
                    var t = .5
                      , r = Math.cos(30 * De)
                      , n = 16;
                    function a(e) {
                        return (n ? o : i)(e)
                    }
                    function i(t) {
                        return Cn(t, (function(r, n) {
                            r = e(r, n),
                            t.point(r[0], r[1])
                        }
                        ))
                    }
                    function o(t) {
                        var r, a, i, o, l, c, u, f, d, h, p, g, y = {
                            point: v,
                            lineStart: m,
                            lineEnd: x,
                            polygonStart: function() {
                                t.polygonStart(),
                                y.lineStart = _
                            },
                            polygonEnd: function() {
                                t.polygonEnd(),
                                y.lineStart = m
                            }
                        };
                        function v(r, n) {
                            r = e(r, n),
                            t.point(r[0], r[1])
                        }
                        function m() {
                            f = NaN,
                            y.point = b,
                            t.lineStart()
                        }
                        function b(r, a) {
                            var i = Lr([r, a])
                              , o = e(r, a);
                            s(f, d, u, h, p, g, f = o[0], d = o[1], u = r, h = i[0], p = i[1], g = i[2], n, t),
                            t.point(f, d)
                        }
                        function x() {
                            y.point = v,
                            t.lineEnd()
                        }
                        function _() {
                            m(),
                            y.point = w,
                            y.lineEnd = A
                        }
                        function w(e, t) {
                            b(r = e, t),
                            a = f,
                            i = d,
                            o = h,
                            l = p,
                            c = g,
                            y.point = b
                        }
                        function A() {
                            s(f, d, u, h, p, g, a, i, r, o, l, c, n, t),
                            y.lineEnd = x,
                            x()
                        }
                        return y
                    }
                    function s(n, a, i, o, l, c, u, f, d, h, p, g, y, v) {
                        var b = u - n
                          , x = f - a
                          , _ = b * b + x * x;
                        if (_ > 4 * t && y--) {
                            var w = o + h
                              , A = l + p
                              , k = c + g
                              , T = Math.sqrt(w * w + A * A + k * k)
                              , M = Math.asin(k /= T)
                              , S = m(m(k) - 1) < ke || m(i - d) < ke ? (i + d) / 2 : Math.atan2(A, w)
                              , C = e(S, M)
                              , O = C[0]
                              , D = C[1]
                              , L = O - n
                              , E = D - a
                              , z = x * L - b * E;
                            (z * z / _ > t || m((b * L + x * E) / _ - .5) > .3 || o * h + l * p + c * g < r) && (s(n, a, i, o, l, c, O, D, S, w /= T, A /= T, k, y, v),
                            v.point(O, D),
                            s(O, D, S, w, A, k, u, f, d, h, p, g, y, v))
                        }
                    }
                    return a.precision = function(e) {
                        return arguments.length ? (n = (t = e * e) > 0 && 16,
                        a) : Math.sqrt(t)
                    }
                    ,
                    a
                }
                function Mn(e) {
                    var t = Tn((function(t, r) {
                        return e([t * Le, r * Le])
                    }
                    ));
                    return function(e) {
                        return Ln(t(e))
                    }
                }
                function Sn(e) {
                    this.stream = e
                }
                function Cn(e, t) {
                    return {
                        point: t,
                        sphere: function() {
                            e.sphere()
                        },
                        lineStart: function() {
                            e.lineStart()
                        },
                        lineEnd: function() {
                            e.lineEnd()
                        },
                        polygonStart: function() {
                            e.polygonStart()
                        },
                        polygonEnd: function() {
                            e.polygonEnd()
                        }
                    }
                }
                function On(e) {
                    return Dn((function() {
                        return e
                    }
                    ))()
                }
                function Dn(t) {
                    var r, n, a, i, o, s, l = Tn((function(e, t) {
                        return [(e = r(e, t))[0] * c + i, o - e[1] * c]
                    }
                    )), c = 150, u = 480, f = 250, d = 0, h = 0, p = 0, g = 0, y = 0, v = en, m = D, b = null, x = null;
                    function _(e) {
                        return [(e = a(e[0] * De, e[1] * De))[0] * c + i, o - e[1] * c]
                    }
                    function w(e) {
                        return (e = a.invert((e[0] - i) / c, (o - e[1]) / c)) && [e[0] * Le, e[1] * Le]
                    }
                    function A() {
                        a = qr(n = Fn(p, g, y), r);
                        var e = r(d, h);
                        return i = u - e[0] * c,
                        o = f + e[1] * c,
                        k()
                    }
                    function k() {
                        return s && (s.valid = !1,
                        s = null),
                        _
                    }
                    return _.stream = function(e) {
                        return s && (s.valid = !1),
                        (s = Ln(v(n, l(m(e))))).valid = !0,
                        s
                    }
                    ,
                    _.clipAngle = function(e) {
                        return arguments.length ? (v = null == e ? (b = e,
                        en) : tn((b = +e) * De),
                        k()) : b
                    }
                    ,
                    _.clipExtent = function(e) {
                        return arguments.length ? (x = e,
                        m = e ? nn(e[0][0], e[0][1], e[1][0], e[1][1]) : D,
                        k()) : x
                    }
                    ,
                    _.scale = function(e) {
                        return arguments.length ? (c = +e,
                        A()) : c
                    }
                    ,
                    _.translate = function(e) {
                        return arguments.length ? (u = +e[0],
                        f = +e[1],
                        A()) : [u, f]
                    }
                    ,
                    _.center = function(e) {
                        return arguments.length ? (d = e[0] % 360 * De,
                        h = e[1] % 360 * De,
                        A()) : [d * Le, h * Le]
                    }
                    ,
                    _.rotate = function(e) {
                        return arguments.length ? (p = e[0] % 360 * De,
                        g = e[1] % 360 * De,
                        y = e.length > 2 ? e[2] % 360 * De : 0,
                        A()) : [p * Le, g * Le, y * Le]
                    }
                    ,
                    e.rebind(_, l, "precision"),
                    function() {
                        return r = t.apply(this, arguments),
                        _.invert = r.invert && w,
                        A()
                    }
                }
                function Ln(e) {
                    return Cn(e, (function(t, r) {
                        e.point(t * De, r * De)
                    }
                    ))
                }
                function En(e, t) {
                    return [e, t]
                }
                function zn(e, t) {
                    return [e > Me ? e - Se : e < -Me ? e + Se : e, t]
                }
                function Fn(e, t, r) {
                    return e ? t || r ? qr(In(e), Nn(t, r)) : In(e) : t || r ? Nn(t, r) : zn
                }
                function Pn(e) {
                    return function(t, r) {
                        return [(t += e) > Me ? t - Se : t < -Me ? t + Se : t, r]
                    }
                }
                function In(e) {
                    var t = Pn(e);
                    return t.invert = Pn(-e),
                    t
                }
                function Nn(e, t) {
                    var r = Math.cos(e)
                      , n = Math.sin(e)
                      , a = Math.cos(t)
                      , i = Math.sin(t);
                    function o(e, t) {
                        var o = Math.cos(t)
                          , s = Math.cos(e) * o
                          , l = Math.sin(e) * o
                          , c = Math.sin(t)
                          , u = c * r + s * n;
                        return [Math.atan2(l * a - u * i, s * r - c * n), Pe(u * a + l * i)]
                    }
                    return o.invert = function(e, t) {
                        var o = Math.cos(t)
                          , s = Math.cos(e) * o
                          , l = Math.sin(e) * o
                          , c = Math.sin(t)
                          , u = c * a - l * i;
                        return [Math.atan2(l * a + c * i, s * r + u * n), Pe(u * r - s * n)]
                    }
                    ,
                    o
                }
                function Rn(e, t) {
                    var r = Math.cos(e)
                      , n = Math.sin(e);
                    return function(a, i, o, s) {
                        var l = o * t;
                        null != a ? (a = jn(r, a),
                        i = jn(r, i),
                        (o > 0 ? a < i : a > i) && (a += o * Se)) : (a = e + o * Se,
                        i = e - .5 * l);
                        for (var c, u = a; o > 0 ? u > i : u < i; u -= l)
                            s.point((c = Nr([r, -n * Math.cos(u), -n * Math.sin(u)]))[0], c[1])
                    }
                }
                function jn(e, t) {
                    var r = Lr(t);
                    r[0] -= e,
                    Ir(r);
                    var n = Fe(-r[1]);
                    return ((-r[2] < 0 ? -n : n) + 2 * Math.PI - ke) % (2 * Math.PI)
                }
                function Bn(t, r, n) {
                    var a = e.range(t, r - ke, n).concat(r);
                    return function(e) {
                        return a.map((function(t) {
                            return [e, t]
                        }
                        ))
                    }
                }
                function Hn(t, r, n) {
                    var a = e.range(t, r - ke, n).concat(r);
                    return function(e) {
                        return a.map((function(t) {
                            return [t, e]
                        }
                        ))
                    }
                }
                function Un(e) {
                    return e.source
                }
                function Yn(e) {
                    return e.target
                }
                e.geo.path = function() {
                    var t, r, n, a, i, o = 4.5;
                    function s(t) {
                        return t && ("function" == typeof o && a.pointRadius(+o.apply(this, arguments)),
                        i && i.valid || (i = n(a)),
                        e.geo.stream(t, i)),
                        a.result()
                    }
                    function l() {
                        return i = null,
                        s
                    }
                    return s.area = function(t) {
                        return sn = 0,
                        e.geo.stream(t, n(hn)),
                        sn
                    }
                    ,
                    s.centroid = function(t) {
                        return br = xr = _r = wr = Ar = kr = Tr = Mr = Sr = 0,
                        e.geo.stream(t, n(bn)),
                        Sr ? [Tr / Sr, Mr / Sr] : kr ? [wr / kr, Ar / kr] : _r ? [br / _r, xr / _r] : [NaN, NaN]
                    }
                    ,
                    s.bounds = function(t) {
                        return fn = dn = -(cn = un = 1 / 0),
                        e.geo.stream(t, n(gn)),
                        [[cn, un], [fn, dn]]
                    }
                    ,
                    s.projection = function(e) {
                        return arguments.length ? (n = (t = e) ? e.stream || Mn(e) : D,
                        l()) : t
                    }
                    ,
                    s.context = function(e) {
                        return arguments.length ? (a = null == (r = e) ? new yn : new kn(e),
                        "function" != typeof o && a.pointRadius(o),
                        l()) : r
                    }
                    ,
                    s.pointRadius = function(e) {
                        return arguments.length ? (o = "function" == typeof e ? e : (a.pointRadius(+e),
                        +e),
                        s) : o
                    }
                    ,
                    s.projection(e.geo.albersUsa()).context(null)
                }
                ,
                e.geo.transform = function(e) {
                    return {
                        stream: function(t) {
                            var r = new Sn(t);
                            for (var n in e)
                                r[n] = e[n];
                            return r
                        }
                    }
                }
                ,
                Sn.prototype = {
                    point: function(e, t) {
                        this.stream.point(e, t)
                    },
                    sphere: function() {
                        this.stream.sphere()
                    },
                    lineStart: function() {
                        this.stream.lineStart()
                    },
                    lineEnd: function() {
                        this.stream.lineEnd()
                    },
                    polygonStart: function() {
                        this.stream.polygonStart()
                    },
                    polygonEnd: function() {
                        this.stream.polygonEnd()
                    }
                },
                e.geo.projection = On,
                e.geo.projectionMutator = Dn,
                (e.geo.equirectangular = function() {
                    return On(En)
                }
                ).raw = En.invert = En,
                e.geo.rotation = function(e) {
                    function t(t) {
                        return (t = e(t[0] * De, t[1] * De))[0] *= Le,
                        t[1] *= Le,
                        t
                    }
                    return e = Fn(e[0] % 360 * De, e[1] * De, e.length > 2 ? e[2] * De : 0),
                    t.invert = function(t) {
                        return (t = e.invert(t[0] * De, t[1] * De))[0] *= Le,
                        t[1] *= Le,
                        t
                    }
                    ,
                    t
                }
                ,
                zn.invert = En,
                e.geo.circle = function() {
                    var e, t, r = [0, 0], n = 6;
                    function a() {
                        var e = "function" == typeof r ? r.apply(this, arguments) : r
                          , n = Fn(-e[0] * De, -e[1] * De, 0).invert
                          , a = [];
                        return t(null, null, 1, {
                            point: function(e, t) {
                                a.push(e = n(e, t)),
                                e[0] *= Le,
                                e[1] *= Le
                            }
                        }),
                        {
                            type: "Polygon",
                            coordinates: [a]
                        }
                    }
                    return a.origin = function(e) {
                        return arguments.length ? (r = e,
                        a) : r
                    }
                    ,
                    a.angle = function(r) {
                        return arguments.length ? (t = Rn((e = +r) * De, n * De),
                        a) : e
                    }
                    ,
                    a.precision = function(r) {
                        return arguments.length ? (t = Rn(e * De, (n = +r) * De),
                        a) : n
                    }
                    ,
                    a.angle(90)
                }
                ,
                e.geo.distance = function(e, t) {
                    var r, n = (t[0] - e[0]) * De, a = e[1] * De, i = t[1] * De, o = Math.sin(n), s = Math.cos(n), l = Math.sin(a), c = Math.cos(a), u = Math.sin(i), f = Math.cos(i);
                    return Math.atan2(Math.sqrt((r = f * o) * r + (r = c * u - l * f * s) * r), l * u + c * f * s)
                }
                ,
                e.geo.graticule = function() {
                    var t, r, n, a, i, o, s, l, c, u, f, d, h = 10, p = h, g = 90, y = 360, v = 2.5;
                    function b() {
                        return {
                            type: "MultiLineString",
                            coordinates: x()
                        }
                    }
                    function x() {
                        return e.range(Math.ceil(a / g) * g, n, g).map(f).concat(e.range(Math.ceil(l / y) * y, s, y).map(d)).concat(e.range(Math.ceil(r / h) * h, t, h).filter((function(e) {
                            return m(e % g) > ke
                        }
                        )).map(c)).concat(e.range(Math.ceil(o / p) * p, i, p).filter((function(e) {
                            return m(e % y) > ke
                        }
                        )).map(u))
                    }
                    return b.lines = function() {
                        return x().map((function(e) {
                            return {
                                type: "LineString",
                                coordinates: e
                            }
                        }
                        ))
                    }
                    ,
                    b.outline = function() {
                        return {
                            type: "Polygon",
                            coordinates: [f(a).concat(d(s).slice(1), f(n).reverse().slice(1), d(l).reverse().slice(1))]
                        }
                    }
                    ,
                    b.extent = function(e) {
                        return arguments.length ? b.majorExtent(e).minorExtent(e) : b.minorExtent()
                    }
                    ,
                    b.majorExtent = function(e) {
                        return arguments.length ? (a = +e[0][0],
                        n = +e[1][0],
                        l = +e[0][1],
                        s = +e[1][1],
                        a > n && (e = a,
                        a = n,
                        n = e),
                        l > s && (e = l,
                        l = s,
                        s = e),
                        b.precision(v)) : [[a, l], [n, s]]
                    }
                    ,
                    b.minorExtent = function(e) {
                        return arguments.length ? (r = +e[0][0],
                        t = +e[1][0],
                        o = +e[0][1],
                        i = +e[1][1],
                        r > t && (e = r,
                        r = t,
                        t = e),
                        o > i && (e = o,
                        o = i,
                        i = e),
                        b.precision(v)) : [[r, o], [t, i]]
                    }
                    ,
                    b.step = function(e) {
                        return arguments.length ? b.majorStep(e).minorStep(e) : b.minorStep()
                    }
                    ,
                    b.majorStep = function(e) {
                        return arguments.length ? (g = +e[0],
                        y = +e[1],
                        b) : [g, y]
                    }
                    ,
                    b.minorStep = function(e) {
                        return arguments.length ? (h = +e[0],
                        p = +e[1],
                        b) : [h, p]
                    }
                    ,
                    b.precision = function(e) {
                        return arguments.length ? (v = +e,
                        c = Bn(o, i, 90),
                        u = Hn(r, t, v),
                        f = Bn(l, s, 90),
                        d = Hn(a, n, v),
                        b) : v
                    }
                    ,
                    b.majorExtent([[-180, -90 + ke], [180, 90 - ke]]).minorExtent([[-180, -80 - ke], [180, 80 + ke]])
                }
                ,
                e.geo.greatArc = function() {
                    var t, r, n = Un, a = Yn;
                    function i() {
                        return {
                            type: "LineString",
                            coordinates: [t || n.apply(this, arguments), r || a.apply(this, arguments)]
                        }
                    }
                    return i.distance = function() {
                        return e.geo.distance(t || n.apply(this, arguments), r || a.apply(this, arguments))
                    }
                    ,
                    i.source = function(e) {
                        return arguments.length ? (n = e,
                        t = "function" == typeof e ? null : e,
                        i) : n
                    }
                    ,
                    i.target = function(e) {
                        return arguments.length ? (a = e,
                        r = "function" == typeof e ? null : e,
                        i) : a
                    }
                    ,
                    i.precision = function() {
                        return arguments.length ? i : 0
                    }
                    ,
                    i
                }
                ,
                e.geo.interpolate = function(e, t) {
                    return r = e[0] * De,
                    n = e[1] * De,
                    a = t[0] * De,
                    i = t[1] * De,
                    o = Math.cos(n),
                    s = Math.sin(n),
                    l = Math.cos(i),
                    c = Math.sin(i),
                    u = o * Math.cos(r),
                    f = o * Math.sin(r),
                    d = l * Math.cos(a),
                    h = l * Math.sin(a),
                    p = 2 * Math.asin(Math.sqrt(Ne(i - n) + o * l * Ne(a - r))),
                    g = 1 / Math.sin(p),
                    (y = p ? function(e) {
                        var t = Math.sin(e *= p) * g
                          , r = Math.sin(p - e) * g
                          , n = r * u + t * d
                          , a = r * f + t * h
                          , i = r * s + t * c;
                        return [Math.atan2(a, n) * Le, Math.atan2(i, Math.sqrt(n * n + a * a)) * Le]
                    }
                    : function() {
                        return [r * Le, n * Le]
                    }
                    ).distance = p,
                    y;
                    var r, n, a, i, o, s, l, c, u, f, d, h, p, g, y
                }
                ,
                e.geo.length = function(t) {
                    return mn = 0,
                    e.geo.stream(t, Vn),
                    mn
                }
                ;
                var Vn = {
                    sphere: F,
                    point: F,
                    lineStart: function() {
                        var e, t, r;
                        function n(n, a) {
                            var i = Math.sin(a *= De)
                              , o = Math.cos(a)
                              , s = m((n *= De) - e)
                              , l = Math.cos(s);
                            mn += Math.atan2(Math.sqrt((s = o * Math.sin(s)) * s + (s = r * i - t * o * l) * s), t * i + r * o * l),
                            e = n,
                            t = i,
                            r = o
                        }
                        Vn.point = function(a, i) {
                            e = a * De,
                            t = Math.sin(i *= De),
                            r = Math.cos(i),
                            Vn.point = n
                        }
                        ,
                        Vn.lineEnd = function() {
                            Vn.point = Vn.lineEnd = F
                        }
                    },
                    lineEnd: F,
                    polygonStart: F,
                    polygonEnd: F
                };
                function qn(e, t) {
                    function r(t, r) {
                        var n = Math.cos(t)
                          , a = Math.cos(r)
                          , i = e(n * a);
                        return [i * a * Math.sin(t), i * Math.sin(r)]
                    }
                    return r.invert = function(e, r) {
                        var n = Math.sqrt(e * e + r * r)
                          , a = t(n)
                          , i = Math.sin(a)
                          , o = Math.cos(a);
                        return [Math.atan2(e * i, n * o), Math.asin(n && r * i / n)]
                    }
                    ,
                    r
                }
                var Wn = qn((function(e) {
                    return Math.sqrt(2 / (1 + e))
                }
                ), (function(e) {
                    return 2 * Math.asin(e / 2)
                }
                ));
                (e.geo.azimuthalEqualArea = function() {
                    return On(Wn)
                }
                ).raw = Wn;
                var Gn = qn((function(e) {
                    var t = Math.acos(e);
                    return t && t / Math.sin(t)
                }
                ), D);
                function Zn(e, t) {
                    var r = Math.cos(e)
                      , n = function(e) {
                        return Math.tan(Me / 4 + e / 2)
                    }
                      , a = e === t ? Math.sin(e) : Math.log(r / Math.cos(t)) / Math.log(n(t) / n(e))
                      , i = r * Math.pow(n(e), a) / a;
                    if (!a)
                        return Qn;
                    function o(e, t) {
                        i > 0 ? t < -Oe + ke && (t = -Oe + ke) : t > Oe - ke && (t = Oe - ke);
                        var r = i / Math.pow(n(t), a);
                        return [r * Math.sin(a * e), i - r * Math.cos(a * e)]
                    }
                    return o.invert = function(e, t) {
                        var r = i - t
                          , n = Ee(a) * Math.sqrt(e * e + r * r);
                        return [Math.atan2(e, r) / a, 2 * Math.atan(Math.pow(i / n, 1 / a)) - Oe]
                    }
                    ,
                    o
                }
                function Jn(e, t) {
                    var r = Math.cos(e)
                      , n = e === t ? Math.sin(e) : (r - Math.cos(t)) / (t - e)
                      , a = r / n + e;
                    if (m(n) < ke)
                        return En;
                    function i(e, t) {
                        var r = a - t;
                        return [r * Math.sin(n * e), a - r * Math.cos(n * e)]
                    }
                    return i.invert = function(e, t) {
                        var r = a - t;
                        return [Math.atan2(e, r) / n, a - Ee(n) * Math.sqrt(e * e + r * r)]
                    }
                    ,
                    i
                }
                (e.geo.azimuthalEquidistant = function() {
                    return On(Gn)
                }
                ).raw = Gn,
                (e.geo.conicConformal = function() {
                    return an(Zn)
                }
                ).raw = Zn,
                (e.geo.conicEquidistant = function() {
                    return an(Jn)
                }
                ).raw = Jn;
                var Xn = qn((function(e) {
                    return 1 / e
                }
                ), Math.atan);
                function Qn(e, t) {
                    return [e, Math.log(Math.tan(Me / 4 + t / 2))]
                }
                function $n(e) {
                    var t, r = On(e), n = r.scale, a = r.translate, i = r.clipExtent;
                    return r.scale = function() {
                        var e = n.apply(r, arguments);
                        return e === r ? t ? r.clipExtent(null) : r : e
                    }
                    ,
                    r.translate = function() {
                        var e = a.apply(r, arguments);
                        return e === r ? t ? r.clipExtent(null) : r : e
                    }
                    ,
                    r.clipExtent = function(e) {
                        var o = i.apply(r, arguments);
                        if (o === r) {
                            if (t = null == e) {
                                var s = Me * n()
                                  , l = a();
                                i([[l[0] - s, l[1] - s], [l[0] + s, l[1] + s]])
                            }
                        } else
                            t && (o = null);
                        return o
                    }
                    ,
                    r.clipExtent(null)
                }
                (e.geo.gnomonic = function() {
                    return On(Xn)
                }
                ).raw = Xn,
                Qn.invert = function(e, t) {
                    return [e, 2 * Math.atan(Math.exp(t)) - Oe]
                }
                ,
                (e.geo.mercator = function() {
                    return $n(Qn)
                }
                ).raw = Qn;
                var Kn = qn((function() {
                    return 1
                }
                ), Math.asin);
                (e.geo.orthographic = function() {
                    return On(Kn)
                }
                ).raw = Kn;
                var ea = qn((function(e) {
                    return 1 / (1 + e)
                }
                ), (function(e) {
                    return 2 * Math.atan(e)
                }
                ));
                function ta(e, t) {
                    return [Math.log(Math.tan(Me / 4 + t / 2)), -e]
                }
                function ra(e) {
                    return e[0]
                }
                function na(e) {
                    return e[1]
                }
                function aa(e) {
                    for (var t = e.length, r = [0, 1], n = 2, a = 2; a < t; a++) {
                        for (; n > 1 && ze(e[r[n - 2]], e[r[n - 1]], e[a]) <= 0; )
                            --n;
                        r[n++] = a
                    }
                    return r.slice(0, n)
                }
                function ia(e, t) {
                    return e[0] - t[0] || e[1] - t[1]
                }
                (e.geo.stereographic = function() {
                    return On(ea)
                }
                ).raw = ea,
                ta.invert = function(e, t) {
                    return [-t, 2 * Math.atan(Math.exp(e)) - Oe]
                }
                ,
                (e.geo.transverseMercator = function() {
                    var e = $n(ta)
                      , t = e.center
                      , r = e.rotate;
                    return e.center = function(e) {
                        return e ? t([-e[1], e[0]]) : [(e = t())[1], -e[0]]
                    }
                    ,
                    e.rotate = function(e) {
                        return e ? r([e[0], e[1], e.length > 2 ? e[2] + 90 : 90]) : [(e = r())[0], e[1], e[2] - 90]
                    }
                    ,
                    r([0, 0, 90])
                }
                ).raw = ta,
                e.geom = {},
                e.geom.hull = function(e) {
                    var t = ra
                      , r = na;
                    if (arguments.length)
                        return n(e);
                    function n(e) {
                        if (e.length < 3)
                            return [];
                        var n, a = pt(t), i = pt(r), o = e.length, s = [], l = [];
                        for (n = 0; n < o; n++)
                            s.push([+a.call(this, e[n], n), +i.call(this, e[n], n), n]);
                        for (s.sort(ia),
                        n = 0; n < o; n++)
                            l.push([s[n][0], -s[n][1]]);
                        var c = aa(s)
                          , u = aa(l)
                          , f = u[0] === c[0]
                          , d = u[u.length - 1] === c[c.length - 1]
                          , h = [];
                        for (n = c.length - 1; n >= 0; --n)
                            h.push(e[s[c[n]][2]]);
                        for (n = +f; n < u.length - d; ++n)
                            h.push(e[s[u[n]][2]]);
                        return h
                    }
                    return n.x = function(e) {
                        return arguments.length ? (t = e,
                        n) : t
                    }
                    ,
                    n.y = function(e) {
                        return arguments.length ? (r = e,
                        n) : r
                    }
                    ,
                    n
                }
                ,
                e.geom.polygon = function(e) {
                    return H(e, oa),
                    e
                }
                ;
                var oa = e.geom.polygon.prototype = [];
                function sa(e, t, r) {
                    return (r[0] - t[0]) * (e[1] - t[1]) < (r[1] - t[1]) * (e[0] - t[0])
                }
                function la(e, t, r, n) {
                    var a = e[0]
                      , i = r[0]
                      , o = t[0] - a
                      , s = n[0] - i
                      , l = e[1]
                      , c = r[1]
                      , u = t[1] - l
                      , f = n[1] - c
                      , d = (s * (l - c) - f * (a - i)) / (f * o - s * u);
                    return [a + d * o, l + d * u]
                }
                function ca(e) {
                    var t = e[0]
                      , r = e[e.length - 1];
                    return !(t[0] - r[0] || t[1] - r[1])
                }
                oa.area = function() {
                    for (var e, t = -1, r = this.length, n = this[r - 1], a = 0; ++t < r; )
                        e = n,
                        n = this[t],
                        a += e[1] * n[0] - e[0] * n[1];
                    return .5 * a
                }
                ,
                oa.centroid = function(e) {
                    var t, r, n = -1, a = this.length, i = 0, o = 0, s = this[a - 1];
                    for (arguments.length || (e = -1 / (6 * this.area())); ++n < a; )
                        t = s,
                        s = this[n],
                        r = t[0] * s[1] - s[0] * t[1],
                        i += (t[0] + s[0]) * r,
                        o += (t[1] + s[1]) * r;
                    return [i * e, o * e]
                }
                ,
                oa.clip = function(e) {
                    for (var t, r, n, a, i, o, s = ca(e), l = -1, c = this.length - ca(this), u = this[c - 1]; ++l < c; ) {
                        for (t = e.slice(),
                        e.length = 0,
                        a = this[l],
                        i = t[(n = t.length - s) - 1],
                        r = -1; ++r < n; )
                            sa(o = t[r], u, a) ? (sa(i, u, a) || e.push(la(i, o, u, a)),
                            e.push(o)) : sa(i, u, a) && e.push(la(i, o, u, a)),
                            i = o;
                        s && e.push(e[0]),
                        u = a
                    }
                    return e
                }
                ;
                var ua, fa, da, ha, pa, ga = [], ya = [];
                function va() {
                    Ia(this),
                    this.edge = this.site = this.circle = null
                }
                function ma(e) {
                    var t = ga.pop() || new va;
                    return t.site = e,
                    t
                }
                function ba(e) {
                    Ca(e),
                    da.remove(e),
                    ga.push(e),
                    Ia(e)
                }
                function xa(e) {
                    var t = e.circle
                      , r = t.x
                      , n = t.cy
                      , a = {
                        x: r,
                        y: n
                    }
                      , i = e.P
                      , o = e.N
                      , s = [e];
                    ba(e);
                    for (var l = i; l.circle && m(r - l.circle.x) < ke && m(n - l.circle.cy) < ke; )
                        i = l.P,
                        s.unshift(l),
                        ba(l),
                        l = i;
                    s.unshift(l),
                    Ca(l);
                    for (var c = o; c.circle && m(r - c.circle.x) < ke && m(n - c.circle.cy) < ke; )
                        o = c.N,
                        s.push(c),
                        ba(c),
                        c = o;
                    s.push(c),
                    Ca(c);
                    var u, f = s.length;
                    for (u = 1; u < f; ++u)
                        c = s[u],
                        l = s[u - 1],
                        za(c.edge, l.site, c.site, a);
                    l = s[0],
                    (c = s[f - 1]).edge = La(l.site, c.site, null, a),
                    Sa(l),
                    Sa(c)
                }
                function _a(e) {
                    for (var t, r, n, a, i = e.x, o = e.y, s = da._; s; )
                        if ((n = wa(s, o) - i) > ke)
                            s = s.L;
                        else {
                            if (!((a = i - Aa(s, o)) > ke)) {
                                n > -ke ? (t = s.P,
                                r = s) : a > -ke ? (t = s,
                                r = s.N) : t = r = s;
                                break
                            }
                            if (!s.R) {
                                t = s;
                                break
                            }
                            s = s.R
                        }
                    var l = ma(e);
                    if (da.insert(t, l),
                    t || r) {
                        if (t === r)
                            return Ca(t),
                            r = ma(t.site),
                            da.insert(l, r),
                            l.edge = r.edge = La(t.site, l.site),
                            Sa(t),
                            void Sa(r);
                        if (r) {
                            Ca(t),
                            Ca(r);
                            var c = t.site
                              , u = c.x
                              , f = c.y
                              , d = e.x - u
                              , h = e.y - f
                              , p = r.site
                              , g = p.x - u
                              , y = p.y - f
                              , v = 2 * (d * y - h * g)
                              , m = d * d + h * h
                              , b = g * g + y * y
                              , x = {
                                x: (y * m - h * b) / v + u,
                                y: (d * b - g * m) / v + f
                            };
                            za(r.edge, c, p, x),
                            l.edge = La(c, e, null, x),
                            r.edge = La(e, p, null, x),
                            Sa(t),
                            Sa(r)
                        } else
                            l.edge = La(t.site, l.site)
                    }
                }
                function wa(e, t) {
                    var r = e.site
                      , n = r.x
                      , a = r.y
                      , i = a - t;
                    if (!i)
                        return n;
                    var o = e.P;
                    if (!o)
                        return -1 / 0;
                    var s = (r = o.site).x
                      , l = r.y
                      , c = l - t;
                    if (!c)
                        return s;
                    var u = s - n
                      , f = 1 / i - 1 / c
                      , d = u / c;
                    return f ? (-d + Math.sqrt(d * d - 2 * f * (u * u / (-2 * c) - l + c / 2 + a - i / 2))) / f + n : (n + s) / 2
                }
                function Aa(e, t) {
                    var r = e.N;
                    if (r)
                        return wa(r, t);
                    var n = e.site;
                    return n.y === t ? n.x : 1 / 0
                }
                function ka(e) {
                    this.site = e,
                    this.edges = []
                }
                function Ta(e, t) {
                    return t.angle - e.angle
                }
                function Ma() {
                    Ia(this),
                    this.x = this.y = this.arc = this.site = this.cy = null
                }
                function Sa(e) {
                    var t = e.P
                      , r = e.N;
                    if (t && r) {
                        var n = t.site
                          , a = e.site
                          , i = r.site;
                        if (n !== i) {
                            var o = a.x
                              , s = a.y
                              , l = n.x - o
                              , c = n.y - s
                              , u = i.x - o
                              , f = 2 * (l * (y = i.y - s) - c * u);
                            if (!(f >= -Te)) {
                                var d = l * l + c * c
                                  , h = u * u + y * y
                                  , p = (y * d - c * h) / f
                                  , g = (l * h - u * d) / f
                                  , y = g + s
                                  , v = ya.pop() || new Ma;
                                v.arc = e,
                                v.site = a,
                                v.x = p + o,
                                v.y = y + Math.sqrt(p * p + g * g),
                                v.cy = y,
                                e.circle = v;
                                for (var m = null, b = pa._; b; )
                                    if (v.y < b.y || v.y === b.y && v.x <= b.x) {
                                        if (!b.L) {
                                            m = b.P;
                                            break
                                        }
                                        b = b.L
                                    } else {
                                        if (!b.R) {
                                            m = b;
                                            break
                                        }
                                        b = b.R
                                    }
                                pa.insert(m, v),
                                m || (ha = v)
                            }
                        }
                    }
                }
                function Ca(e) {
                    var t = e.circle;
                    t && (t.P || (ha = t.N),
                    pa.remove(t),
                    ya.push(t),
                    Ia(t),
                    e.circle = null)
                }
                function Oa(e, t) {
                    var r = e.b;
                    if (r)
                        return !0;
                    var n, a, i = e.a, o = t[0][0], s = t[1][0], l = t[0][1], c = t[1][1], u = e.l, f = e.r, d = u.x, h = u.y, p = f.x, g = f.y, y = (d + p) / 2, v = (h + g) / 2;
                    if (g === h) {
                        if (y < o || y >= s)
                            return;
                        if (d > p) {
                            if (i) {
                                if (i.y >= c)
                                    return
                            } else
                                i = {
                                    x: y,
                                    y: l
                                };
                            r = {
                                x: y,
                                y: c
                            }
                        } else {
                            if (i) {
                                if (i.y < l)
                                    return
                            } else
                                i = {
                                    x: y,
                                    y: c
                                };
                            r = {
                                x: y,
                                y: l
                            }
                        }
                    } else if (a = v - (n = (d - p) / (g - h)) * y,
                    n < -1 || n > 1)
                        if (d > p) {
                            if (i) {
                                if (i.y >= c)
                                    return
                            } else
                                i = {
                                    x: (l - a) / n,
                                    y: l
                                };
                            r = {
                                x: (c - a) / n,
                                y: c
                            }
                        } else {
                            if (i) {
                                if (i.y < l)
                                    return
                            } else
                                i = {
                                    x: (c - a) / n,
                                    y: c
                                };
                            r = {
                                x: (l - a) / n,
                                y: l
                            }
                        }
                    else if (h < g) {
                        if (i) {
                            if (i.x >= s)
                                return
                        } else
                            i = {
                                x: o,
                                y: n * o + a
                            };
                        r = {
                            x: s,
                            y: n * s + a
                        }
                    } else {
                        if (i) {
                            if (i.x < o)
                                return
                        } else
                            i = {
                                x: s,
                                y: n * s + a
                            };
                        r = {
                            x: o,
                            y: n * o + a
                        }
                    }
                    return e.a = i,
                    e.b = r,
                    !0
                }
                function Da(e, t) {
                    this.l = e,
                    this.r = t,
                    this.a = this.b = null
                }
                function La(e, t, r, n) {
                    var a = new Da(e,t);
                    return ua.push(a),
                    r && za(a, e, t, r),
                    n && za(a, t, e, n),
                    fa[e.i].edges.push(new Fa(a,e,t)),
                    fa[t.i].edges.push(new Fa(a,t,e)),
                    a
                }
                function Ea(e, t, r) {
                    var n = new Da(e,null);
                    return n.a = t,
                    n.b = r,
                    ua.push(n),
                    n
                }
                function za(e, t, r, n) {
                    e.a || e.b ? e.l === r ? e.b = n : e.a = n : (e.a = n,
                    e.l = t,
                    e.r = r)
                }
                function Fa(e, t, r) {
                    var n = e.a
                      , a = e.b;
                    this.edge = e,
                    this.site = t,
                    this.angle = r ? Math.atan2(r.y - t.y, r.x - t.x) : e.l === t ? Math.atan2(a.x - n.x, n.y - a.y) : Math.atan2(n.x - a.x, a.y - n.y)
                }
                function Pa() {
                    this._ = null
                }
                function Ia(e) {
                    e.U = e.C = e.L = e.R = e.P = e.N = null
                }
                function Na(e, t) {
                    var r = t
                      , n = t.R
                      , a = r.U;
                    a ? a.L === r ? a.L = n : a.R = n : e._ = n,
                    n.U = a,
                    r.U = n,
                    r.R = n.L,
                    r.R && (r.R.U = r),
                    n.L = r
                }
                function Ra(e, t) {
                    var r = t
                      , n = t.L
                      , a = r.U;
                    a ? a.L === r ? a.L = n : a.R = n : e._ = n,
                    n.U = a,
                    r.U = n,
                    r.L = n.R,
                    r.L && (r.L.U = r),
                    n.R = r
                }
                function ja(e) {
                    for (; e.L; )
                        e = e.L;
                    return e
                }
                function Ba(e, t) {
                    var r, n, a, i = e.sort(Ha).pop();
                    for (ua = [],
                    fa = new Array(e.length),
                    da = new Pa,
                    pa = new Pa; ; )
                        if (a = ha,
                        i && (!a || i.y < a.y || i.y === a.y && i.x < a.x))
                            i.x === r && i.y === n || (fa[i.i] = new ka(i),
                            _a(i),
                            r = i.x,
                            n = i.y),
                            i = e.pop();
                        else {
                            if (!a)
                                break;
                            xa(a.arc)
                        }
                    t && (function(e) {
                        for (var t, r = ua, n = rn(e[0][0], e[0][1], e[1][0], e[1][1]), a = r.length; a--; )
                            (!Oa(t = r[a], e) || !n(t) || m(t.a.x - t.b.x) < ke && m(t.a.y - t.b.y) < ke) && (t.a = t.b = null,
                            r.splice(a, 1))
                    }(t),
                    function(e) {
                        for (var t, r, n, a, i, o, s, l, c, u, f = e[0][0], d = e[1][0], h = e[0][1], p = e[1][1], g = fa, y = g.length; y--; )
                            if ((i = g[y]) && i.prepare())
                                for (l = (s = i.edges).length,
                                o = 0; o < l; )
                                    n = (u = s[o].end()).x,
                                    a = u.y,
                                    t = (c = s[++o % l].start()).x,
                                    r = c.y,
                                    (m(n - t) > ke || m(a - r) > ke) && (s.splice(o, 0, new Fa(Ea(i.site, u, m(n - f) < ke && p - a > ke ? {
                                        x: f,
                                        y: m(t - f) < ke ? r : p
                                    } : m(a - p) < ke && d - n > ke ? {
                                        x: m(r - p) < ke ? t : d,
                                        y: p
                                    } : m(n - d) < ke && a - h > ke ? {
                                        x: d,
                                        y: m(t - d) < ke ? r : h
                                    } : m(a - h) < ke && n - f > ke ? {
                                        x: m(r - h) < ke ? t : f,
                                        y: h
                                    } : null),i.site,null)),
                                    ++l)
                    }(t));
                    var o = {
                        cells: fa,
                        edges: ua
                    };
                    return da = pa = ua = fa = null,
                    o
                }
                function Ha(e, t) {
                    return t.y - e.y || t.x - e.x
                }
                ka.prototype.prepare = function() {
                    for (var e, t = this.edges, r = t.length; r--; )
                        (e = t[r].edge).b && e.a || t.splice(r, 1);
                    return t.sort(Ta),
                    t.length
                }
                ,
                Fa.prototype = {
                    start: function() {
                        return this.edge.l === this.site ? this.edge.a : this.edge.b
                    },
                    end: function() {
                        return this.edge.l === this.site ? this.edge.b : this.edge.a
                    }
                },
                Pa.prototype = {
                    insert: function(e, t) {
                        var r, n, a;
                        if (e) {
                            if (t.P = e,
                            t.N = e.N,
                            e.N && (e.N.P = t),
                            e.N = t,
                            e.R) {
                                for (e = e.R; e.L; )
                                    e = e.L;
                                e.L = t
                            } else
                                e.R = t;
                            r = e
                        } else
                            this._ ? (e = ja(this._),
                            t.P = null,
                            t.N = e,
                            e.P = e.L = t,
                            r = e) : (t.P = t.N = null,
                            this._ = t,
                            r = null);
                        for (t.L = t.R = null,
                        t.U = r,
                        t.C = !0,
                        e = t; r && r.C; )
                            r === (n = r.U).L ? (a = n.R) && a.C ? (r.C = a.C = !1,
                            n.C = !0,
                            e = n) : (e === r.R && (Na(this, r),
                            r = (e = r).U),
                            r.C = !1,
                            n.C = !0,
                            Ra(this, n)) : (a = n.L) && a.C ? (r.C = a.C = !1,
                            n.C = !0,
                            e = n) : (e === r.L && (Ra(this, r),
                            r = (e = r).U),
                            r.C = !1,
                            n.C = !0,
                            Na(this, n)),
                            r = e.U;
                        this._.C = !1
                    },
                    remove: function(e) {
                        e.N && (e.N.P = e.P),
                        e.P && (e.P.N = e.N),
                        e.N = e.P = null;
                        var t, r, n, a = e.U, i = e.L, o = e.R;
                        if (r = i ? o ? ja(o) : i : o,
                        a ? a.L === e ? a.L = r : a.R = r : this._ = r,
                        i && o ? (n = r.C,
                        r.C = e.C,
                        r.L = i,
                        i.U = r,
                        r !== o ? (a = r.U,
                        r.U = e.U,
                        e = r.R,
                        a.L = e,
                        r.R = o,
                        o.U = r) : (r.U = a,
                        a = r,
                        e = r.R)) : (n = e.C,
                        e = r),
                        e && (e.U = a),
                        !n)
                            if (e && e.C)
                                e.C = !1;
                            else {
                                do {
                                    if (e === this._)
                                        break;
                                    if (e === a.L) {
                                        if ((t = a.R).C && (t.C = !1,
                                        a.C = !0,
                                        Na(this, a),
                                        t = a.R),
                                        t.L && t.L.C || t.R && t.R.C) {
                                            t.R && t.R.C || (t.L.C = !1,
                                            t.C = !0,
                                            Ra(this, t),
                                            t = a.R),
                                            t.C = a.C,
                                            a.C = t.R.C = !1,
                                            Na(this, a),
                                            e = this._;
                                            break
                                        }
                                    } else if ((t = a.L).C && (t.C = !1,
                                    a.C = !0,
                                    Ra(this, a),
                                    t = a.L),
                                    t.L && t.L.C || t.R && t.R.C) {
                                        t.L && t.L.C || (t.R.C = !1,
                                        t.C = !0,
                                        Na(this, t),
                                        t = a.L),
                                        t.C = a.C,
                                        a.C = t.L.C = !1,
                                        Ra(this, a),
                                        e = this._;
                                        break
                                    }
                                    t.C = !0,
                                    e = a,
                                    a = a.U
                                } while (!e.C);
                                e && (e.C = !1)
                            }
                    }
                },
                e.geom.voronoi = function(e) {
                    var t = ra
                      , r = na
                      , n = t
                      , a = r
                      , i = Ua;
                    if (e)
                        return o(e);
                    function o(e) {
                        var t = new Array(e.length)
                          , r = i[0][0]
                          , n = i[0][1]
                          , a = i[1][0]
                          , o = i[1][1];
                        return Ba(s(e), i).cells.forEach((function(i, s) {
                            var l = i.edges
                              , c = i.site;
                            (t[s] = l.length ? l.map((function(e) {
                                var t = e.start();
                                return [t.x, t.y]
                            }
                            )) : c.x >= r && c.x <= a && c.y >= n && c.y <= o ? [[r, o], [a, o], [a, n], [r, n]] : []).point = e[s]
                        }
                        )),
                        t
                    }
                    function s(e) {
                        return e.map((function(e, t) {
                            return {
                                x: Math.round(n(e, t) / ke) * ke,
                                y: Math.round(a(e, t) / ke) * ke,
                                i: t
                            }
                        }
                        ))
                    }
                    return o.links = function(e) {
                        return Ba(s(e)).edges.filter((function(e) {
                            return e.l && e.r
                        }
                        )).map((function(t) {
                            return {
                                source: e[t.l.i],
                                target: e[t.r.i]
                            }
                        }
                        ))
                    }
                    ,
                    o.triangles = function(e) {
                        var t = [];
                        return Ba(s(e)).cells.forEach((function(r, n) {
                            for (var a, i, o, s, l = r.site, c = r.edges.sort(Ta), u = -1, f = c.length, d = c[f - 1].edge, h = d.l === l ? d.r : d.l; ++u < f; )
                                d,
                                a = h,
                                h = (d = c[u].edge).l === l ? d.r : d.l,
                                n < a.i && n < h.i && (o = a,
                                s = h,
                                ((i = l).x - s.x) * (o.y - i.y) - (i.x - o.x) * (s.y - i.y) < 0) && t.push([e[n], e[a.i], e[h.i]])
                        }
                        )),
                        t
                    }
                    ,
                    o.x = function(e) {
                        return arguments.length ? (n = pt(t = e),
                        o) : t
                    }
                    ,
                    o.y = function(e) {
                        return arguments.length ? (a = pt(r = e),
                        o) : r
                    }
                    ,
                    o.clipExtent = function(e) {
                        return arguments.length ? (i = null == e ? Ua : e,
                        o) : i === Ua ? null : i
                    }
                    ,
                    o.size = function(e) {
                        return arguments.length ? o.clipExtent(e && [[0, 0], e]) : i === Ua ? null : i && i[1]
                    }
                    ,
                    o
                }
                ;
                var Ua = [[-1e6, -1e6], [1e6, 1e6]];
                function Ya(e) {
                    return e.x
                }
                function Va(e) {
                    return e.y
                }
                function qa(e, t, r, n, a, i) {
                    if (!e(t, r, n, a, i)) {
                        var o = .5 * (r + a)
                          , s = .5 * (n + i)
                          , l = t.nodes;
                        l[0] && qa(e, l[0], r, n, o, s),
                        l[1] && qa(e, l[1], o, n, a, s),
                        l[2] && qa(e, l[2], r, s, o, i),
                        l[3] && qa(e, l[3], o, s, a, i)
                    }
                }
                function Wa(e, t, r, n, a, i, o) {
                    var s, l = 1 / 0;
                    return function e(c, u, f, d, h) {
                        if (!(u > i || f > o || d < n || h < a)) {
                            if (p = c.point) {
                                var p, g = t - c.x, y = r - c.y, v = g * g + y * y;
                                if (v < l) {
                                    var m = Math.sqrt(l = v);
                                    n = t - m,
                                    a = r - m,
                                    i = t + m,
                                    o = r + m,
                                    s = p
                                }
                            }
                            for (var b = c.nodes, x = .5 * (u + d), _ = .5 * (f + h), w = (r >= _) << 1 | t >= x, A = w + 4; w < A; ++w)
                                if (c = b[3 & w])
                                    switch (3 & w) {
                                    case 0:
                                        e(c, u, f, x, _);
                                        break;
                                    case 1:
                                        e(c, x, f, d, _);
                                        break;
                                    case 2:
                                        e(c, u, _, x, h);
                                        break;
                                    case 3:
                                        e(c, x, _, d, h)
                                    }
                        }
                    }(e, n, a, i, o),
                    s
                }
                function Ga(t, r) {
                    t = e.rgb(t),
                    r = e.rgb(r);
                    var n = t.r
                      , a = t.g
                      , i = t.b
                      , o = r.r - n
                      , s = r.g - a
                      , l = r.b - i;
                    return function(e) {
                        return "#" + st(Math.round(n + o * e)) + st(Math.round(a + s * e)) + st(Math.round(i + l * e))
                    }
                }
                function Za(e, t) {
                    var r, n = {}, a = {};
                    for (r in e)
                        r in t ? n[r] = Ka(e[r], t[r]) : a[r] = e[r];
                    for (r in t)
                        r in e || (a[r] = t[r]);
                    return function(e) {
                        for (r in n)
                            a[r] = n[r](e);
                        return a
                    }
                }
                function Ja(e, t) {
                    return e = +e,
                    t = +t,
                    function(r) {
                        return e * (1 - r) + t * r
                    }
                }
                function Xa(e, t) {
                    var r, n, a, i = Qa.lastIndex = $a.lastIndex = 0, o = -1, s = [], l = [];
                    for (e += "",
                    t += ""; (r = Qa.exec(e)) && (n = $a.exec(t)); )
                        (a = n.index) > i && (a = t.slice(i, a),
                        s[o] ? s[o] += a : s[++o] = a),
                        (r = r[0]) === (n = n[0]) ? s[o] ? s[o] += n : s[++o] = n : (s[++o] = null,
                        l.push({
                            i: o,
                            x: Ja(r, n)
                        })),
                        i = $a.lastIndex;
                    return i < t.length && (a = t.slice(i),
                    s[o] ? s[o] += a : s[++o] = a),
                    s.length < 2 ? l[0] ? (t = l[0].x,
                    function(e) {
                        return t(e) + ""
                    }
                    ) : function() {
                        return t
                    }
                    : (t = l.length,
                    function(e) {
                        for (var r, n = 0; n < t; ++n)
                            s[(r = l[n]).i] = r.x(e);
                        return s.join("")
                    }
                    )
                }
                e.geom.delaunay = function(t) {
                    return e.geom.voronoi().triangles(t)
                }
                ,
                e.geom.quadtree = function(e, t, r, n, a) {
                    var i, o = ra, s = na;
                    if (i = arguments.length)
                        return o = Ya,
                        s = Va,
                        3 === i && (a = r,
                        n = t,
                        r = t = 0),
                        l(e);
                    function l(e) {
                        var l, c, u, f, d, h, p, g, y, v = pt(o), b = pt(s);
                        if (null != t)
                            h = t,
                            p = r,
                            g = n,
                            y = a;
                        else if (g = y = -(h = p = 1 / 0),
                        c = [],
                        u = [],
                        d = e.length,
                        i)
                            for (f = 0; f < d; ++f)
                                (l = e[f]).x < h && (h = l.x),
                                l.y < p && (p = l.y),
                                l.x > g && (g = l.x),
                                l.y > y && (y = l.y),
                                c.push(l.x),
                                u.push(l.y);
                        else
                            for (f = 0; f < d; ++f) {
                                var x = +v(l = e[f], f)
                                  , _ = +b(l, f);
                                x < h && (h = x),
                                _ < p && (p = _),
                                x > g && (g = x),
                                _ > y && (y = _),
                                c.push(x),
                                u.push(_)
                            }
                        var w = g - h
                          , A = y - p;
                        function k(e, t, r, n, a, i, o, s) {
                            if (!isNaN(r) && !isNaN(n))
                                if (e.leaf) {
                                    var l = e.x
                                      , c = e.y;
                                    if (null != l)
                                        if (m(l - r) + m(c - n) < .01)
                                            T(e, t, r, n, a, i, o, s);
                                        else {
                                            var u = e.point;
                                            e.x = e.y = e.point = null,
                                            T(e, u, l, c, a, i, o, s),
                                            T(e, t, r, n, a, i, o, s)
                                        }
                                    else
                                        e.x = r,
                                        e.y = n,
                                        e.point = t
                                } else
                                    T(e, t, r, n, a, i, o, s)
                        }
                        function T(e, t, r, n, a, i, o, s) {
                            var l = .5 * (a + o)
                              , c = .5 * (i + s)
                              , u = r >= l
                              , f = n >= c
                              , d = f << 1 | u;
                            e.leaf = !1,
                            u ? a = l : o = l,
                            f ? i = c : s = c,
                            k(e = e.nodes[d] || (e.nodes[d] = {
                                leaf: !0,
                                nodes: [],
                                point: null,
                                x: null,
                                y: null
                            }), t, r, n, a, i, o, s)
                        }
                        w > A ? y = p + w : g = h + A;
                        var M = {
                            leaf: !0,
                            nodes: [],
                            point: null,
                            x: null,
                            y: null,
                            add: function(e) {
                                k(M, e, +v(e, ++f), +b(e, f), h, p, g, y)
                            },
                            visit: function(e) {
                                qa(e, M, h, p, g, y)
                            },
                            find: function(e) {
                                return Wa(M, e[0], e[1], h, p, g, y)
                            }
                        };
                        if (f = -1,
                        null == t) {
                            for (; ++f < d; )
                                k(M, e[f], c[f], u[f], h, p, g, y);
                            --f
                        } else
                            e.forEach(M.add);
                        return c = u = e = l = null,
                        M
                    }
                    return l.x = function(e) {
                        return arguments.length ? (o = e,
                        l) : o
                    }
                    ,
                    l.y = function(e) {
                        return arguments.length ? (s = e,
                        l) : s
                    }
                    ,
                    l.extent = function(e) {
                        return arguments.length ? (null == e ? t = r = n = a = null : (t = +e[0][0],
                        r = +e[0][1],
                        n = +e[1][0],
                        a = +e[1][1]),
                        l) : null == t ? null : [[t, r], [n, a]]
                    }
                    ,
                    l.size = function(e) {
                        return arguments.length ? (null == e ? t = r = n = a = null : (t = r = 0,
                        n = +e[0],
                        a = +e[1]),
                        l) : null == t ? null : [n - t, a - r]
                    }
                    ,
                    l
                }
                ,
                e.interpolateRgb = Ga,
                e.interpolateObject = Za,
                e.interpolateNumber = Ja,
                e.interpolateString = Xa;
                var Qa = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g
                  , $a = new RegExp(Qa.source,"g");
                function Ka(t, r) {
                    for (var n, a = e.interpolators.length; --a >= 0 && !(n = e.interpolators[a](t, r)); )
                        ;
                    return n
                }
                function ei(e, t) {
                    var r, n = [], a = [], i = e.length, o = t.length, s = Math.min(e.length, t.length);
                    for (r = 0; r < s; ++r)
                        n.push(Ka(e[r], t[r]));
                    for (; r < i; ++r)
                        a[r] = e[r];
                    for (; r < o; ++r)
                        a[r] = t[r];
                    return function(e) {
                        for (r = 0; r < s; ++r)
                            a[r] = n[r](e);
                        return a
                    }
                }
                e.interpolate = Ka,
                e.interpolators = [function(e, t) {
                    var r = typeof t;
                    return ("string" === r ? ht.has(t.toLowerCase()) || /^(#|rgb\(|hsl\()/i.test(t) ? Ga : Xa : t instanceof Ue ? Ga : Array.isArray(t) ? ei : "object" === r && isNaN(t) ? Za : Ja)(e, t)
                }
                ],
                e.interpolateArray = ei;
                var ti = function() {
                    return D
                }
                  , ri = e.map({
                    linear: ti,
                    poly: function(e) {
                        return function(t) {
                            return Math.pow(t, e)
                        }
                    },
                    quad: function() {
                        return si
                    },
                    cubic: function() {
                        return li
                    },
                    sin: function() {
                        return ui
                    },
                    exp: function() {
                        return fi
                    },
                    circle: function() {
                        return di
                    },
                    elastic: function(e, t) {
                        var r;
                        arguments.length < 2 && (t = .45);
                        arguments.length ? r = t / Se * Math.asin(1 / e) : (e = 1,
                        r = t / 4);
                        return function(n) {
                            return 1 + e * Math.pow(2, -10 * n) * Math.sin((n - r) * Se / t)
                        }
                    },
                    back: function(e) {
                        e || (e = 1.70158);
                        return function(t) {
                            return t * t * ((e + 1) * t - e)
                        }
                    },
                    bounce: function() {
                        return hi
                    }
                })
                  , ni = e.map({
                    in: D,
                    out: ii,
                    "in-out": oi,
                    "out-in": function(e) {
                        return oi(ii(e))
                    }
                });
                function ai(e) {
                    return function(t) {
                        return t <= 0 ? 0 : t >= 1 ? 1 : e(t)
                    }
                }
                function ii(e) {
                    return function(t) {
                        return 1 - e(1 - t)
                    }
                }
                function oi(e) {
                    return function(t) {
                        return .5 * (t < .5 ? e(2 * t) : 2 - e(2 - 2 * t))
                    }
                }
                function si(e) {
                    return e * e
                }
                function li(e) {
                    return e * e * e
                }
                function ci(e) {
                    if (e <= 0)
                        return 0;
                    if (e >= 1)
                        return 1;
                    var t = e * e
                      , r = t * e;
                    return 4 * (e < .5 ? r : 3 * (e - t) + r - .75)
                }
                function ui(e) {
                    return 1 - Math.cos(e * Oe)
                }
                function fi(e) {
                    return Math.pow(2, 10 * (e - 1))
                }
                function di(e) {
                    return 1 - Math.sqrt(1 - e * e)
                }
                function hi(e) {
                    return e < 1 / 2.75 ? 7.5625 * e * e : e < 2 / 2.75 ? 7.5625 * (e -= 1.5 / 2.75) * e + .75 : e < 2.5 / 2.75 ? 7.5625 * (e -= 2.25 / 2.75) * e + .9375 : 7.5625 * (e -= 2.625 / 2.75) * e + .984375
                }
                function pi(e, t) {
                    return t -= e,
                    function(r) {
                        return Math.round(e + t * r)
                    }
                }
                function gi(e) {
                    var t, r, n, a = [e.a, e.b], i = [e.c, e.d], o = vi(a), s = yi(a, i), l = vi(((t = i)[0] += (n = -s) * (r = a)[0],
                    t[1] += n * r[1],
                    t)) || 0;
                    a[0] * i[1] < i[0] * a[1] && (a[0] *= -1,
                    a[1] *= -1,
                    o *= -1,
                    s *= -1),
                    this.rotate = (o ? Math.atan2(a[1], a[0]) : Math.atan2(-i[0], i[1])) * Le,
                    this.translate = [e.e, e.f],
                    this.scale = [o, l],
                    this.skew = l ? Math.atan2(s, l) * Le : 0
                }
                function yi(e, t) {
                    return e[0] * t[0] + e[1] * t[1]
                }
                function vi(e) {
                    var t = Math.sqrt(yi(e, e));
                    return t && (e[0] /= t,
                    e[1] /= t),
                    t
                }
                e.ease = function(e) {
                    var t = e.indexOf("-")
                      , n = t >= 0 ? e.slice(0, t) : e
                      , a = t >= 0 ? e.slice(t + 1) : "in";
                    return n = ri.get(n) || ti,
                    ai((a = ni.get(a) || D)(n.apply(null, r.call(arguments, 1))))
                }
                ,
                e.interpolateHcl = function(t, r) {
                    t = e.hcl(t),
                    r = e.hcl(r);
                    var n = t.h
                      , a = t.c
                      , i = t.l
                      , o = r.h - n
                      , s = r.c - a
                      , l = r.l - i;
                    isNaN(s) && (s = 0,
                    a = isNaN(a) ? r.c : a);
                    isNaN(o) ? (o = 0,
                    n = isNaN(n) ? r.h : n) : o > 180 ? o -= 360 : o < -180 && (o += 360);
                    return function(e) {
                        return Ze(n + o * e, a + s * e, i + l * e) + ""
                    }
                }
                ,
                e.interpolateHsl = function(t, r) {
                    t = e.hsl(t),
                    r = e.hsl(r);
                    var n = t.h
                      , a = t.s
                      , i = t.l
                      , o = r.h - n
                      , s = r.s - a
                      , l = r.l - i;
                    isNaN(s) && (s = 0,
                    a = isNaN(a) ? r.s : a);
                    isNaN(o) ? (o = 0,
                    n = isNaN(n) ? r.h : n) : o > 180 ? o -= 360 : o < -180 && (o += 360);
                    return function(e) {
                        return qe(n + o * e, a + s * e, i + l * e) + ""
                    }
                }
                ,
                e.interpolateLab = function(t, r) {
                    t = e.lab(t),
                    r = e.lab(r);
                    var n = t.l
                      , a = t.a
                      , i = t.b
                      , o = r.l - n
                      , s = r.a - a
                      , l = r.b - i;
                    return function(e) {
                        return $e(n + o * e, a + s * e, i + l * e) + ""
                    }
                }
                ,
                e.interpolateRound = pi,
                e.transform = function(t) {
                    var r = a.createElementNS(e.ns.prefix.svg, "g");
                    return (e.transform = function(e) {
                        if (null != e) {
                            r.setAttribute("transform", e);
                            var t = r.transform.baseVal.consolidate()
                        }
                        return new gi(t ? t.matrix : mi)
                    }
                    )(t)
                }
                ,
                gi.prototype.toString = function() {
                    return "translate(" + this.translate + ")rotate(" + this.rotate + ")skewX(" + this.skew + ")scale(" + this.scale + ")"
                }
                ;
                var mi = {
                    a: 1,
                    b: 0,
                    c: 0,
                    d: 1,
                    e: 0,
                    f: 0
                };
                function bi(e) {
                    return e.length ? e.pop() + "," : ""
                }
                function xi(t, r) {
                    var n = []
                      , a = [];
                    return t = e.transform(t),
                    r = e.transform(r),
                    function(e, t, r, n) {
                        if (e[0] !== t[0] || e[1] !== t[1]) {
                            var a = r.push("translate(", null, ",", null, ")");
                            n.push({
                                i: a - 4,
                                x: Ja(e[0], t[0])
                            }, {
                                i: a - 2,
                                x: Ja(e[1], t[1])
                            })
                        } else
                            (t[0] || t[1]) && r.push("translate(" + t + ")")
                    }(t.translate, r.translate, n, a),
                    function(e, t, r, n) {
                        e !== t ? (e - t > 180 ? t += 360 : t - e > 180 && (e += 360),
                        n.push({
                            i: r.push(bi(r) + "rotate(", null, ")") - 2,
                            x: Ja(e, t)
                        })) : t && r.push(bi(r) + "rotate(" + t + ")")
                    }(t.rotate, r.rotate, n, a),
                    function(e, t, r, n) {
                        e !== t ? n.push({
                            i: r.push(bi(r) + "skewX(", null, ")") - 2,
                            x: Ja(e, t)
                        }) : t && r.push(bi(r) + "skewX(" + t + ")")
                    }(t.skew, r.skew, n, a),
                    function(e, t, r, n) {
                        if (e[0] !== t[0] || e[1] !== t[1]) {
                            var a = r.push(bi(r) + "scale(", null, ",", null, ")");
                            n.push({
                                i: a - 4,
                                x: Ja(e[0], t[0])
                            }, {
                                i: a - 2,
                                x: Ja(e[1], t[1])
                            })
                        } else
                            1 === t[0] && 1 === t[1] || r.push(bi(r) + "scale(" + t + ")")
                    }(t.scale, r.scale, n, a),
                    t = r = null,
                    function(e) {
                        for (var t, r = -1, i = a.length; ++r < i; )
                            n[(t = a[r]).i] = t.x(e);
                        return n.join("")
                    }
                }
                function _i(e, t) {
                    return t = (t -= e = +e) || 1 / t,
                    function(r) {
                        return (r - e) / t
                    }
                }
                function wi(e, t) {
                    return t = (t -= e = +e) || 1 / t,
                    function(r) {
                        return Math.max(0, Math.min(1, (r - e) / t))
                    }
                }
                function Ai(e) {
                    for (var t = e.source, r = e.target, n = function(e, t) {
                        if (e === t)
                            return e;
                        var r = ki(e)
                          , n = ki(t)
                          , a = r.pop()
                          , i = n.pop()
                          , o = null;
                        for (; a === i; )
                            o = a,
                            a = r.pop(),
                            i = n.pop();
                        return o
                    }(t, r), a = [t]; t !== n; )
                        t = t.parent,
                        a.push(t);
                    for (var i = a.length; r !== n; )
                        a.splice(i, 0, r),
                        r = r.parent;
                    return a
                }
                function ki(e) {
                    for (var t = [], r = e.parent; null != r; )
                        t.push(e),
                        e = r,
                        r = r.parent;
                    return t.push(e),
                    t
                }
                function Ti(e) {
                    e.fixed |= 2
                }
                function Mi(e) {
                    e.fixed &= -7
                }
                function Si(e) {
                    e.fixed |= 4,
                    e.px = e.x,
                    e.py = e.y
                }
                function Ci(e) {
                    e.fixed &= -5
                }
                e.interpolateTransform = xi,
                e.layout = {},
                e.layout.bundle = function() {
                    return function(e) {
                        for (var t = [], r = -1, n = e.length; ++r < n; )
                            t.push(Ai(e[r]));
                        return t
                    }
                }
                ,
                e.layout.chord = function() {
                    var t, r, n, a, i, o, s, l = {}, c = 0;
                    function u() {
                        var l, u, d, h, p, g = {}, y = [], v = e.range(a), m = [];
                        for (t = [],
                        r = [],
                        l = 0,
                        h = -1; ++h < a; ) {
                            for (u = 0,
                            p = -1; ++p < a; )
                                u += n[h][p];
                            y.push(u),
                            m.push(e.range(a)),
                            l += u
                        }
                        for (i && v.sort((function(e, t) {
                            return i(y[e], y[t])
                        }
                        )),
                        o && m.forEach((function(e, t) {
                            e.sort((function(e, r) {
                                return o(n[t][e], n[t][r])
                            }
                            ))
                        }
                        )),
                        l = (Se - c * a) / l,
                        u = 0,
                        h = -1; ++h < a; ) {
                            for (d = u,
                            p = -1; ++p < a; ) {
                                var b = v[h]
                                  , x = m[b][p]
                                  , _ = n[b][x]
                                  , w = u
                                  , A = u += _ * l;
                                g[b + "-" + x] = {
                                    index: b,
                                    subindex: x,
                                    startAngle: w,
                                    endAngle: A,
                                    value: _
                                }
                            }
                            r[b] = {
                                index: b,
                                startAngle: d,
                                endAngle: u,
                                value: y[b]
                            },
                            u += c
                        }
                        for (h = -1; ++h < a; )
                            for (p = h - 1; ++p < a; ) {
                                var k = g[h + "-" + p]
                                  , T = g[p + "-" + h];
                                (k.value || T.value) && t.push(k.value < T.value ? {
                                    source: T,
                                    target: k
                                } : {
                                    source: k,
                                    target: T
                                })
                            }
                        s && f()
                    }
                    function f() {
                        t.sort((function(e, t) {
                            return s((e.source.value + e.target.value) / 2, (t.source.value + t.target.value) / 2)
                        }
                        ))
                    }
                    return l.matrix = function(e) {
                        return arguments.length ? (a = (n = e) && n.length,
                        t = r = null,
                        l) : n
                    }
                    ,
                    l.padding = function(e) {
                        return arguments.length ? (c = e,
                        t = r = null,
                        l) : c
                    }
                    ,
                    l.sortGroups = function(e) {
                        return arguments.length ? (i = e,
                        t = r = null,
                        l) : i
                    }
                    ,
                    l.sortSubgroups = function(e) {
                        return arguments.length ? (o = e,
                        t = null,
                        l) : o
                    }
                    ,
                    l.sortChords = function(e) {
                        return arguments.length ? (s = e,
                        t && f(),
                        l) : s
                    }
                    ,
                    l.chords = function() {
                        return t || u(),
                        t
                    }
                    ,
                    l.groups = function() {
                        return r || u(),
                        r
                    }
                    ,
                    l
                }
                ,
                e.layout.force = function() {
                    var t, r, n, a, i, o, s = {}, l = e.dispatch("start", "tick", "end"), c = [1, 1], u = .9, f = Oi, d = Di, h = -30, p = Li, g = .1, y = .64, v = [], m = [];
                    function b(e) {
                        return function(t, r, n, a) {
                            if (t.point !== e) {
                                var i = t.cx - e.x
                                  , o = t.cy - e.y
                                  , s = a - r
                                  , l = i * i + o * o;
                                if (s * s / y < l) {
                                    if (l < p) {
                                        var c = t.charge / l;
                                        e.px -= i * c,
                                        e.py -= o * c
                                    }
                                    return !0
                                }
                                if (t.point && l && l < p) {
                                    c = t.pointCharge / l;
                                    e.px -= i * c,
                                    e.py -= o * c
                                }
                            }
                            return !t.charge
                        }
                    }
                    function x(t) {
                        t.px = e.event.x,
                        t.py = e.event.y,
                        s.resume()
                    }
                    return s.tick = function() {
                        if ((n *= .99) < .005)
                            return t = null,
                            l.end({
                                type: "end",
                                alpha: n = 0
                            }),
                            !0;
                        var r, s, f, d, p, y, x, _, w, A = v.length, k = m.length;
                        for (s = 0; s < k; ++s)
                            d = (f = m[s]).source,
                            (y = (_ = (p = f.target).x - d.x) * _ + (w = p.y - d.y) * w) && (_ *= y = n * i[s] * ((y = Math.sqrt(y)) - a[s]) / y,
                            w *= y,
                            p.x -= _ * (x = d.weight + p.weight ? d.weight / (d.weight + p.weight) : .5),
                            p.y -= w * x,
                            d.x += _ * (x = 1 - x),
                            d.y += w * x);
                        if ((x = n * g) && (_ = c[0] / 2,
                        w = c[1] / 2,
                        s = -1,
                        x))
                            for (; ++s < A; )
                                (f = v[s]).x += (_ - f.x) * x,
                                f.y += (w - f.y) * x;
                        if (h)
                            for (!function e(t, r, n) {
                                var a = 0
                                  , i = 0;
                                if (t.charge = 0,
                                !t.leaf)
                                    for (var o, s = t.nodes, l = s.length, c = -1; ++c < l; )
                                        null != (o = s[c]) && (e(o, r, n),
                                        t.charge += o.charge,
                                        a += o.charge * o.cx,
                                        i += o.charge * o.cy);
                                if (t.point) {
                                    t.leaf || (t.point.x += Math.random() - .5,
                                    t.point.y += Math.random() - .5);
                                    var u = r * n[t.point.index];
                                    t.charge += t.pointCharge = u,
                                    a += u * t.point.x,
                                    i += u * t.point.y
                                }
                                t.cx = a / t.charge,
                                t.cy = i / t.charge
                            }(r = e.geom.quadtree(v), n, o),
                            s = -1; ++s < A; )
                                (f = v[s]).fixed || r.visit(b(f));
                        for (s = -1; ++s < A; )
                            (f = v[s]).fixed ? (f.x = f.px,
                            f.y = f.py) : (f.x -= (f.px - (f.px = f.x)) * u,
                            f.y -= (f.py - (f.py = f.y)) * u);
                        l.tick({
                            type: "tick",
                            alpha: n
                        })
                    }
                    ,
                    s.nodes = function(e) {
                        return arguments.length ? (v = e,
                        s) : v
                    }
                    ,
                    s.links = function(e) {
                        return arguments.length ? (m = e,
                        s) : m
                    }
                    ,
                    s.size = function(e) {
                        return arguments.length ? (c = e,
                        s) : c
                    }
                    ,
                    s.linkDistance = function(e) {
                        return arguments.length ? (f = "function" == typeof e ? e : +e,
                        s) : f
                    }
                    ,
                    s.distance = s.linkDistance,
                    s.linkStrength = function(e) {
                        return arguments.length ? (d = "function" == typeof e ? e : +e,
                        s) : d
                    }
                    ,
                    s.friction = function(e) {
                        return arguments.length ? (u = +e,
                        s) : u
                    }
                    ,
                    s.charge = function(e) {
                        return arguments.length ? (h = "function" == typeof e ? e : +e,
                        s) : h
                    }
                    ,
                    s.chargeDistance = function(e) {
                        return arguments.length ? (p = e * e,
                        s) : Math.sqrt(p)
                    }
                    ,
                    s.gravity = function(e) {
                        return arguments.length ? (g = +e,
                        s) : g
                    }
                    ,
                    s.theta = function(e) {
                        return arguments.length ? (y = e * e,
                        s) : Math.sqrt(y)
                    }
                    ,
                    s.alpha = function(e) {
                        return arguments.length ? (e = +e,
                        n ? e > 0 ? n = e : (t.c = null,
                        t.t = NaN,
                        t = null,
                        l.end({
                            type: "end",
                            alpha: n = 0
                        })) : e > 0 && (l.start({
                            type: "start",
                            alpha: n = e
                        }),
                        t = wt(s.tick)),
                        s) : n
                    }
                    ,
                    s.start = function() {
                        var e, t, r, n = v.length, l = m.length, u = c[0], p = c[1];
                        for (e = 0; e < n; ++e)
                            (r = v[e]).index = e,
                            r.weight = 0;
                        for (e = 0; e < l; ++e)
                            "number" == typeof (r = m[e]).source && (r.source = v[r.source]),
                            "number" == typeof r.target && (r.target = v[r.target]),
                            ++r.source.weight,
                            ++r.target.weight;
                        for (e = 0; e < n; ++e)
                            r = v[e],
                            isNaN(r.x) && (r.x = g("x", u)),
                            isNaN(r.y) && (r.y = g("y", p)),
                            isNaN(r.px) && (r.px = r.x),
                            isNaN(r.py) && (r.py = r.y);
                        if (a = [],
                        "function" == typeof f)
                            for (e = 0; e < l; ++e)
                                a[e] = +f.call(this, m[e], e);
                        else
                            for (e = 0; e < l; ++e)
                                a[e] = f;
                        if (i = [],
                        "function" == typeof d)
                            for (e = 0; e < l; ++e)
                                i[e] = +d.call(this, m[e], e);
                        else
                            for (e = 0; e < l; ++e)
                                i[e] = d;
                        if (o = [],
                        "function" == typeof h)
                            for (e = 0; e < n; ++e)
                                o[e] = +h.call(this, v[e], e);
                        else
                            for (e = 0; e < n; ++e)
                                o[e] = h;
                        function g(r, a) {
                            if (!t) {
                                for (t = new Array(n),
                                c = 0; c < n; ++c)
                                    t[c] = [];
                                for (c = 0; c < l; ++c) {
                                    var i = m[c];
                                    t[i.source.index].push(i.target),
                                    t[i.target.index].push(i.source)
                                }
                            }
                            for (var o, s = t[e], c = -1, u = s.length; ++c < u; )
                                if (!isNaN(o = s[c][r]))
                                    return o;
                            return Math.random() * a
                        }
                        return s.resume()
                    }
                    ,
                    s.resume = function() {
                        return s.alpha(.1)
                    }
                    ,
                    s.stop = function() {
                        return s.alpha(0)
                    }
                    ,
                    s.drag = function() {
                        if (r || (r = e.behavior.drag().origin(D).on("dragstart.force", Ti).on("drag.force", x).on("dragend.force", Mi)),
                        !arguments.length)
                            return r;
                        this.on("mouseover.force", Si).on("mouseout.force", Ci).call(r)
                    }
                    ,
                    e.rebind(s, l, "on")
                }
                ;
                var Oi = 20
                  , Di = 1
                  , Li = 1 / 0;
                function Ei(t, r) {
                    return e.rebind(t, r, "sort", "children", "value"),
                    t.nodes = t,
                    t.links = Ri,
                    t
                }
                function zi(e, t) {
                    for (var r = [e]; null != (e = r.pop()); )
                        if (t(e),
                        (a = e.children) && (n = a.length))
                            for (var n, a; --n >= 0; )
                                r.push(a[n])
                }
                function Fi(e, t) {
                    for (var r = [e], n = []; null != (e = r.pop()); )
                        if (n.push(e),
                        (i = e.children) && (a = i.length))
                            for (var a, i, o = -1; ++o < a; )
                                r.push(i[o]);
                    for (; null != (e = n.pop()); )
                        t(e)
                }
                function Pi(e) {
                    return e.children
                }
                function Ii(e) {
                    return e.value
                }
                function Ni(e, t) {
                    return t.value - e.value
                }
                function Ri(t) {
                    return e.merge(t.map((function(e) {
                        return (e.children || []).map((function(t) {
                            return {
                                source: e,
                                target: t
                            }
                        }
                        ))
                    }
                    )))
                }
                e.layout.hierarchy = function() {
                    var e = Ni
                      , t = Pi
                      , r = Ii;
                    function n(a) {
                        var i, o = [a], s = [];
                        for (a.depth = 0; null != (i = o.pop()); )
                            if (s.push(i),
                            (c = t.call(n, i, i.depth)) && (l = c.length)) {
                                for (var l, c, u; --l >= 0; )
                                    o.push(u = c[l]),
                                    u.parent = i,
                                    u.depth = i.depth + 1;
                                r && (i.value = 0),
                                i.children = c
                            } else
                                r && (i.value = +r.call(n, i, i.depth) || 0),
                                delete i.children;
                        return Fi(a, (function(t) {
                            var n, a;
                            e && (n = t.children) && n.sort(e),
                            r && (a = t.parent) && (a.value += t.value)
                        }
                        )),
                        s
                    }
                    return n.sort = function(t) {
                        return arguments.length ? (e = t,
                        n) : e
                    }
                    ,
                    n.children = function(e) {
                        return arguments.length ? (t = e,
                        n) : t
                    }
                    ,
                    n.value = function(e) {
                        return arguments.length ? (r = e,
                        n) : r
                    }
                    ,
                    n.revalue = function(e) {
                        return r && (zi(e, (function(e) {
                            e.children && (e.value = 0)
                        }
                        )),
                        Fi(e, (function(e) {
                            var t;
                            e.children || (e.value = +r.call(n, e, e.depth) || 0),
                            (t = e.parent) && (t.value += e.value)
                        }
                        ))),
                        e
                    }
                    ,
                    n
                }
                ,
                e.layout.partition = function() {
                    var t = e.layout.hierarchy()
                      , r = [1, 1];
                    function n(e, n) {
                        var a = t.call(this, e, n);
                        return function e(t, r, n, a) {
                            var i = t.children;
                            if (t.x = r,
                            t.y = t.depth * a,
                            t.dx = n,
                            t.dy = a,
                            i && (o = i.length)) {
                                var o, s, l, c = -1;
                                for (n = t.value ? n / t.value : 0; ++c < o; )
                                    e(s = i[c], r, l = s.value * n, a),
                                    r += l
                            }
                        }(a[0], 0, r[0], r[1] / function e(t) {
                            var r = t.children
                              , n = 0;
                            if (r && (a = r.length))
                                for (var a, i = -1; ++i < a; )
                                    n = Math.max(n, e(r[i]));
                            return 1 + n
                        }(a[0])),
                        a
                    }
                    return n.size = function(e) {
                        return arguments.length ? (r = e,
                        n) : r
                    }
                    ,
                    Ei(n, t)
                }
                ,
                e.layout.pie = function() {
                    var t = Number
                      , r = ji
                      , n = 0
                      , a = Se
                      , i = 0;
                    function o(s) {
                        var l, c = s.length, u = s.map((function(e, r) {
                            return +t.call(o, e, r)
                        }
                        )), f = +("function" == typeof n ? n.apply(this, arguments) : n), d = ("function" == typeof a ? a.apply(this, arguments) : a) - f, h = Math.min(Math.abs(d) / c, +("function" == typeof i ? i.apply(this, arguments) : i)), p = h * (d < 0 ? -1 : 1), g = e.sum(u), y = g ? (d - c * p) / g : 0, v = e.range(c), m = [];
                        return null != r && v.sort(r === ji ? function(e, t) {
                            return u[t] - u[e]
                        }
                        : function(e, t) {
                            return r(s[e], s[t])
                        }
                        ),
                        v.forEach((function(e) {
                            m[e] = {
                                data: s[e],
                                value: l = u[e],
                                startAngle: f,
                                endAngle: f += l * y + p,
                                padAngle: h
                            }
                        }
                        )),
                        m
                    }
                    return o.value = function(e) {
                        return arguments.length ? (t = e,
                        o) : t
                    }
                    ,
                    o.sort = function(e) {
                        return arguments.length ? (r = e,
                        o) : r
                    }
                    ,
                    o.startAngle = function(e) {
                        return arguments.length ? (n = e,
                        o) : n
                    }
                    ,
                    o.endAngle = function(e) {
                        return arguments.length ? (a = e,
                        o) : a
                    }
                    ,
                    o.padAngle = function(e) {
                        return arguments.length ? (i = e,
                        o) : i
                    }
                    ,
                    o
                }
                ;
                var ji = {};
                function Bi(e) {
                    return e.x
                }
                function Hi(e) {
                    return e.y
                }
                function Ui(e, t, r) {
                    e.y0 = t,
                    e.y = r
                }
                e.layout.stack = function() {
                    var t = D
                      , r = qi
                      , n = Wi
                      , a = Ui
                      , i = Bi
                      , o = Hi;
                    function s(l, c) {
                        if (!(h = l.length))
                            return l;
                        var u = l.map((function(e, r) {
                            return t.call(s, e, r)
                        }
                        ))
                          , f = u.map((function(e) {
                            return e.map((function(e, t) {
                                return [i.call(s, e, t), o.call(s, e, t)]
                            }
                            ))
                        }
                        ))
                          , d = r.call(s, f, c);
                        u = e.permute(u, d),
                        f = e.permute(f, d);
                        var h, p, g, y, v = n.call(s, f, c), m = u[0].length;
                        for (g = 0; g < m; ++g)
                            for (a.call(s, u[0][g], y = v[g], f[0][g][1]),
                            p = 1; p < h; ++p)
                                a.call(s, u[p][g], y += f[p - 1][g][1], f[p][g][1]);
                        return l
                    }
                    return s.values = function(e) {
                        return arguments.length ? (t = e,
                        s) : t
                    }
                    ,
                    s.order = function(e) {
                        return arguments.length ? (r = "function" == typeof e ? e : Yi.get(e) || qi,
                        s) : r
                    }
                    ,
                    s.offset = function(e) {
                        return arguments.length ? (n = "function" == typeof e ? e : Vi.get(e) || Wi,
                        s) : n
                    }
                    ,
                    s.x = function(e) {
                        return arguments.length ? (i = e,
                        s) : i
                    }
                    ,
                    s.y = function(e) {
                        return arguments.length ? (o = e,
                        s) : o
                    }
                    ,
                    s.out = function(e) {
                        return arguments.length ? (a = e,
                        s) : a
                    }
                    ,
                    s
                }
                ;
                var Yi = e.map({
                    "inside-out": function(t) {
                        var r, n, a = t.length, i = t.map(Gi), o = t.map(Zi), s = e.range(a).sort((function(e, t) {
                            return i[e] - i[t]
                        }
                        )), l = 0, c = 0, u = [], f = [];
                        for (r = 0; r < a; ++r)
                            n = s[r],
                            l < c ? (l += o[n],
                            u.push(n)) : (c += o[n],
                            f.push(n));
                        return f.reverse().concat(u)
                    },
                    reverse: function(t) {
                        return e.range(t.length).reverse()
                    },
                    default: qi
                })
                  , Vi = e.map({
                    silhouette: function(e) {
                        var t, r, n, a = e.length, i = e[0].length, o = [], s = 0, l = [];
                        for (r = 0; r < i; ++r) {
                            for (t = 0,
                            n = 0; t < a; t++)
                                n += e[t][r][1];
                            n > s && (s = n),
                            o.push(n)
                        }
                        for (r = 0; r < i; ++r)
                            l[r] = (s - o[r]) / 2;
                        return l
                    },
                    wiggle: function(e) {
                        var t, r, n, a, i, o, s, l, c, u = e.length, f = e[0], d = f.length, h = [];
                        for (h[0] = l = c = 0,
                        r = 1; r < d; ++r) {
                            for (t = 0,
                            a = 0; t < u; ++t)
                                a += e[t][r][1];
                            for (t = 0,
                            i = 0,
                            s = f[r][0] - f[r - 1][0]; t < u; ++t) {
                                for (n = 0,
                                o = (e[t][r][1] - e[t][r - 1][1]) / (2 * s); n < t; ++n)
                                    o += (e[n][r][1] - e[n][r - 1][1]) / s;
                                i += o * e[t][r][1]
                            }
                            h[r] = l -= a ? i / a * s : 0,
                            l < c && (c = l)
                        }
                        for (r = 0; r < d; ++r)
                            h[r] -= c;
                        return h
                    },
                    expand: function(e) {
                        var t, r, n, a = e.length, i = e[0].length, o = 1 / a, s = [];
                        for (r = 0; r < i; ++r) {
                            for (t = 0,
                            n = 0; t < a; t++)
                                n += e[t][r][1];
                            if (n)
                                for (t = 0; t < a; t++)
                                    e[t][r][1] /= n;
                            else
                                for (t = 0; t < a; t++)
                                    e[t][r][1] = o
                        }
                        for (r = 0; r < i; ++r)
                            s[r] = 0;
                        return s
                    },
                    zero: Wi
                });
                function qi(t) {
                    return e.range(t.length)
                }
                function Wi(e) {
                    for (var t = -1, r = e[0].length, n = []; ++t < r; )
                        n[t] = 0;
                    return n
                }
                function Gi(e) {
                    for (var t, r = 1, n = 0, a = e[0][1], i = e.length; r < i; ++r)
                        (t = e[r][1]) > a && (n = r,
                        a = t);
                    return n
                }
                function Zi(e) {
                    return e.reduce(Ji, 0)
                }
                function Ji(e, t) {
                    return e + t[1]
                }
                function Xi(e, t) {
                    return Qi(e, Math.ceil(Math.log(t.length) / Math.LN2 + 1))
                }
                function Qi(e, t) {
                    for (var r = -1, n = +e[0], a = (e[1] - n) / t, i = []; ++r <= t; )
                        i[r] = a * r + n;
                    return i
                }
                function $i(t) {
                    return [e.min(t), e.max(t)]
                }
                function Ki(e, t) {
                    return e.value - t.value
                }
                function eo(e, t) {
                    var r = e._pack_next;
                    e._pack_next = t,
                    t._pack_prev = e,
                    t._pack_next = r,
                    r._pack_prev = t
                }
                function to(e, t) {
                    e._pack_next = t,
                    t._pack_prev = e
                }
                function ro(e, t) {
                    var r = t.x - e.x
                      , n = t.y - e.y
                      , a = e.r + t.r;
                    return .999 * a * a > r * r + n * n
                }
                function no(e) {
                    if ((t = e.children) && (l = t.length)) {
                        var t, r, n, a, i, o, s, l, c = 1 / 0, u = -1 / 0, f = 1 / 0, d = -1 / 0;
                        if (t.forEach(ao),
                        (r = t[0]).x = -r.r,
                        r.y = 0,
                        b(r),
                        l > 1 && ((n = t[1]).x = n.r,
                        n.y = 0,
                        b(n),
                        l > 2))
                            for (oo(r, n, a = t[2]),
                            b(a),
                            eo(r, a),
                            r._pack_prev = a,
                            eo(a, n),
                            n = r._pack_next,
                            i = 3; i < l; i++) {
                                oo(r, n, a = t[i]);
                                var h = 0
                                  , p = 1
                                  , g = 1;
                                for (o = n._pack_next; o !== n; o = o._pack_next,
                                p++)
                                    if (ro(o, a)) {
                                        h = 1;
                                        break
                                    }
                                if (1 == h)
                                    for (s = r._pack_prev; s !== o._pack_prev && !ro(s, a); s = s._pack_prev,
                                    g++)
                                        ;
                                h ? (p < g || p == g && n.r < r.r ? to(r, n = o) : to(r = s, n),
                                i--) : (eo(r, a),
                                n = a,
                                b(a))
                            }
                        var y = (c + u) / 2
                          , v = (f + d) / 2
                          , m = 0;
                        for (i = 0; i < l; i++)
                            (a = t[i]).x -= y,
                            a.y -= v,
                            m = Math.max(m, a.r + Math.sqrt(a.x * a.x + a.y * a.y));
                        e.r = m,
                        t.forEach(io)
                    }
                    function b(e) {
                        c = Math.min(e.x - e.r, c),
                        u = Math.max(e.x + e.r, u),
                        f = Math.min(e.y - e.r, f),
                        d = Math.max(e.y + e.r, d)
                    }
                }
                function ao(e) {
                    e._pack_next = e._pack_prev = e
                }
                function io(e) {
                    delete e._pack_next,
                    delete e._pack_prev
                }
                function oo(e, t, r) {
                    var n = e.r + r.r
                      , a = t.x - e.x
                      , i = t.y - e.y;
                    if (n && (a || i)) {
                        var o = t.r + r.r
                          , s = a * a + i * i
                          , l = .5 + ((n *= n) - (o *= o)) / (2 * s)
                          , c = Math.sqrt(Math.max(0, 2 * o * (n + s) - (n -= s) * n - o * o)) / (2 * s);
                        r.x = e.x + l * a + c * i,
                        r.y = e.y + l * i - c * a
                    } else
                        r.x = e.x + n,
                        r.y = e.y
                }
                function so(e, t) {
                    return e.parent == t.parent ? 1 : 2
                }
                function lo(e) {
                    var t = e.children;
                    return t.length ? t[0] : e.t
                }
                function co(e) {
                    var t, r = e.children;
                    return (t = r.length) ? r[t - 1] : e.t
                }
                function uo(e, t, r) {
                    var n = r / (t.i - e.i);
                    t.c -= n,
                    t.s += r,
                    e.c += n,
                    t.z += r,
                    t.m += r
                }
                function fo(e, t, r) {
                    return e.a.parent === t.parent ? e.a : r
                }
                function ho(e) {
                    return {
                        x: e.x,
                        y: e.y,
                        dx: e.dx,
                        dy: e.dy
                    }
                }
                function po(e, t) {
                    var r = e.x + t[3]
                      , n = e.y + t[0]
                      , a = e.dx - t[1] - t[3]
                      , i = e.dy - t[0] - t[2];
                    return a < 0 && (r += a / 2,
                    a = 0),
                    i < 0 && (n += i / 2,
                    i = 0),
                    {
                        x: r,
                        y: n,
                        dx: a,
                        dy: i
                    }
                }
                function go(e) {
                    var t = e[0]
                      , r = e[e.length - 1];
                    return t < r ? [t, r] : [r, t]
                }
                function yo(e) {
                    return e.rangeExtent ? e.rangeExtent() : go(e.range())
                }
                function vo(e, t, r, n) {
                    var a = r(e[0], e[1])
                      , i = n(t[0], t[1]);
                    return function(e) {
                        return i(a(e))
                    }
                }
                function mo(e, t) {
                    var r, n = 0, a = e.length - 1, i = e[n], o = e[a];
                    return o < i && (r = n,
                    n = a,
                    a = r,
                    r = i,
                    i = o,
                    o = r),
                    e[n] = t.floor(i),
                    e[a] = t.ceil(o),
                    e
                }
                function bo(e) {
                    return e ? {
                        floor: function(t) {
                            return Math.floor(t / e) * e
                        },
                        ceil: function(t) {
                            return Math.ceil(t / e) * e
                        }
                    } : xo
                }
                e.layout.histogram = function() {
                    var t = !0
                      , r = Number
                      , n = $i
                      , a = Xi;
                    function i(i, o) {
                        for (var s, l, c = [], u = i.map(r, this), f = n.call(this, u, o), d = a.call(this, f, u, o), h = (o = -1,
                        u.length), p = d.length - 1, g = t ? 1 : 1 / h; ++o < p; )
                            (s = c[o] = []).dx = d[o + 1] - (s.x = d[o]),
                            s.y = 0;
                        if (p > 0)
                            for (o = -1; ++o < h; )
                                (l = u[o]) >= f[0] && l <= f[1] && ((s = c[e.bisect(d, l, 1, p) - 1]).y += g,
                                s.push(i[o]));
                        return c
                    }
                    return i.value = function(e) {
                        return arguments.length ? (r = e,
                        i) : r
                    }
                    ,
                    i.range = function(e) {
                        return arguments.length ? (n = pt(e),
                        i) : n
                    }
                    ,
                    i.bins = function(e) {
                        return arguments.length ? (a = "number" == typeof e ? function(t) {
                            return Qi(t, e)
                        }
                        : pt(e),
                        i) : a
                    }
                    ,
                    i.frequency = function(e) {
                        return arguments.length ? (t = !!e,
                        i) : t
                    }
                    ,
                    i
                }
                ,
                e.layout.pack = function() {
                    var t, r = e.layout.hierarchy().sort(Ki), n = 0, a = [1, 1];
                    function i(e, i) {
                        var o = r.call(this, e, i)
                          , s = o[0]
                          , l = a[0]
                          , c = a[1]
                          , u = null == t ? Math.sqrt : "function" == typeof t ? t : function() {
                            return t
                        }
                        ;
                        if (s.x = s.y = 0,
                        Fi(s, (function(e) {
                            e.r = +u(e.value)
                        }
                        )),
                        Fi(s, no),
                        n) {
                            var f = n * (t ? 1 : Math.max(2 * s.r / l, 2 * s.r / c)) / 2;
                            Fi(s, (function(e) {
                                e.r += f
                            }
                            )),
                            Fi(s, no),
                            Fi(s, (function(e) {
                                e.r -= f
                            }
                            ))
                        }
                        return function e(t, r, n, a) {
                            var i = t.children;
                            if (t.x = r += a * t.x,
                            t.y = n += a * t.y,
                            t.r *= a,
                            i)
                                for (var o = -1, s = i.length; ++o < s; )
                                    e(i[o], r, n, a)
                        }(s, l / 2, c / 2, t ? 1 : 1 / Math.max(2 * s.r / l, 2 * s.r / c)),
                        o
                    }
                    return i.size = function(e) {
                        return arguments.length ? (a = e,
                        i) : a
                    }
                    ,
                    i.radius = function(e) {
                        return arguments.length ? (t = null == e || "function" == typeof e ? e : +e,
                        i) : t
                    }
                    ,
                    i.padding = function(e) {
                        return arguments.length ? (n = +e,
                        i) : n
                    }
                    ,
                    Ei(i, r)
                }
                ,
                e.layout.tree = function() {
                    var t = e.layout.hierarchy().sort(null).value(null)
                      , r = so
                      , n = [1, 1]
                      , a = null;
                    function i(e, i) {
                        var c = t.call(this, e, i)
                          , u = c[0]
                          , f = function(e) {
                            var t, r = {
                                A: null,
                                children: [e]
                            }, n = [r];
                            for (; null != (t = n.pop()); )
                                for (var a, i = t.children, o = 0, s = i.length; o < s; ++o)
                                    n.push((i[o] = a = {
                                        _: i[o],
                                        parent: t,
                                        children: (a = i[o].children) && a.slice() || [],
                                        A: null,
                                        a: null,
                                        z: 0,
                                        m: 0,
                                        c: 0,
                                        s: 0,
                                        t: null,
                                        i: o
                                    }).a = a);
                            return r.children[0]
                        }(u);
                        if (Fi(f, o),
                        f.parent.m = -f.z,
                        zi(f, s),
                        a)
                            zi(u, l);
                        else {
                            var d = u
                              , h = u
                              , p = u;
                            zi(u, (function(e) {
                                e.x < d.x && (d = e),
                                e.x > h.x && (h = e),
                                e.depth > p.depth && (p = e)
                            }
                            ));
                            var g = r(d, h) / 2 - d.x
                              , y = n[0] / (h.x + r(h, d) / 2 + g)
                              , v = n[1] / (p.depth || 1);
                            zi(u, (function(e) {
                                e.x = (e.x + g) * y,
                                e.y = e.depth * v
                            }
                            ))
                        }
                        return c
                    }
                    function o(e) {
                        var t = e.children
                          , n = e.parent.children
                          , a = e.i ? n[e.i - 1] : null;
                        if (t.length) {
                            !function(e) {
                                var t, r = 0, n = 0, a = e.children, i = a.length;
                                for (; --i >= 0; )
                                    (t = a[i]).z += r,
                                    t.m += r,
                                    r += t.s + (n += t.c)
                            }(e);
                            var i = (t[0].z + t[t.length - 1].z) / 2;
                            a ? (e.z = a.z + r(e._, a._),
                            e.m = e.z - i) : e.z = i
                        } else
                            a && (e.z = a.z + r(e._, a._));
                        e.parent.A = function(e, t, n) {
                            if (t) {
                                for (var a, i = e, o = e, s = t, l = i.parent.children[0], c = i.m, u = o.m, f = s.m, d = l.m; s = co(s),
                                i = lo(i),
                                s && i; )
                                    l = lo(l),
                                    (o = co(o)).a = e,
                                    (a = s.z + f - i.z - c + r(s._, i._)) > 0 && (uo(fo(s, e, n), e, a),
                                    c += a,
                                    u += a),
                                    f += s.m,
                                    c += i.m,
                                    d += l.m,
                                    u += o.m;
                                s && !co(o) && (o.t = s,
                                o.m += f - u),
                                i && !lo(l) && (l.t = i,
                                l.m += c - d,
                                n = e)
                            }
                            return n
                        }(e, a, e.parent.A || n[0])
                    }
                    function s(e) {
                        e._.x = e.z + e.parent.m,
                        e.m += e.parent.m
                    }
                    function l(e) {
                        e.x *= n[0],
                        e.y = e.depth * n[1]
                    }
                    return i.separation = function(e) {
                        return arguments.length ? (r = e,
                        i) : r
                    }
                    ,
                    i.size = function(e) {
                        return arguments.length ? (a = null == (n = e) ? l : null,
                        i) : a ? null : n
                    }
                    ,
                    i.nodeSize = function(e) {
                        return arguments.length ? (a = null == (n = e) ? null : l,
                        i) : a ? n : null
                    }
                    ,
                    Ei(i, t)
                }
                ,
                e.layout.cluster = function() {
                    var t = e.layout.hierarchy().sort(null).value(null)
                      , r = so
                      , n = [1, 1]
                      , a = !1;
                    function i(i, o) {
                        var s, l = t.call(this, i, o), c = l[0], u = 0;
                        Fi(c, (function(t) {
                            var n = t.children;
                            n && n.length ? (t.x = function(e) {
                                return e.reduce((function(e, t) {
                                    return e + t.x
                                }
                                ), 0) / e.length
                            }(n),
                            t.y = function(t) {
                                return 1 + e.max(t, (function(e) {
                                    return e.y
                                }
                                ))
                            }(n)) : (t.x = s ? u += r(t, s) : 0,
                            t.y = 0,
                            s = t)
                        }
                        ));
                        var f = function e(t) {
                            var r = t.children;
                            return r && r.length ? e(r[0]) : t
                        }(c)
                          , d = function e(t) {
                            var r, n = t.children;
                            return n && (r = n.length) ? e(n[r - 1]) : t
                        }(c)
                          , h = f.x - r(f, d) / 2
                          , p = d.x + r(d, f) / 2;
                        return Fi(c, a ? function(e) {
                            e.x = (e.x - c.x) * n[0],
                            e.y = (c.y - e.y) * n[1]
                        }
                        : function(e) {
                            e.x = (e.x - h) / (p - h) * n[0],
                            e.y = (1 - (c.y ? e.y / c.y : 1)) * n[1]
                        }
                        ),
                        l
                    }
                    return i.separation = function(e) {
                        return arguments.length ? (r = e,
                        i) : r
                    }
                    ,
                    i.size = function(e) {
                        return arguments.length ? (a = null == (n = e),
                        i) : a ? null : n
                    }
                    ,
                    i.nodeSize = function(e) {
                        return arguments.length ? (a = null != (n = e),
                        i) : a ? n : null
                    }
                    ,
                    Ei(i, t)
                }
                ,
                e.layout.treemap = function() {
                    var t, r = e.layout.hierarchy(), n = Math.round, a = [1, 1], i = null, o = ho, s = !1, l = "squarify", c = .5 * (1 + Math.sqrt(5));
                    function u(e, t) {
                        for (var r, n, a = -1, i = e.length; ++a < i; )
                            n = (r = e[a]).value * (t < 0 ? 0 : t),
                            r.area = isNaN(n) || n <= 0 ? 0 : n
                    }
                    function f(e) {
                        var t = e.children;
                        if (t && t.length) {
                            var r, n, a, i = o(e), s = [], c = t.slice(), d = 1 / 0, g = "slice" === l ? i.dx : "dice" === l ? i.dy : "slice-dice" === l ? 1 & e.depth ? i.dy : i.dx : Math.min(i.dx, i.dy);
                            for (u(c, i.dx * i.dy / e.value),
                            s.area = 0; (a = c.length) > 0; )
                                s.push(r = c[a - 1]),
                                s.area += r.area,
                                "squarify" !== l || (n = h(s, g)) <= d ? (c.pop(),
                                d = n) : (s.area -= s.pop().area,
                                p(s, g, i, !1),
                                g = Math.min(i.dx, i.dy),
                                s.length = s.area = 0,
                                d = 1 / 0);
                            s.length && (p(s, g, i, !0),
                            s.length = s.area = 0),
                            t.forEach(f)
                        }
                    }
                    function d(e) {
                        var t = e.children;
                        if (t && t.length) {
                            var r, n = o(e), a = t.slice(), i = [];
                            for (u(a, n.dx * n.dy / e.value),
                            i.area = 0; r = a.pop(); )
                                i.push(r),
                                i.area += r.area,
                                null != r.z && (p(i, r.z ? n.dx : n.dy, n, !a.length),
                                i.length = i.area = 0);
                            t.forEach(d)
                        }
                    }
                    function h(e, t) {
                        for (var r, n = e.area, a = 0, i = 1 / 0, o = -1, s = e.length; ++o < s; )
                            (r = e[o].area) && (r < i && (i = r),
                            r > a && (a = r));
                        return t *= t,
                        (n *= n) ? Math.max(t * a * c / n, n / (t * i * c)) : 1 / 0
                    }
                    function p(e, t, r, a) {
                        var i, o = -1, s = e.length, l = r.x, c = r.y, u = t ? n(e.area / t) : 0;
                        if (t == r.dx) {
                            for ((a || u > r.dy) && (u = r.dy); ++o < s; )
                                (i = e[o]).x = l,
                                i.y = c,
                                i.dy = u,
                                l += i.dx = Math.min(r.x + r.dx - l, u ? n(i.area / u) : 0);
                            i.z = !0,
                            i.dx += r.x + r.dx - l,
                            r.y += u,
                            r.dy -= u
                        } else {
                            for ((a || u > r.dx) && (u = r.dx); ++o < s; )
                                (i = e[o]).x = l,
                                i.y = c,
                                i.dx = u,
                                c += i.dy = Math.min(r.y + r.dy - c, u ? n(i.area / u) : 0);
                            i.z = !1,
                            i.dy += r.y + r.dy - c,
                            r.x += u,
                            r.dx -= u
                        }
                    }
                    function g(e) {
                        var n = t || r(e)
                          , i = n[0];
                        return i.x = i.y = 0,
                        i.value ? (i.dx = a[0],
                        i.dy = a[1]) : i.dx = i.dy = 0,
                        t && r.revalue(i),
                        u([i], i.dx * i.dy / i.value),
                        (t ? d : f)(i),
                        s && (t = n),
                        n
                    }
                    return g.size = function(e) {
                        return arguments.length ? (a = e,
                        g) : a
                    }
                    ,
                    g.padding = function(e) {
                        if (!arguments.length)
                            return i;
                        function t(t) {
                            var r = e.call(g, t, t.depth);
                            return null == r ? ho(t) : po(t, "number" == typeof r ? [r, r, r, r] : r)
                        }
                        function r(t) {
                            return po(t, e)
                        }
                        var n;
                        return o = null == (i = e) ? ho : "function" == (n = typeof e) ? t : "number" === n ? (e = [e, e, e, e],
                        r) : r,
                        g
                    }
                    ,
                    g.round = function(e) {
                        return arguments.length ? (n = e ? Math.round : Number,
                        g) : n != Number
                    }
                    ,
                    g.sticky = function(e) {
                        return arguments.length ? (s = e,
                        t = null,
                        g) : s
                    }
                    ,
                    g.ratio = function(e) {
                        return arguments.length ? (c = e,
                        g) : c
                    }
                    ,
                    g.mode = function(e) {
                        return arguments.length ? (l = e + "",
                        g) : l
                    }
                    ,
                    Ei(g, r)
                }
                ,
                e.random = {
                    normal: function(e, t) {
                        var r = arguments.length;
                        return r < 2 && (t = 1),
                        r < 1 && (e = 0),
                        function() {
                            var r, n, a;
                            do {
                                a = (r = 2 * Math.random() - 1) * r + (n = 2 * Math.random() - 1) * n
                            } while (!a || a > 1);
                            return e + t * r * Math.sqrt(-2 * Math.log(a) / a)
                        }
                    },
                    logNormal: function() {
                        var t = e.random.normal.apply(e, arguments);
                        return function() {
                            return Math.exp(t())
                        }
                    },
                    bates: function(t) {
                        var r = e.random.irwinHall(t);
                        return function() {
                            return r() / t
                        }
                    },
                    irwinHall: function(e) {
                        return function() {
                            for (var t = 0, r = 0; r < e; r++)
                                t += Math.random();
                            return t
                        }
                    }
                },
                e.scale = {};
                var xo = {
                    floor: D,
                    ceil: D
                };
                function _o(t, r, n, a) {
                    var i = []
                      , o = []
                      , s = 0
                      , l = Math.min(t.length, r.length) - 1;
                    for (t[l] < t[0] && (t = t.slice().reverse(),
                    r = r.slice().reverse()); ++s <= l; )
                        i.push(n(t[s - 1], t[s])),
                        o.push(a(r[s - 1], r[s]));
                    return function(r) {
                        var n = e.bisect(t, r, 1, l) - 1;
                        return o[n](i[n](r))
                    }
                }
                function wo(t, r) {
                    return e.rebind(t, r, "range", "rangeRound", "interpolate", "clamp")
                }
                function Ao(e, t) {
                    return mo(e, bo(ko(e, t)[2])),
                    mo(e, bo(ko(e, t)[2])),
                    e
                }
                function ko(e, t) {
                    null == t && (t = 10);
                    var r = go(e)
                      , n = r[1] - r[0]
                      , a = Math.pow(10, Math.floor(Math.log(n / t) / Math.LN10))
                      , i = t / n * a;
                    return i <= .15 ? a *= 10 : i <= .35 ? a *= 5 : i <= .75 && (a *= 2),
                    r[0] = Math.ceil(r[0] / a) * a,
                    r[1] = Math.floor(r[1] / a) * a + .5 * a,
                    r[2] = a,
                    r
                }
                function To(t, r) {
                    return e.range.apply(e, ko(t, r))
                }
                function Mo(t, r, n) {
                    var a = ko(t, r);
                    if (n) {
                        var i = Ot.exec(n);
                        if (i.shift(),
                        "s" === i[8]) {
                            var o = e.formatPrefix(Math.max(m(a[0]), m(a[1])));
                            return i[7] || (i[7] = "." + Co(o.scale(a[2]))),
                            i[8] = "f",
                            n = e.format(i.join("")),
                            function(e) {
                                return n(o.scale(e)) + o.symbol
                            }
                        }
                        i[7] || (i[7] = "." + function(e, t) {
                            var r = Co(t[2]);
                            return e in So ? Math.abs(r - Co(Math.max(m(t[0]), m(t[1])))) + +("e" !== e) : r - 2 * ("%" === e)
                        }(i[8], a)),
                        n = i.join("")
                    } else
                        n = ",." + Co(a[2]) + "f";
                    return e.format(n)
                }
                e.scale.linear = function() {
                    return function e(t, r, n, a) {
                        var i, o;
                        function s() {
                            var e = Math.min(t.length, r.length) > 2 ? _o : vo
                              , s = a ? wi : _i;
                            return i = e(t, r, s, n),
                            o = e(r, t, s, Ka),
                            l
                        }
                        function l(e) {
                            return i(e)
                        }
                        return l.invert = function(e) {
                            return o(e)
                        }
                        ,
                        l.domain = function(e) {
                            return arguments.length ? (t = e.map(Number),
                            s()) : t
                        }
                        ,
                        l.range = function(e) {
                            return arguments.length ? (r = e,
                            s()) : r
                        }
                        ,
                        l.rangeRound = function(e) {
                            return l.range(e).interpolate(pi)
                        }
                        ,
                        l.clamp = function(e) {
                            return arguments.length ? (a = e,
                            s()) : a
                        }
                        ,
                        l.interpolate = function(e) {
                            return arguments.length ? (n = e,
                            s()) : n
                        }
                        ,
                        l.ticks = function(e) {
                            return To(t, e)
                        }
                        ,
                        l.tickFormat = function(e, r) {
                            return Mo(t, e, r)
                        }
                        ,
                        l.nice = function(e) {
                            return Ao(t, e),
                            s()
                        }
                        ,
                        l.copy = function() {
                            return e(t, r, n, a)
                        }
                        ,
                        s()
                    }([0, 1], [0, 1], Ka, !1)
                }
                ;
                var So = {
                    s: 1,
                    g: 1,
                    p: 1,
                    r: 1,
                    e: 1
                };
                function Co(e) {
                    return -Math.floor(Math.log(e) / Math.LN10 + .01)
                }
                e.scale.log = function() {
                    return function t(r, n, a, i) {
                        function o(e) {
                            return (a ? Math.log(e < 0 ? 0 : e) : -Math.log(e > 0 ? 0 : -e)) / Math.log(n)
                        }
                        function s(e) {
                            return a ? Math.pow(n, e) : -Math.pow(n, -e)
                        }
                        function l(e) {
                            return r(o(e))
                        }
                        return l.invert = function(e) {
                            return s(r.invert(e))
                        }
                        ,
                        l.domain = function(e) {
                            return arguments.length ? (a = e[0] >= 0,
                            r.domain((i = e.map(Number)).map(o)),
                            l) : i
                        }
                        ,
                        l.base = function(e) {
                            return arguments.length ? (n = +e,
                            r.domain(i.map(o)),
                            l) : n
                        }
                        ,
                        l.nice = function() {
                            var e = mo(i.map(o), a ? Math : Do);
                            return r.domain(e),
                            i = e.map(s),
                            l
                        }
                        ,
                        l.ticks = function() {
                            var e = go(i)
                              , t = []
                              , r = e[0]
                              , l = e[1]
                              , c = Math.floor(o(r))
                              , u = Math.ceil(o(l))
                              , f = n % 1 ? 2 : n;
                            if (isFinite(u - c)) {
                                if (a) {
                                    for (; c < u; c++)
                                        for (var d = 1; d < f; d++)
                                            t.push(s(c) * d);
                                    t.push(s(c))
                                } else
                                    for (t.push(s(c)); c++ < u; )
                                        for (d = f - 1; d > 0; d--)
                                            t.push(s(c) * d);
                                for (c = 0; t[c] < r; c++)
                                    ;
                                for (u = t.length; t[u - 1] > l; u--)
                                    ;
                                t = t.slice(c, u)
                            }
                            return t
                        }
                        ,
                        l.tickFormat = function(t, r) {
                            if (!arguments.length)
                                return Oo;
                            arguments.length < 2 ? r = Oo : "function" != typeof r && (r = e.format(r));
                            var a = Math.max(1, n * t / l.ticks().length);
                            return function(e) {
                                var t = e / s(Math.round(o(e)));
                                return t * n < n - .5 && (t *= n),
                                t <= a ? r(e) : ""
                            }
                        }
                        ,
                        l.copy = function() {
                            return t(r.copy(), n, a, i)
                        }
                        ,
                        wo(l, r)
                    }(e.scale.linear().domain([0, 1]), 10, !0, [1, 10])
                }
                ;
                var Oo = e.format(".0e")
                  , Do = {
                    floor: function(e) {
                        return -Math.ceil(-e)
                    },
                    ceil: function(e) {
                        return -Math.floor(-e)
                    }
                };
                function Lo(e) {
                    return function(t) {
                        return t < 0 ? -Math.pow(-t, e) : Math.pow(t, e)
                    }
                }
                e.scale.pow = function() {
                    return function e(t, r, n) {
                        var a = Lo(r)
                          , i = Lo(1 / r);
                        function o(e) {
                            return t(a(e))
                        }
                        return o.invert = function(e) {
                            return i(t.invert(e))
                        }
                        ,
                        o.domain = function(e) {
                            return arguments.length ? (t.domain((n = e.map(Number)).map(a)),
                            o) : n
                        }
                        ,
                        o.ticks = function(e) {
                            return To(n, e)
                        }
                        ,
                        o.tickFormat = function(e, t) {
                            return Mo(n, e, t)
                        }
                        ,
                        o.nice = function(e) {
                            return o.domain(Ao(n, e))
                        }
                        ,
                        o.exponent = function(e) {
                            return arguments.length ? (a = Lo(r = e),
                            i = Lo(1 / r),
                            t.domain(n.map(a)),
                            o) : r
                        }
                        ,
                        o.copy = function() {
                            return e(t.copy(), r, n)
                        }
                        ,
                        wo(o, t)
                    }(e.scale.linear(), 1, [0, 1])
                }
                ,
                e.scale.sqrt = function() {
                    return e.scale.pow().exponent(.5)
                }
                ,
                e.scale.ordinal = function() {
                    return function t(r, n) {
                        var a, i, o;
                        function s(e) {
                            return i[((a.get(e) || ("range" === n.t ? a.set(e, r.push(e)) : NaN)) - 1) % i.length]
                        }
                        function l(t, n) {
                            return e.range(r.length).map((function(e) {
                                return t + n * e
                            }
                            ))
                        }
                        return s.domain = function(e) {
                            if (!arguments.length)
                                return r;
                            r = [],
                            a = new _;
                            for (var t, i = -1, o = e.length; ++i < o; )
                                a.has(t = e[i]) || a.set(t, r.push(t));
                            return s[n.t].apply(s, n.a)
                        }
                        ,
                        s.range = function(e) {
                            return arguments.length ? (i = e,
                            o = 0,
                            n = {
                                t: "range",
                                a: arguments
                            },
                            s) : i
                        }
                        ,
                        s.rangePoints = function(e, t) {
                            arguments.length < 2 && (t = 0);
                            var a = e[0]
                              , c = e[1]
                              , u = r.length < 2 ? (a = (a + c) / 2,
                            0) : (c - a) / (r.length - 1 + t);
                            return i = l(a + u * t / 2, u),
                            o = 0,
                            n = {
                                t: "rangePoints",
                                a: arguments
                            },
                            s
                        }
                        ,
                        s.rangeRoundPoints = function(e, t) {
                            arguments.length < 2 && (t = 0);
                            var a = e[0]
                              , c = e[1]
                              , u = r.length < 2 ? (a = c = Math.round((a + c) / 2),
                            0) : (c - a) / (r.length - 1 + t) | 0;
                            return i = l(a + Math.round(u * t / 2 + (c - a - (r.length - 1 + t) * u) / 2), u),
                            o = 0,
                            n = {
                                t: "rangeRoundPoints",
                                a: arguments
                            },
                            s
                        }
                        ,
                        s.rangeBands = function(e, t, a) {
                            arguments.length < 2 && (t = 0),
                            arguments.length < 3 && (a = t);
                            var c = e[1] < e[0]
                              , u = e[c - 0]
                              , f = e[1 - c]
                              , d = (f - u) / (r.length - t + 2 * a);
                            return i = l(u + d * a, d),
                            c && i.reverse(),
                            o = d * (1 - t),
                            n = {
                                t: "rangeBands",
                                a: arguments
                            },
                            s
                        }
                        ,
                        s.rangeRoundBands = function(e, t, a) {
                            arguments.length < 2 && (t = 0),
                            arguments.length < 3 && (a = t);
                            var c = e[1] < e[0]
                              , u = e[c - 0]
                              , f = e[1 - c]
                              , d = Math.floor((f - u) / (r.length - t + 2 * a));
                            return i = l(u + Math.round((f - u - (r.length - t) * d) / 2), d),
                            c && i.reverse(),
                            o = Math.round(d * (1 - t)),
                            n = {
                                t: "rangeRoundBands",
                                a: arguments
                            },
                            s
                        }
                        ,
                        s.rangeBand = function() {
                            return o
                        }
                        ,
                        s.rangeExtent = function() {
                            return go(n.a[0])
                        }
                        ,
                        s.copy = function() {
                            return t(r, n)
                        }
                        ,
                        s.domain(r)
                    }([], {
                        t: "range",
                        a: [[]]
                    })
                }
                ,
                e.scale.category10 = function() {
                    return e.scale.ordinal().range(Eo)
                }
                ,
                e.scale.category20 = function() {
                    return e.scale.ordinal().range(zo)
                }
                ,
                e.scale.category20b = function() {
                    return e.scale.ordinal().range(Fo)
                }
                ,
                e.scale.category20c = function() {
                    return e.scale.ordinal().range(Po)
                }
                ;
                var Eo = [2062260, 16744206, 2924588, 14034728, 9725885, 9197131, 14907330, 8355711, 12369186, 1556175].map(it)
                  , zo = [2062260, 11454440, 16744206, 16759672, 2924588, 10018698, 14034728, 16750742, 9725885, 12955861, 9197131, 12885140, 14907330, 16234194, 8355711, 13092807, 12369186, 14408589, 1556175, 10410725].map(it)
                  , Fo = [3750777, 5395619, 7040719, 10264286, 6519097, 9216594, 11915115, 13556636, 9202993, 12426809, 15186514, 15190932, 8666169, 11356490, 14049643, 15177372, 8077683, 10834324, 13528509, 14589654].map(it)
                  , Po = [3244733, 7057110, 10406625, 13032431, 15095053, 16616764, 16625259, 16634018, 3253076, 7652470, 10607003, 13101504, 7695281, 10394312, 12369372, 14342891, 6513507, 9868950, 12434877, 14277081].map(it);
                function Io() {
                    return 0
                }
                e.scale.quantile = function() {
                    return function t(r, n) {
                        var a;
                        function i() {
                            var t = 0
                              , i = n.length;
                            for (a = []; ++t < i; )
                                a[t - 1] = e.quantile(r, t / i);
                            return o
                        }
                        function o(t) {
                            if (!isNaN(t = +t))
                                return n[e.bisect(a, t)]
                        }
                        return o.domain = function(e) {
                            return arguments.length ? (r = e.map(h).filter(p).sort(d),
                            i()) : r
                        }
                        ,
                        o.range = function(e) {
                            return arguments.length ? (n = e,
                            i()) : n
                        }
                        ,
                        o.quantiles = function() {
                            return a
                        }
                        ,
                        o.invertExtent = function(e) {
                            return (e = n.indexOf(e)) < 0 ? [NaN, NaN] : [e > 0 ? a[e - 1] : r[0], e < a.length ? a[e] : r[r.length - 1]]
                        }
                        ,
                        o.copy = function() {
                            return t(r, n)
                        }
                        ,
                        i()
                    }([], [])
                }
                ,
                e.scale.quantize = function() {
                    return function e(t, r, n) {
                        var a, i;
                        function o(e) {
                            return n[Math.max(0, Math.min(i, Math.floor(a * (e - t))))]
                        }
                        function s() {
                            return a = n.length / (r - t),
                            i = n.length - 1,
                            o
                        }
                        return o.domain = function(e) {
                            return arguments.length ? (t = +e[0],
                            r = +e[e.length - 1],
                            s()) : [t, r]
                        }
                        ,
                        o.range = function(e) {
                            return arguments.length ? (n = e,
                            s()) : n
                        }
                        ,
                        o.invertExtent = function(e) {
                            return [e = (e = n.indexOf(e)) < 0 ? NaN : e / a + t, e + 1 / a]
                        }
                        ,
                        o.copy = function() {
                            return e(t, r, n)
                        }
                        ,
                        s()
                    }(0, 1, [0, 1])
                }
                ,
                e.scale.threshold = function() {
                    return function t(r, n) {
                        function a(t) {
                            if (t <= t)
                                return n[e.bisect(r, t)]
                        }
                        return a.domain = function(e) {
                            return arguments.length ? (r = e,
                            a) : r
                        }
                        ,
                        a.range = function(e) {
                            return arguments.length ? (n = e,
                            a) : n
                        }
                        ,
                        a.invertExtent = function(e) {
                            return e = n.indexOf(e),
                            [r[e - 1], r[e]]
                        }
                        ,
                        a.copy = function() {
                            return t(r, n)
                        }
                        ,
                        a
                    }([.5], [0, 1])
                }
                ,
                e.scale.identity = function() {
                    return function e(t) {
                        function r(e) {
                            return +e
                        }
                        return r.invert = r,
                        r.domain = r.range = function(e) {
                            return arguments.length ? (t = e.map(r),
                            r) : t
                        }
                        ,
                        r.ticks = function(e) {
                            return To(t, e)
                        }
                        ,
                        r.tickFormat = function(e, r) {
                            return Mo(t, e, r)
                        }
                        ,
                        r.copy = function() {
                            return e(t)
                        }
                        ,
                        r
                    }([0, 1])
                }
                ,
                e.svg = {},
                e.svg.arc = function() {
                    var e = Ro
                      , t = jo
                      , r = Io
                      , n = No
                      , a = Bo
                      , i = Ho
                      , o = Uo;
                    function s() {
                        var s = Math.max(0, +e.apply(this, arguments))
                          , c = Math.max(0, +t.apply(this, arguments))
                          , u = a.apply(this, arguments) - Oe
                          , f = i.apply(this, arguments) - Oe
                          , d = Math.abs(f - u)
                          , h = u > f ? 0 : 1;
                        if (c < s && (p = c,
                        c = s,
                        s = p),
                        d >= Ce)
                            return l(c, h) + (s ? l(s, 1 - h) : "") + "Z";
                        var p, g, y, v, m, b, x, _, w, A, k, T, M = 0, S = 0, C = [];
                        if ((v = (+o.apply(this, arguments) || 0) / 2) && (y = n === No ? Math.sqrt(s * s + c * c) : +n.apply(this, arguments),
                        h || (S *= -1),
                        c && (S = Pe(y / c * Math.sin(v))),
                        s && (M = Pe(y / s * Math.sin(v)))),
                        c) {
                            m = c * Math.cos(u + S),
                            b = c * Math.sin(u + S),
                            x = c * Math.cos(f - S),
                            _ = c * Math.sin(f - S);
                            var O = Math.abs(f - u - 2 * S) <= Me ? 0 : 1;
                            if (S && Yo(m, b, x, _) === h ^ O) {
                                var D = (u + f) / 2;
                                m = c * Math.cos(D),
                                b = c * Math.sin(D),
                                x = _ = null
                            }
                        } else
                            m = b = 0;
                        if (s) {
                            w = s * Math.cos(f - M),
                            A = s * Math.sin(f - M),
                            k = s * Math.cos(u + M),
                            T = s * Math.sin(u + M);
                            var L = Math.abs(u - f + 2 * M) <= Me ? 0 : 1;
                            if (M && Yo(w, A, k, T) === 1 - h ^ L) {
                                var E = (u + f) / 2;
                                w = s * Math.cos(E),
                                A = s * Math.sin(E),
                                k = T = null
                            }
                        } else
                            w = A = 0;
                        if (d > ke && (p = Math.min(Math.abs(c - s) / 2, +r.apply(this, arguments))) > .001) {
                            g = s < c ^ h ? 0 : 1;
                            var z = p
                              , F = p;
                            if (d < Me) {
                                var P = null == k ? [w, A] : null == x ? [m, b] : la([m, b], [k, T], [x, _], [w, A])
                                  , I = m - P[0]
                                  , N = b - P[1]
                                  , R = x - P[0]
                                  , j = _ - P[1]
                                  , B = 1 / Math.sin(Math.acos((I * R + N * j) / (Math.sqrt(I * I + N * N) * Math.sqrt(R * R + j * j))) / 2)
                                  , H = Math.sqrt(P[0] * P[0] + P[1] * P[1]);
                                F = Math.min(p, (s - H) / (B - 1)),
                                z = Math.min(p, (c - H) / (B + 1))
                            }
                            if (null != x) {
                                var U = Vo(null == k ? [w, A] : [k, T], [m, b], c, z, h)
                                  , Y = Vo([x, _], [w, A], c, z, h);
                                p === z ? C.push("M", U[0], "A", z, ",", z, " 0 0,", g, " ", U[1], "A", c, ",", c, " 0 ", 1 - h ^ Yo(U[1][0], U[1][1], Y[1][0], Y[1][1]), ",", h, " ", Y[1], "A", z, ",", z, " 0 0,", g, " ", Y[0]) : C.push("M", U[0], "A", z, ",", z, " 0 1,", g, " ", Y[0])
                            } else
                                C.push("M", m, ",", b);
                            if (null != k) {
                                var V = Vo([m, b], [k, T], s, -F, h)
                                  , q = Vo([w, A], null == x ? [m, b] : [x, _], s, -F, h);
                                p === F ? C.push("L", q[0], "A", F, ",", F, " 0 0,", g, " ", q[1], "A", s, ",", s, " 0 ", h ^ Yo(q[1][0], q[1][1], V[1][0], V[1][1]), ",", 1 - h, " ", V[1], "A", F, ",", F, " 0 0,", g, " ", V[0]) : C.push("L", q[0], "A", F, ",", F, " 0 0,", g, " ", V[0])
                            } else
                                C.push("L", w, ",", A)
                        } else
                            C.push("M", m, ",", b),
                            null != x && C.push("A", c, ",", c, " 0 ", O, ",", h, " ", x, ",", _),
                            C.push("L", w, ",", A),
                            null != k && C.push("A", s, ",", s, " 0 ", L, ",", 1 - h, " ", k, ",", T);
                        return C.push("Z"),
                        C.join("")
                    }
                    function l(e, t) {
                        return "M0," + e + "A" + e + "," + e + " 0 1," + t + " 0," + -e + "A" + e + "," + e + " 0 1," + t + " 0," + e
                    }
                    return s.innerRadius = function(t) {
                        return arguments.length ? (e = pt(t),
                        s) : e
                    }
                    ,
                    s.outerRadius = function(e) {
                        return arguments.length ? (t = pt(e),
                        s) : t
                    }
                    ,
                    s.cornerRadius = function(e) {
                        return arguments.length ? (r = pt(e),
                        s) : r
                    }
                    ,
                    s.padRadius = function(e) {
                        return arguments.length ? (n = e == No ? No : pt(e),
                        s) : n
                    }
                    ,
                    s.startAngle = function(e) {
                        return arguments.length ? (a = pt(e),
                        s) : a
                    }
                    ,
                    s.endAngle = function(e) {
                        return arguments.length ? (i = pt(e),
                        s) : i
                    }
                    ,
                    s.padAngle = function(e) {
                        return arguments.length ? (o = pt(e),
                        s) : o
                    }
                    ,
                    s.centroid = function() {
                        var r = (+e.apply(this, arguments) + +t.apply(this, arguments)) / 2
                          , n = (+a.apply(this, arguments) + +i.apply(this, arguments)) / 2 - Oe;
                        return [Math.cos(n) * r, Math.sin(n) * r]
                    }
                    ,
                    s
                }
                ;
                var No = "auto";
                function Ro(e) {
                    return e.innerRadius
                }
                function jo(e) {
                    return e.outerRadius
                }
                function Bo(e) {
                    return e.startAngle
                }
                function Ho(e) {
                    return e.endAngle
                }
                function Uo(e) {
                    return e && e.padAngle
                }
                function Yo(e, t, r, n) {
                    return (e - r) * t - (t - n) * e > 0 ? 0 : 1
                }
                function Vo(e, t, r, n, a) {
                    var i = e[0] - t[0]
                      , o = e[1] - t[1]
                      , s = (a ? n : -n) / Math.sqrt(i * i + o * o)
                      , l = s * o
                      , c = -s * i
                      , u = e[0] + l
                      , f = e[1] + c
                      , d = t[0] + l
                      , h = t[1] + c
                      , p = (u + d) / 2
                      , g = (f + h) / 2
                      , y = d - u
                      , v = h - f
                      , m = y * y + v * v
                      , b = r - n
                      , x = u * h - d * f
                      , _ = (v < 0 ? -1 : 1) * Math.sqrt(Math.max(0, b * b * m - x * x))
                      , w = (x * v - y * _) / m
                      , A = (-x * y - v * _) / m
                      , k = (x * v + y * _) / m
                      , T = (-x * y + v * _) / m
                      , M = w - p
                      , S = A - g
                      , C = k - p
                      , O = T - g;
                    return M * M + S * S > C * C + O * O && (w = k,
                    A = T),
                    [[w - l, A - c], [w * r / b, A * r / b]]
                }
                function qo(e) {
                    var t = ra
                      , r = na
                      , n = Wr
                      , a = Go
                      , i = a.key
                      , o = .7;
                    function s(i) {
                        var s, l = [], c = [], u = -1, f = i.length, d = pt(t), h = pt(r);
                        function p() {
                            l.push("M", a(e(c), o))
                        }
                        for (; ++u < f; )
                            n.call(this, s = i[u], u) ? c.push([+d.call(this, s, u), +h.call(this, s, u)]) : c.length && (p(),
                            c = []);
                        return c.length && p(),
                        l.length ? l.join("") : null
                    }
                    return s.x = function(e) {
                        return arguments.length ? (t = e,
                        s) : t
                    }
                    ,
                    s.y = function(e) {
                        return arguments.length ? (r = e,
                        s) : r
                    }
                    ,
                    s.defined = function(e) {
                        return arguments.length ? (n = e,
                        s) : n
                    }
                    ,
                    s.interpolate = function(e) {
                        return arguments.length ? (i = "function" == typeof e ? a = e : (a = Wo.get(e) || Go).key,
                        s) : i
                    }
                    ,
                    s.tension = function(e) {
                        return arguments.length ? (o = e,
                        s) : o
                    }
                    ,
                    s
                }
                e.svg.line = function() {
                    return qo(D)
                }
                ;
                var Wo = e.map({
                    linear: Go,
                    "linear-closed": Zo,
                    step: function(e) {
                        var t = 0
                          , r = e.length
                          , n = e[0]
                          , a = [n[0], ",", n[1]];
                        for (; ++t < r; )
                            a.push("H", (n[0] + (n = e[t])[0]) / 2, "V", n[1]);
                        r > 1 && a.push("H", n[0]);
                        return a.join("")
                    },
                    "step-before": Jo,
                    "step-after": Xo,
                    basis: Ko,
                    "basis-open": function(e) {
                        if (e.length < 4)
                            return Go(e);
                        var t, r = [], n = -1, a = e.length, i = [0], o = [0];
                        for (; ++n < 3; )
                            t = e[n],
                            i.push(t[0]),
                            o.push(t[1]);
                        r.push(es(ns, i) + "," + es(ns, o)),
                        --n;
                        for (; ++n < a; )
                            t = e[n],
                            i.shift(),
                            i.push(t[0]),
                            o.shift(),
                            o.push(t[1]),
                            as(r, i, o);
                        return r.join("")
                    },
                    "basis-closed": function(e) {
                        var t, r, n = -1, a = e.length, i = a + 4, o = [], s = [];
                        for (; ++n < 4; )
                            r = e[n % a],
                            o.push(r[0]),
                            s.push(r[1]);
                        t = [es(ns, o), ",", es(ns, s)],
                        --n;
                        for (; ++n < i; )
                            r = e[n % a],
                            o.shift(),
                            o.push(r[0]),
                            s.shift(),
                            s.push(r[1]),
                            as(t, o, s);
                        return t.join("")
                    },
                    bundle: function(e, t) {
                        var r = e.length - 1;
                        if (r)
                            for (var n, a, i = e[0][0], o = e[0][1], s = e[r][0] - i, l = e[r][1] - o, c = -1; ++c <= r; )
                                n = e[c],
                                a = c / r,
                                n[0] = t * n[0] + (1 - t) * (i + a * s),
                                n[1] = t * n[1] + (1 - t) * (o + a * l);
                        return Ko(e)
                    },
                    cardinal: function(e, t) {
                        return e.length < 3 ? Go(e) : e[0] + Qo(e, $o(e, t))
                    },
                    "cardinal-open": function(e, t) {
                        return e.length < 4 ? Go(e) : e[1] + Qo(e.slice(1, -1), $o(e, t))
                    },
                    "cardinal-closed": function(e, t) {
                        return e.length < 3 ? Zo(e) : e[0] + Qo((e.push(e[0]),
                        e), $o([e[e.length - 2]].concat(e, [e[1]]), t))
                    },
                    monotone: function(e) {
                        return e.length < 3 ? Go(e) : e[0] + Qo(e, function(e) {
                            var t, r, n, a, i = [], o = function(e) {
                                var t = 0
                                  , r = e.length - 1
                                  , n = []
                                  , a = e[0]
                                  , i = e[1]
                                  , o = n[0] = is(a, i);
                                for (; ++t < r; )
                                    n[t] = (o + (o = is(a = i, i = e[t + 1]))) / 2;
                                return n[t] = o,
                                n
                            }(e), s = -1, l = e.length - 1;
                            for (; ++s < l; )
                                t = is(e[s], e[s + 1]),
                                m(t) < ke ? o[s] = o[s + 1] = 0 : (r = o[s] / t,
                                n = o[s + 1] / t,
                                (a = r * r + n * n) > 9 && (a = 3 * t / Math.sqrt(a),
                                o[s] = a * r,
                                o[s + 1] = a * n));
                            s = -1;
                            for (; ++s <= l; )
                                a = (e[Math.min(l, s + 1)][0] - e[Math.max(0, s - 1)][0]) / (6 * (1 + o[s] * o[s])),
                                i.push([a || 0, o[s] * a || 0]);
                            return i
                        }(e))
                    }
                });
                function Go(e) {
                    return e.length > 1 ? e.join("L") : e + "Z"
                }
                function Zo(e) {
                    return e.join("L") + "Z"
                }
                function Jo(e) {
                    for (var t = 0, r = e.length, n = e[0], a = [n[0], ",", n[1]]; ++t < r; )
                        a.push("V", (n = e[t])[1], "H", n[0]);
                    return a.join("")
                }
                function Xo(e) {
                    for (var t = 0, r = e.length, n = e[0], a = [n[0], ",", n[1]]; ++t < r; )
                        a.push("H", (n = e[t])[0], "V", n[1]);
                    return a.join("")
                }
                function Qo(e, t) {
                    if (t.length < 1 || e.length != t.length && e.length != t.length + 2)
                        return Go(e);
                    var r = e.length != t.length
                      , n = ""
                      , a = e[0]
                      , i = e[1]
                      , o = t[0]
                      , s = o
                      , l = 1;
                    if (r && (n += "Q" + (i[0] - 2 * o[0] / 3) + "," + (i[1] - 2 * o[1] / 3) + "," + i[0] + "," + i[1],
                    a = e[1],
                    l = 2),
                    t.length > 1) {
                        s = t[1],
                        i = e[l],
                        l++,
                        n += "C" + (a[0] + o[0]) + "," + (a[1] + o[1]) + "," + (i[0] - s[0]) + "," + (i[1] - s[1]) + "," + i[0] + "," + i[1];
                        for (var c = 2; c < t.length; c++,
                        l++)
                            i = e[l],
                            s = t[c],
                            n += "S" + (i[0] - s[0]) + "," + (i[1] - s[1]) + "," + i[0] + "," + i[1]
                    }
                    if (r) {
                        var u = e[l];
                        n += "Q" + (i[0] + 2 * s[0] / 3) + "," + (i[1] + 2 * s[1] / 3) + "," + u[0] + "," + u[1]
                    }
                    return n
                }
                function $o(e, t) {
                    for (var r, n = [], a = (1 - t) / 2, i = e[0], o = e[1], s = 1, l = e.length; ++s < l; )
                        r = i,
                        i = o,
                        o = e[s],
                        n.push([a * (o[0] - r[0]), a * (o[1] - r[1])]);
                    return n
                }
                function Ko(e) {
                    if (e.length < 3)
                        return Go(e);
                    var t = 1
                      , r = e.length
                      , n = e[0]
                      , a = n[0]
                      , i = n[1]
                      , o = [a, a, a, (n = e[1])[0]]
                      , s = [i, i, i, n[1]]
                      , l = [a, ",", i, "L", es(ns, o), ",", es(ns, s)];
                    for (e.push(e[r - 1]); ++t <= r; )
                        n = e[t],
                        o.shift(),
                        o.push(n[0]),
                        s.shift(),
                        s.push(n[1]),
                        as(l, o, s);
                    return e.pop(),
                    l.push("L", n),
                    l.join("")
                }
                function es(e, t) {
                    return e[0] * t[0] + e[1] * t[1] + e[2] * t[2] + e[3] * t[3]
                }
                Wo.forEach((function(e, t) {
                    t.key = e,
                    t.closed = /-closed$/.test(e)
                }
                ));
                var ts = [0, 2 / 3, 1 / 3, 0]
                  , rs = [0, 1 / 3, 2 / 3, 0]
                  , ns = [0, 1 / 6, 2 / 3, 1 / 6];
                function as(e, t, r) {
                    e.push("C", es(ts, t), ",", es(ts, r), ",", es(rs, t), ",", es(rs, r), ",", es(ns, t), ",", es(ns, r))
                }
                function is(e, t) {
                    return (t[1] - e[1]) / (t[0] - e[0])
                }
                function os(e) {
                    for (var t, r, n, a = -1, i = e.length; ++a < i; )
                        r = (t = e[a])[0],
                        n = t[1] - Oe,
                        t[0] = r * Math.cos(n),
                        t[1] = r * Math.sin(n);
                    return e
                }
                function ss(e) {
                    var t = ra
                      , r = ra
                      , n = 0
                      , a = na
                      , i = Wr
                      , o = Go
                      , s = o.key
                      , l = o
                      , c = "L"
                      , u = .7;
                    function f(s) {
                        var f, d, h, p = [], g = [], y = [], v = -1, m = s.length, b = pt(t), x = pt(n), _ = t === r ? function() {
                            return d
                        }
                        : pt(r), w = n === a ? function() {
                            return h
                        }
                        : pt(a);
                        function A() {
                            p.push("M", o(e(y), u), c, l(e(g.reverse()), u), "Z")
                        }
                        for (; ++v < m; )
                            i.call(this, f = s[v], v) ? (g.push([d = +b.call(this, f, v), h = +x.call(this, f, v)]),
                            y.push([+_.call(this, f, v), +w.call(this, f, v)])) : g.length && (A(),
                            g = [],
                            y = []);
                        return g.length && A(),
                        p.length ? p.join("") : null
                    }
                    return f.x = function(e) {
                        return arguments.length ? (t = r = e,
                        f) : r
                    }
                    ,
                    f.x0 = function(e) {
                        return arguments.length ? (t = e,
                        f) : t
                    }
                    ,
                    f.x1 = function(e) {
                        return arguments.length ? (r = e,
                        f) : r
                    }
                    ,
                    f.y = function(e) {
                        return arguments.length ? (n = a = e,
                        f) : a
                    }
                    ,
                    f.y0 = function(e) {
                        return arguments.length ? (n = e,
                        f) : n
                    }
                    ,
                    f.y1 = function(e) {
                        return arguments.length ? (a = e,
                        f) : a
                    }
                    ,
                    f.defined = function(e) {
                        return arguments.length ? (i = e,
                        f) : i
                    }
                    ,
                    f.interpolate = function(e) {
                        return arguments.length ? (s = "function" == typeof e ? o = e : (o = Wo.get(e) || Go).key,
                        l = o.reverse || o,
                        c = o.closed ? "M" : "L",
                        f) : s
                    }
                    ,
                    f.tension = function(e) {
                        return arguments.length ? (u = e,
                        f) : u
                    }
                    ,
                    f
                }
                function ls(e) {
                    return e.radius
                }
                function cs(e) {
                    return [e.x, e.y]
                }
                function us(e) {
                    return function() {
                        var t = e.apply(this, arguments)
                          , r = t[0]
                          , n = t[1] - Oe;
                        return [r * Math.cos(n), r * Math.sin(n)]
                    }
                }
                function fs() {
                    return 64
                }
                function ds() {
                    return "circle"
                }
                function hs(e) {
                    var t = Math.sqrt(e / Me);
                    return "M0," + t + "A" + t + "," + t + " 0 1,1 0," + -t + "A" + t + "," + t + " 0 1,1 0," + t + "Z"
                }
                e.svg.line.radial = function() {
                    var e = qo(os);
                    return e.radius = e.x,
                    delete e.x,
                    e.angle = e.y,
                    delete e.y,
                    e
                }
                ,
                Jo.reverse = Xo,
                Xo.reverse = Jo,
                e.svg.area = function() {
                    return ss(D)
                }
                ,
                e.svg.area.radial = function() {
                    var e = ss(os);
                    return e.radius = e.x,
                    delete e.x,
                    e.innerRadius = e.x0,
                    delete e.x0,
                    e.outerRadius = e.x1,
                    delete e.x1,
                    e.angle = e.y,
                    delete e.y,
                    e.startAngle = e.y0,
                    delete e.y0,
                    e.endAngle = e.y1,
                    delete e.y1,
                    e
                }
                ,
                e.svg.chord = function() {
                    var e = Un
                      , t = Yn
                      , r = ls
                      , n = Bo
                      , a = Ho;
                    function i(r, n) {
                        var a, i, c = o(this, e, r, n), u = o(this, t, r, n);
                        return "M" + c.p0 + s(c.r, c.p1, c.a1 - c.a0) + (i = u,
                        ((a = c).a0 == i.a0 && a.a1 == i.a1 ? l(c.r, c.p1, c.r, c.p0) : l(c.r, c.p1, u.r, u.p0) + s(u.r, u.p1, u.a1 - u.a0) + l(u.r, u.p1, c.r, c.p0)) + "Z")
                    }
                    function o(e, t, i, o) {
                        var s = t.call(e, i, o)
                          , l = r.call(e, s, o)
                          , c = n.call(e, s, o) - Oe
                          , u = a.call(e, s, o) - Oe;
                        return {
                            r: l,
                            a0: c,
                            a1: u,
                            p0: [l * Math.cos(c), l * Math.sin(c)],
                            p1: [l * Math.cos(u), l * Math.sin(u)]
                        }
                    }
                    function s(e, t, r) {
                        return "A" + e + "," + e + " 0 " + +(r > Me) + ",1 " + t
                    }
                    function l(e, t, r, n) {
                        return "Q 0,0 " + n
                    }
                    return i.radius = function(e) {
                        return arguments.length ? (r = pt(e),
                        i) : r
                    }
                    ,
                    i.source = function(t) {
                        return arguments.length ? (e = pt(t),
                        i) : e
                    }
                    ,
                    i.target = function(e) {
                        return arguments.length ? (t = pt(e),
                        i) : t
                    }
                    ,
                    i.startAngle = function(e) {
                        return arguments.length ? (n = pt(e),
                        i) : n
                    }
                    ,
                    i.endAngle = function(e) {
                        return arguments.length ? (a = pt(e),
                        i) : a
                    }
                    ,
                    i
                }
                ,
                e.svg.diagonal = function() {
                    var e = Un
                      , t = Yn
                      , r = cs;
                    function n(n, a) {
                        var i = e.call(this, n, a)
                          , o = t.call(this, n, a)
                          , s = (i.y + o.y) / 2
                          , l = [i, {
                            x: i.x,
                            y: s
                        }, {
                            x: o.x,
                            y: s
                        }, o];
                        return "M" + (l = l.map(r))[0] + "C" + l[1] + " " + l[2] + " " + l[3]
                    }
                    return n.source = function(t) {
                        return arguments.length ? (e = pt(t),
                        n) : e
                    }
                    ,
                    n.target = function(e) {
                        return arguments.length ? (t = pt(e),
                        n) : t
                    }
                    ,
                    n.projection = function(e) {
                        return arguments.length ? (r = e,
                        n) : r
                    }
                    ,
                    n
                }
                ,
                e.svg.diagonal.radial = function() {
                    var t = e.svg.diagonal()
                      , r = cs
                      , n = t.projection;
                    return t.projection = function(e) {
                        return arguments.length ? n(us(r = e)) : r
                    }
                    ,
                    t
                }
                ,
                e.svg.symbol = function() {
                    var e = ds
                      , t = fs;
                    function r(r, n) {
                        return (ps.get(e.call(this, r, n)) || hs)(t.call(this, r, n))
                    }
                    return r.type = function(t) {
                        return arguments.length ? (e = pt(t),
                        r) : e
                    }
                    ,
                    r.size = function(e) {
                        return arguments.length ? (t = pt(e),
                        r) : t
                    }
                    ,
                    r
                }
                ;
                var ps = e.map({
                    circle: hs,
                    cross: function(e) {
                        var t = Math.sqrt(e / 5) / 2;
                        return "M" + -3 * t + "," + -t + "H" + -t + "V" + -3 * t + "H" + t + "V" + -t + "H" + 3 * t + "V" + t + "H" + t + "V" + 3 * t + "H" + -t + "V" + t + "H" + -3 * t + "Z"
                    },
                    diamond: function(e) {
                        var t = Math.sqrt(e / (2 * ys))
                          , r = t * ys;
                        return "M0," + -t + "L" + r + ",0 0," + t + " " + -r + ",0Z"
                    },
                    square: function(e) {
                        var t = Math.sqrt(e) / 2;
                        return "M" + -t + "," + -t + "L" + t + "," + -t + " " + t + "," + t + " " + -t + "," + t + "Z"
                    },
                    "triangle-down": function(e) {
                        var t = Math.sqrt(e / gs)
                          , r = t * gs / 2;
                        return "M0," + r + "L" + t + "," + -r + " " + -t + "," + -r + "Z"
                    },
                    "triangle-up": function(e) {
                        var t = Math.sqrt(e / gs)
                          , r = t * gs / 2;
                        return "M0," + -r + "L" + t + "," + r + " " + -t + "," + r + "Z"
                    }
                });
                e.svg.symbolTypes = ps.keys();
                var gs = Math.sqrt(3)
                  , ys = Math.tan(30 * De);
                W.transition = function(e) {
                    for (var t, r, n = xs || ++As, a = Ms(e), i = [], o = _s || {
                        time: Date.now(),
                        ease: ci,
                        delay: 0,
                        duration: 250
                    }, s = -1, l = this.length; ++s < l; ) {
                        i.push(t = []);
                        for (var c = this[s], u = -1, f = c.length; ++u < f; )
                            (r = c[u]) && Ss(r, u, a, n, o),
                            t.push(r)
                    }
                    return bs(i, a, n)
                }
                ,
                W.interrupt = function(e) {
                    return this.each(null == e ? vs : ms(Ms(e)))
                }
                ;
                var vs = ms(Ms());
                function ms(e) {
                    return function() {
                        var t, r, n;
                        (t = this[e]) && (n = t[r = t.active]) && (n.timer.c = null,
                        n.timer.t = NaN,
                        --t.count ? delete t[r] : delete this[e],
                        t.active += .5,
                        n.event && n.event.interrupt.call(this, this.__data__, n.index))
                    }
                }
                function bs(e, t, r) {
                    return H(e, ws),
                    e.namespace = t,
                    e.id = r,
                    e
                }
                var xs, _s, ws = [], As = 0;
                function ks(e, t, r, n) {
                    var a = e.id
                      , i = e.namespace;
                    return ue(e, "function" == typeof r ? function(e, o, s) {
                        e[i][a].tween.set(t, n(r.call(e, e.__data__, o, s)))
                    }
                    : (r = n(r),
                    function(e) {
                        e[i][a].tween.set(t, r)
                    }
                    ))
                }
                function Ts(e) {
                    return null == e && (e = ""),
                    function() {
                        this.textContent = e
                    }
                }
                function Ms(e) {
                    return null == e ? "__transition__" : "__transition_" + e + "__"
                }
                function Ss(e, t, r, n, a) {
                    var i, o, s, l, c, u = e[r] || (e[r] = {
                        active: 0,
                        count: 0
                    }), f = u[n];
                    function d(r) {
                        var a = u.active
                          , d = u[a];
                        for (var p in d && (d.timer.c = null,
                        d.timer.t = NaN,
                        --u.count,
                        delete u[a],
                        d.event && d.event.interrupt.call(e, e.__data__, d.index)),
                        u)
                            if (+p < n) {
                                var g = u[p];
                                g.timer.c = null,
                                g.timer.t = NaN,
                                --u.count,
                                delete u[p]
                            }
                        o.c = h,
                        wt((function() {
                            return o.c && h(r || 1) && (o.c = null,
                            o.t = NaN),
                            1
                        }
                        ), 0, i),
                        u.active = n,
                        f.event && f.event.start.call(e, e.__data__, t),
                        c = [],
                        f.tween.forEach((function(r, n) {
                            (n = n.call(e, e.__data__, t)) && c.push(n)
                        }
                        )),
                        l = f.ease,
                        s = f.duration
                    }
                    function h(a) {
                        for (var i = a / s, o = l(i), d = c.length; d > 0; )
                            c[--d].call(e, o);
                        if (i >= 1)
                            return f.event && f.event.end.call(e, e.__data__, t),
                            --u.count ? delete u[n] : delete e[r],
                            1
                    }
                    f || (i = a.time,
                    o = wt((function(e) {
                        var t = f.delay;
                        if (o.t = t + i,
                        t <= e)
                            return d(e - t);
                        o.c = d
                    }
                    ), 0, i),
                    f = u[n] = {
                        tween: new _,
                        time: i,
                        timer: o,
                        delay: a.delay,
                        duration: a.duration,
                        ease: a.ease,
                        index: t
                    },
                    a = null,
                    ++u.count)
                }
                ws.call = W.call,
                ws.empty = W.empty,
                ws.node = W.node,
                ws.size = W.size,
                e.transition = function(t, r) {
                    return t && t.transition ? xs ? t.transition(r) : t : e.selection().transition(t)
                }
                ,
                e.transition.prototype = ws,
                ws.select = function(e) {
                    var t, r, n, a = this.id, i = this.namespace, o = [];
                    e = G(e);
                    for (var s = -1, l = this.length; ++s < l; ) {
                        o.push(t = []);
                        for (var c = this[s], u = -1, f = c.length; ++u < f; )
                            (n = c[u]) && (r = e.call(n, n.__data__, u, s)) ? ("__data__"in n && (r.__data__ = n.__data__),
                            Ss(r, u, i, a, n[i][a]),
                            t.push(r)) : t.push(null)
                    }
                    return bs(o, i, a)
                }
                ,
                ws.selectAll = function(e) {
                    var t, r, n, a, i, o = this.id, s = this.namespace, l = [];
                    e = Z(e);
                    for (var c = -1, u = this.length; ++c < u; )
                        for (var f = this[c], d = -1, h = f.length; ++d < h; )
                            if (n = f[d]) {
                                i = n[s][o],
                                r = e.call(n, n.__data__, d, c),
                                l.push(t = []);
                                for (var p = -1, g = r.length; ++p < g; )
                                    (a = r[p]) && Ss(a, p, s, o, i),
                                    t.push(a)
                            }
                    return bs(l, s, o)
                }
                ,
                ws.filter = function(e) {
                    var t, r, n = [];
                    "function" != typeof e && (e = le(e));
                    for (var a = 0, i = this.length; a < i; a++) {
                        n.push(t = []);
                        for (var o, s = 0, l = (o = this[a]).length; s < l; s++)
                            (r = o[s]) && e.call(r, r.__data__, s, a) && t.push(r)
                    }
                    return bs(n, this.namespace, this.id)
                }
                ,
                ws.tween = function(e, t) {
                    var r = this.id
                      , n = this.namespace;
                    return arguments.length < 2 ? this.node()[n][r].tween.get(e) : ue(this, null == t ? function(t) {
                        t[n][r].tween.remove(e)
                    }
                    : function(a) {
                        a[n][r].tween.set(e, t)
                    }
                    )
                }
                ,
                ws.attr = function(t, r) {
                    if (arguments.length < 2) {
                        for (r in t)
                            this.attr(r, t[r]);
                        return this
                    }
                    var n = "transform" == t ? xi : Ka
                      , a = e.ns.qualify(t);
                    function i() {
                        this.removeAttribute(a)
                    }
                    function o() {
                        this.removeAttributeNS(a.space, a.local)
                    }
                    function s(e) {
                        return null == e ? i : (e += "",
                        function() {
                            var t, r = this.getAttribute(a);
                            return r !== e && (t = n(r, e),
                            function(e) {
                                this.setAttribute(a, t(e))
                            }
                            )
                        }
                        )
                    }
                    function l(e) {
                        return null == e ? o : (e += "",
                        function() {
                            var t, r = this.getAttributeNS(a.space, a.local);
                            return r !== e && (t = n(r, e),
                            function(e) {
                                this.setAttributeNS(a.space, a.local, t(e))
                            }
                            )
                        }
                        )
                    }
                    return ks(this, "attr." + t, r, a.local ? l : s)
                }
                ,
                ws.attrTween = function(t, r) {
                    var n = e.ns.qualify(t);
                    return this.tween("attr." + t, n.local ? function(e, t) {
                        var a = r.call(this, e, t, this.getAttributeNS(n.space, n.local));
                        return a && function(e) {
                            this.setAttributeNS(n.space, n.local, a(e))
                        }
                    }
                    : function(e, t) {
                        var a = r.call(this, e, t, this.getAttribute(n));
                        return a && function(e) {
                            this.setAttribute(n, a(e))
                        }
                    }
                    )
                }
                ,
                ws.style = function(e, t, r) {
                    var n = arguments.length;
                    if (n < 3) {
                        if ("string" != typeof e) {
                            for (r in n < 2 && (t = ""),
                            e)
                                this.style(r, e[r], t);
                            return this
                        }
                        r = ""
                    }
                    function a() {
                        this.style.removeProperty(e)
                    }
                    function i(t) {
                        return null == t ? a : (t += "",
                        function() {
                            var n, a = o(this).getComputedStyle(this, null).getPropertyValue(e);
                            return a !== t && (n = Ka(a, t),
                            function(t) {
                                this.style.setProperty(e, n(t), r)
                            }
                            )
                        }
                        )
                    }
                    return ks(this, "style." + e, t, i)
                }
                ,
                ws.styleTween = function(e, t, r) {
                    function n(n, a) {
                        var i = t.call(this, n, a, o(this).getComputedStyle(this, null).getPropertyValue(e));
                        return i && function(t) {
                            this.style.setProperty(e, i(t), r)
                        }
                    }
                    return arguments.length < 3 && (r = ""),
                    this.tween("style." + e, n)
                }
                ,
                ws.text = function(e) {
                    return ks(this, "text", e, Ts)
                }
                ,
                ws.remove = function() {
                    var e = this.namespace;
                    return this.each("end.transition", (function() {
                        var t;
                        this[e].count < 2 && (t = this.parentNode) && t.removeChild(this)
                    }
                    ))
                }
                ,
                ws.ease = function(t) {
                    var r = this.id
                      , n = this.namespace;
                    return arguments.length < 1 ? this.node()[n][r].ease : ("function" != typeof t && (t = e.ease.apply(e, arguments)),
                    ue(this, (function(e) {
                        e[n][r].ease = t
                    }
                    )))
                }
                ,
                ws.delay = function(e) {
                    var t = this.id
                      , r = this.namespace;
                    return arguments.length < 1 ? this.node()[r][t].delay : ue(this, "function" == typeof e ? function(n, a, i) {
                        n[r][t].delay = +e.call(n, n.__data__, a, i)
                    }
                    : (e = +e,
                    function(n) {
                        n[r][t].delay = e
                    }
                    ))
                }
                ,
                ws.duration = function(e) {
                    var t = this.id
                      , r = this.namespace;
                    return arguments.length < 1 ? this.node()[r][t].duration : ue(this, "function" == typeof e ? function(n, a, i) {
                        n[r][t].duration = Math.max(1, e.call(n, n.__data__, a, i))
                    }
                    : (e = Math.max(1, e),
                    function(n) {
                        n[r][t].duration = e
                    }
                    ))
                }
                ,
                ws.each = function(t, r) {
                    var n = this.id
                      , a = this.namespace;
                    if (arguments.length < 2) {
                        var i = _s
                          , o = xs;
                        try {
                            xs = n,
                            ue(this, (function(e, r, i) {
                                _s = e[a][n],
                                t.call(e, e.__data__, r, i)
                            }
                            ))
                        } finally {
                            _s = i,
                            xs = o
                        }
                    } else
                        ue(this, (function(i) {
                            var o = i[a][n];
                            (o.event || (o.event = e.dispatch("start", "end", "interrupt"))).on(t, r)
                        }
                        ));
                    return this
                }
                ,
                ws.transition = function() {
                    for (var e, t, r, n = this.id, a = ++As, i = this.namespace, o = [], s = 0, l = this.length; s < l; s++) {
                        o.push(e = []);
                        for (var c, u = 0, f = (c = this[s]).length; u < f; u++)
                            (t = c[u]) && Ss(t, u, i, a, {
                                time: (r = t[i][n]).time,
                                ease: r.ease,
                                delay: r.delay + r.duration,
                                duration: r.duration
                            }),
                            e.push(t)
                    }
                    return bs(o, i, a)
                }
                ,
                e.svg.axis = function() {
                    var t, r = e.scale.linear(), a = Cs, i = 6, o = 6, s = 3, l = [10], c = null;
                    function u(n) {
                        n.each((function() {
                            var n, u = e.select(this), f = this.__chart__ || r, d = this.__chart__ = r.copy(), h = null == c ? d.ticks ? d.ticks.apply(d, l) : d.domain() : c, p = null == t ? d.tickFormat ? d.tickFormat.apply(d, l) : D : t, g = u.selectAll(".tick").data(h, d), y = g.enter().insert("g", ".domain").attr("class", "tick").style("opacity", ke), v = e.transition(g.exit()).style("opacity", ke).remove(), m = e.transition(g.order()).style("opacity", 1), b = Math.max(i, 0) + s, x = yo(d), _ = u.selectAll(".domain").data([0]), w = (_.enter().append("path").attr("class", "domain"),
                            e.transition(_));
                            y.append("line"),
                            y.append("text");
                            var A, k, T, M, S = y.select("line"), C = m.select("line"), O = g.select("text").text(p), L = y.select("text"), E = m.select("text"), z = "top" === a || "left" === a ? -1 : 1;
                            if ("bottom" === a || "top" === a ? (n = Ds,
                            A = "x",
                            T = "y",
                            k = "x2",
                            M = "y2",
                            O.attr("dy", z < 0 ? "0em" : ".71em").style("text-anchor", "middle"),
                            w.attr("d", "M" + x[0] + "," + z * o + "V0H" + x[1] + "V" + z * o)) : (n = Ls,
                            A = "y",
                            T = "x",
                            k = "y2",
                            M = "x2",
                            O.attr("dy", ".32em").style("text-anchor", z < 0 ? "end" : "start"),
                            w.attr("d", "M" + z * o + "," + x[0] + "H0V" + x[1] + "H" + z * o)),
                            S.attr(M, z * i),
                            L.attr(T, z * b),
                            C.attr(k, 0).attr(M, z * i),
                            E.attr(A, 0).attr(T, z * b),
                            d.rangeBand) {
                                var F = d
                                  , P = F.rangeBand() / 2;
                                f = d = function(e) {
                                    return F(e) + P
                                }
                            } else
                                f.rangeBand ? f = d : v.call(n, d, f);
                            y.call(n, f, d),
                            m.call(n, d, d)
                        }
                        ))
                    }
                    return u.scale = function(e) {
                        return arguments.length ? (r = e,
                        u) : r
                    }
                    ,
                    u.orient = function(e) {
                        return arguments.length ? (a = e in Os ? e + "" : Cs,
                        u) : a
                    }
                    ,
                    u.ticks = function() {
                        return arguments.length ? (l = n(arguments),
                        u) : l
                    }
                    ,
                    u.tickValues = function(e) {
                        return arguments.length ? (c = e,
                        u) : c
                    }
                    ,
                    u.tickFormat = function(e) {
                        return arguments.length ? (t = e,
                        u) : t
                    }
                    ,
                    u.tickSize = function(e) {
                        var t = arguments.length;
                        return t ? (i = +e,
                        o = +arguments[t - 1],
                        u) : i
                    }
                    ,
                    u.innerTickSize = function(e) {
                        return arguments.length ? (i = +e,
                        u) : i
                    }
                    ,
                    u.outerTickSize = function(e) {
                        return arguments.length ? (o = +e,
                        u) : o
                    }
                    ,
                    u.tickPadding = function(e) {
                        return arguments.length ? (s = +e,
                        u) : s
                    }
                    ,
                    u.tickSubdivide = function() {
                        return arguments.length && u
                    }
                    ,
                    u
                }
                ;
                var Cs = "bottom"
                  , Os = {
                    top: 1,
                    right: 1,
                    bottom: 1,
                    left: 1
                };
                function Ds(e, t, r) {
                    e.attr("transform", (function(e) {
                        var n = t(e);
                        return "translate(" + (isFinite(n) ? n : r(e)) + ",0)"
                    }
                    ))
                }
                function Ls(e, t, r) {
                    e.attr("transform", (function(e) {
                        var n = t(e);
                        return "translate(0," + (isFinite(n) ? n : r(e)) + ")"
                    }
                    ))
                }
                e.svg.brush = function() {
                    var t, r, n = j(d, "brushstart", "brush", "brushend"), a = null, i = null, s = [0, 0], l = [0, 0], c = !0, u = !0, f = zs[0];
                    function d(t) {
                        t.each((function() {
                            var t = e.select(this).style("pointer-events", "all").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)").on("mousedown.brush", y).on("touchstart.brush", y)
                              , r = t.selectAll(".background").data([0]);
                            r.enter().append("rect").attr("class", "background").style("visibility", "hidden").style("cursor", "crosshair"),
                            t.selectAll(".extent").data([0]).enter().append("rect").attr("class", "extent").style("cursor", "move");
                            var n = t.selectAll(".resize").data(f, D);
                            n.exit().remove(),
                            n.enter().append("g").attr("class", (function(e) {
                                return "resize " + e
                            }
                            )).style("cursor", (function(e) {
                                return Es[e]
                            }
                            )).append("rect").attr("x", (function(e) {
                                return /[ew]$/.test(e) ? -3 : null
                            }
                            )).attr("y", (function(e) {
                                return /^[ns]/.test(e) ? -3 : null
                            }
                            )).attr("width", 6).attr("height", 6).style("visibility", "hidden"),
                            n.style("display", d.empty() ? "none" : null);
                            var o, s = e.transition(t), l = e.transition(r);
                            a && (o = yo(a),
                            l.attr("x", o[0]).attr("width", o[1] - o[0]),
                            p(s)),
                            i && (o = yo(i),
                            l.attr("y", o[0]).attr("height", o[1] - o[0]),
                            g(s)),
                            h(s)
                        }
                        ))
                    }
                    function h(e) {
                        e.selectAll(".resize").attr("transform", (function(e) {
                            return "translate(" + s[+/e$/.test(e)] + "," + l[+/^s/.test(e)] + ")"
                        }
                        ))
                    }
                    function p(e) {
                        e.select(".extent").attr("x", s[0]),
                        e.selectAll(".extent,.n>rect,.s>rect").attr("width", s[1] - s[0])
                    }
                    function g(e) {
                        e.select(".extent").attr("y", l[0]),
                        e.selectAll(".extent,.e>rect,.w>rect").attr("height", l[1] - l[0])
                    }
                    function y() {
                        var f, y, v = this, m = e.select(e.event.target), b = n.of(v, arguments), x = e.select(v), _ = m.datum(), w = !/^(n|s)$/.test(_) && a, A = !/^(e|w)$/.test(_) && i, k = m.classed("extent"), T = xe(v), M = e.mouse(v), S = e.select(o(v)).on("keydown.brush", D).on("keyup.brush", L);
                        if (e.event.changedTouches ? S.on("touchmove.brush", E).on("touchend.brush", F) : S.on("mousemove.brush", E).on("mouseup.brush", F),
                        x.interrupt().selectAll("*").interrupt(),
                        k)
                            M[0] = s[0] - M[0],
                            M[1] = l[0] - M[1];
                        else if (_) {
                            var C = +/w$/.test(_)
                              , O = +/^n/.test(_);
                            y = [s[1 - C] - M[0], l[1 - O] - M[1]],
                            M[0] = s[C],
                            M[1] = l[O]
                        } else
                            e.event.altKey && (f = M.slice());
                        function D() {
                            32 == e.event.keyCode && (k || (f = null,
                            M[0] -= s[1],
                            M[1] -= l[1],
                            k = 2),
                            N())
                        }
                        function L() {
                            32 == e.event.keyCode && 2 == k && (M[0] += s[1],
                            M[1] += l[1],
                            k = 0,
                            N())
                        }
                        function E() {
                            var t = e.mouse(v)
                              , r = !1;
                            y && (t[0] += y[0],
                            t[1] += y[1]),
                            k || (e.event.altKey ? (f || (f = [(s[0] + s[1]) / 2, (l[0] + l[1]) / 2]),
                            M[0] = s[+(t[0] < f[0])],
                            M[1] = l[+(t[1] < f[1])]) : f = null),
                            w && z(t, a, 0) && (p(x),
                            r = !0),
                            A && z(t, i, 1) && (g(x),
                            r = !0),
                            r && (h(x),
                            b({
                                type: "brush",
                                mode: k ? "move" : "resize"
                            }))
                        }
                        function z(e, n, a) {
                            var i, o, d = yo(n), h = d[0], p = d[1], g = M[a], y = a ? l : s, v = y[1] - y[0];
                            if (k && (h -= g,
                            p -= v + g),
                            i = (a ? u : c) ? Math.max(h, Math.min(p, e[a])) : e[a],
                            k ? o = (i += g) + v : (f && (g = Math.max(h, Math.min(p, 2 * f[a] - i))),
                            g < i ? (o = i,
                            i = g) : o = g),
                            y[0] != i || y[1] != o)
                                return a ? r = null : t = null,
                                y[0] = i,
                                y[1] = o,
                                !0
                        }
                        function F() {
                            E(),
                            x.style("pointer-events", "all").selectAll(".resize").style("display", d.empty() ? "none" : null),
                            e.select("body").style("cursor", null),
                            S.on("mousemove.brush", null).on("mouseup.brush", null).on("touchmove.brush", null).on("touchend.brush", null).on("keydown.brush", null).on("keyup.brush", null),
                            T(),
                            b({
                                type: "brushend"
                            })
                        }
                        x.style("pointer-events", "none").selectAll(".resize").style("display", null),
                        e.select("body").style("cursor", m.style("cursor")),
                        b({
                            type: "brushstart"
                        }),
                        E()
                    }
                    return d.event = function(a) {
                        a.each((function() {
                            var a = n.of(this, arguments)
                              , i = {
                                x: s,
                                y: l,
                                i: t,
                                j: r
                            }
                              , o = this.__chart__ || i;
                            this.__chart__ = i,
                            xs ? e.select(this).transition().each("start.brush", (function() {
                                t = o.i,
                                r = o.j,
                                s = o.x,
                                l = o.y,
                                a({
                                    type: "brushstart"
                                })
                            }
                            )).tween("brush:brush", (function() {
                                var e = ei(s, i.x)
                                  , n = ei(l, i.y);
                                return t = r = null,
                                function(t) {
                                    s = i.x = e(t),
                                    l = i.y = n(t),
                                    a({
                                        type: "brush",
                                        mode: "resize"
                                    })
                                }
                            }
                            )).each("end.brush", (function() {
                                t = i.i,
                                r = i.j,
                                a({
                                    type: "brush",
                                    mode: "resize"
                                }),
                                a({
                                    type: "brushend"
                                })
                            }
                            )) : (a({
                                type: "brushstart"
                            }),
                            a({
                                type: "brush",
                                mode: "resize"
                            }),
                            a({
                                type: "brushend"
                            }))
                        }
                        ))
                    }
                    ,
                    d.x = function(e) {
                        return arguments.length ? (f = zs[!(a = e) << 1 | !i],
                        d) : a
                    }
                    ,
                    d.y = function(e) {
                        return arguments.length ? (f = zs[!a << 1 | !(i = e)],
                        d) : i
                    }
                    ,
                    d.clamp = function(e) {
                        return arguments.length ? (a && i ? (c = !!e[0],
                        u = !!e[1]) : a ? c = !!e : i && (u = !!e),
                        d) : a && i ? [c, u] : a ? c : i ? u : null
                    }
                    ,
                    d.extent = function(e) {
                        var n, o, c, u, f;
                        return arguments.length ? (a && (n = e[0],
                        o = e[1],
                        i && (n = n[0],
                        o = o[0]),
                        t = [n, o],
                        a.invert && (n = a(n),
                        o = a(o)),
                        o < n && (f = n,
                        n = o,
                        o = f),
                        n == s[0] && o == s[1] || (s = [n, o])),
                        i && (c = e[0],
                        u = e[1],
                        a && (c = c[1],
                        u = u[1]),
                        r = [c, u],
                        i.invert && (c = i(c),
                        u = i(u)),
                        u < c && (f = c,
                        c = u,
                        u = f),
                        c == l[0] && u == l[1] || (l = [c, u])),
                        d) : (a && (t ? (n = t[0],
                        o = t[1]) : (n = s[0],
                        o = s[1],
                        a.invert && (n = a.invert(n),
                        o = a.invert(o)),
                        o < n && (f = n,
                        n = o,
                        o = f))),
                        i && (r ? (c = r[0],
                        u = r[1]) : (c = l[0],
                        u = l[1],
                        i.invert && (c = i.invert(c),
                        u = i.invert(u)),
                        u < c && (f = c,
                        c = u,
                        u = f))),
                        a && i ? [[n, c], [o, u]] : a ? [n, o] : i && [c, u])
                    }
                    ,
                    d.clear = function() {
                        return d.empty() || (s = [0, 0],
                        l = [0, 0],
                        t = r = null),
                        d
                    }
                    ,
                    d.empty = function() {
                        return !!a && s[0] == s[1] || !!i && l[0] == l[1]
                    }
                    ,
                    e.rebind(d, n, "on")
                }
                ;
                var Es = {
                    n: "ns-resize",
                    e: "ew-resize",
                    s: "ns-resize",
                    w: "ew-resize",
                    nw: "nwse-resize",
                    ne: "nesw-resize",
                    se: "nwse-resize",
                    sw: "nesw-resize"
                }
                  , zs = [["n", "e", "s", "w", "nw", "ne", "se", "sw"], ["e", "w"], ["n", "s"], []]
                  , Fs = Et.format = sr.timeFormat
                  , Ps = Fs.utc
                  , Is = Ps("%Y-%m-%dT%H:%M:%S.%LZ");
                function Ns(e) {
                    return e.toISOString()
                }
                function Rs(t, r, n) {
                    function a(e) {
                        return t(e)
                    }
                    function i(t, n) {
                        var a = (t[1] - t[0]) / n
                          , i = e.bisect(Bs, a);
                        return i == Bs.length ? [r.year, ko(t.map((function(e) {
                            return e / 31536e6
                        }
                        )), n)[2]] : i ? r[a / Bs[i - 1] < Bs[i] / a ? i - 1 : i] : [Ys, ko(t, n)[2]]
                    }
                    return a.invert = function(e) {
                        return js(t.invert(e))
                    }
                    ,
                    a.domain = function(e) {
                        return arguments.length ? (t.domain(e),
                        a) : t.domain().map(js)
                    }
                    ,
                    a.nice = function(e, t) {
                        var r = a.domain()
                          , n = go(r)
                          , o = null == e ? i(n, 10) : "number" == typeof e && i(n, e);
                        function s(r) {
                            return !isNaN(r) && !e.range(r, js(+r + 1), t).length
                        }
                        return o && (e = o[0],
                        t = o[1]),
                        a.domain(mo(r, t > 1 ? {
                            floor: function(t) {
                                for (; s(t = e.floor(t)); )
                                    t = js(t - 1);
                                return t
                            },
                            ceil: function(t) {
                                for (; s(t = e.ceil(t)); )
                                    t = js(+t + 1);
                                return t
                            }
                        } : e))
                    }
                    ,
                    a.ticks = function(e, t) {
                        var r = go(a.domain())
                          , n = null == e ? i(r, 10) : "number" == typeof e ? i(r, e) : !e.range && [{
                            range: e
                        }, t];
                        return n && (e = n[0],
                        t = n[1]),
                        e.range(r[0], js(+r[1] + 1), t < 1 ? 1 : t)
                    }
                    ,
                    a.tickFormat = function() {
                        return n
                    }
                    ,
                    a.copy = function() {
                        return Rs(t.copy(), r, n)
                    }
                    ,
                    wo(a, t)
                }
                function js(e) {
                    return new Date(e)
                }
                Fs.iso = Date.prototype.toISOString && +new Date("2000-01-01T00:00:00.000Z") ? Ns : Is,
                Ns.parse = function(e) {
                    var t = new Date(e);
                    return isNaN(t) ? null : t
                }
                ,
                Ns.toString = Is.toString,
                Et.second = It((function(e) {
                    return new zt(1e3 * Math.floor(e / 1e3))
                }
                ), (function(e, t) {
                    e.setTime(e.getTime() + 1e3 * Math.floor(t))
                }
                ), (function(e) {
                    return e.getSeconds()
                }
                )),
                Et.seconds = Et.second.range,
                Et.seconds.utc = Et.second.utc.range,
                Et.minute = It((function(e) {
                    return new zt(6e4 * Math.floor(e / 6e4))
                }
                ), (function(e, t) {
                    e.setTime(e.getTime() + 6e4 * Math.floor(t))
                }
                ), (function(e) {
                    return e.getMinutes()
                }
                )),
                Et.minutes = Et.minute.range,
                Et.minutes.utc = Et.minute.utc.range,
                Et.hour = It((function(e) {
                    var t = e.getTimezoneOffset() / 60;
                    return new zt(36e5 * (Math.floor(e / 36e5 - t) + t))
                }
                ), (function(e, t) {
                    e.setTime(e.getTime() + 36e5 * Math.floor(t))
                }
                ), (function(e) {
                    return e.getHours()
                }
                )),
                Et.hours = Et.hour.range,
                Et.hours.utc = Et.hour.utc.range,
                Et.month = It((function(e) {
                    return (e = Et.day(e)).setDate(1),
                    e
                }
                ), (function(e, t) {
                    e.setMonth(e.getMonth() + t)
                }
                ), (function(e) {
                    return e.getMonth()
                }
                )),
                Et.months = Et.month.range,
                Et.months.utc = Et.month.utc.range;
                var Bs = [1e3, 5e3, 15e3, 3e4, 6e4, 3e5, 9e5, 18e5, 36e5, 108e5, 216e5, 432e5, 864e5, 1728e5, 6048e5, 2592e6, 7776e6, 31536e6]
                  , Hs = [[Et.second, 1], [Et.second, 5], [Et.second, 15], [Et.second, 30], [Et.minute, 1], [Et.minute, 5], [Et.minute, 15], [Et.minute, 30], [Et.hour, 1], [Et.hour, 3], [Et.hour, 6], [Et.hour, 12], [Et.day, 1], [Et.day, 2], [Et.week, 1], [Et.month, 1], [Et.month, 3], [Et.year, 1]]
                  , Us = Fs.multi([[".%L", function(e) {
                    return e.getMilliseconds()
                }
                ], [":%S", function(e) {
                    return e.getSeconds()
                }
                ], ["%I:%M", function(e) {
                    return e.getMinutes()
                }
                ], ["%I %p", function(e) {
                    return e.getHours()
                }
                ], ["%a %d", function(e) {
                    return e.getDay() && 1 != e.getDate()
                }
                ], ["%b %d", function(e) {
                    return 1 != e.getDate()
                }
                ], ["%B", function(e) {
                    return e.getMonth()
                }
                ], ["%Y", Wr]])
                  , Ys = {
                    range: function(t, r, n) {
                        return e.range(Math.ceil(t / n) * n, +r, n).map(js)
                    },
                    floor: D,
                    ceil: D
                };
                Hs.year = Et.year,
                Et.scale = function() {
                    return Rs(e.scale.linear(), Hs, Us)
                }
                ;
                var Vs = Hs.map((function(e) {
                    return [e[0].utc, e[1]]
                }
                ))
                  , qs = Ps.multi([[".%L", function(e) {
                    return e.getUTCMilliseconds()
                }
                ], [":%S", function(e) {
                    return e.getUTCSeconds()
                }
                ], ["%I:%M", function(e) {
                    return e.getUTCMinutes()
                }
                ], ["%I %p", function(e) {
                    return e.getUTCHours()
                }
                ], ["%a %d", function(e) {
                    return e.getUTCDay() && 1 != e.getUTCDate()
                }
                ], ["%b %d", function(e) {
                    return 1 != e.getUTCDate()
                }
                ], ["%B", function(e) {
                    return e.getUTCMonth()
                }
                ], ["%Y", Wr]]);
                function Ws(e) {
                    return JSON.parse(e.responseText)
                }
                function Gs(e) {
                    var t = a.createRange();
                    return t.selectNode(a.body),
                    t.createContextualFragment(e.responseText)
                }
                Vs.year = Et.year.utc,
                Et.scale.utc = function() {
                    return Rs(e.scale.linear(), Vs, qs)
                }
                ,
                e.text = gt((function(e) {
                    return e.responseText
                }
                )),
                e.json = function(e, t) {
                    return yt(e, "application/json", Ws, t)
                }
                ,
                e.html = function(e, t) {
                    return yt(e, "text/html", Gs, t)
                }
                ,
                e.xml = gt((function(e) {
                    return e.responseXML
                }
                )),
                "object" == typeof t && t.exports ? t.exports = e : this.d3 = e
            }
            ).apply(self)
        }
        , {}],
        7: [function(e, t, r) {
            "use strict";
            t.exports = e("./quad")
        }
        , {
            "./quad": 8
        }],
        8: [function(e, t, r) {
            "use strict";
            var n = e("binary-search-bounds")
              , a = e("clamp")
              , i = e("parse-rect")
              , o = e("array-bounds")
              , s = e("pick-by-alias")
              , l = e("defined")
              , c = e("flatten-vertex-data")
              , u = e("is-obj")
              , f = e("dtype")
              , d = e("math-log2");
            function h(e, t) {
                for (var r = t[0], n = t[1], i = 1 / (t[2] - r), o = 1 / (t[3] - n), s = new Array(e.length), l = 0, c = e.length / 2; l < c; l++)
                    s[2 * l] = a((e[2 * l] - r) * i, 0, 1),
                    s[2 * l + 1] = a((e[2 * l + 1] - n) * o, 0, 1);
                return s
            }
            t.exports = function(e, t) {
                t || (t = {}),
                e = c(e, "float64"),
                t = s(t, {
                    bounds: "range bounds dataBox databox",
                    maxDepth: "depth maxDepth maxdepth level maxLevel maxlevel levels",
                    dtype: "type dtype format out dst output destination"
                });
                var r = l(t.maxDepth, 255)
                  , a = l(t.bounds, o(e, 2));
                a[0] === a[2] && a[2]++,
                a[1] === a[3] && a[3]++;
                var p, g = h(e, a), y = e.length >>> 1;
                t.dtype || (t.dtype = "array"),
                "string" == typeof t.dtype ? p = new (f(t.dtype))(y) : t.dtype && (p = t.dtype,
                Array.isArray(p) && (p.length = y));
                for (var v = 0; v < y; ++v)
                    p[v] = v;
                var m = []
                  , b = []
                  , x = []
                  , _ = [];
                !function e(t, n, a, i, o, s) {
                    if (!i.length)
                        return null;
                    var l = m[o] || (m[o] = [])
                      , c = x[o] || (x[o] = [])
                      , u = b[o] || (b[o] = [])
                      , f = l.length;
                    if (++o > r || s > 1073741824) {
                        for (var d = 0; d < i.length; d++)
                            l.push(i[d]),
                            c.push(s),
                            u.push(null, null, null, null);
                        return f
                    }
                    if (l.push(i[0]),
                    c.push(s),
                    i.length <= 1)
                        return u.push(null, null, null, null),
                        f;
                    for (var h = .5 * a, p = t + h, y = n + h, v = [], _ = [], w = [], A = [], k = 1, T = i.length; k < T; k++) {
                        var M = i[k]
                          , S = g[2 * M]
                          , C = g[2 * M + 1];
                        S < p ? C < y ? v.push(M) : _.push(M) : C < y ? w.push(M) : A.push(M)
                    }
                    return s <<= 2,
                    u.push(e(t, n, h, v, o, s), e(t, y, h, _, o, s + 1), e(p, n, h, w, o, s + 2), e(p, y, h, A, o, s + 3)),
                    f
                }(0, 0, 1, p, 0, 1);
                for (var w = 0, A = 0; A < m.length; A++) {
                    var k = m[A];
                    if (p.set)
                        p.set(k, w);
                    else
                        for (var T = 0, M = k.length; T < M; T++)
                            p[T + w] = k[T];
                    var S = w + m[A].length;
                    _[A] = [w, S],
                    w = S
                }
                return p.range = function() {
                    var t, r = [], n = arguments.length;
                    for (; n--; )
                        r[n] = arguments[n];
                    if (u(r[r.length - 1])) {
                        var o = r.pop();
                        r.length || null == o.x && null == o.l && null == o.left || (r = [o],
                        t = {}),
                        t = s(o, {
                            level: "level maxLevel",
                            d: "d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",
                            lod: "lod details ranges offsets"
                        })
                    } else
                        t = {};
                    r.length || (r = a);
                    var c = i.apply(void 0, r)
                      , f = [Math.min(c.x, c.x + c.width), Math.min(c.y, c.y + c.height), Math.max(c.x, c.x + c.width), Math.max(c.y, c.y + c.height)]
                      , p = f[0]
                      , g = f[1]
                      , y = f[2]
                      , v = f[3]
                      , x = h([p, g, y, v], a)
                      , _ = x[0]
                      , w = x[1]
                      , A = x[2]
                      , k = x[3]
                      , T = l(t.level, m.length);
                    if (null != t.d) {
                        var M;
                        "number" == typeof t.d ? M = [t.d, t.d] : t.d.length && (M = t.d),
                        T = Math.min(Math.max(Math.ceil(-d(Math.abs(M[0]) / (a[2] - a[0]))), Math.ceil(-d(Math.abs(M[1]) / (a[3] - a[1])))), T)
                    }
                    if (T = Math.min(T, m.length),
                    t.lod)
                        return C(_, w, A, k, T);
                    var S = [];
                    function O(t, r, n, a, i, o) {
                        if (null !== i && null !== o && !(_ > t + n || w > r + n || A < t || k < r || a >= T || i === o)) {
                            var s = m[a];
                            void 0 === o && (o = s.length);
                            for (var l = i; l < o; l++) {
                                var c = s[l]
                                  , u = e[2 * c]
                                  , f = e[2 * c + 1];
                                u >= p && u <= y && f >= g && f <= v && S.push(c)
                            }
                            var d = b[a]
                              , h = d[4 * i + 0]
                              , x = d[4 * i + 1]
                              , M = d[4 * i + 2]
                              , C = d[4 * i + 3]
                              , L = D(d, i + 1)
                              , E = .5 * n
                              , z = a + 1;
                            O(t, r, E, z, h, x || M || C || L),
                            O(t, r + E, E, z, x, M || C || L),
                            O(t + E, r, E, z, M, C || L),
                            O(t + E, r + E, E, z, C, L)
                        }
                    }
                    function D(e, t) {
                        for (var r = null, n = 0; null === r; )
                            if (r = e[4 * t + n],
                            ++n > e.length)
                                return null;
                        return r
                    }
                    return O(0, 0, 1, 0, 0, 1),
                    S
                }
                ,
                p;
                function C(e, t, r, a, i) {
                    for (var o = [], s = 0; s < i; s++) {
                        var l = x[s]
                          , c = _[s][0]
                          , u = O(e, t, s)
                          , f = O(r, a, s)
                          , d = n.ge(l, u)
                          , h = n.gt(l, f, d, l.length - 1);
                        o[s] = [d + c, h + c]
                    }
                    return o
                }
                function O(e, t, r) {
                    for (var n = 1, a = .5, i = .5, o = .5, s = 0; s < r; s++)
                        n <<= 2,
                        n += e < a ? t < i ? 0 : 1 : t < i ? 2 : 3,
                        o *= .5,
                        a += e < a ? -o : o,
                        i += t < i ? -o : o;
                    return n
                }
            }
        }
        , {
            "array-bounds": 10,
            "binary-search-bounds": 14,
            clamp: 18,
            defined: 41,
            dtype: 44,
            "flatten-vertex-data": 108,
            "is-obj": 151,
            "math-log2": 155,
            "parse-rect": 161,
            "pick-by-alias": 164
        }],
        9: [function(e, t, r) {
            t.exports = function(e) {
                var t = 0
                  , r = 0
                  , n = 0
                  , a = 0;
                return e.map((function(e) {
                    var i = (e = e.slice())[0]
                      , o = i.toUpperCase();
                    if (i != o)
                        switch (e[0] = o,
                        i) {
                        case "a":
                            e[6] += n,
                            e[7] += a;
                            break;
                        case "v":
                            e[1] += a;
                            break;
                        case "h":
                            e[1] += n;
                            break;
                        default:
                            for (var s = 1; s < e.length; )
                                e[s++] += n,
                                e[s++] += a
                        }
                    switch (o) {
                    case "Z":
                        n = t,
                        a = r;
                        break;
                    case "H":
                        n = e[1];
                        break;
                    case "V":
                        a = e[1];
                        break;
                    case "M":
                        n = t = e[1],
                        a = r = e[2];
                        break;
                    default:
                        n = e[e.length - 2],
                        a = e[e.length - 1]
                    }
                    return e
                }
                ))
            }
        }
        , {}],
        10: [function(e, t, r) {
            "use strict";
            t.exports = function(e, t) {
                if (!e || null == e.length)
                    throw Error("Argument should be an array");
                t = null == t ? 1 : Math.floor(t);
                for (var r = Array(2 * t), n = 0; n < t; n++) {
                    for (var a = -1 / 0, i = 1 / 0, o = n, s = e.length; o < s; o += t)
                        e[o] > a && (a = e[o]),
                        e[o] < i && (i = e[o]);
                    r[n] = i,
                    r[t + n] = a
                }
                return r
            }
        }
        , {}],
        11: [function(e, t, r) {
            "use strict";
            t.exports = function(e, t, r) {
                if ("function" == typeof Array.prototype.findIndex)
                    return e.findIndex(t, r);
                if ("function" != typeof t)
                    throw new TypeError("predicate must be a function");
                var n = Object(e)
                  , a = n.length;
                if (0 === a)
                    return -1;
                for (var i = 0; i < a; i++)
                    if (t.call(r, n[i], i, n))
                        return i;
                return -1
            }
        }
        , {}],
        12: [function(e, t, r) {
            "use strict";
            var n = e("array-bounds");
            t.exports = function(e, t, r) {
                if (!e || null == e.length)
                    throw Error("Argument should be an array");
                null == t && (t = 1);
                null == r && (r = n(e, t));
                for (var a = 0; a < t; a++) {
                    var i = r[t + a]
                      , o = r[a]
                      , s = a
                      , l = e.length;
                    if (i === 1 / 0 && o === -1 / 0)
                        for (s = a; s < l; s += t)
                            e[s] = e[s] === i ? 1 : e[s] === o ? 0 : .5;
                    else if (i === 1 / 0)
                        for (s = a; s < l; s += t)
                            e[s] = e[s] === i ? 1 : 0;
                    else if (o === -1 / 0)
                        for (s = a; s < l; s += t)
                            e[s] = e[s] === o ? 0 : 1;
                    else {
                        var c = i - o;
                        for (s = a; s < l; s += t)
                            isNaN(e[s]) || (e[s] = 0 === c ? .5 : (e[s] - o) / c)
                    }
                }
                return e
            }
        }
        , {
            "array-bounds": 10
        }],
        13: [function(e, t, r) {
            "use strict";
            r.byteLength = function(e) {
                var t = c(e)
                  , r = t[0]
                  , n = t[1];
                return 3 * (r + n) / 4 - n
            }
            ,
            r.toByteArray = function(e) {
                var t, r, n = c(e), o = n[0], s = n[1], l = new i(function(e, t, r) {
                    return 3 * (t + r) / 4 - r
                }(0, o, s)), u = 0, f = s > 0 ? o - 4 : o;
                for (r = 0; r < f; r += 4)
                    t = a[e.charCodeAt(r)] << 18 | a[e.charCodeAt(r + 1)] << 12 | a[e.charCodeAt(r + 2)] << 6 | a[e.charCodeAt(r + 3)],
                    l[u++] = t >> 16 & 255,
                    l[u++] = t >> 8 & 255,
                    l[u++] = 255 & t;
                2 === s && (t = a[e.charCodeAt(r)] << 2 | a[e.charCodeAt(r + 1)] >> 4,
                l[u++] = 255 & t);
                1 === s && (t = a[e.charCodeAt(r)] << 10 | a[e.charCodeAt(r + 1)] << 4 | a[e.charCodeAt(r + 2)] >> 2,
                l[u++] = t >> 8 & 255,
                l[u++] = 255 & t);
                return l
            }
            ,
            r.fromByteArray = function(e) {
                for (var t, r = e.length, a = r % 3, i = [], o = 0, s = r - a; o < s; o += 16383)
                    i.push(u(e, o, o + 16383 > s ? s : o + 16383));
                1 === a ? (t = e[r - 1],
                i.push(n[t >> 2] + n[t << 4 & 63] + "==")) : 2 === a && (t = (e[r - 2] << 8) + e[r - 1],
                i.push(n[t >> 10] + n[t >> 4 & 63] + n[t << 2 & 63] + "="));
                return i.join("")
            }
            ;
            for (var n = [], a = [], i = "undefined" != typeof Uint8Array ? Uint8Array : Array, o = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", s = 0, l = o.length; s < l; ++s)
                n[s] = o[s],
                a[o.charCodeAt(s)] = s;
            function c(e) {
                var t = e.length;
                if (t % 4 > 0)
                    throw new Error("Invalid string. Length must be a multiple of 4");
                var r = e.indexOf("=");
                return -1 === r && (r = t),
                [r, r === t ? 0 : 4 - r % 4]
            }
            function u(e, t, r) {
                for (var a, i, o = [], s = t; s < r; s += 3)
                    a = (e[s] << 16 & 16711680) + (e[s + 1] << 8 & 65280) + (255 & e[s + 2]),
                    o.push(n[(i = a) >> 18 & 63] + n[i >> 12 & 63] + n[i >> 6 & 63] + n[63 & i]);
                return o.join("")
            }
            a["-".charCodeAt(0)] = 62,
            a["_".charCodeAt(0)] = 63
        }
        , {}],
        14: [function(e, t, r) {
            "use strict";
            function n(e, t, r, n, a) {
                for (var i = a + 1; n <= a; ) {
                    var o = n + a >>> 1
                      , s = e[o];
                    (void 0 !== r ? r(s, t) : s - t) >= 0 ? (i = o,
                    a = o - 1) : n = o + 1
                }
                return i
            }
            function a(e, t, r, n, a) {
                for (var i = a + 1; n <= a; ) {
                    var o = n + a >>> 1
                      , s = e[o];
                    (void 0 !== r ? r(s, t) : s - t) > 0 ? (i = o,
                    a = o - 1) : n = o + 1
                }
                return i
            }
            function i(e, t, r, n, a) {
                for (var i = n - 1; n <= a; ) {
                    var o = n + a >>> 1
                      , s = e[o];
                    (void 0 !== r ? r(s, t) : s - t) < 0 ? (i = o,
                    n = o + 1) : a = o - 1
                }
                return i
            }
            function o(e, t, r, n, a) {
                for (var i = n - 1; n <= a; ) {
                    var o = n + a >>> 1
                      , s = e[o];
                    (void 0 !== r ? r(s, t) : s - t) <= 0 ? (i = o,
                    n = o + 1) : a = o - 1
                }
                return i
            }
            function s(e, t, r, n, a) {
                for (; n <= a; ) {
                    var i = n + a >>> 1
                      , o = e[i]
                      , s = void 0 !== r ? r(o, t) : o - t;
                    if (0 === s)
                        return i;
                    s <= 0 ? n = i + 1 : a = i - 1
                }
                return -1
            }
            function l(e, t, r, n, a, i) {
                return "function" == typeof r ? i(e, t, r, void 0 === n ? 0 : 0 | n, void 0 === a ? e.length - 1 : 0 | a) : i(e, t, void 0, void 0 === r ? 0 : 0 | r, void 0 === n ? e.length - 1 : 0 | n)
            }
            t.exports = {
                ge: function(e, t, r, a, i) {
                    return l(e, t, r, a, i, n)
                },
                gt: function(e, t, r, n, i) {
                    return l(e, t, r, n, i, a)
                },
                lt: function(e, t, r, n, a) {
                    return l(e, t, r, n, a, i)
                },
                le: function(e, t, r, n, a) {
                    return l(e, t, r, n, a, o)
                },
                eq: function(e, t, r, n, a) {
                    return l(e, t, r, n, a, s)
                }
            }
        }
        , {}],
        15: [function(e, t, r) {
            "use strict";
            function n(e) {
                var t = 32;
                return (e &= -e) && t--,
                65535 & e && (t -= 16),
                16711935 & e && (t -= 8),
                252645135 & e && (t -= 4),
                858993459 & e && (t -= 2),
                1431655765 & e && (t -= 1),
                t
            }
            r.INT_BITS = 32,
            r.INT_MAX = 2147483647,
            r.INT_MIN = -1 << 31,
            r.sign = function(e) {
                return (e > 0) - (e < 0)
            }
            ,
            r.abs = function(e) {
                var t = e >> 31;
                return (e ^ t) - t
            }
            ,
            r.min = function(e, t) {
                return t ^ (e ^ t) & -(e < t)
            }
            ,
            r.max = function(e, t) {
                return e ^ (e ^ t) & -(e < t)
            }
            ,
            r.isPow2 = function(e) {
                return !(e & e - 1 || !e)
            }
            ,
            r.log2 = function(e) {
                var t, r;
                return t = (e > 65535) << 4,
                t |= r = ((e >>>= t) > 255) << 3,
                t |= r = ((e >>>= r) > 15) << 2,
                (t |= r = ((e >>>= r) > 3) << 1) | (e >>>= r) >> 1
            }
            ,
            r.log10 = function(e) {
                return e >= 1e9 ? 9 : e >= 1e8 ? 8 : e >= 1e7 ? 7 : e >= 1e6 ? 6 : e >= 1e5 ? 5 : e >= 1e4 ? 4 : e >= 1e3 ? 3 : e >= 100 ? 2 : e >= 10 ? 1 : 0
            }
            ,
            r.popCount = function(e) {
                return 16843009 * ((e = (858993459 & (e -= e >>> 1 & 1431655765)) + (e >>> 2 & 858993459)) + (e >>> 4) & 252645135) >>> 24
            }
            ,
            r.countTrailingZeros = n,
            r.nextPow2 = function(e) {
                return e += 0 === e,
                --e,
                e |= e >>> 1,
                e |= e >>> 2,
                e |= e >>> 4,
                e |= e >>> 8,
                (e |= e >>> 16) + 1
            }
            ,
            r.prevPow2 = function(e) {
                return e |= e >>> 1,
                e |= e >>> 2,
                e |= e >>> 4,
                e |= e >>> 8,
                (e |= e >>> 16) - (e >>> 1)
            }
            ,
            r.parity = function(e) {
                return e ^= e >>> 16,
                e ^= e >>> 8,
                e ^= e >>> 4,
                27030 >>> (e &= 15) & 1
            }
            ;
            var a = new Array(256);
            !function(e) {
                for (var t = 0; t < 256; ++t) {
                    var r = t
                      , n = t
                      , a = 7;
                    for (r >>>= 1; r; r >>>= 1)
                        n <<= 1,
                        n |= 1 & r,
                        --a;
                    e[t] = n << a & 255
                }
            }(a),
            r.reverse = function(e) {
                return a[255 & e] << 24 | a[e >>> 8 & 255] << 16 | a[e >>> 16 & 255] << 8 | a[e >>> 24 & 255]
            }
            ,
            r.interleave2 = function(e, t) {
                return (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e &= 65535) | e << 8)) | e << 4)) | e << 2)) | e << 1)) | (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t &= 65535) | t << 8)) | t << 4)) | t << 2)) | t << 1)) << 1
            }
            ,
            r.deinterleave2 = function(e, t) {
                return (e = 65535 & ((e = 16711935 & ((e = 252645135 & ((e = 858993459 & ((e = e >>> t & 1431655765) | e >>> 1)) | e >>> 2)) | e >>> 4)) | e >>> 16)) << 16 >> 16
            }
            ,
            r.interleave3 = function(e, t, r) {
                return e = 1227133513 & ((e = 3272356035 & ((e = 251719695 & ((e = 4278190335 & ((e &= 1023) | e << 16)) | e << 8)) | e << 4)) | e << 2),
                (e |= (t = 1227133513 & ((t = 3272356035 & ((t = 251719695 & ((t = 4278190335 & ((t &= 1023) | t << 16)) | t << 8)) | t << 4)) | t << 2)) << 1) | (r = 1227133513 & ((r = 3272356035 & ((r = 251719695 & ((r = 4278190335 & ((r &= 1023) | r << 16)) | r << 8)) | r << 4)) | r << 2)) << 2
            }
            ,
            r.deinterleave3 = function(e, t) {
                return (e = 1023 & ((e = 4278190335 & ((e = 251719695 & ((e = 3272356035 & ((e = e >>> t & 1227133513) | e >>> 2)) | e >>> 4)) | e >>> 8)) | e >>> 16)) << 22 >> 22
            }
            ,
            r.nextCombination = function(e) {
                var t = e | e - 1;
                return t + 1 | (~t & -~t) - 1 >>> n(e) + 1
            }
        }
        , {}],
        16: [function(e, t, r) {
            "use strict";
            var n = e("clamp");
            t.exports = function(e, t) {
                t || (t = {});
                var r, o, s, l, c, u, f, d, h, p, g, y = null == t.cutoff ? .25 : t.cutoff, v = null == t.radius ? 8 : t.radius, m = t.channel || 0;
                if (ArrayBuffer.isView(e) || Array.isArray(e)) {
                    if (!t.width || !t.height)
                        throw Error("For raw data width and height should be provided by options");
                    r = t.width,
                    o = t.height,
                    l = e,
                    u = t.stride ? t.stride : Math.floor(e.length / r / o)
                } else
                    window.HTMLCanvasElement && e instanceof window.HTMLCanvasElement ? (f = (d = e).getContext("2d"),
                    r = d.width,
                    o = d.height,
                    h = f.getImageData(0, 0, r, o),
                    l = h.data,
                    u = 4) : window.CanvasRenderingContext2D && e instanceof window.CanvasRenderingContext2D ? (d = e.canvas,
                    f = e,
                    r = d.width,
                    o = d.height,
                    h = f.getImageData(0, 0, r, o),
                    l = h.data,
                    u = 4) : window.ImageData && e instanceof window.ImageData && (h = e,
                    r = e.width,
                    o = e.height,
                    l = h.data,
                    u = 4);
                if (s = Math.max(r, o),
                window.Uint8ClampedArray && l instanceof window.Uint8ClampedArray || window.Uint8Array && l instanceof window.Uint8Array)
                    for (c = l,
                    l = Array(r * o),
                    p = 0,
                    g = c.length; p < g; p++)
                        l[p] = c[p * u + m] / 255;
                else if (1 !== u)
                    throw Error("Raw data can have only 1 value per pixel");
                var b = Array(r * o)
                  , x = Array(r * o)
                  , _ = Array(s)
                  , w = Array(s)
                  , A = Array(s + 1)
                  , k = Array(s);
                for (p = 0,
                g = r * o; p < g; p++) {
                    var T = l[p];
                    b[p] = 1 === T ? 0 : 0 === T ? a : Math.pow(Math.max(0, .5 - T), 2),
                    x[p] = 1 === T ? a : 0 === T ? 0 : Math.pow(Math.max(0, T - .5), 2)
                }
                i(b, r, o, _, w, k, A),
                i(x, r, o, _, w, k, A);
                var M = window.Float32Array ? new Float32Array(r * o) : new Array(r * o);
                for (p = 0,
                g = r * o; p < g; p++)
                    M[p] = n(1 - ((b[p] - x[p]) / v + y), 0, 1);
                return M
            }
            ;
            var a = 1e20;
            function i(e, t, r, n, a, i, s) {
                for (var l = 0; l < t; l++) {
                    for (var c = 0; c < r; c++)
                        n[c] = e[c * t + l];
                    for (o(n, a, i, s, r),
                    c = 0; c < r; c++)
                        e[c * t + l] = a[c]
                }
                for (c = 0; c < r; c++) {
                    for (l = 0; l < t; l++)
                        n[l] = e[c * t + l];
                    for (o(n, a, i, s, t),
                    l = 0; l < t; l++)
                        e[c * t + l] = Math.sqrt(a[l])
                }
            }
            function o(e, t, r, n, i) {
                r[0] = 0,
                n[0] = -a,
                n[1] = +a;
                for (var o = 1, s = 0; o < i; o++) {
                    for (var l = (e[o] + o * o - (e[r[s]] + r[s] * r[s])) / (2 * o - 2 * r[s]); l <= n[s]; )
                        s--,
                        l = (e[o] + o * o - (e[r[s]] + r[s] * r[s])) / (2 * o - 2 * r[s]);
                    r[++s] = o,
                    n[s] = l,
                    n[s + 1] = +a
                }
                for (o = 0,
                s = 0; o < i; o++) {
                    for (; n[s + 1] < o; )
                        s++;
                    t[o] = (o - r[s]) * (o - r[s]) + e[r[s]]
                }
            }
        }
        , {
            clamp: 18
        }],
        17: [function(e, t, r) {
            (function(t) {
                (function() {
                    /*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
                    "use strict";
                    var t = e("base64-js")
                      , n = e("ieee754");
                    r.Buffer = i,
                    r.SlowBuffer = function(e) {
                        +e != e && (e = 0);
                        return i.alloc(+e)
                    }
                    ,
                    r.INSPECT_MAX_BYTES = 50;
                    function a(e) {
                        if (e > 2147483647)
                            throw new RangeError('The value "' + e + '" is invalid for option "size"');
                        var t = new Uint8Array(e);
                        return t.__proto__ = i.prototype,
                        t
                    }
                    function i(e, t, r) {
                        if ("number" == typeof e) {
                            if ("string" == typeof t)
                                throw new TypeError('The "string" argument must be of type string. Received type number');
                            return l(e)
                        }
                        return o(e, t, r)
                    }
                    function o(e, t, r) {
                        if ("string" == typeof e)
                            return function(e, t) {
                                "string" == typeof t && "" !== t || (t = "utf8");
                                if (!i.isEncoding(t))
                                    throw new TypeError("Unknown encoding: " + t);
                                var r = 0 | f(e, t)
                                  , n = a(r)
                                  , o = n.write(e, t);
                                o !== r && (n = n.slice(0, o));
                                return n
                            }(e, t);
                        if (ArrayBuffer.isView(e))
                            return c(e);
                        if (null == e)
                            throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof e);
                        if (R(e, ArrayBuffer) || e && R(e.buffer, ArrayBuffer))
                            return function(e, t, r) {
                                if (t < 0 || e.byteLength < t)
                                    throw new RangeError('"offset" is outside of buffer bounds');
                                if (e.byteLength < t + (r || 0))
                                    throw new RangeError('"length" is outside of buffer bounds');
                                var n;
                                n = void 0 === t && void 0 === r ? new Uint8Array(e) : void 0 === r ? new Uint8Array(e,t) : new Uint8Array(e,t,r);
                                return n.__proto__ = i.prototype,
                                n
                            }(e, t, r);
                        if ("number" == typeof e)
                            throw new TypeError('The "value" argument must not be of type number. Received type number');
                        var n = e.valueOf && e.valueOf();
                        if (null != n && n !== e)
                            return i.from(n, t, r);
                        var o = function(e) {
                            if (i.isBuffer(e)) {
                                var t = 0 | u(e.length)
                                  , r = a(t);
                                return 0 === r.length || e.copy(r, 0, 0, t),
                                r
                            }
                            if (void 0 !== e.length)
                                return "number" != typeof e.length || j(e.length) ? a(0) : c(e);
                            if ("Buffer" === e.type && Array.isArray(e.data))
                                return c(e.data)
                        }(e);
                        if (o)
                            return o;
                        if ("undefined" != typeof Symbol && null != Symbol.toPrimitive && "function" == typeof e[Symbol.toPrimitive])
                            return i.from(e[Symbol.toPrimitive]("string"), t, r);
                        throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof e)
                    }
                    function s(e) {
                        if ("number" != typeof e)
                            throw new TypeError('"size" argument must be of type number');
                        if (e < 0)
                            throw new RangeError('The value "' + e + '" is invalid for option "size"')
                    }
                    function l(e) {
                        return s(e),
                        a(e < 0 ? 0 : 0 | u(e))
                    }
                    function c(e) {
                        for (var t = e.length < 0 ? 0 : 0 | u(e.length), r = a(t), n = 0; n < t; n += 1)
                            r[n] = 255 & e[n];
                        return r
                    }
                    function u(e) {
                        if (e >= 2147483647)
                            throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + 2147483647..toString(16) + " bytes");
                        return 0 | e
                    }
                    function f(e, t) {
                        if (i.isBuffer(e))
                            return e.length;
                        if (ArrayBuffer.isView(e) || R(e, ArrayBuffer))
                            return e.byteLength;
                        if ("string" != typeof e)
                            throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof e);
                        var r = e.length
                          , n = arguments.length > 2 && !0 === arguments[2];
                        if (!n && 0 === r)
                            return 0;
                        for (var a = !1; ; )
                            switch (t) {
                            case "ascii":
                            case "latin1":
                            case "binary":
                                return r;
                            case "utf8":
                            case "utf-8":
                                return P(e).length;
                            case "ucs2":
                            case "ucs-2":
                            case "utf16le":
                            case "utf-16le":
                                return 2 * r;
                            case "hex":
                                return r >>> 1;
                            case "base64":
                                return I(e).length;
                            default:
                                if (a)
                                    return n ? -1 : P(e).length;
                                t = ("" + t).toLowerCase(),
                                a = !0
                            }
                    }
                    function d(e, t, r) {
                        var n = !1;
                        if ((void 0 === t || t < 0) && (t = 0),
                        t > this.length)
                            return "";
                        if ((void 0 === r || r > this.length) && (r = this.length),
                        r <= 0)
                            return "";
                        if ((r >>>= 0) <= (t >>>= 0))
                            return "";
                        for (e || (e = "utf8"); ; )
                            switch (e) {
                            case "hex":
                                return M(this, t, r);
                            case "utf8":
                            case "utf-8":
                                return A(this, t, r);
                            case "ascii":
                                return k(this, t, r);
                            case "latin1":
                            case "binary":
                                return T(this, t, r);
                            case "base64":
                                return w(this, t, r);
                            case "ucs2":
                            case "ucs-2":
                            case "utf16le":
                            case "utf-16le":
                                return S(this, t, r);
                            default:
                                if (n)
                                    throw new TypeError("Unknown encoding: " + e);
                                e = (e + "").toLowerCase(),
                                n = !0
                            }
                    }
                    function h(e, t, r) {
                        var n = e[t];
                        e[t] = e[r],
                        e[r] = n
                    }
                    function p(e, t, r, n, a) {
                        if (0 === e.length)
                            return -1;
                        if ("string" == typeof r ? (n = r,
                        r = 0) : r > 2147483647 ? r = 2147483647 : r < -2147483648 && (r = -2147483648),
                        j(r = +r) && (r = a ? 0 : e.length - 1),
                        r < 0 && (r = e.length + r),
                        r >= e.length) {
                            if (a)
                                return -1;
                            r = e.length - 1
                        } else if (r < 0) {
                            if (!a)
                                return -1;
                            r = 0
                        }
                        if ("string" == typeof t && (t = i.from(t, n)),
                        i.isBuffer(t))
                            return 0 === t.length ? -1 : g(e, t, r, n, a);
                        if ("number" == typeof t)
                            return t &= 255,
                            "function" == typeof Uint8Array.prototype.indexOf ? a ? Uint8Array.prototype.indexOf.call(e, t, r) : Uint8Array.prototype.lastIndexOf.call(e, t, r) : g(e, [t], r, n, a);
                        throw new TypeError("val must be string, number or Buffer")
                    }
                    function g(e, t, r, n, a) {
                        var i, o = 1, s = e.length, l = t.length;
                        if (void 0 !== n && ("ucs2" === (n = String(n).toLowerCase()) || "ucs-2" === n || "utf16le" === n || "utf-16le" === n)) {
                            if (e.length < 2 || t.length < 2)
                                return -1;
                            o = 2,
                            s /= 2,
                            l /= 2,
                            r /= 2
                        }
                        function c(e, t) {
                            return 1 === o ? e[t] : e.readUInt16BE(t * o)
                        }
                        if (a) {
                            var u = -1;
                            for (i = r; i < s; i++)
                                if (c(e, i) === c(t, -1 === u ? 0 : i - u)) {
                                    if (-1 === u && (u = i),
                                    i - u + 1 === l)
                                        return u * o
                                } else
                                    -1 !== u && (i -= i - u),
                                    u = -1
                        } else
                            for (r + l > s && (r = s - l),
                            i = r; i >= 0; i--) {
                                for (var f = !0, d = 0; d < l; d++)
                                    if (c(e, i + d) !== c(t, d)) {
                                        f = !1;
                                        break
                                    }
                                if (f)
                                    return i
                            }
                        return -1
                    }
                    function y(e, t, r, n) {
                        r = Number(r) || 0;
                        var a = e.length - r;
                        n ? (n = Number(n)) > a && (n = a) : n = a;
                        var i = t.length;
                        n > i / 2 && (n = i / 2);
                        for (var o = 0; o < n; ++o) {
                            var s = parseInt(t.substr(2 * o, 2), 16);
                            if (j(s))
                                return o;
                            e[r + o] = s
                        }
                        return o
                    }
                    function v(e, t, r, n) {
                        return N(P(t, e.length - r), e, r, n)
                    }
                    function m(e, t, r, n) {
                        return N(function(e) {
                            for (var t = [], r = 0; r < e.length; ++r)
                                t.push(255 & e.charCodeAt(r));
                            return t
                        }(t), e, r, n)
                    }
                    function b(e, t, r, n) {
                        return m(e, t, r, n)
                    }
                    function x(e, t, r, n) {
                        return N(I(t), e, r, n)
                    }
                    function _(e, t, r, n) {
                        return N(function(e, t) {
                            for (var r, n, a, i = [], o = 0; o < e.length && !((t -= 2) < 0); ++o)
                                r = e.charCodeAt(o),
                                n = r >> 8,
                                a = r % 256,
                                i.push(a),
                                i.push(n);
                            return i
                        }(t, e.length - r), e, r, n)
                    }
                    function w(e, r, n) {
                        return 0 === r && n === e.length ? t.fromByteArray(e) : t.fromByteArray(e.slice(r, n))
                    }
                    function A(e, t, r) {
                        r = Math.min(e.length, r);
                        for (var n = [], a = t; a < r; ) {
                            var i, o, s, l, c = e[a], u = null, f = c > 239 ? 4 : c > 223 ? 3 : c > 191 ? 2 : 1;
                            if (a + f <= r)
                                switch (f) {
                                case 1:
                                    c < 128 && (u = c);
                                    break;
                                case 2:
                                    128 == (192 & (i = e[a + 1])) && (l = (31 & c) << 6 | 63 & i) > 127 && (u = l);
                                    break;
                                case 3:
                                    i = e[a + 1],
                                    o = e[a + 2],
                                    128 == (192 & i) && 128 == (192 & o) && (l = (15 & c) << 12 | (63 & i) << 6 | 63 & o) > 2047 && (l < 55296 || l > 57343) && (u = l);
                                    break;
                                case 4:
                                    i = e[a + 1],
                                    o = e[a + 2],
                                    s = e[a + 3],
                                    128 == (192 & i) && 128 == (192 & o) && 128 == (192 & s) && (l = (15 & c) << 18 | (63 & i) << 12 | (63 & o) << 6 | 63 & s) > 65535 && l < 1114112 && (u = l)
                                }
                            null === u ? (u = 65533,
                            f = 1) : u > 65535 && (u -= 65536,
                            n.push(u >>> 10 & 1023 | 55296),
                            u = 56320 | 1023 & u),
                            n.push(u),
                            a += f
                        }
                        return function(e) {
                            var t = e.length;
                            if (t <= 4096)
                                return String.fromCharCode.apply(String, e);
                            var r = ""
                              , n = 0;
                            for (; n < t; )
                                r += String.fromCharCode.apply(String, e.slice(n, n += 4096));
                            return r
                        }(n)
                    }
                    r.kMaxLength = 2147483647,
                    i.TYPED_ARRAY_SUPPORT = function() {
                        try {
                            var e = new Uint8Array(1);
                            return e.__proto__ = {
                                __proto__: Uint8Array.prototype,
                                foo: function() {
                                    return 42
                                }
                            },
                            42 === e.foo()
                        } catch (e) {
                            return !1
                        }
                    }(),
                    i.TYPED_ARRAY_SUPPORT || "undefined" == typeof console || "function" != typeof console.error || console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),
                    Object.defineProperty(i.prototype, "parent", {
                        enumerable: !0,
                        get: function() {
                            if (i.isBuffer(this))
                                return this.buffer
                        }
                    }),
                    Object.defineProperty(i.prototype, "offset", {
                        enumerable: !0,
                        get: function() {
                            if (i.isBuffer(this))
                                return this.byteOffset
                        }
                    }),
                    "undefined" != typeof Symbol && null != Symbol.species && i[Symbol.species] === i && Object.defineProperty(i, Symbol.species, {
                        value: null,
                        configurable: !0,
                        enumerable: !1,
                        writable: !1
                    }),
                    i.poolSize = 8192,
                    i.from = function(e, t, r) {
                        return o(e, t, r)
                    }
                    ,
                    i.prototype.__proto__ = Uint8Array.prototype,
                    i.__proto__ = Uint8Array,
                    i.alloc = function(e, t, r) {
                        return function(e, t, r) {
                            return s(e),
                            e <= 0 ? a(e) : void 0 !== t ? "string" == typeof r ? a(e).fill(t, r) : a(e).fill(t) : a(e)
                        }(e, t, r)
                    }
                    ,
                    i.allocUnsafe = function(e) {
                        return l(e)
                    }
                    ,
                    i.allocUnsafeSlow = function(e) {
                        return l(e)
                    }
                    ,
                    i.isBuffer = function(e) {
                        return null != e && !0 === e._isBuffer && e !== i.prototype
                    }
                    ,
                    i.compare = function(e, t) {
                        if (R(e, Uint8Array) && (e = i.from(e, e.offset, e.byteLength)),
                        R(t, Uint8Array) && (t = i.from(t, t.offset, t.byteLength)),
                        !i.isBuffer(e) || !i.isBuffer(t))
                            throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');
                        if (e === t)
                            return 0;
                        for (var r = e.length, n = t.length, a = 0, o = Math.min(r, n); a < o; ++a)
                            if (e[a] !== t[a]) {
                                r = e[a],
                                n = t[a];
                                break
                            }
                        return r < n ? -1 : n < r ? 1 : 0
                    }
                    ,
                    i.isEncoding = function(e) {
                        switch (String(e).toLowerCase()) {
                        case "hex":
                        case "utf8":
                        case "utf-8":
                        case "ascii":
                        case "latin1":
                        case "binary":
                        case "base64":
                        case "ucs2":
                        case "ucs-2":
                        case "utf16le":
                        case "utf-16le":
                            return !0;
                        default:
                            return !1
                        }
                    }
                    ,
                    i.concat = function(e, t) {
                        if (!Array.isArray(e))
                            throw new TypeError('"list" argument must be an Array of Buffers');
                        if (0 === e.length)
                            return i.alloc(0);
                        var r;
                        if (void 0 === t)
                            for (t = 0,
                            r = 0; r < e.length; ++r)
                                t += e[r].length;
                        var n = i.allocUnsafe(t)
                          , a = 0;
                        for (r = 0; r < e.length; ++r) {
                            var o = e[r];
                            if (R(o, Uint8Array) && (o = i.from(o)),
                            !i.isBuffer(o))
                                throw new TypeError('"list" argument must be an Array of Buffers');
                            o.copy(n, a),
                            a += o.length
                        }
                        return n
                    }
                    ,
                    i.byteLength = f,
                    i.prototype._isBuffer = !0,
                    i.prototype.swap16 = function() {
                        var e = this.length;
                        if (e % 2 != 0)
                            throw new RangeError("Buffer size must be a multiple of 16-bits");
                        for (var t = 0; t < e; t += 2)
                            h(this, t, t + 1);
                        return this
                    }
                    ,
                    i.prototype.swap32 = function() {
                        var e = this.length;
                        if (e % 4 != 0)
                            throw new RangeError("Buffer size must be a multiple of 32-bits");
                        for (var t = 0; t < e; t += 4)
                            h(this, t, t + 3),
                            h(this, t + 1, t + 2);
                        return this
                    }
                    ,
                    i.prototype.swap64 = function() {
                        var e = this.length;
                        if (e % 8 != 0)
                            throw new RangeError("Buffer size must be a multiple of 64-bits");
                        for (var t = 0; t < e; t += 8)
                            h(this, t, t + 7),
                            h(this, t + 1, t + 6),
                            h(this, t + 2, t + 5),
                            h(this, t + 3, t + 4);
                        return this
                    }
                    ,
                    i.prototype.toString = function() {
                        var e = this.length;
                        return 0 === e ? "" : 0 === arguments.length ? A(this, 0, e) : d.apply(this, arguments)
                    }
                    ,
                    i.prototype.toLocaleString = i.prototype.toString,
                    i.prototype.equals = function(e) {
                        if (!i.isBuffer(e))
                            throw new TypeError("Argument must be a Buffer");
                        return this === e || 0 === i.compare(this, e)
                    }
                    ,
                    i.prototype.inspect = function() {
                        var e = ""
                          , t = r.INSPECT_MAX_BYTES;
                        return e = this.toString("hex", 0, t).replace(/(.{2})/g, "$1 ").trim(),
                        this.length > t && (e += " ... "),
                        "<Buffer " + e + ">"
                    }
                    ,
                    i.prototype.compare = function(e, t, r, n, a) {
                        if (R(e, Uint8Array) && (e = i.from(e, e.offset, e.byteLength)),
                        !i.isBuffer(e))
                            throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type ' + typeof e);
                        if (void 0 === t && (t = 0),
                        void 0 === r && (r = e ? e.length : 0),
                        void 0 === n && (n = 0),
                        void 0 === a && (a = this.length),
                        t < 0 || r > e.length || n < 0 || a > this.length)
                            throw new RangeError("out of range index");
                        if (n >= a && t >= r)
                            return 0;
                        if (n >= a)
                            return -1;
                        if (t >= r)
                            return 1;
                        if (this === e)
                            return 0;
                        for (var o = (a >>>= 0) - (n >>>= 0), s = (r >>>= 0) - (t >>>= 0), l = Math.min(o, s), c = this.slice(n, a), u = e.slice(t, r), f = 0; f < l; ++f)
                            if (c[f] !== u[f]) {
                                o = c[f],
                                s = u[f];
                                break
                            }
                        return o < s ? -1 : s < o ? 1 : 0
                    }
                    ,
                    i.prototype.includes = function(e, t, r) {
                        return -1 !== this.indexOf(e, t, r)
                    }
                    ,
                    i.prototype.indexOf = function(e, t, r) {
                        return p(this, e, t, r, !0)
                    }
                    ,
                    i.prototype.lastIndexOf = function(e, t, r) {
                        return p(this, e, t, r, !1)
                    }
                    ,
                    i.prototype.write = function(e, t, r, n) {
                        if (void 0 === t)
                            n = "utf8",
                            r = this.length,
                            t = 0;
                        else if (void 0 === r && "string" == typeof t)
                            n = t,
                            r = this.length,
                            t = 0;
                        else {
                            if (!isFinite(t))
                                throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
                            t >>>= 0,
                            isFinite(r) ? (r >>>= 0,
                            void 0 === n && (n = "utf8")) : (n = r,
                            r = void 0)
                        }
                        var a = this.length - t;
                        if ((void 0 === r || r > a) && (r = a),
                        e.length > 0 && (r < 0 || t < 0) || t > this.length)
                            throw new RangeError("Attempt to write outside buffer bounds");
                        n || (n = "utf8");
                        for (var i = !1; ; )
                            switch (n) {
                            case "hex":
                                return y(this, e, t, r);
                            case "utf8":
                            case "utf-8":
                                return v(this, e, t, r);
                            case "ascii":
                                return m(this, e, t, r);
                            case "latin1":
                            case "binary":
                                return b(this, e, t, r);
                            case "base64":
                                return x(this, e, t, r);
                            case "ucs2":
                            case "ucs-2":
                            case "utf16le":
                            case "utf-16le":
                                return _(this, e, t, r);
                            default:
                                if (i)
                                    throw new TypeError("Unknown encoding: " + n);
                                n = ("" + n).toLowerCase(),
                                i = !0
                            }
                    }
                    ,
                    i.prototype.toJSON = function() {
                        return {
                            type: "Buffer",
                            data: Array.prototype.slice.call(this._arr || this, 0)
                        }
                    }
                    ;
                    function k(e, t, r) {
                        var n = "";
                        r = Math.min(e.length, r);
                        for (var a = t; a < r; ++a)
                            n += String.fromCharCode(127 & e[a]);
                        return n
                    }
                    function T(e, t, r) {
                        var n = "";
                        r = Math.min(e.length, r);
                        for (var a = t; a < r; ++a)
                            n += String.fromCharCode(e[a]);
                        return n
                    }
                    function M(e, t, r) {
                        var n = e.length;
                        (!t || t < 0) && (t = 0),
                        (!r || r < 0 || r > n) && (r = n);
                        for (var a = "", i = t; i < r; ++i)
                            a += F(e[i]);
                        return a
                    }
                    function S(e, t, r) {
                        for (var n = e.slice(t, r), a = "", i = 0; i < n.length; i += 2)
                            a += String.fromCharCode(n[i] + 256 * n[i + 1]);
                        return a
                    }
                    function C(e, t, r) {
                        if (e % 1 != 0 || e < 0)
                            throw new RangeError("offset is not uint");
                        if (e + t > r)
                            throw new RangeError("Trying to access beyond buffer length")
                    }
                    function O(e, t, r, n, a, o) {
                        if (!i.isBuffer(e))
                            throw new TypeError('"buffer" argument must be a Buffer instance');
                        if (t > a || t < o)
                            throw new RangeError('"value" argument is out of bounds');
                        if (r + n > e.length)
                            throw new RangeError("Index out of range")
                    }
                    function D(e, t, r, n, a, i) {
                        if (r + n > e.length)
                            throw new RangeError("Index out of range");
                        if (r < 0)
                            throw new RangeError("Index out of range")
                    }
                    function L(e, t, r, a, i) {
                        return t = +t,
                        r >>>= 0,
                        i || D(e, 0, r, 4),
                        n.write(e, t, r, a, 23, 4),
                        r + 4
                    }
                    function E(e, t, r, a, i) {
                        return t = +t,
                        r >>>= 0,
                        i || D(e, 0, r, 8),
                        n.write(e, t, r, a, 52, 8),
                        r + 8
                    }
                    i.prototype.slice = function(e, t) {
                        var r = this.length;
                        (e = ~~e) < 0 ? (e += r) < 0 && (e = 0) : e > r && (e = r),
                        (t = void 0 === t ? r : ~~t) < 0 ? (t += r) < 0 && (t = 0) : t > r && (t = r),
                        t < e && (t = e);
                        var n = this.subarray(e, t);
                        return n.__proto__ = i.prototype,
                        n
                    }
                    ,
                    i.prototype.readUIntLE = function(e, t, r) {
                        e >>>= 0,
                        t >>>= 0,
                        r || C(e, t, this.length);
                        for (var n = this[e], a = 1, i = 0; ++i < t && (a *= 256); )
                            n += this[e + i] * a;
                        return n
                    }
                    ,
                    i.prototype.readUIntBE = function(e, t, r) {
                        e >>>= 0,
                        t >>>= 0,
                        r || C(e, t, this.length);
                        for (var n = this[e + --t], a = 1; t > 0 && (a *= 256); )
                            n += this[e + --t] * a;
                        return n
                    }
                    ,
                    i.prototype.readUInt8 = function(e, t) {
                        return e >>>= 0,
                        t || C(e, 1, this.length),
                        this[e]
                    }
                    ,
                    i.prototype.readUInt16LE = function(e, t) {
                        return e >>>= 0,
                        t || C(e, 2, this.length),
                        this[e] | this[e + 1] << 8
                    }
                    ,
                    i.prototype.readUInt16BE = function(e, t) {
                        return e >>>= 0,
                        t || C(e, 2, this.length),
                        this[e] << 8 | this[e + 1]
                    }
                    ,
                    i.prototype.readUInt32LE = function(e, t) {
                        return e >>>= 0,
                        t || C(e, 4, this.length),
                        (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3]
                    }
                    ,
                    i.prototype.readUInt32BE = function(e, t) {
                        return e >>>= 0,
                        t || C(e, 4, this.length),
                        16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3])
                    }
                    ,
                    i.prototype.readIntLE = function(e, t, r) {
                        e >>>= 0,
                        t >>>= 0,
                        r || C(e, t, this.length);
                        for (var n = this[e], a = 1, i = 0; ++i < t && (a *= 256); )
                            n += this[e + i] * a;
                        return n >= (a *= 128) && (n -= Math.pow(2, 8 * t)),
                        n
                    }
                    ,
                    i.prototype.readIntBE = function(e, t, r) {
                        e >>>= 0,
                        t >>>= 0,
                        r || C(e, t, this.length);
                        for (var n = t, a = 1, i = this[e + --n]; n > 0 && (a *= 256); )
                            i += this[e + --n] * a;
                        return i >= (a *= 128) && (i -= Math.pow(2, 8 * t)),
                        i
                    }
                    ,
                    i.prototype.readInt8 = function(e, t) {
                        return e >>>= 0,
                        t || C(e, 1, this.length),
                        128 & this[e] ? -1 * (255 - this[e] + 1) : this[e]
                    }
                    ,
                    i.prototype.readInt16LE = function(e, t) {
                        e >>>= 0,
                        t || C(e, 2, this.length);
                        var r = this[e] | this[e + 1] << 8;
                        return 32768 & r ? 4294901760 | r : r
                    }
                    ,
                    i.prototype.readInt16BE = function(e, t) {
                        e >>>= 0,
                        t || C(e, 2, this.length);
                        var r = this[e + 1] | this[e] << 8;
                        return 32768 & r ? 4294901760 | r : r
                    }
                    ,
                    i.prototype.readInt32LE = function(e, t) {
                        return e >>>= 0,
                        t || C(e, 4, this.length),
                        this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24
                    }
                    ,
                    i.prototype.readInt32BE = function(e, t) {
                        return e >>>= 0,
                        t || C(e, 4, this.length),
                        this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]
                    }
                    ,
                    i.prototype.readFloatLE = function(e, t) {
                        return e >>>= 0,
                        t || C(e, 4, this.length),
                        n.read(this, e, !0, 23, 4)
                    }
                    ,
                    i.prototype.readFloatBE = function(e, t) {
                        return e >>>= 0,
                        t || C(e, 4, this.length),
                        n.read(this, e, !1, 23, 4)
                    }
                    ,
                    i.prototype.readDoubleLE = function(e, t) {
                        return e >>>= 0,
                        t || C(e, 8, this.length),
                        n.read(this, e, !0, 52, 8)
                    }
                    ,
                    i.prototype.readDoubleBE = function(e, t) {
                        return e >>>= 0,
                        t || C(e, 8, this.length),
                        n.read(this, e, !1, 52, 8)
                    }
                    ,
                    i.prototype.writeUIntLE = function(e, t, r, n) {
                        (e = +e,
                        t >>>= 0,
                        r >>>= 0,
                        n) || O(this, e, t, r, Math.pow(2, 8 * r) - 1, 0);
                        var a = 1
                          , i = 0;
                        for (this[t] = 255 & e; ++i < r && (a *= 256); )
                            this[t + i] = e / a & 255;
                        return t + r
                    }
                    ,
                    i.prototype.writeUIntBE = function(e, t, r, n) {
                        (e = +e,
                        t >>>= 0,
                        r >>>= 0,
                        n) || O(this, e, t, r, Math.pow(2, 8 * r) - 1, 0);
                        var a = r - 1
                          , i = 1;
                        for (this[t + a] = 255 & e; --a >= 0 && (i *= 256); )
                            this[t + a] = e / i & 255;
                        return t + r
                    }
                    ,
                    i.prototype.writeUInt8 = function(e, t, r) {
                        return e = +e,
                        t >>>= 0,
                        r || O(this, e, t, 1, 255, 0),
                        this[t] = 255 & e,
                        t + 1
                    }
                    ,
                    i.prototype.writeUInt16LE = function(e, t, r) {
                        return e = +e,
                        t >>>= 0,
                        r || O(this, e, t, 2, 65535, 0),
                        this[t] = 255 & e,
                        this[t + 1] = e >>> 8,
                        t + 2
                    }
                    ,
                    i.prototype.writeUInt16BE = function(e, t, r) {
                        return e = +e,
                        t >>>= 0,
                        r || O(this, e, t, 2, 65535, 0),
                        this[t] = e >>> 8,
                        this[t + 1] = 255 & e,
                        t + 2
                    }
                    ,
                    i.prototype.writeUInt32LE = function(e, t, r) {
                        return e = +e,
                        t >>>= 0,
                        r || O(this, e, t, 4, 4294967295, 0),
                        this[t + 3] = e >>> 24,
                        this[t + 2] = e >>> 16,
                        this[t + 1] = e >>> 8,
                        this[t] = 255 & e,
                        t + 4
                    }
                    ,
                    i.prototype.writeUInt32BE = function(e, t, r) {
                        return e = +e,
                        t >>>= 0,
                        r || O(this, e, t, 4, 4294967295, 0),
                        this[t] = e >>> 24,
                        this[t + 1] = e >>> 16,
                        this[t + 2] = e >>> 8,
                        this[t + 3] = 255 & e,
                        t + 4
                    }
                    ,
                    i.prototype.writeIntLE = function(e, t, r, n) {
                        if (e = +e,
                        t >>>= 0,
                        !n) {
                            var a = Math.pow(2, 8 * r - 1);
                            O(this, e, t, r, a - 1, -a)
                        }
                        var i = 0
                          , o = 1
                          , s = 0;
                        for (this[t] = 255 & e; ++i < r && (o *= 256); )
                            e < 0 && 0 === s && 0 !== this[t + i - 1] && (s = 1),
                            this[t + i] = (e / o >> 0) - s & 255;
                        return t + r
                    }
                    ,
                    i.prototype.writeIntBE = function(e, t, r, n) {
                        if (e = +e,
                        t >>>= 0,
                        !n) {
                            var a = Math.pow(2, 8 * r - 1);
                            O(this, e, t, r, a - 1, -a)
                        }
                        var i = r - 1
                          , o = 1
                          , s = 0;
                        for (this[t + i] = 255 & e; --i >= 0 && (o *= 256); )
                            e < 0 && 0 === s && 0 !== this[t + i + 1] && (s = 1),
                            this[t + i] = (e / o >> 0) - s & 255;
                        return t + r
                    }
                    ,
                    i.prototype.writeInt8 = function(e, t, r) {
                        return e = +e,
                        t >>>= 0,
                        r || O(this, e, t, 1, 127, -128),
                        e < 0 && (e = 255 + e + 1),
                        this[t] = 255 & e,
                        t + 1
                    }
                    ,
                    i.prototype.writeInt16LE = function(e, t, r) {
                        return e = +e,
                        t >>>= 0,
                        r || O(this, e, t, 2, 32767, -32768),
                        this[t] = 255 & e,
                        this[t + 1] = e >>> 8,
                        t + 2
                    }
                    ,
                    i.prototype.writeInt16BE = function(e, t, r) {
                        return e = +e,
                        t >>>= 0,
                        r || O(this, e, t, 2, 32767, -32768),
                        this[t] = e >>> 8,
                        this[t + 1] = 255 & e,
                        t + 2
                    }
                    ,
                    i.prototype.writeInt32LE = function(e, t, r) {
                        return e = +e,
                        t >>>= 0,
                        r || O(this, e, t, 4, 2147483647, -2147483648),
                        this[t] = 255 & e,
                        this[t + 1] = e >>> 8,
                        this[t + 2] = e >>> 16,
                        this[t + 3] = e >>> 24,
                        t + 4
                    }
                    ,
                    i.prototype.writeInt32BE = function(e, t, r) {
                        return e = +e,
                        t >>>= 0,
                        r || O(this, e, t, 4, 2147483647, -2147483648),
                        e < 0 && (e = 4294967295 + e + 1),
                        this[t] = e >>> 24,
                        this[t + 1] = e >>> 16,
                        this[t + 2] = e >>> 8,
                        this[t + 3] = 255 & e,
                        t + 4
                    }
                    ,
                    i.prototype.writeFloatLE = function(e, t, r) {
                        return L(this, e, t, !0, r)
                    }
                    ,
                    i.prototype.writeFloatBE = function(e, t, r) {
                        return L(this, e, t, !1, r)
                    }
                    ,
                    i.prototype.writeDoubleLE = function(e, t, r) {
                        return E(this, e, t, !0, r)
                    }
                    ,
                    i.prototype.writeDoubleBE = function(e, t, r) {
                        return E(this, e, t, !1, r)
                    }
                    ,
                    i.prototype.copy = function(e, t, r, n) {
                        if (!i.isBuffer(e))
                            throw new TypeError("argument should be a Buffer");
                        if (r || (r = 0),
                        n || 0 === n || (n = this.length),
                        t >= e.length && (t = e.length),
                        t || (t = 0),
                        n > 0 && n < r && (n = r),
                        n === r)
                            return 0;
                        if (0 === e.length || 0 === this.length)
                            return 0;
                        if (t < 0)
                            throw new RangeError("targetStart out of bounds");
                        if (r < 0 || r >= this.length)
                            throw new RangeError("Index out of range");
                        if (n < 0)
                            throw new RangeError("sourceEnd out of bounds");
                        n > this.length && (n = this.length),
                        e.length - t < n - r && (n = e.length - t + r);
                        var a = n - r;
                        if (this === e && "function" == typeof Uint8Array.prototype.copyWithin)
                            this.copyWithin(t, r, n);
                        else if (this === e && r < t && t < n)
                            for (var o = a - 1; o >= 0; --o)
                                e[o + t] = this[o + r];
                        else
                            Uint8Array.prototype.set.call(e, this.subarray(r, n), t);
                        return a
                    }
                    ,
                    i.prototype.fill = function(e, t, r, n) {
                        if ("string" == typeof e) {
                            if ("string" == typeof t ? (n = t,
                            t = 0,
                            r = this.length) : "string" == typeof r && (n = r,
                            r = this.length),
                            void 0 !== n && "string" != typeof n)
                                throw new TypeError("encoding must be a string");
                            if ("string" == typeof n && !i.isEncoding(n))
                                throw new TypeError("Unknown encoding: " + n);
                            if (1 === e.length) {
                                var a = e.charCodeAt(0);
                                ("utf8" === n && a < 128 || "latin1" === n) && (e = a)
                            }
                        } else
                            "number" == typeof e && (e &= 255);
                        if (t < 0 || this.length < t || this.length < r)
                            throw new RangeError("Out of range index");
                        if (r <= t)
                            return this;
                        var o;
                        if (t >>>= 0,
                        r = void 0 === r ? this.length : r >>> 0,
                        e || (e = 0),
                        "number" == typeof e)
                            for (o = t; o < r; ++o)
                                this[o] = e;
                        else {
                            var s = i.isBuffer(e) ? e : i.from(e, n)
                              , l = s.length;
                            if (0 === l)
                                throw new TypeError('The value "' + e + '" is invalid for argument "value"');
                            for (o = 0; o < r - t; ++o)
                                this[o + t] = s[o % l]
                        }
                        return this
                    }
                    ;
                    var z = /[^+/0-9A-Za-z-_]/g;
                    function F(e) {
                        return e < 16 ? "0" + e.toString(16) : e.toString(16)
                    }
                    function P(e, t) {
                        var r;
                        t = t || 1 / 0;
                        for (var n = e.length, a = null, i = [], o = 0; o < n; ++o) {
                            if ((r = e.charCodeAt(o)) > 55295 && r < 57344) {
                                if (!a) {
                                    if (r > 56319) {
                                        (t -= 3) > -1 && i.push(239, 191, 189);
                                        continue
                                    }
                                    if (o + 1 === n) {
                                        (t -= 3) > -1 && i.push(239, 191, 189);
                                        continue
                                    }
                                    a = r;
                                    continue
                                }
                                if (r < 56320) {
                                    (t -= 3) > -1 && i.push(239, 191, 189),
                                    a = r;
                                    continue
                                }
                                r = 65536 + (a - 55296 << 10 | r - 56320)
                            } else
                                a && (t -= 3) > -1 && i.push(239, 191, 189);
                            if (a = null,
                            r < 128) {
                                if ((t -= 1) < 0)
                                    break;
                                i.push(r)
                            } else if (r < 2048) {
                                if ((t -= 2) < 0)
                                    break;
                                i.push(r >> 6 | 192, 63 & r | 128)
                            } else if (r < 65536) {
                                if ((t -= 3) < 0)
                                    break;
                                i.push(r >> 12 | 224, r >> 6 & 63 | 128, 63 & r | 128)
                            } else {
                                if (!(r < 1114112))
                                    throw new Error("Invalid code point");
                                if ((t -= 4) < 0)
                                    break;
                                i.push(r >> 18 | 240, r >> 12 & 63 | 128, r >> 6 & 63 | 128, 63 & r | 128)
                            }
                        }
                        return i
                    }
                    function I(e) {
                        return t.toByteArray(function(e) {
                            if ((e = (e = e.split("=")[0]).trim().replace(z, "")).length < 2)
                                return "";
                            for (; e.length % 4 != 0; )
                                e += "=";
                            return e
                        }(e))
                    }
                    function N(e, t, r, n) {
                        for (var a = 0; a < n && !(a + r >= t.length || a >= e.length); ++a)
                            t[a + r] = e[a];
                        return a
                    }
                    function R(e, t) {
                        return e instanceof t || null != e && null != e.constructor && null != e.constructor.name && e.constructor.name === t.name
                    }
                    function j(e) {
                        return e != e
                    }
                }
                ).call(this)
            }
            ).call(this, e("buffer").Buffer)
        }
        , {
            "base64-js": 13,
            buffer: 17,
            ieee754: 147
        }],
        18: [function(e, t, r) {
            t.exports = function(e, t, r) {
                return t < r ? e < t ? t : e > r ? r : e : e < r ? r : e > t ? t : e
            }
        }
        , {}],
        19: [function(e, t, r) {
            "use strict";
            var n = e("clamp");
            function a(e, t) {
                null == t && (t = !0);
                var r = e[0]
                  , a = e[1]
                  , i = e[2]
                  , o = e[3];
                return null == o && (o = t ? 1 : 255),
                t && (r *= 255,
                a *= 255,
                i *= 255,
                o *= 255),
                16777216 * (r = 255 & n(r, 0, 255)) + ((a = 255 & n(a, 0, 255)) << 16) + ((i = 255 & n(i, 0, 255)) << 8) + (o = 255 & n(o, 0, 255))
            }
            t.exports = a,
            t.exports.to = a,
            t.exports.from = function(e, t) {
                var r = (e = +e) >>> 24
                  , n = (16711680 & e) >>> 16
                  , a = (65280 & e) >>> 8
                  , i = 255 & e;
                return !1 === t ? [r, n, a, i] : [r / 255, n / 255, a / 255, i / 255]
            }
        }
        , {
            clamp: 18
        }],
        20: [function(e, t, r) {
            "use strict";
            t.exports = {
                aliceblue: [240, 248, 255],
                antiquewhite: [250, 235, 215],
                aqua: [0, 255, 255],
                aquamarine: [127, 255, 212],
                azure: [240, 255, 255],
                beige: [245, 245, 220],
                bisque: [255, 228, 196],
                black: [0, 0, 0],
                blanchedalmond: [255, 235, 205],
                blue: [0, 0, 255],
                blueviolet: [138, 43, 226],
                brown: [165, 42, 42],
                burlywood: [222, 184, 135],
                cadetblue: [95, 158, 160],
                chartreuse: [127, 255, 0],
                chocolate: [210, 105, 30],
                coral: [255, 127, 80],
                cornflowerblue: [100, 149, 237],
                cornsilk: [255, 248, 220],
                crimson: [220, 20, 60],
                cyan: [0, 255, 255],
                darkblue: [0, 0, 139],
                darkcyan: [0, 139, 139],
                darkgoldenrod: [184, 134, 11],
                darkgray: [169, 169, 169],
                darkgreen: [0, 100, 0],
                darkgrey: [169, 169, 169],
                darkkhaki: [189, 183, 107],
                darkmagenta: [139, 0, 139],
                darkolivegreen: [85, 107, 47],
                darkorange: [255, 140, 0],
                darkorchid: [153, 50, 204],
                darkred: [139, 0, 0],
                darksalmon: [233, 150, 122],
                darkseagreen: [143, 188, 143],
                darkslateblue: [72, 61, 139],
                darkslategray: [47, 79, 79],
                darkslategrey: [47, 79, 79],
                darkturquoise: [0, 206, 209],
                darkviolet: [148, 0, 211],
                deeppink: [255, 20, 147],
                deepskyblue: [0, 191, 255],
                dimgray: [105, 105, 105],
                dimgrey: [105, 105, 105],
                dodgerblue: [30, 144, 255],
                firebrick: [178, 34, 34],
                floralwhite: [255, 250, 240],
                forestgreen: [34, 139, 34],
                fuchsia: [255, 0, 255],
                gainsboro: [220, 220, 220],
                ghostwhite: [248, 248, 255],
                gold: [255, 215, 0],
                goldenrod: [218, 165, 32],
                gray: [128, 128, 128],
                green: [0, 128, 0],
                greenyellow: [173, 255, 47],
                grey: [128, 128, 128],
                honeydew: [240, 255, 240],
                hotpink: [255, 105, 180],
                indianred: [205, 92, 92],
                indigo: [75, 0, 130],
                ivory: [255, 255, 240],
                khaki: [240, 230, 140],
                lavender: [230, 230, 250],
                lavenderblush: [255, 240, 245],
                lawngreen: [124, 252, 0],
                lemonchiffon: [255, 250, 205],
                lightblue: [173, 216, 230],
                lightcoral: [240, 128, 128],
                lightcyan: [224, 255, 255],
                lightgoldenrodyellow: [250, 250, 210],
                lightgray: [211, 211, 211],
                lightgreen: [144, 238, 144],
                lightgrey: [211, 211, 211],
                lightpink: [255, 182, 193],
                lightsalmon: [255, 160, 122],
                lightseagreen: [32, 178, 170],
                lightskyblue: [135, 206, 250],
                lightslategray: [119, 136, 153],
                lightslategrey: [119, 136, 153],
                lightsteelblue: [176, 196, 222],
                lightyellow: [255, 255, 224],
                lime: [0, 255, 0],
                limegreen: [50, 205, 50],
                linen: [250, 240, 230],
                magenta: [255, 0, 255],
                maroon: [128, 0, 0],
                mediumaquamarine: [102, 205, 170],
                mediumblue: [0, 0, 205],
                mediumorchid: [186, 85, 211],
                mediumpurple: [147, 112, 219],
                mediumseagreen: [60, 179, 113],
                mediumslateblue: [123, 104, 238],
                mediumspringgreen: [0, 250, 154],
                mediumturquoise: [72, 209, 204],
                mediumvioletred: [199, 21, 133],
                midnightblue: [25, 25, 112],
                mintcream: [245, 255, 250],
                mistyrose: [255, 228, 225],
                moccasin: [255, 228, 181],
                navajowhite: [255, 222, 173],
                navy: [0, 0, 128],
                oldlace: [253, 245, 230],
                olive: [128, 128, 0],
                olivedrab: [107, 142, 35],
                orange: [255, 165, 0],
                orangered: [255, 69, 0],
                orchid: [218, 112, 214],
                palegoldenrod: [238, 232, 170],
                palegreen: [152, 251, 152],
                paleturquoise: [175, 238, 238],
                palevioletred: [219, 112, 147],
                papayawhip: [255, 239, 213],
                peachpuff: [255, 218, 185],
                peru: [205, 133, 63],
                pink: [255, 192, 203],
                plum: [221, 160, 221],
                powderblue: [176, 224, 230],
                purple: [128, 0, 128],
                rebeccapurple: [102, 51, 153],
                red: [255, 0, 0],
                rosybrown: [188, 143, 143],
                royalblue: [65, 105, 225],
                saddlebrown: [139, 69, 19],
                salmon: [250, 128, 114],
                sandybrown: [244, 164, 96],
                seagreen: [46, 139, 87],
                seashell: [255, 245, 238],
                sienna: [160, 82, 45],
                silver: [192, 192, 192],
                skyblue: [135, 206, 235],
                slateblue: [106, 90, 205],
                slategray: [112, 128, 144],
                slategrey: [112, 128, 144],
                snow: [255, 250, 250],
                springgreen: [0, 255, 127],
                steelblue: [70, 130, 180],
                tan: [210, 180, 140],
                teal: [0, 128, 128],
                thistle: [216, 191, 216],
                tomato: [255, 99, 71],
                turquoise: [64, 224, 208],
                violet: [238, 130, 238],
                wheat: [245, 222, 179],
                white: [255, 255, 255],
                whitesmoke: [245, 245, 245],
                yellow: [255, 255, 0],
                yellowgreen: [154, 205, 50]
            }
        }
        , {}],
        21: [function(e, t, r) {
            "use strict";
            var n = e("color-rgba")
              , a = e("clamp")
              , i = e("dtype");
            t.exports = function(e, t) {
                "float" !== t && t || (t = "array"),
                "uint" === t && (t = "uint8"),
                "uint_clamped" === t && (t = "uint8_clamped");
                var r = new (i(t))(4)
                  , o = "uint8" !== t && "uint8_clamped" !== t;
                return e.length && "string" != typeof e || ((e = n(e))[0] /= 255,
                e[1] /= 255,
                e[2] /= 255),
                function(e) {
                    return e instanceof Uint8Array || e instanceof Uint8ClampedArray || !!(Array.isArray(e) && (e[0] > 1 || 0 === e[0]) && (e[1] > 1 || 0 === e[1]) && (e[2] > 1 || 0 === e[2]) && (!e[3] || e[3] > 1))
                }(e) ? (r[0] = e[0],
                r[1] = e[1],
                r[2] = e[2],
                r[3] = null != e[3] ? e[3] : 255,
                o && (r[0] /= 255,
                r[1] /= 255,
                r[2] /= 255,
                r[3] /= 255),
                r) : (o ? (r[0] = e[0],
                r[1] = e[1],
                r[2] = e[2],
                r[3] = null != e[3] ? e[3] : 1) : (r[0] = a(Math.floor(255 * e[0]), 0, 255),
                r[1] = a(Math.floor(255 * e[1]), 0, 255),
                r[2] = a(Math.floor(255 * e[2]), 0, 255),
                r[3] = null == e[3] ? 255 : a(Math.floor(255 * e[3]), 0, 255)),
                r)
            }
        }
        , {
            clamp: 18,
            "color-rgba": 23,
            dtype: 44
        }],
        22: [function(e, t, r) {
            (function(r) {
                (function() {
                    "use strict";
                    var n = e("color-name")
                      , a = e("is-plain-obj")
                      , i = e("defined");
                    t.exports = function(e) {
                        var t, s, l = [], c = 1;
                        if ("string" == typeof e)
                            if (n[e])
                                l = n[e].slice(),
                                s = "rgb";
                            else if ("transparent" === e)
                                c = 0,
                                s = "rgb",
                                l = [0, 0, 0];
                            else if (/^#[A-Fa-f0-9]+$/.test(e)) {
                                var u = (h = e.slice(1)).length;
                                c = 1,
                                u <= 4 ? (l = [parseInt(h[0] + h[0], 16), parseInt(h[1] + h[1], 16), parseInt(h[2] + h[2], 16)],
                                4 === u && (c = parseInt(h[3] + h[3], 16) / 255)) : (l = [parseInt(h[0] + h[1], 16), parseInt(h[2] + h[3], 16), parseInt(h[4] + h[5], 16)],
                                8 === u && (c = parseInt(h[6] + h[7], 16) / 255)),
                                l[0] || (l[0] = 0),
                                l[1] || (l[1] = 0),
                                l[2] || (l[2] = 0),
                                s = "rgb"
                            } else if (t = /^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)) {
                                var f = t[1]
                                  , d = "rgb" === f
                                  , h = f.replace(/a$/, "");
                                s = h;
                                u = "cmyk" === h ? 4 : "gray" === h ? 1 : 3;
                                l = t[2].trim().split(/\s*,\s*/).map((function(e, t) {
                                    if (/%$/.test(e))
                                        return t === u ? parseFloat(e) / 100 : "rgb" === h ? 255 * parseFloat(e) / 100 : parseFloat(e);
                                    if ("h" === h[t]) {
                                        if (/deg$/.test(e))
                                            return parseFloat(e);
                                        if (void 0 !== o[e])
                                            return o[e]
                                    }
                                    return parseFloat(e)
                                }
                                )),
                                f === h && l.push(1),
                                c = d || void 0 === l[u] ? 1 : l[u],
                                l = l.slice(0, u)
                            } else
                                e.length > 10 && /[0-9](?:\s|\/)/.test(e) && (l = e.match(/([0-9]+)/g).map((function(e) {
                                    return parseFloat(e)
                                }
                                )),
                                s = e.match(/([a-z])/gi).join("").toLowerCase());
                        else if (isNaN(e))
                            if (a(e)) {
                                var p = i(e.r, e.red, e.R, null);
                                null !== p ? (s = "rgb",
                                l = [p, i(e.g, e.green, e.G), i(e.b, e.blue, e.B)]) : (s = "hsl",
                                l = [i(e.h, e.hue, e.H), i(e.s, e.saturation, e.S), i(e.l, e.lightness, e.L, e.b, e.brightness)]),
                                c = i(e.a, e.alpha, e.opacity, 1),
                                null != e.opacity && (c /= 100)
                            } else
                                (Array.isArray(e) || r.ArrayBuffer && ArrayBuffer.isView && ArrayBuffer.isView(e)) && (l = [e[0], e[1], e[2]],
                                s = "rgb",
                                c = 4 === e.length ? e[3] : 1);
                        else
                            s = "rgb",
                            l = [e >>> 16, (65280 & e) >>> 8, 255 & e];
                        return {
                            space: s,
                            values: l,
                            alpha: c
                        }
                    }
                    ;
                    var o = {
                        red: 0,
                        orange: 60,
                        yellow: 120,
                        green: 180,
                        blue: 240,
                        purple: 300
                    }
                }
                ).call(this)
            }
            ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }
        , {
            "color-name": 20,
            defined: 41,
            "is-plain-obj": 152
        }],
        23: [function(e, t, r) {
            "use strict";
            var n = e("color-parse")
              , a = e("color-space/hsl")
              , i = e("clamp");
            t.exports = function(e) {
                var t, r = n(e);
                return r.space ? ((t = Array(3))[0] = i(r.values[0], 0, 255),
                t[1] = i(r.values[1], 0, 255),
                t[2] = i(r.values[2], 0, 255),
                "h" === r.space[0] && (t = a.rgb(t)),
                t.push(i(r.alpha, 0, 1)),
                t) : []
            }
        }
        , {
            clamp: 18,
            "color-parse": 22,
            "color-space/hsl": 24
        }],
        24: [function(e, t, r) {
            "use strict";
            var n = e("./rgb");
            t.exports = {
                name: "hsl",
                min: [0, 0, 0],
                max: [360, 100, 100],
                channel: ["hue", "saturation", "lightness"],
                alias: ["HSL"],
                rgb: function(e) {
                    var t, r, n, a, i, o = e[0] / 360, s = e[1] / 100, l = e[2] / 100;
                    if (0 === s)
                        return [i = 255 * l, i, i];
                    t = 2 * l - (r = l < .5 ? l * (1 + s) : l + s - l * s),
                    a = [0, 0, 0];
                    for (var c = 0; c < 3; c++)
                        (n = o + 1 / 3 * -(c - 1)) < 0 ? n++ : n > 1 && n--,
                        i = 6 * n < 1 ? t + 6 * (r - t) * n : 2 * n < 1 ? r : 3 * n < 2 ? t + (r - t) * (2 / 3 - n) * 6 : t,
                        a[c] = 255 * i;
                    return a
                }
            },
            n.hsl = function(e) {
                var t, r, n = e[0] / 255, a = e[1] / 255, i = e[2] / 255, o = Math.min(n, a, i), s = Math.max(n, a, i), l = s - o;
                return s === o ? t = 0 : n === s ? t = (a - i) / l : a === s ? t = 2 + (i - n) / l : i === s && (t = 4 + (n - a) / l),
                (t = Math.min(60 * t, 360)) < 0 && (t += 360),
                r = (o + s) / 2,
                [t, 100 * (s === o ? 0 : r <= .5 ? l / (s + o) : l / (2 - s - o)), 100 * r]
            }
        }
        , {
            "./rgb": 25
        }],
        25: [function(e, t, r) {
            "use strict";
            t.exports = {
                name: "rgb",
                min: [0, 0, 0],
                max: [255, 255, 255],
                channel: ["red", "green", "blue"],
                alias: ["RGB"]
            }
        }
        , {}],
        26: [function(e, t, r) {
            t.exports = ["xx-small", "x-small", "small", "medium", "large", "x-large", "xx-large", "larger", "smaller"]
        }
        , {}],
        27: [function(e, t, r) {
            t.exports = ["normal", "condensed", "semi-condensed", "extra-condensed", "ultra-condensed", "expanded", "semi-expanded", "extra-expanded", "ultra-expanded"]
        }
        , {}],
        28: [function(e, t, r) {
            t.exports = ["normal", "italic", "oblique"]
        }
        , {}],
        29: [function(e, t, r) {
            t.exports = ["normal", "bold", "bolder", "lighter", "100", "200", "300", "400", "500", "600", "700", "800", "900"]
        }
        , {}],
        30: [function(e, t, r) {
            "use strict";
            t.exports = {
                parse: e("./parse"),
                stringify: e("./stringify")
            }
        }
        , {
            "./parse": 32,
            "./stringify": 33
        }],
        31: [function(e, t, r) {
            "use strict";
            var n = e("css-font-size-keywords");
            t.exports = {
                isSize: function(e) {
                    return /^[\d\.]/.test(e) || -1 !== e.indexOf("/") || -1 !== n.indexOf(e)
                }
            }
        }
        , {
            "css-font-size-keywords": 26
        }],
        32: [function(e, t, r) {
            "use strict";
            var n = e("unquote")
              , a = e("css-global-keywords")
              , i = e("css-system-font-keywords")
              , o = e("css-font-weight-keywords")
              , s = e("css-font-style-keywords")
              , l = e("css-font-stretch-keywords")
              , c = e("string-split-by")
              , u = e("./lib/util").isSize;
            t.exports = d;
            var f = d.cache = {};
            function d(e) {
                if ("string" != typeof e)
                    throw new Error("Font argument must be a string.");
                if (f[e])
                    return f[e];
                if ("" === e)
                    throw new Error("Cannot parse an empty string.");
                if (-1 !== i.indexOf(e))
                    return f[e] = {
                        system: e
                    };
                for (var t, r = {
                    style: "normal",
                    variant: "normal",
                    weight: "normal",
                    stretch: "normal",
                    lineHeight: "normal",
                    size: "1rem",
                    family: ["serif"]
                }, d = c(e, /\s+/); t = d.shift(); ) {
                    if (-1 !== a.indexOf(t))
                        return ["style", "variant", "weight", "stretch"].forEach((function(e) {
                            r[e] = t
                        }
                        )),
                        f[e] = r;
                    if (-1 === s.indexOf(t))
                        if ("normal" !== t && "small-caps" !== t)
                            if (-1 === l.indexOf(t)) {
                                if (-1 === o.indexOf(t)) {
                                    if (u(t)) {
                                        var p = c(t, "/");
                                        if (r.size = p[0],
                                        null != p[1] ? r.lineHeight = h(p[1]) : "/" === d[0] && (d.shift(),
                                        r.lineHeight = h(d.shift())),
                                        !d.length)
                                            throw new Error("Missing required font-family.");
                                        return r.family = c(d.join(" "), /\s*,\s*/).map(n),
                                        f[e] = r
                                    }
                                    throw new Error("Unknown or unsupported font token: " + t)
                                }
                                r.weight = t
                            } else
                                r.stretch = t;
                        else
                            r.variant = t;
                    else
                        r.style = t
                }
                throw new Error("Missing required font-size.")
            }
            function h(e) {
                var t = parseFloat(e);
                return t.toString() === e ? t : e
            }
        }
        , {
            "./lib/util": 31,
            "css-font-stretch-keywords": 27,
            "css-font-style-keywords": 28,
            "css-font-weight-keywords": 29,
            "css-global-keywords": 34,
            "css-system-font-keywords": 35,
            "string-split-by": 178,
            unquote: 199
        }],
        33: [function(e, t, r) {
            "use strict";
            var n = e("pick-by-alias")
              , a = e("./lib/util").isSize
              , i = g(e("css-global-keywords"))
              , o = g(e("css-system-font-keywords"))
              , s = g(e("css-font-weight-keywords"))
              , l = g(e("css-font-style-keywords"))
              , c = g(e("css-font-stretch-keywords"))
              , u = {
                normal: 1,
                "small-caps": 1
            }
              , f = {
                serif: 1,
                "sans-serif": 1,
                monospace: 1,
                cursive: 1,
                fantasy: 1,
                "system-ui": 1
            }
              , d = "1rem"
              , h = "serif";
            function p(e, t) {
                if (e && !t[e] && !i[e])
                    throw Error("Unknown keyword `" + e + "`");
                return e
            }
            function g(e) {
                for (var t = {}, r = 0; r < e.length; r++)
                    t[e[r]] = 1;
                return t
            }
            t.exports = function(e) {
                if ((e = n(e, {
                    style: "style fontstyle fontStyle font-style slope distinction",
                    variant: "variant font-variant fontVariant fontvariant var capitalization",
                    weight: "weight w font-weight fontWeight fontweight",
                    stretch: "stretch font-stretch fontStretch fontstretch width",
                    size: "size s font-size fontSize fontsize height em emSize",
                    lineHeight: "lh line-height lineHeight lineheight leading",
                    family: "font family fontFamily font-family fontfamily type typeface face",
                    system: "system reserved default global"
                })).system)
                    return e.system && p(e.system, o),
                    e.system;
                if (p(e.style, l),
                p(e.variant, u),
                p(e.weight, s),
                p(e.stretch, c),
                null == e.size && (e.size = d),
                "number" == typeof e.size && (e.size += "px"),
                !a)
                    throw Error("Bad size value `" + e.size + "`");
                e.family || (e.family = h),
                Array.isArray(e.family) && (e.family.length || (e.family = [h]),
                e.family = e.family.map((function(e) {
                    return f[e] ? e : '"' + e + '"'
                }
                )).join(", "));
                var t = [];
                return t.push(e.style),
                e.variant !== e.style && t.push(e.variant),
                e.weight !== e.variant && e.weight !== e.style && t.push(e.weight),
                e.stretch !== e.weight && e.stretch !== e.variant && e.stretch !== e.style && t.push(e.stretch),
                t.push(e.size + (null == e.lineHeight || "normal" === e.lineHeight || e.lineHeight + "" == "1" ? "" : "/" + e.lineHeight)),
                t.push(e.family),
                t.filter(Boolean).join(" ")
            }
        }
        , {
            "./lib/util": 31,
            "css-font-stretch-keywords": 27,
            "css-font-style-keywords": 28,
            "css-font-weight-keywords": 29,
            "css-global-keywords": 34,
            "css-system-font-keywords": 35,
            "pick-by-alias": 164
        }],
        34: [function(e, t, r) {
            t.exports = ["inherit", "initial", "unset"]
        }
        , {}],
        35: [function(e, t, r) {
            t.exports = ["caption", "icon", "menu", "message-box", "small-caption", "status-bar"]
        }
        , {}],
        36: [function(e, t, r) {
            "use strict";
            var n, a = e("type/value/is"), i = e("type/value/ensure"), o = e("type/plain-function/ensure"), s = e("es5-ext/object/copy"), l = e("es5-ext/object/normalize-options"), c = e("es5-ext/object/map"), u = Function.prototype.bind, f = Object.defineProperty, d = Object.prototype.hasOwnProperty;
            n = function(e, t, r) {
                var n, a = i(t) && o(t.value);
                return delete (n = s(t)).writable,
                delete n.value,
                n.get = function() {
                    return !r.overwriteDefinition && d.call(this, e) ? a : (t.value = u.call(a, r.resolveContext ? r.resolveContext(this) : this),
                    f(this, e, t),
                    this[e])
                }
                ,
                n
            }
            ,
            t.exports = function(e) {
                var t = l(arguments[1]);
                return a(t.resolveContext) && o(t.resolveContext),
                c(e, (function(e, r) {
                    return n(r, e, t)
                }
                ))
            }
        }
        , {
            "es5-ext/object/copy": 63,
            "es5-ext/object/map": 71,
            "es5-ext/object/normalize-options": 72,
            "type/plain-function/ensure": 192,
            "type/value/ensure": 196,
            "type/value/is": 197
        }],
        37: [function(e, t, r) {
            "use strict";
            var n = e("type/value/is")
              , a = e("type/plain-function/is")
              , i = e("es5-ext/object/assign")
              , o = e("es5-ext/object/normalize-options")
              , s = e("es5-ext/string/#/contains");
            (t.exports = function(e, t) {
                var r, a, l, c, u;
                return arguments.length < 2 || "string" != typeof e ? (c = t,
                t = e,
                e = null) : c = arguments[2],
                n(e) ? (r = s.call(e, "c"),
                a = s.call(e, "e"),
                l = s.call(e, "w")) : (r = l = !0,
                a = !1),
                u = {
                    value: t,
                    configurable: r,
                    enumerable: a,
                    writable: l
                },
                c ? i(o(c), u) : u
            }
            ).gs = function(e, t, r) {
                var l, c, u, f;
                return "string" != typeof e ? (u = r,
                r = t,
                t = e,
                e = null) : u = arguments[3],
                n(t) ? a(t) ? n(r) ? a(r) || (u = r,
                r = void 0) : r = void 0 : (u = t,
                t = r = void 0) : t = void 0,
                n(e) ? (l = s.call(e, "c"),
                c = s.call(e, "e")) : (l = !0,
                c = !1),
                f = {
                    get: t,
                    set: r,
                    configurable: l,
                    enumerable: c
                },
                u ? i(o(u), f) : f
            }
        }
        , {
            "es5-ext/object/assign": 60,
            "es5-ext/object/normalize-options": 72,
            "es5-ext/string/#/contains": 79,
            "type/plain-function/is": 193,
            "type/value/is": 197
        }],
        38: [function(e, t, r) {
            !function(e, n) {
                "object" == typeof r && void 0 !== t ? n(r) : n((e = "undefined" != typeof globalThis ? globalThis : e || self).d3 = e.d3 || {})
            }(this, (function(e) {
                "use strict";
                function t(e, t) {
                    if ((r = (e = t ? e.toExponential(t - 1) : e.toExponential()).indexOf("e")) < 0)
                        return null;
                    var r, n = e.slice(0, r);
                    return [n.length > 1 ? n[0] + n.slice(2) : n, +e.slice(r + 1)]
                }
                function r(e) {
                    return (e = t(Math.abs(e))) ? e[1] : NaN
                }
                var n, a = /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
                function i(e) {
                    if (!(t = a.exec(e)))
                        throw new Error("invalid format: " + e);
                    var t;
                    return new o({
                        fill: t[1],
                        align: t[2],
                        sign: t[3],
                        symbol: t[4],
                        zero: t[5],
                        width: t[6],
                        comma: t[7],
                        precision: t[8] && t[8].slice(1),
                        trim: t[9],
                        type: t[10]
                    })
                }
                function o(e) {
                    this.fill = void 0 === e.fill ? " " : e.fill + "",
                    this.align = void 0 === e.align ? ">" : e.align + "",
                    this.sign = void 0 === e.sign ? "-" : e.sign + "",
                    this.symbol = void 0 === e.symbol ? "" : e.symbol + "",
                    this.zero = !!e.zero,
                    this.width = void 0 === e.width ? void 0 : +e.width,
                    this.comma = !!e.comma,
                    this.precision = void 0 === e.precision ? void 0 : +e.precision,
                    this.trim = !!e.trim,
                    this.type = void 0 === e.type ? "" : e.type + ""
                }
                function s(e, r) {
                    var n = t(e, r);
                    if (!n)
                        return e + "";
                    var a = n[0]
                      , i = n[1];
                    return i < 0 ? "0." + new Array(-i).join("0") + a : a.length > i + 1 ? a.slice(0, i + 1) + "." + a.slice(i + 1) : a + new Array(i - a.length + 2).join("0")
                }
                i.prototype = o.prototype,
                o.prototype.toString = function() {
                    return this.fill + this.align + this.sign + this.symbol + (this.zero ? "0" : "") + (void 0 === this.width ? "" : Math.max(1, 0 | this.width)) + (this.comma ? "," : "") + (void 0 === this.precision ? "" : "." + Math.max(0, 0 | this.precision)) + (this.trim ? "~" : "") + this.type
                }
                ;
                var l = {
                    "%": function(e, t) {
                        return (100 * e).toFixed(t)
                    },
                    b: function(e) {
                        return Math.round(e).toString(2)
                    },
                    c: function(e) {
                        return e + ""
                    },
                    d: function(e) {
                        return Math.abs(e = Math.round(e)) >= 1e21 ? e.toLocaleString("en").replace(/,/g, "") : e.toString(10)
                    },
                    e: function(e, t) {
                        return e.toExponential(t)
                    },
                    f: function(e, t) {
                        return e.toFixed(t)
                    },
                    g: function(e, t) {
                        return e.toPrecision(t)
                    },
                    o: function(e) {
                        return Math.round(e).toString(8)
                    },
                    p: function(e, t) {
                        return s(100 * e, t)
                    },
                    r: s,
                    s: function(e, r) {
                        var a = t(e, r);
                        if (!a)
                            return e + "";
                        var i = a[0]
                          , o = a[1]
                          , s = o - (n = 3 * Math.max(-8, Math.min(8, Math.floor(o / 3)))) + 1
                          , l = i.length;
                        return s === l ? i : s > l ? i + new Array(s - l + 1).join("0") : s > 0 ? i.slice(0, s) + "." + i.slice(s) : "0." + new Array(1 - s).join("0") + t(e, Math.max(0, r + s - 1))[0]
                    },
                    X: function(e) {
                        return Math.round(e).toString(16).toUpperCase()
                    },
                    x: function(e) {
                        return Math.round(e).toString(16)
                    }
                };
                function c(e) {
                    return e
                }
                var u, f = Array.prototype.map, d = ["y", "z", "a", "f", "p", "n", "\xb5", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"];
                function h(e) {
                    var t, a, o = void 0 === e.grouping || void 0 === e.thousands ? c : (t = f.call(e.grouping, Number),
                    a = e.thousands + "",
                    function(e, r) {
                        for (var n = e.length, i = [], o = 0, s = t[0], l = 0; n > 0 && s > 0 && (l + s + 1 > r && (s = Math.max(1, r - l)),
                        i.push(e.substring(n -= s, n + s)),
                        !((l += s + 1) > r)); )
                            s = t[o = (o + 1) % t.length];
                        return i.reverse().join(a)
                    }
                    ), s = void 0 === e.currency ? "" : e.currency[0] + "", u = void 0 === e.currency ? "" : e.currency[1] + "", h = void 0 === e.decimal ? "." : e.decimal + "", p = void 0 === e.numerals ? c : function(e) {
                        return function(t) {
                            return t.replace(/[0-9]/g, (function(t) {
                                return e[+t]
                            }
                            ))
                        }
                    }(f.call(e.numerals, String)), g = void 0 === e.percent ? "%" : e.percent + "", y = void 0 === e.minus ? "-" : e.minus + "", v = void 0 === e.nan ? "NaN" : e.nan + "";
                    function m(e) {
                        var t = (e = i(e)).fill
                          , r = e.align
                          , a = e.sign
                          , c = e.symbol
                          , f = e.zero
                          , m = e.width
                          , b = e.comma
                          , x = e.precision
                          , _ = e.trim
                          , w = e.type;
                        "n" === w ? (b = !0,
                        w = "g") : l[w] || (void 0 === x && (x = 12),
                        _ = !0,
                        w = "g"),
                        (f || "0" === t && "=" === r) && (f = !0,
                        t = "0",
                        r = "=");
                        var A = "$" === c ? s : "#" === c && /[boxX]/.test(w) ? "0" + w.toLowerCase() : ""
                          , k = "$" === c ? u : /[%p]/.test(w) ? g : ""
                          , T = l[w]
                          , M = /[defgprs%]/.test(w);
                        function S(e) {
                            var i, s, l, c = A, u = k;
                            if ("c" === w)
                                u = T(e) + u,
                                e = "";
                            else {
                                var g = (e = +e) < 0 || 1 / e < 0;
                                if (e = isNaN(e) ? v : T(Math.abs(e), x),
                                _ && (e = function(e) {
                                    e: for (var t, r = e.length, n = 1, a = -1; n < r; ++n)
                                        switch (e[n]) {
                                        case ".":
                                            a = t = n;
                                            break;
                                        case "0":
                                            0 === a && (a = n),
                                            t = n;
                                            break;
                                        default:
                                            if (!+e[n])
                                                break e;
                                            a > 0 && (a = 0)
                                        }
                                    return a > 0 ? e.slice(0, a) + e.slice(t + 1) : e
                                }(e)),
                                g && 0 == +e && "+" !== a && (g = !1),
                                c = (g ? "(" === a ? a : y : "-" === a || "(" === a ? "" : a) + c,
                                u = ("s" === w ? d[8 + n / 3] : "") + u + (g && "(" === a ? ")" : ""),
                                M)
                                    for (i = -1,
                                    s = e.length; ++i < s; )
                                        if (48 > (l = e.charCodeAt(i)) || l > 57) {
                                            u = (46 === l ? h + e.slice(i + 1) : e.slice(i)) + u,
                                            e = e.slice(0, i);
                                            break
                                        }
                            }
                            b && !f && (e = o(e, 1 / 0));
                            var S = c.length + e.length + u.length
                              , C = S < m ? new Array(m - S + 1).join(t) : "";
                            switch (b && f && (e = o(C + e, C.length ? m - u.length : 1 / 0),
                            C = ""),
                            r) {
                            case "<":
                                e = c + e + u + C;
                                break;
                            case "=":
                                e = c + C + e + u;
                                break;
                            case "^":
                                e = C.slice(0, S = C.length >> 1) + c + e + u + C.slice(S);
                                break;
                            default:
                                e = C + c + e + u
                            }
                            return p(e)
                        }
                        return x = void 0 === x ? 6 : /[gprs]/.test(w) ? Math.max(1, Math.min(21, x)) : Math.max(0, Math.min(20, x)),
                        S.toString = function() {
                            return e + ""
                        }
                        ,
                        S
                    }
                    return {
                        format: m,
                        formatPrefix: function(e, t) {
                            var n = m(((e = i(e)).type = "f",
                            e))
                              , a = 3 * Math.max(-8, Math.min(8, Math.floor(r(t) / 3)))
                              , o = Math.pow(10, -a)
                              , s = d[8 + a / 3];
                            return function(e) {
                                return n(o * e) + s
                            }
                        }
                    }
                }
                function p(t) {
                    return u = h(t),
                    e.format = u.format,
                    e.formatPrefix = u.formatPrefix,
                    u
                }
                p({
                    decimal: ".",
                    thousands: ",",
                    grouping: [3],
                    currency: ["$", ""],
                    minus: "-"
                }),
                e.FormatSpecifier = o,
                e.formatDefaultLocale = p,
                e.formatLocale = h,
                e.formatSpecifier = i,
                e.precisionFixed = function(e) {
                    return Math.max(0, -r(Math.abs(e)))
                }
                ,
                e.precisionPrefix = function(e, t) {
                    return Math.max(0, 3 * Math.max(-8, Math.min(8, Math.floor(r(t) / 3))) - r(Math.abs(e)))
                }
                ,
                e.precisionRound = function(e, t) {
                    return e = Math.abs(e),
                    t = Math.abs(t) - e,
                    Math.max(0, r(t) - r(e)) + 1
                }
                ,
                Object.defineProperty(e, "__esModule", {
                    value: !0
                })
            }
            ))
        }
        , {}],
        39: [function(e, t, r) {
            !function(n, a) {
                "object" == typeof r && void 0 !== t ? a(r, e("d3-time")) : a((n = n || self).d3 = n.d3 || {}, n.d3)
            }(this, (function(e, t) {
                "use strict";
                function r(e) {
                    if (0 <= e.y && e.y < 100) {
                        var t = new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);
                        return t.setFullYear(e.y),
                        t
                    }
                    return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)
                }
                function n(e) {
                    if (0 <= e.y && e.y < 100) {
                        var t = new Date(Date.UTC(-1, e.m, e.d, e.H, e.M, e.S, e.L));
                        return t.setUTCFullYear(e.y),
                        t
                    }
                    return new Date(Date.UTC(e.y, e.m, e.d, e.H, e.M, e.S, e.L))
                }
                function a(e, t, r) {
                    return {
                        y: e,
                        m: t,
                        d: r,
                        H: 0,
                        M: 0,
                        S: 0,
                        L: 0
                    }
                }
                function i(e) {
                    var i = e.dateTime
                      , o = e.date
                      , l = e.time
                      , c = e.periods
                      , u = e.days
                      , f = e.shortDays
                      , d = e.months
                      , W = e.shortMonths
                      , de = h(c)
                      , ke = p(c)
                      , Te = h(u)
                      , Me = p(u)
                      , Se = h(f)
                      , Ce = p(f)
                      , Oe = h(d)
                      , De = p(d)
                      , Le = h(W)
                      , Ee = p(W)
                      , ze = {
                        a: function(e) {
                            return f[e.getDay()]
                        },
                        A: function(e) {
                            return u[e.getDay()]
                        },
                        b: function(e) {
                            return W[e.getMonth()]
                        },
                        B: function(e) {
                            return d[e.getMonth()]
                        },
                        c: null,
                        d: P,
                        e: P,
                        f: B,
                        g: Q,
                        G: K,
                        H: I,
                        I: N,
                        j: R,
                        L: j,
                        m: H,
                        M: U,
                        p: function(e) {
                            return c[+(e.getHours() >= 12)]
                        },
                        q: function(e) {
                            return 1 + ~~(e.getMonth() / 3)
                        },
                        Q: we,
                        s: Ae,
                        S: Y,
                        u: V,
                        U: q,
                        V: G,
                        w: Z,
                        W: J,
                        x: null,
                        X: null,
                        y: X,
                        Y: $,
                        Z: ee,
                        "%": _e
                    }
                      , Fe = {
                        a: function(e) {
                            return f[e.getUTCDay()]
                        },
                        A: function(e) {
                            return u[e.getUTCDay()]
                        },
                        b: function(e) {
                            return W[e.getUTCMonth()]
                        },
                        B: function(e) {
                            return d[e.getUTCMonth()]
                        },
                        c: null,
                        d: te,
                        e: te,
                        f: oe,
                        g: ve,
                        G: be,
                        H: re,
                        I: ne,
                        j: ae,
                        L: ie,
                        m: se,
                        M: le,
                        p: function(e) {
                            return c[+(e.getUTCHours() >= 12)]
                        },
                        q: function(e) {
                            return 1 + ~~(e.getUTCMonth() / 3)
                        },
                        Q: we,
                        s: Ae,
                        S: ce,
                        u: ue,
                        U: fe,
                        V: he,
                        w: pe,
                        W: ge,
                        x: null,
                        X: null,
                        y: ye,
                        Y: me,
                        Z: xe,
                        "%": _e
                    }
                      , Pe = {
                        a: function(e, t, r) {
                            var n = Se.exec(t.slice(r));
                            return n ? (e.w = Ce[n[0].toLowerCase()],
                            r + n[0].length) : -1
                        },
                        A: function(e, t, r) {
                            var n = Te.exec(t.slice(r));
                            return n ? (e.w = Me[n[0].toLowerCase()],
                            r + n[0].length) : -1
                        },
                        b: function(e, t, r) {
                            var n = Le.exec(t.slice(r));
                            return n ? (e.m = Ee[n[0].toLowerCase()],
                            r + n[0].length) : -1
                        },
                        B: function(e, t, r) {
                            var n = Oe.exec(t.slice(r));
                            return n ? (e.m = De[n[0].toLowerCase()],
                            r + n[0].length) : -1
                        },
                        c: function(e, t, r) {
                            return Re(e, i, t, r)
                        },
                        d: T,
                        e: T,
                        f: L,
                        g: _,
                        G: x,
                        H: S,
                        I: S,
                        j: M,
                        L: D,
                        m: k,
                        M: C,
                        p: function(e, t, r) {
                            var n = de.exec(t.slice(r));
                            return n ? (e.p = ke[n[0].toLowerCase()],
                            r + n[0].length) : -1
                        },
                        q: A,
                        Q: z,
                        s: F,
                        S: O,
                        u: y,
                        U: v,
                        V: m,
                        w: g,
                        W: b,
                        x: function(e, t, r) {
                            return Re(e, o, t, r)
                        },
                        X: function(e, t, r) {
                            return Re(e, l, t, r)
                        },
                        y: _,
                        Y: x,
                        Z: w,
                        "%": E
                    };
                    function Ie(e, t) {
                        return function(r) {
                            var n, a, i, o = [], l = -1, c = 0, u = e.length;
                            for (r instanceof Date || (r = new Date(+r)); ++l < u; )
                                37 === e.charCodeAt(l) && (o.push(e.slice(c, l)),
                                null != (a = s[n = e.charAt(++l)]) ? n = e.charAt(++l) : a = "e" === n ? " " : "0",
                                (i = t[n]) && (n = i(r, a)),
                                o.push(n),
                                c = l + 1);
                            return o.push(e.slice(c, l)),
                            o.join("")
                        }
                    }
                    function Ne(e, i) {
                        return function(o) {
                            var s, l, c = a(1900, void 0, 1);
                            if (Re(c, e, o += "", 0) != o.length)
                                return null;
                            if ("Q"in c)
                                return new Date(c.Q);
                            if ("s"in c)
                                return new Date(1e3 * c.s + ("L"in c ? c.L : 0));
                            if (i && !("Z"in c) && (c.Z = 0),
                            "p"in c && (c.H = c.H % 12 + 12 * c.p),
                            void 0 === c.m && (c.m = "q"in c ? c.q : 0),
                            "V"in c) {
                                if (c.V < 1 || c.V > 53)
                                    return null;
                                "w"in c || (c.w = 1),
                                "Z"in c ? (l = (s = n(a(c.y, 0, 1))).getUTCDay(),
                                s = l > 4 || 0 === l ? t.utcMonday.ceil(s) : t.utcMonday(s),
                                s = t.utcDay.offset(s, 7 * (c.V - 1)),
                                c.y = s.getUTCFullYear(),
                                c.m = s.getUTCMonth(),
                                c.d = s.getUTCDate() + (c.w + 6) % 7) : (l = (s = r(a(c.y, 0, 1))).getDay(),
                                s = l > 4 || 0 === l ? t.timeMonday.ceil(s) : t.timeMonday(s),
                                s = t.timeDay.offset(s, 7 * (c.V - 1)),
                                c.y = s.getFullYear(),
                                c.m = s.getMonth(),
                                c.d = s.getDate() + (c.w + 6) % 7)
                            } else
                                ("W"in c || "U"in c) && ("w"in c || (c.w = "u"in c ? c.u % 7 : "W"in c ? 1 : 0),
                                l = "Z"in c ? n(a(c.y, 0, 1)).getUTCDay() : r(a(c.y, 0, 1)).getDay(),
                                c.m = 0,
                                c.d = "W"in c ? (c.w + 6) % 7 + 7 * c.W - (l + 5) % 7 : c.w + 7 * c.U - (l + 6) % 7);
                            return "Z"in c ? (c.H += c.Z / 100 | 0,
                            c.M += c.Z % 100,
                            n(c)) : r(c)
                        }
                    }
                    function Re(e, t, r, n) {
                        for (var a, i, o = 0, l = t.length, c = r.length; o < l; ) {
                            if (n >= c)
                                return -1;
                            if (37 === (a = t.charCodeAt(o++))) {
                                if (a = t.charAt(o++),
                                !(i = Pe[a in s ? t.charAt(o++) : a]) || (n = i(e, r, n)) < 0)
                                    return -1
                            } else if (a != r.charCodeAt(n++))
                                return -1
                        }
                        return n
                    }
                    return ze.x = Ie(o, ze),
                    ze.X = Ie(l, ze),
                    ze.c = Ie(i, ze),
                    Fe.x = Ie(o, Fe),
                    Fe.X = Ie(l, Fe),
                    Fe.c = Ie(i, Fe),
                    {
                        format: function(e) {
                            var t = Ie(e += "", ze);
                            return t.toString = function() {
                                return e
                            }
                            ,
                            t
                        },
                        parse: function(e) {
                            var t = Ne(e += "", !1);
                            return t.toString = function() {
                                return e
                            }
                            ,
                            t
                        },
                        utcFormat: function(e) {
                            var t = Ie(e += "", Fe);
                            return t.toString = function() {
                                return e
                            }
                            ,
                            t
                        },
                        utcParse: function(e) {
                            var t = Ne(e += "", !0);
                            return t.toString = function() {
                                return e
                            }
                            ,
                            t
                        }
                    }
                }
                var o, s = {
                    "-": "",
                    _: " ",
                    0: "0"
                }, l = /^\s*\d+/, c = /^%/, u = /[\\^$*+?|[\]().{}]/g;
                function f(e, t, r) {
                    var n = e < 0 ? "-" : ""
                      , a = (n ? -e : e) + ""
                      , i = a.length;
                    return n + (i < r ? new Array(r - i + 1).join(t) + a : a)
                }
                function d(e) {
                    return e.replace(u, "\\$&")
                }
                function h(e) {
                    return new RegExp("^(?:" + e.map(d).join("|") + ")","i")
                }
                function p(e) {
                    for (var t = {}, r = -1, n = e.length; ++r < n; )
                        t[e[r].toLowerCase()] = r;
                    return t
                }
                function g(e, t, r) {
                    var n = l.exec(t.slice(r, r + 1));
                    return n ? (e.w = +n[0],
                    r + n[0].length) : -1
                }
                function y(e, t, r) {
                    var n = l.exec(t.slice(r, r + 1));
                    return n ? (e.u = +n[0],
                    r + n[0].length) : -1
                }
                function v(e, t, r) {
                    var n = l.exec(t.slice(r, r + 2));
                    return n ? (e.U = +n[0],
                    r + n[0].length) : -1
                }
                function m(e, t, r) {
                    var n = l.exec(t.slice(r, r + 2));
                    return n ? (e.V = +n[0],
                    r + n[0].length) : -1
                }
                function b(e, t, r) {
                    var n = l.exec(t.slice(r, r + 2));
                    return n ? (e.W = +n[0],
                    r + n[0].length) : -1
                }
                function x(e, t, r) {
                    var n = l.exec(t.slice(r, r + 4));
                    return n ? (e.y = +n[0],
                    r + n[0].length) : -1
                }
                function _(e, t, r) {
                    var n = l.exec(t.slice(r, r + 2));
                    return n ? (e.y = +n[0] + (+n[0] > 68 ? 1900 : 2e3),
                    r + n[0].length) : -1
                }
                function w(e, t, r) {
                    var n = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r, r + 6));
                    return n ? (e.Z = n[1] ? 0 : -(n[2] + (n[3] || "00")),
                    r + n[0].length) : -1
                }
                function A(e, t, r) {
                    var n = l.exec(t.slice(r, r + 1));
                    return n ? (e.q = 3 * n[0] - 3,
                    r + n[0].length) : -1
                }
                function k(e, t, r) {
                    var n = l.exec(t.slice(r, r + 2));
                    return n ? (e.m = n[0] - 1,
                    r + n[0].length) : -1
                }
                function T(e, t, r) {
                    var n = l.exec(t.slice(r, r + 2));
                    return n ? (e.d = +n[0],
                    r + n[0].length) : -1
                }
                function M(e, t, r) {
                    var n = l.exec(t.slice(r, r + 3));
                    return n ? (e.m = 0,
                    e.d = +n[0],
                    r + n[0].length) : -1
                }
                function S(e, t, r) {
                    var n = l.exec(t.slice(r, r + 2));
                    return n ? (e.H = +n[0],
                    r + n[0].length) : -1
                }
                function C(e, t, r) {
                    var n = l.exec(t.slice(r, r + 2));
                    return n ? (e.M = +n[0],
                    r + n[0].length) : -1
                }
                function O(e, t, r) {
                    var n = l.exec(t.slice(r, r + 2));
                    return n ? (e.S = +n[0],
                    r + n[0].length) : -1
                }
                function D(e, t, r) {
                    var n = l.exec(t.slice(r, r + 3));
                    return n ? (e.L = +n[0],
                    r + n[0].length) : -1
                }
                function L(e, t, r) {
                    var n = l.exec(t.slice(r, r + 6));
                    return n ? (e.L = Math.floor(n[0] / 1e3),
                    r + n[0].length) : -1
                }
                function E(e, t, r) {
                    var n = c.exec(t.slice(r, r + 1));
                    return n ? r + n[0].length : -1
                }
                function z(e, t, r) {
                    var n = l.exec(t.slice(r));
                    return n ? (e.Q = +n[0],
                    r + n[0].length) : -1
                }
                function F(e, t, r) {
                    var n = l.exec(t.slice(r));
                    return n ? (e.s = +n[0],
                    r + n[0].length) : -1
                }
                function P(e, t) {
                    return f(e.getDate(), t, 2)
                }
                function I(e, t) {
                    return f(e.getHours(), t, 2)
                }
                function N(e, t) {
                    return f(e.getHours() % 12 || 12, t, 2)
                }
                function R(e, r) {
                    return f(1 + t.timeDay.count(t.timeYear(e), e), r, 3)
                }
                function j(e, t) {
                    return f(e.getMilliseconds(), t, 3)
                }
                function B(e, t) {
                    return j(e, t) + "000"
                }
                function H(e, t) {
                    return f(e.getMonth() + 1, t, 2)
                }
                function U(e, t) {
                    return f(e.getMinutes(), t, 2)
                }
                function Y(e, t) {
                    return f(e.getSeconds(), t, 2)
                }
                function V(e) {
                    var t = e.getDay();
                    return 0 === t ? 7 : t
                }
                function q(e, r) {
                    return f(t.timeSunday.count(t.timeYear(e) - 1, e), r, 2)
                }
                function W(e) {
                    var r = e.getDay();
                    return r >= 4 || 0 === r ? t.timeThursday(e) : t.timeThursday.ceil(e)
                }
                function G(e, r) {
                    return e = W(e),
                    f(t.timeThursday.count(t.timeYear(e), e) + (4 === t.timeYear(e).getDay()), r, 2)
                }
                function Z(e) {
                    return e.getDay()
                }
                function J(e, r) {
                    return f(t.timeMonday.count(t.timeYear(e) - 1, e), r, 2)
                }
                function X(e, t) {
                    return f(e.getFullYear() % 100, t, 2)
                }
                function Q(e, t) {
                    return f((e = W(e)).getFullYear() % 100, t, 2)
                }
                function $(e, t) {
                    return f(e.getFullYear() % 1e4, t, 4)
                }
                function K(e, r) {
                    var n = e.getDay();
                    return f((e = n >= 4 || 0 === n ? t.timeThursday(e) : t.timeThursday.ceil(e)).getFullYear() % 1e4, r, 4)
                }
                function ee(e) {
                    var t = e.getTimezoneOffset();
                    return (t > 0 ? "-" : (t *= -1,
                    "+")) + f(t / 60 | 0, "0", 2) + f(t % 60, "0", 2)
                }
                function te(e, t) {
                    return f(e.getUTCDate(), t, 2)
                }
                function re(e, t) {
                    return f(e.getUTCHours(), t, 2)
                }
                function ne(e, t) {
                    return f(e.getUTCHours() % 12 || 12, t, 2)
                }
                function ae(e, r) {
                    return f(1 + t.utcDay.count(t.utcYear(e), e), r, 3)
                }
                function ie(e, t) {
                    return f(e.getUTCMilliseconds(), t, 3)
                }
                function oe(e, t) {
                    return ie(e, t) + "000"
                }
                function se(e, t) {
                    return f(e.getUTCMonth() + 1, t, 2)
                }
                function le(e, t) {
                    return f(e.getUTCMinutes(), t, 2)
                }
                function ce(e, t) {
                    return f(e.getUTCSeconds(), t, 2)
                }
                function ue(e) {
                    var t = e.getUTCDay();
                    return 0 === t ? 7 : t
                }
                function fe(e, r) {
                    return f(t.utcSunday.count(t.utcYear(e) - 1, e), r, 2)
                }
                function de(e) {
                    var r = e.getUTCDay();
                    return r >= 4 || 0 === r ? t.utcThursday(e) : t.utcThursday.ceil(e)
                }
                function he(e, r) {
                    return e = de(e),
                    f(t.utcThursday.count(t.utcYear(e), e) + (4 === t.utcYear(e).getUTCDay()), r, 2)
                }
                function pe(e) {
                    return e.getUTCDay()
                }
                function ge(e, r) {
                    return f(t.utcMonday.count(t.utcYear(e) - 1, e), r, 2)
                }
                function ye(e, t) {
                    return f(e.getUTCFullYear() % 100, t, 2)
                }
                function ve(e, t) {
                    return f((e = de(e)).getUTCFullYear() % 100, t, 2)
                }
                function me(e, t) {
                    return f(e.getUTCFullYear() % 1e4, t, 4)
                }
                function be(e, r) {
                    var n = e.getUTCDay();
                    return f((e = n >= 4 || 0 === n ? t.utcThursday(e) : t.utcThursday.ceil(e)).getUTCFullYear() % 1e4, r, 4)
                }
                function xe() {
                    return "+0000"
                }
                function _e() {
                    return "%"
                }
                function we(e) {
                    return +e
                }
                function Ae(e) {
                    return Math.floor(+e / 1e3)
                }
                function ke(t) {
                    return o = i(t),
                    e.timeFormat = o.format,
                    e.timeParse = o.parse,
                    e.utcFormat = o.utcFormat,
                    e.utcParse = o.utcParse,
                    o
                }
                ke({
                    dateTime: "%x, %X",
                    date: "%-m/%-d/%Y",
                    time: "%-I:%M:%S %p",
                    periods: ["AM", "PM"],
                    days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                    shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                    months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                    shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
                });
                var Te = Date.prototype.toISOString ? function(e) {
                    return e.toISOString()
                }
                : e.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ");
                var Me = +new Date("2000-01-01T00:00:00.000Z") ? function(e) {
                    var t = new Date(e);
                    return isNaN(t) ? null : t
                }
                : e.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");
                e.isoFormat = Te,
                e.isoParse = Me,
                e.timeFormatDefaultLocale = ke,
                e.timeFormatLocale = i,
                Object.defineProperty(e, "__esModule", {
                    value: !0
                })
            }
            ))
        }
        , {
            "d3-time": 40
        }],
        40: [function(e, t, r) {
            !function(e, n) {
                "object" == typeof r && void 0 !== t ? n(r) : n((e = e || self).d3 = e.d3 || {})
            }(this, (function(e) {
                "use strict";
                var t = new Date
                  , r = new Date;
                function n(e, a, i, o) {
                    function s(t) {
                        return e(t = 0 === arguments.length ? new Date : new Date(+t)),
                        t
                    }
                    return s.floor = function(t) {
                        return e(t = new Date(+t)),
                        t
                    }
                    ,
                    s.ceil = function(t) {
                        return e(t = new Date(t - 1)),
                        a(t, 1),
                        e(t),
                        t
                    }
                    ,
                    s.round = function(e) {
                        var t = s(e)
                          , r = s.ceil(e);
                        return e - t < r - e ? t : r
                    }
                    ,
                    s.offset = function(e, t) {
                        return a(e = new Date(+e), null == t ? 1 : Math.floor(t)),
                        e
                    }
                    ,
                    s.range = function(t, r, n) {
                        var i, o = [];
                        if (t = s.ceil(t),
                        n = null == n ? 1 : Math.floor(n),
                        !(t < r && n > 0))
                            return o;
                        do {
                            o.push(i = new Date(+t)),
                            a(t, n),
                            e(t)
                        } while (i < t && t < r);
                        return o
                    }
                    ,
                    s.filter = function(t) {
                        return n((function(r) {
                            if (r >= r)
                                for (; e(r),
                                !t(r); )
                                    r.setTime(r - 1)
                        }
                        ), (function(e, r) {
                            if (e >= e)
                                if (r < 0)
                                    for (; ++r <= 0; )
                                        for (; a(e, -1),
                                        !t(e); )
                                            ;
                                else
                                    for (; --r >= 0; )
                                        for (; a(e, 1),
                                        !t(e); )
                                            ;
                        }
                        ))
                    }
                    ,
                    i && (s.count = function(n, a) {
                        return t.setTime(+n),
                        r.setTime(+a),
                        e(t),
                        e(r),
                        Math.floor(i(t, r))
                    }
                    ,
                    s.every = function(e) {
                        return e = Math.floor(e),
                        isFinite(e) && e > 0 ? e > 1 ? s.filter(o ? function(t) {
                            return o(t) % e == 0
                        }
                        : function(t) {
                            return s.count(0, t) % e == 0
                        }
                        ) : s : null
                    }
                    ),
                    s
                }
                var a = n((function() {}
                ), (function(e, t) {
                    e.setTime(+e + t)
                }
                ), (function(e, t) {
                    return t - e
                }
                ));
                a.every = function(e) {
                    return e = Math.floor(e),
                    isFinite(e) && e > 0 ? e > 1 ? n((function(t) {
                        t.setTime(Math.floor(t / e) * e)
                    }
                    ), (function(t, r) {
                        t.setTime(+t + r * e)
                    }
                    ), (function(t, r) {
                        return (r - t) / e
                    }
                    )) : a : null
                }
                ;
                var i = a.range
                  , o = n((function(e) {
                    e.setTime(e - e.getMilliseconds())
                }
                ), (function(e, t) {
                    e.setTime(+e + 1e3 * t)
                }
                ), (function(e, t) {
                    return (t - e) / 1e3
                }
                ), (function(e) {
                    return e.getUTCSeconds()
                }
                ))
                  , s = o.range
                  , l = n((function(e) {
                    e.setTime(e - e.getMilliseconds() - 1e3 * e.getSeconds())
                }
                ), (function(e, t) {
                    e.setTime(+e + 6e4 * t)
                }
                ), (function(e, t) {
                    return (t - e) / 6e4
                }
                ), (function(e) {
                    return e.getMinutes()
                }
                ))
                  , c = l.range
                  , u = n((function(e) {
                    e.setTime(e - e.getMilliseconds() - 1e3 * e.getSeconds() - 6e4 * e.getMinutes())
                }
                ), (function(e, t) {
                    e.setTime(+e + 36e5 * t)
                }
                ), (function(e, t) {
                    return (t - e) / 36e5
                }
                ), (function(e) {
                    return e.getHours()
                }
                ))
                  , f = u.range
                  , d = n((function(e) {
                    e.setHours(0, 0, 0, 0)
                }
                ), (function(e, t) {
                    e.setDate(e.getDate() + t)
                }
                ), (function(e, t) {
                    return (t - e - 6e4 * (t.getTimezoneOffset() - e.getTimezoneOffset())) / 864e5
                }
                ), (function(e) {
                    return e.getDate() - 1
                }
                ))
                  , h = d.range;
                function p(e) {
                    return n((function(t) {
                        t.setDate(t.getDate() - (t.getDay() + 7 - e) % 7),
                        t.setHours(0, 0, 0, 0)
                    }
                    ), (function(e, t) {
                        e.setDate(e.getDate() + 7 * t)
                    }
                    ), (function(e, t) {
                        return (t - e - 6e4 * (t.getTimezoneOffset() - e.getTimezoneOffset())) / 6048e5
                    }
                    ))
                }
                var g = p(0)
                  , y = p(1)
                  , v = p(2)
                  , m = p(3)
                  , b = p(4)
                  , x = p(5)
                  , _ = p(6)
                  , w = g.range
                  , A = y.range
                  , k = v.range
                  , T = m.range
                  , M = b.range
                  , S = x.range
                  , C = _.range
                  , O = n((function(e) {
                    e.setDate(1),
                    e.setHours(0, 0, 0, 0)
                }
                ), (function(e, t) {
                    e.setMonth(e.getMonth() + t)
                }
                ), (function(e, t) {
                    return t.getMonth() - e.getMonth() + 12 * (t.getFullYear() - e.getFullYear())
                }
                ), (function(e) {
                    return e.getMonth()
                }
                ))
                  , D = O.range
                  , L = n((function(e) {
                    e.setMonth(0, 1),
                    e.setHours(0, 0, 0, 0)
                }
                ), (function(e, t) {
                    e.setFullYear(e.getFullYear() + t)
                }
                ), (function(e, t) {
                    return t.getFullYear() - e.getFullYear()
                }
                ), (function(e) {
                    return e.getFullYear()
                }
                ));
                L.every = function(e) {
                    return isFinite(e = Math.floor(e)) && e > 0 ? n((function(t) {
                        t.setFullYear(Math.floor(t.getFullYear() / e) * e),
                        t.setMonth(0, 1),
                        t.setHours(0, 0, 0, 0)
                    }
                    ), (function(t, r) {
                        t.setFullYear(t.getFullYear() + r * e)
                    }
                    )) : null
                }
                ;
                var E = L.range
                  , z = n((function(e) {
                    e.setUTCSeconds(0, 0)
                }
                ), (function(e, t) {
                    e.setTime(+e + 6e4 * t)
                }
                ), (function(e, t) {
                    return (t - e) / 6e4
                }
                ), (function(e) {
                    return e.getUTCMinutes()
                }
                ))
                  , F = z.range
                  , P = n((function(e) {
                    e.setUTCMinutes(0, 0, 0)
                }
                ), (function(e, t) {
                    e.setTime(+e + 36e5 * t)
                }
                ), (function(e, t) {
                    return (t - e) / 36e5
                }
                ), (function(e) {
                    return e.getUTCHours()
                }
                ))
                  , I = P.range
                  , N = n((function(e) {
                    e.setUTCHours(0, 0, 0, 0)
                }
                ), (function(e, t) {
                    e.setUTCDate(e.getUTCDate() + t)
                }
                ), (function(e, t) {
                    return (t - e) / 864e5
                }
                ), (function(e) {
                    return e.getUTCDate() - 1
                }
                ))
                  , R = N.range;
                function j(e) {
                    return n((function(t) {
                        t.setUTCDate(t.getUTCDate() - (t.getUTCDay() + 7 - e) % 7),
                        t.setUTCHours(0, 0, 0, 0)
                    }
                    ), (function(e, t) {
                        e.setUTCDate(e.getUTCDate() + 7 * t)
                    }
                    ), (function(e, t) {
                        return (t - e) / 6048e5
                    }
                    ))
                }
                var B = j(0)
                  , H = j(1)
                  , U = j(2)
                  , Y = j(3)
                  , V = j(4)
                  , q = j(5)
                  , W = j(6)
                  , G = B.range
                  , Z = H.range
                  , J = U.range
                  , X = Y.range
                  , Q = V.range
                  , $ = q.range
                  , K = W.range
                  , ee = n((function(e) {
                    e.setUTCDate(1),
                    e.setUTCHours(0, 0, 0, 0)
                }
                ), (function(e, t) {
                    e.setUTCMonth(e.getUTCMonth() + t)
                }
                ), (function(e, t) {
                    return t.getUTCMonth() - e.getUTCMonth() + 12 * (t.getUTCFullYear() - e.getUTCFullYear())
                }
                ), (function(e) {
                    return e.getUTCMonth()
                }
                ))
                  , te = ee.range
                  , re = n((function(e) {
                    e.setUTCMonth(0, 1),
                    e.setUTCHours(0, 0, 0, 0)
                }
                ), (function(e, t) {
                    e.setUTCFullYear(e.getUTCFullYear() + t)
                }
                ), (function(e, t) {
                    return t.getUTCFullYear() - e.getUTCFullYear()
                }
                ), (function(e) {
                    return e.getUTCFullYear()
                }
                ));
                re.every = function(e) {
                    return isFinite(e = Math.floor(e)) && e > 0 ? n((function(t) {
                        t.setUTCFullYear(Math.floor(t.getUTCFullYear() / e) * e),
                        t.setUTCMonth(0, 1),
                        t.setUTCHours(0, 0, 0, 0)
                    }
                    ), (function(t, r) {
                        t.setUTCFullYear(t.getUTCFullYear() + r * e)
                    }
                    )) : null
                }
                ;
                var ne = re.range;
                e.timeDay = d,
                e.timeDays = h,
                e.timeFriday = x,
                e.timeFridays = S,
                e.timeHour = u,
                e.timeHours = f,
                e.timeInterval = n,
                e.timeMillisecond = a,
                e.timeMilliseconds = i,
                e.timeMinute = l,
                e.timeMinutes = c,
                e.timeMonday = y,
                e.timeMondays = A,
                e.timeMonth = O,
                e.timeMonths = D,
                e.timeSaturday = _,
                e.timeSaturdays = C,
                e.timeSecond = o,
                e.timeSeconds = s,
                e.timeSunday = g,
                e.timeSundays = w,
                e.timeThursday = b,
                e.timeThursdays = M,
                e.timeTuesday = v,
                e.timeTuesdays = k,
                e.timeWednesday = m,
                e.timeWednesdays = T,
                e.timeWeek = g,
                e.timeWeeks = w,
                e.timeYear = L,
                e.timeYears = E,
                e.utcDay = N,
                e.utcDays = R,
                e.utcFriday = q,
                e.utcFridays = $,
                e.utcHour = P,
                e.utcHours = I,
                e.utcMillisecond = a,
                e.utcMilliseconds = i,
                e.utcMinute = z,
                e.utcMinutes = F,
                e.utcMonday = H,
                e.utcMondays = Z,
                e.utcMonth = ee,
                e.utcMonths = te,
                e.utcSaturday = W,
                e.utcSaturdays = K,
                e.utcSecond = o,
                e.utcSeconds = s,
                e.utcSunday = B,
                e.utcSundays = G,
                e.utcThursday = V,
                e.utcThursdays = Q,
                e.utcTuesday = U,
                e.utcTuesdays = J,
                e.utcWednesday = Y,
                e.utcWednesdays = X,
                e.utcWeek = B,
                e.utcWeeks = G,
                e.utcYear = re,
                e.utcYears = ne,
                Object.defineProperty(e, "__esModule", {
                    value: !0
                })
            }
            ))
        }
        , {}],
        41: [function(e, t, r) {
            t.exports = function() {
                for (var e = 0; e < arguments.length; e++)
                    if (void 0 !== arguments[e])
                        return arguments[e]
            }
        }
        , {}],
        42: [function(e, t, r) {
            "use strict";
            t.exports = i;
            var n = (i.canvas = document.createElement("canvas")).getContext("2d")
              , a = o([32, 126]);
            function i(e, t) {
                Array.isArray(e) && (e = e.join(", "));
                var r, i = {}, s = 16, l = .05;
                t && (2 === t.length && "number" == typeof t[0] ? r = o(t) : Array.isArray(t) ? r = t : (t.o ? r = o(t.o) : t.pairs && (r = t.pairs),
                t.fontSize && (s = t.fontSize),
                null != t.threshold && (l = t.threshold))),
                r || (r = a),
                n.font = s + "px " + e;
                for (var c = 0; c < r.length; c++) {
                    var u = r[c]
                      , f = n.measureText(u[0]).width + n.measureText(u[1]).width
                      , d = n.measureText(u).width;
                    if (Math.abs(f - d) > s * l) {
                        var h = (d - f) / s;
                        i[u] = 1e3 * h
                    }
                }
                return i
            }
            function o(e) {
                for (var t = [], r = e[0]; r <= e[1]; r++)
                    for (var n = String.fromCharCode(r), a = e[0]; a < e[1]; a++) {
                        var i = n + String.fromCharCode(a);
                        t.push(i)
                    }
                return t
            }
            i.createPairs = o,
            i.ascii = a
        }
        , {}],
        43: [function(e, t, r) {
            var n = e("abs-svg-path")
              , a = e("normalize-svg-path")
              , i = {
                M: "moveTo",
                C: "bezierCurveTo"
            };
            t.exports = function(e, t) {
                e.beginPath(),
                a(n(t)).forEach((function(t) {
                    var r = t[0]
                      , n = t.slice(1);
                    e[i[r]].apply(e, n)
                }
                )),
                e.closePath()
            }
        }
        , {
            "abs-svg-path": 9,
            "normalize-svg-path": 158
        }],
        44: [function(e, t, r) {
            t.exports = function(e) {
                switch (e) {
                case "int8":
                    return Int8Array;
                case "int16":
                    return Int16Array;
                case "int32":
                    return Int32Array;
                case "uint8":
                    return Uint8Array;
                case "uint16":
                    return Uint16Array;
                case "uint32":
                    return Uint32Array;
                case "float32":
                    return Float32Array;
                case "float64":
                    return Float64Array;
                case "array":
                    return Array;
                case "uint8_clamped":
                    return Uint8ClampedArray
                }
            }
        }
        , {}],
        45: [function(e, t, r) {
            "use strict";
            t.exports = function(e, t) {
                switch (void 0 === t && (t = 0),
                typeof e) {
                case "number":
                    if (e > 0)
                        return function(e, t) {
                            var r, n;
                            for (r = new Array(e),
                            n = 0; n < e; ++n)
                                r[n] = t;
                            return r
                        }(0 | e, t);
                    break;
                case "object":
                    if ("number" == typeof e.length)
                        return function e(t, r, n) {
                            var a = 0 | t[n];
                            if (a <= 0)
                                return [];
                            var i, o = new Array(a);
                            if (n === t.length - 1)
                                for (i = 0; i < a; ++i)
                                    o[i] = r;
                            else
                                for (i = 0; i < a; ++i)
                                    o[i] = e(t, r, n + 1);
                            return o
                        }(e, t, 0)
                }
                return []
            }
        }
        , {}],
        46: [function(e, t, r) {
            "use strict";
            function n(e, t, r) {
                r = r || 2;
                var n, s, l, c, u, h, p, y = t && t.length, v = y ? t[0] * r : e.length, m = a(e, 0, v, r, !0), b = [];
                if (!m || m.next === m.prev)
                    return b;
                if (y && (m = function(e, t, r, n) {
                    var o, s, l, c, u, h = [];
                    for (o = 0,
                    s = t.length; o < s; o++)
                        l = t[o] * n,
                        c = o < s - 1 ? t[o + 1] * n : e.length,
                        (u = a(e, l, c, n, !1)) === u.next && (u.steiner = !0),
                        h.push(g(u));
                    for (h.sort(f),
                    o = 0; o < h.length; o++)
                        r = i(r = d(h[o], r), r.next);
                    return r
                }(e, t, m, r)),
                e.length > 80 * r) {
                    n = l = e[0],
                    s = c = e[1];
                    for (var x = r; x < v; x += r)
                        (u = e[x]) < n && (n = u),
                        (h = e[x + 1]) < s && (s = h),
                        u > l && (l = u),
                        h > c && (c = h);
                    p = 0 !== (p = Math.max(l - n, c - s)) ? 1 / p : 0
                }
                return o(m, b, r, n, s, p),
                b
            }
            function a(e, t, r, n, a) {
                var i, o;
                if (a === C(e, t, r, n) > 0)
                    for (i = t; i < r; i += n)
                        o = T(i, e[i], e[i + 1], o);
                else
                    for (i = r - n; i >= t; i -= n)
                        o = T(i, e[i], e[i + 1], o);
                return o && b(o, o.next) && (M(o),
                o = o.next),
                o
            }
            function i(e, t) {
                if (!e)
                    return e;
                t || (t = e);
                var r, n = e;
                do {
                    if (r = !1,
                    n.steiner || !b(n, n.next) && 0 !== m(n.prev, n, n.next))
                        n = n.next;
                    else {
                        if (M(n),
                        (n = t = n.prev) === n.next)
                            break;
                        r = !0
                    }
                } while (r || n !== t);
                return t
            }
            function o(e, t, r, n, a, f, d) {
                if (e) {
                    !d && f && function(e, t, r, n) {
                        var a = e;
                        do {
                            null === a.z && (a.z = p(a.x, a.y, t, r, n)),
                            a.prevZ = a.prev,
                            a.nextZ = a.next,
                            a = a.next
                        } while (a !== e);
                        a.prevZ.nextZ = null,
                        a.prevZ = null,
                        function(e) {
                            var t, r, n, a, i, o, s, l, c = 1;
                            do {
                                for (r = e,
                                e = null,
                                i = null,
                                o = 0; r; ) {
                                    for (o++,
                                    n = r,
                                    s = 0,
                                    t = 0; t < c && (s++,
                                    n = n.nextZ); t++)
                                        ;
                                    for (l = c; s > 0 || l > 0 && n; )
                                        0 !== s && (0 === l || !n || r.z <= n.z) ? (a = r,
                                        r = r.nextZ,
                                        s--) : (a = n,
                                        n = n.nextZ,
                                        l--),
                                        i ? i.nextZ = a : e = a,
                                        a.prevZ = i,
                                        i = a;
                                    r = n
                                }
                                i.nextZ = null,
                                c *= 2
                            } while (o > 1)
                        }(a)
                    }(e, n, a, f);
                    for (var h, g, y = e; e.prev !== e.next; )
                        if (h = e.prev,
                        g = e.next,
                        f ? l(e, n, a, f) : s(e))
                            t.push(h.i / r),
                            t.push(e.i / r),
                            t.push(g.i / r),
                            M(e),
                            e = g.next,
                            y = g.next;
                        else if ((e = g) === y) {
                            d ? 1 === d ? o(e = c(i(e), t, r), t, r, n, a, f, 2) : 2 === d && u(e, t, r, n, a, f) : o(i(e), t, r, n, a, f, 1);
                            break
                        }
                }
            }
            function s(e) {
                var t = e.prev
                  , r = e
                  , n = e.next;
                if (m(t, r, n) >= 0)
                    return !1;
                for (var a = e.next.next; a !== e.prev; ) {
                    if (y(t.x, t.y, r.x, r.y, n.x, n.y, a.x, a.y) && m(a.prev, a, a.next) >= 0)
                        return !1;
                    a = a.next
                }
                return !0
            }
            function l(e, t, r, n) {
                var a = e.prev
                  , i = e
                  , o = e.next;
                if (m(a, i, o) >= 0)
                    return !1;
                for (var s = a.x < i.x ? a.x < o.x ? a.x : o.x : i.x < o.x ? i.x : o.x, l = a.y < i.y ? a.y < o.y ? a.y : o.y : i.y < o.y ? i.y : o.y, c = a.x > i.x ? a.x > o.x ? a.x : o.x : i.x > o.x ? i.x : o.x, u = a.y > i.y ? a.y > o.y ? a.y : o.y : i.y > o.y ? i.y : o.y, f = p(s, l, t, r, n), d = p(c, u, t, r, n), h = e.prevZ, g = e.nextZ; h && h.z >= f && g && g.z <= d; ) {
                    if (h !== e.prev && h !== e.next && y(a.x, a.y, i.x, i.y, o.x, o.y, h.x, h.y) && m(h.prev, h, h.next) >= 0)
                        return !1;
                    if (h = h.prevZ,
                    g !== e.prev && g !== e.next && y(a.x, a.y, i.x, i.y, o.x, o.y, g.x, g.y) && m(g.prev, g, g.next) >= 0)
                        return !1;
                    g = g.nextZ
                }
                for (; h && h.z >= f; ) {
                    if (h !== e.prev && h !== e.next && y(a.x, a.y, i.x, i.y, o.x, o.y, h.x, h.y) && m(h.prev, h, h.next) >= 0)
                        return !1;
                    h = h.prevZ
                }
                for (; g && g.z <= d; ) {
                    if (g !== e.prev && g !== e.next && y(a.x, a.y, i.x, i.y, o.x, o.y, g.x, g.y) && m(g.prev, g, g.next) >= 0)
                        return !1;
                    g = g.nextZ
                }
                return !0
            }
            function c(e, t, r) {
                var n = e;
                do {
                    var a = n.prev
                      , o = n.next.next;
                    !b(a, o) && x(a, n, n.next, o) && A(a, o) && A(o, a) && (t.push(a.i / r),
                    t.push(n.i / r),
                    t.push(o.i / r),
                    M(n),
                    M(n.next),
                    n = e = o),
                    n = n.next
                } while (n !== e);
                return i(n)
            }
            function u(e, t, r, n, a, s) {
                var l = e;
                do {
                    for (var c = l.next.next; c !== l.prev; ) {
                        if (l.i !== c.i && v(l, c)) {
                            var u = k(l, c);
                            return l = i(l, l.next),
                            u = i(u, u.next),
                            o(l, t, r, n, a, s),
                            void o(u, t, r, n, a, s)
                        }
                        c = c.next
                    }
                    l = l.next
                } while (l !== e)
            }
            function f(e, t) {
                return e.x - t.x
            }
            function d(e, t) {
                var r = function(e, t) {
                    var r, n = t, a = e.x, i = e.y, o = -1 / 0;
                    do {
                        if (i <= n.y && i >= n.next.y && n.next.y !== n.y) {
                            var s = n.x + (i - n.y) * (n.next.x - n.x) / (n.next.y - n.y);
                            if (s <= a && s > o) {
                                if (o = s,
                                s === a) {
                                    if (i === n.y)
                                        return n;
                                    if (i === n.next.y)
                                        return n.next
                                }
                                r = n.x < n.next.x ? n : n.next
                            }
                        }
                        n = n.next
                    } while (n !== t);
                    if (!r)
                        return null;
                    if (a === o)
                        return r;
                    var l, c = r, u = r.x, f = r.y, d = 1 / 0;
                    n = r;
                    do {
                        a >= n.x && n.x >= u && a !== n.x && y(i < f ? a : o, i, u, f, i < f ? o : a, i, n.x, n.y) && (l = Math.abs(i - n.y) / (a - n.x),
                        A(n, e) && (l < d || l === d && (n.x > r.x || n.x === r.x && h(r, n))) && (r = n,
                        d = l)),
                        n = n.next
                    } while (n !== c);
                    return r
                }(e, t);
                if (!r)
                    return t;
                var n = k(r, e)
                  , a = i(r, r.next);
                return i(n, n.next),
                t === r ? a : t
            }
            function h(e, t) {
                return m(e.prev, e, t.prev) < 0 && m(t.next, e, e.next) < 0
            }
            function p(e, t, r, n, a) {
                return (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - r) * a) | e << 8)) | e << 4)) | e << 2)) | e << 1)) | (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - n) * a) | t << 8)) | t << 4)) | t << 2)) | t << 1)) << 1
            }
            function g(e) {
                var t = e
                  , r = e;
                do {
                    (t.x < r.x || t.x === r.x && t.y < r.y) && (r = t),
                    t = t.next
                } while (t !== e);
                return r
            }
            function y(e, t, r, n, a, i, o, s) {
                return (a - o) * (t - s) - (e - o) * (i - s) >= 0 && (e - o) * (n - s) - (r - o) * (t - s) >= 0 && (r - o) * (i - s) - (a - o) * (n - s) >= 0
            }
            function v(e, t) {
                return e.next.i !== t.i && e.prev.i !== t.i && !function(e, t) {
                    var r = e;
                    do {
                        if (r.i !== e.i && r.next.i !== e.i && r.i !== t.i && r.next.i !== t.i && x(r, r.next, e, t))
                            return !0;
                        r = r.next
                    } while (r !== e);
                    return !1
                }(e, t) && (A(e, t) && A(t, e) && function(e, t) {
                    var r = e
                      , n = !1
                      , a = (e.x + t.x) / 2
                      , i = (e.y + t.y) / 2;
                    do {
                        r.y > i != r.next.y > i && r.next.y !== r.y && a < (r.next.x - r.x) * (i - r.y) / (r.next.y - r.y) + r.x && (n = !n),
                        r = r.next
                    } while (r !== e);
                    return n
                }(e, t) && (m(e.prev, e, t.prev) || m(e, t.prev, t)) || b(e, t) && m(e.prev, e, e.next) > 0 && m(t.prev, t, t.next) > 0)
            }
            function m(e, t, r) {
                return (t.y - e.y) * (r.x - t.x) - (t.x - e.x) * (r.y - t.y)
            }
            function b(e, t) {
                return e.x === t.x && e.y === t.y
            }
            function x(e, t, r, n) {
                var a = w(m(e, t, r))
                  , i = w(m(e, t, n))
                  , o = w(m(r, n, e))
                  , s = w(m(r, n, t));
                return a !== i && o !== s || (!(0 !== a || !_(e, r, t)) || (!(0 !== i || !_(e, n, t)) || (!(0 !== o || !_(r, e, n)) || !(0 !== s || !_(r, t, n)))))
            }
            function _(e, t, r) {
                return t.x <= Math.max(e.x, r.x) && t.x >= Math.min(e.x, r.x) && t.y <= Math.max(e.y, r.y) && t.y >= Math.min(e.y, r.y)
            }
            function w(e) {
                return e > 0 ? 1 : e < 0 ? -1 : 0
            }
            function A(e, t) {
                return m(e.prev, e, e.next) < 0 ? m(e, t, e.next) >= 0 && m(e, e.prev, t) >= 0 : m(e, t, e.prev) < 0 || m(e, e.next, t) < 0
            }
            function k(e, t) {
                var r = new S(e.i,e.x,e.y)
                  , n = new S(t.i,t.x,t.y)
                  , a = e.next
                  , i = t.prev;
                return e.next = t,
                t.prev = e,
                r.next = a,
                a.prev = r,
                n.next = r,
                r.prev = n,
                i.next = n,
                n.prev = i,
                n
            }
            function T(e, t, r, n) {
                var a = new S(e,t,r);
                return n ? (a.next = n.next,
                a.prev = n,
                n.next.prev = a,
                n.next = a) : (a.prev = a,
                a.next = a),
                a
            }
            function M(e) {
                e.next.prev = e.prev,
                e.prev.next = e.next,
                e.prevZ && (e.prevZ.nextZ = e.nextZ),
                e.nextZ && (e.nextZ.prevZ = e.prevZ)
            }
            function S(e, t, r) {
                this.i = e,
                this.x = t,
                this.y = r,
                this.prev = null,
                this.next = null,
                this.z = null,
                this.prevZ = null,
                this.nextZ = null,
                this.steiner = !1
            }
            function C(e, t, r, n) {
                for (var a = 0, i = t, o = r - n; i < r; i += n)
                    a += (e[o] - e[i]) * (e[i + 1] + e[o + 1]),
                    o = i;
                return a
            }
            t.exports = n,
            t.exports.default = n,
            n.deviation = function(e, t, r, n) {
                var a = t && t.length
                  , i = a ? t[0] * r : e.length
                  , o = Math.abs(C(e, 0, i, r));
                if (a)
                    for (var s = 0, l = t.length; s < l; s++) {
                        var c = t[s] * r
                          , u = s < l - 1 ? t[s + 1] * r : e.length;
                        o -= Math.abs(C(e, c, u, r))
                    }
                var f = 0;
                for (s = 0; s < n.length; s += 3) {
                    var d = n[s] * r
                      , h = n[s + 1] * r
                      , p = n[s + 2] * r;
                    f += Math.abs((e[d] - e[p]) * (e[h + 1] - e[d + 1]) - (e[d] - e[h]) * (e[p + 1] - e[d + 1]))
                }
                return 0 === o && 0 === f ? 0 : Math.abs((f - o) / o)
            }
            ,
            n.flatten = function(e) {
                for (var t = e[0][0].length, r = {
                    vertices: [],
                    holes: [],
                    dimensions: t
                }, n = 0, a = 0; a < e.length; a++) {
                    for (var i = 0; i < e[a].length; i++)
                        for (var o = 0; o < t; o++)
                            r.vertices.push(e[a][i][o]);
                    a > 0 && (n += e[a - 1].length,
                    r.holes.push(n))
                }
                return r
            }
        }
        , {}],
        47: [function(e, t, r) {
            "use strict";
            var n = e("../../object/valid-value");
            t.exports = function() {
                return n(this).length = 0,
                this
            }
        }
        , {
            "../../object/valid-value": 78
        }],
        48: [function(e, t, r) {
            "use strict";
            t.exports = e("./is-implemented")() ? Array.from : e("./shim")
        }
        , {
            "./is-implemented": 49,
            "./shim": 50
        }],
        49: [function(e, t, r) {
            "use strict";
            t.exports = function() {
                var e, t, r = Array.from;
                return "function" == typeof r && (t = r(e = ["raz", "dwa"]),
                Boolean(t && t !== e && "dwa" === t[1]))
            }
        }
        , {}],
        50: [function(e, t, r) {
            "use strict";
            var n = e("es6-symbol").iterator
              , a = e("../../function/is-arguments")
              , i = e("../../function/is-function")
              , o = e("../../number/to-pos-integer")
              , s = e("../../object/valid-callable")
              , l = e("../../object/valid-value")
              , c = e("../../object/is-value")
              , u = e("../../string/is-string")
              , f = Array.isArray
              , d = Function.prototype.call
              , h = {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                value: null
            }
              , p = Object.defineProperty;
            t.exports = function(e) {
                var t, r, g, y, v, m, b, x, _, w, A = arguments[1], k = arguments[2];
                if (e = Object(l(e)),
                c(A) && s(A),
                this && this !== Array && i(this))
                    t = this;
                else {
                    if (!A) {
                        if (a(e))
                            return 1 !== (v = e.length) ? Array.apply(null, e) : ((y = new Array(1))[0] = e[0],
                            y);
                        if (f(e)) {
                            for (y = new Array(v = e.length),
                            r = 0; r < v; ++r)
                                y[r] = e[r];
                            return y
                        }
                    }
                    y = []
                }
                if (!f(e))
                    if (void 0 !== (_ = e[n])) {
                        for (b = s(_).call(e),
                        t && (y = new t),
                        x = b.next(),
                        r = 0; !x.done; )
                            w = A ? d.call(A, k, x.value, r) : x.value,
                            t ? (h.value = w,
                            p(y, r, h)) : y[r] = w,
                            x = b.next(),
                            ++r;
                        v = r
                    } else if (u(e)) {
                        for (v = e.length,
                        t && (y = new t),
                        r = 0,
                        g = 0; r < v; ++r)
                            w = e[r],
                            r + 1 < v && (m = w.charCodeAt(0)) >= 55296 && m <= 56319 && (w += e[++r]),
                            w = A ? d.call(A, k, w, g) : w,
                            t ? (h.value = w,
                            p(y, g, h)) : y[g] = w,
                            ++g;
                        v = g
                    }
                if (void 0 === v)
                    for (v = o(e.length),
                    t && (y = new t(v)),
                    r = 0; r < v; ++r)
                        w = A ? d.call(A, k, e[r], r) : e[r],
                        t ? (h.value = w,
                        p(y, r, h)) : y[r] = w;
                return t && (h.value = null,
                y.length = v),
                y
            }
        }
        , {
            "../../function/is-arguments": 51,
            "../../function/is-function": 52,
            "../../number/to-pos-integer": 58,
            "../../object/is-value": 67,
            "../../object/valid-callable": 76,
            "../../object/valid-value": 78,
            "../../string/is-string": 82,
            "es6-symbol": 91
        }],
        51: [function(e, t, r) {
            "use strict";
            var n = Object.prototype.toString
              , a = n.call(function() {
                return arguments
            }());
            t.exports = function(e) {
                return n.call(e) === a
            }
        }
        , {}],
        52: [function(e, t, r) {
            "use strict";
            var n = Object.prototype.toString
              , a = RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);
            t.exports = function(e) {
                return "function" == typeof e && a(n.call(e))
            }
        }
        , {}],
        53: [function(e, t, r) {
            "use strict";
            t.exports = function() {}
        }
        , {}],
        54: [function(e, t, r) {
            "use strict";
            t.exports = e("./is-implemented")() ? Math.sign : e("./shim")
        }
        , {
            "./is-implemented": 55,
            "./shim": 56
        }],
        55: [function(e, t, r) {
            "use strict";
            t.exports = function() {
                var e = Math.sign;
                return "function" == typeof e && (1 === e(10) && -1 === e(-20))
            }
        }
        , {}],
        56: [function(e, t, r) {
            "use strict";
            t.exports = function(e) {
                return e = Number(e),
                isNaN(e) || 0 === e ? e : e > 0 ? 1 : -1
            }
        }
        , {}],
        57: [function(e, t, r) {
            "use strict";
            var n = e("../math/sign")
              , a = Math.abs
              , i = Math.floor;
            t.exports = function(e) {
                return isNaN(e) ? 0 : 0 !== (e = Number(e)) && isFinite(e) ? n(e) * i(a(e)) : e
            }
        }
        , {
            "../math/sign": 54
        }],
        58: [function(e, t, r) {
            "use strict";
            var n = e("./to-integer")
              , a = Math.max;
            t.exports = function(e) {
                return a(0, n(e))
            }
        }
        , {
            "./to-integer": 57
        }],
        59: [function(e, t, r) {
            "use strict";
            var n = e("./valid-callable")
              , a = e("./valid-value")
              , i = Function.prototype.bind
              , o = Function.prototype.call
              , s = Object.keys
              , l = Object.prototype.propertyIsEnumerable;
            t.exports = function(e, t) {
                return function(r, c) {
                    var u, f = arguments[2], d = arguments[3];
                    return r = Object(a(r)),
                    n(c),
                    u = s(r),
                    d && u.sort("function" == typeof d ? i.call(d, r) : void 0),
                    "function" != typeof e && (e = u[e]),
                    o.call(e, u, (function(e, n) {
                        return l.call(r, e) ? o.call(c, f, r[e], e, r, n) : t
                    }
                    ))
                }
            }
        }
        , {
            "./valid-callable": 76,
            "./valid-value": 78
        }],
        60: [function(e, t, r) {
            "use strict";
            t.exports = e("./is-implemented")() ? Object.assign : e("./shim")
        }
        , {
            "./is-implemented": 61,
            "./shim": 62
        }],
        61: [function(e, t, r) {
            "use strict";
            t.exports = function() {
                var e, t = Object.assign;
                return "function" == typeof t && (t(e = {
                    foo: "raz"
                }, {
                    bar: "dwa"
                }, {
                    trzy: "trzy"
                }),
                e.foo + e.bar + e.trzy === "razdwatrzy")
            }
        }
        , {}],
        62: [function(e, t, r) {
            "use strict";
            var n = e("../keys")
              , a = e("../valid-value")
              , i = Math.max;
            t.exports = function(e, t) {
                var r, o, s, l = i(arguments.length, 2);
                for (e = Object(a(e)),
                s = function(n) {
                    try {
                        e[n] = t[n]
                    } catch (e) {
                        r || (r = e)
                    }
                }
                ,
                o = 1; o < l; ++o)
                    n(t = arguments[o]).forEach(s);
                if (void 0 !== r)
                    throw r;
                return e
            }
        }
        , {
            "../keys": 68,
            "../valid-value": 78
        }],
        63: [function(e, t, r) {
            "use strict";
            var n = e("../array/from")
              , a = e("./assign")
              , i = e("./valid-value");
            t.exports = function(e) {
                var t = Object(i(e))
                  , r = arguments[1]
                  , o = Object(arguments[2]);
                if (t !== e && !r)
                    return t;
                var s = {};
                return r ? n(r, (function(t) {
                    (o.ensure || t in e) && (s[t] = e[t])
                }
                )) : a(s, e),
                s
            }
        }
        , {
            "../array/from": 48,
            "./assign": 60,
            "./valid-value": 78
        }],
        64: [function(e, t, r) {
            "use strict";
            var n, a, i, o, s = Object.create;
            e("./set-prototype-of/is-implemented")() || (n = e("./set-prototype-of/shim")),
            t.exports = n ? 1 !== n.level ? s : (a = {},
            i = {},
            o = {
                configurable: !1,
                enumerable: !1,
                writable: !0,
                value: void 0
            },
            Object.getOwnPropertyNames(Object.prototype).forEach((function(e) {
                i[e] = "__proto__" !== e ? o : {
                    configurable: !0,
                    enumerable: !1,
                    writable: !0,
                    value: void 0
                }
            }
            )),
            Object.defineProperties(a, i),
            Object.defineProperty(n, "nullPolyfill", {
                configurable: !1,
                enumerable: !1,
                writable: !1,
                value: a
            }),
            function(e, t) {
                return s(null === e ? a : e, t)
            }
            ) : s
        }
        , {
            "./set-prototype-of/is-implemented": 74,
            "./set-prototype-of/shim": 75
        }],
        65: [function(e, t, r) {
            "use strict";
            t.exports = e("./_iterate")("forEach")
        }
        , {
            "./_iterate": 59
        }],
        66: [function(e, t, r) {
            "use strict";
            var n = e("./is-value")
              , a = {
                function: !0,
                object: !0
            };
            t.exports = function(e) {
                return n(e) && a[typeof e] || !1
            }
        }
        , {
            "./is-value": 67
        }],
        67: [function(e, t, r) {
            "use strict";
            var n = e("../function/noop")();
            t.exports = function(e) {
                return e !== n && null !== e
            }
        }
        , {
            "../function/noop": 53
        }],
        68: [function(e, t, r) {
            "use strict";
            t.exports = e("./is-implemented")() ? Object.keys : e("./shim")
        }
        , {
            "./is-implemented": 69,
            "./shim": 70
        }],
        69: [function(e, t, r) {
            "use strict";
            t.exports = function() {
                try {
                    return Object.keys("primitive"),
                    !0
                } catch (e) {
                    return !1
                }
            }
        }
        , {}],
        70: [function(e, t, r) {
            "use strict";
            var n = e("../is-value")
              , a = Object.keys;
            t.exports = function(e) {
                return a(n(e) ? Object(e) : e)
            }
        }
        , {
            "../is-value": 67
        }],
        71: [function(e, t, r) {
            "use strict";
            var n = e("./valid-callable")
              , a = e("./for-each")
              , i = Function.prototype.call;
            t.exports = function(e, t) {
                var r = {}
                  , o = arguments[2];
                return n(t),
                a(e, (function(e, n, a, s) {
                    r[n] = i.call(t, o, e, n, a, s)
                }
                )),
                r
            }
        }
        , {
            "./for-each": 65,
            "./valid-callable": 76
        }],
        72: [function(e, t, r) {
            "use strict";
            var n = e("./is-value")
              , a = Array.prototype.forEach
              , i = Object.create
              , o = function(e, t) {
                var r;
                for (r in e)
                    t[r] = e[r]
            };
            t.exports = function(e) {
                var t = i(null);
                return a.call(arguments, (function(e) {
                    n(e) && o(Object(e), t)
                }
                )),
                t
            }
        }
        , {
            "./is-value": 67
        }],
        73: [function(e, t, r) {
            "use strict";
            t.exports = e("./is-implemented")() ? Object.setPrototypeOf : e("./shim")
        }
        , {
            "./is-implemented": 74,
            "./shim": 75
        }],
        74: [function(e, t, r) {
            "use strict";
            var n = Object.create
              , a = Object.getPrototypeOf
              , i = {};
            t.exports = function() {
                var e = Object.setPrototypeOf
                  , t = arguments[0] || n;
                return "function" == typeof e && a(e(t(null), i)) === i
            }
        }
        , {}],
        75: [function(e, t, r) {
            "use strict";
            var n, a = e("../is-object"), i = e("../valid-value"), o = Object.prototype.isPrototypeOf, s = Object.defineProperty, l = {
                configurable: !0,
                enumerable: !1,
                writable: !0,
                value: void 0
            };
            n = function(e, t) {
                if (i(e),
                null === t || a(t))
                    return e;
                throw new TypeError("Prototype must be null or an object")
            }
            ,
            t.exports = function(e) {
                var t, r;
                return e ? (2 === e.level ? e.set ? (r = e.set,
                t = function(e, t) {
                    return r.call(n(e, t), t),
                    e
                }
                ) : t = function(e, t) {
                    return n(e, t).__proto__ = t,
                    e
                }
                : t = function e(t, r) {
                    var a;
                    return n(t, r),
                    (a = o.call(e.nullPolyfill, t)) && delete e.nullPolyfill.__proto__,
                    null === r && (r = e.nullPolyfill),
                    t.__proto__ = r,
                    a && s(e.nullPolyfill, "__proto__", l),
                    t
                }
                ,
                Object.defineProperty(t, "level", {
                    configurable: !1,
                    enumerable: !1,
                    writable: !1,
                    value: e.level
                })) : null
            }(function() {
                var e, t = Object.create(null), r = {}, n = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__");
                if (n) {
                    try {
                        (e = n.set).call(t, r)
                    } catch (e) {}
                    if (Object.getPrototypeOf(t) === r)
                        return {
                            set: e,
                            level: 2
                        }
                }
                return t.__proto__ = r,
                Object.getPrototypeOf(t) === r ? {
                    level: 2
                } : ((t = {}).__proto__ = r,
                Object.getPrototypeOf(t) === r && {
                    level: 1
                })
            }()),
            e("../create")
        }
        , {
            "../create": 64,
            "../is-object": 66,
            "../valid-value": 78
        }],
        76: [function(e, t, r) {
            "use strict";
            t.exports = function(e) {
                if ("function" != typeof e)
                    throw new TypeError(e + " is not a function");
                return e
            }
        }
        , {}],
        77: [function(e, t, r) {
            "use strict";
            var n = e("./is-object");
            t.exports = function(e) {
                if (!n(e))
                    throw new TypeError(e + " is not an Object");
                return e
            }
        }
        , {
            "./is-object": 66
        }],
        78: [function(e, t, r) {
            "use strict";
            var n = e("./is-value");
            t.exports = function(e) {
                if (!n(e))
                    throw new TypeError("Cannot use null or undefined");
                return e
            }
        }
        , {
            "./is-value": 67
        }],
        79: [function(e, t, r) {
            "use strict";
            t.exports = e("./is-implemented")() ? String.prototype.contains : e("./shim")
        }
        , {
            "./is-implemented": 80,
            "./shim": 81
        }],
        80: [function(e, t, r) {
            "use strict";
            var n = "razdwatrzy";
            t.exports = function() {
                return "function" == typeof n.contains && (!0 === n.contains("dwa") && !1 === n.contains("foo"))
            }
        }
        , {}],
        81: [function(e, t, r) {
            "use strict";
            var n = String.prototype.indexOf;
            t.exports = function(e) {
                return n.call(this, e, arguments[1]) > -1
            }
        }
        , {}],
        82: [function(e, t, r) {
            "use strict";
            var n = Object.prototype.toString
              , a = n.call("");
            t.exports = function(e) {
                return "string" == typeof e || e && "object" == typeof e && (e instanceof String || n.call(e) === a) || !1
            }
        }
        , {}],
        83: [function(e, t, r) {
            "use strict";
            var n = Object.create(null)
              , a = Math.random;
            t.exports = function() {
                var e;
                do {
                    e = a().toString(36).slice(2)
                } while (n[e]);
                return e
            }
        }
        , {}],
        84: [function(e, t, r) {
            "use strict";
            var n, a = e("es5-ext/object/set-prototype-of"), i = e("es5-ext/string/#/contains"), o = e("d"), s = e("es6-symbol"), l = e("./"), c = Object.defineProperty;
            n = t.exports = function(e, t) {
                if (!(this instanceof n))
                    throw new TypeError("Constructor requires 'new'");
                l.call(this, e),
                t = t ? i.call(t, "key+value") ? "key+value" : i.call(t, "key") ? "key" : "value" : "value",
                c(this, "__kind__", o("", t))
            }
            ,
            a && a(n, l),
            delete n.prototype.constructor,
            n.prototype = Object.create(l.prototype, {
                _resolve: o((function(e) {
                    return "value" === this.__kind__ ? this.__list__[e] : "key+value" === this.__kind__ ? [e, this.__list__[e]] : e
                }
                ))
            }),
            c(n.prototype, s.toStringTag, o("c", "Array Iterator"))
        }
        , {
            "./": 87,
            d: 37,
            "es5-ext/object/set-prototype-of": 73,
            "es5-ext/string/#/contains": 79,
            "es6-symbol": 91
        }],
        85: [function(e, t, r) {
            "use strict";
            var n = e("es5-ext/function/is-arguments")
              , a = e("es5-ext/object/valid-callable")
              , i = e("es5-ext/string/is-string")
              , o = e("./get")
              , s = Array.isArray
              , l = Function.prototype.call
              , c = Array.prototype.some;
            t.exports = function(e, t) {
                var r, u, f, d, h, p, g, y, v = arguments[2];
                if (s(e) || n(e) ? r = "array" : i(e) ? r = "string" : e = o(e),
                a(t),
                f = function() {
                    d = !0
                }
                ,
                "array" !== r)
                    if ("string" !== r)
                        for (u = e.next(); !u.done; ) {
                            if (l.call(t, v, u.value, f),
                            d)
                                return;
                            u = e.next()
                        }
                    else
                        for (p = e.length,
                        h = 0; h < p && (g = e[h],
                        h + 1 < p && (y = g.charCodeAt(0)) >= 55296 && y <= 56319 && (g += e[++h]),
                        l.call(t, v, g, f),
                        !d); ++h)
                            ;
                else
                    c.call(e, (function(e) {
                        return l.call(t, v, e, f),
                        d
                    }
                    ))
            }
        }
        , {
            "./get": 86,
            "es5-ext/function/is-arguments": 51,
            "es5-ext/object/valid-callable": 76,
            "es5-ext/string/is-string": 82
        }],
        86: [function(e, t, r) {
            "use strict";
            var n = e("es5-ext/function/is-arguments")
              , a = e("es5-ext/string/is-string")
              , i = e("./array")
              , o = e("./string")
              , s = e("./valid-iterable")
              , l = e("es6-symbol").iterator;
            t.exports = function(e) {
                return "function" == typeof s(e)[l] ? e[l]() : n(e) ? new i(e) : a(e) ? new o(e) : new i(e)
            }
        }
        , {
            "./array": 84,
            "./string": 89,
            "./valid-iterable": 90,
            "es5-ext/function/is-arguments": 51,
            "es5-ext/string/is-string": 82,
            "es6-symbol": 91
        }],
        87: [function(e, t, r) {
            "use strict";
            var n, a = e("es5-ext/array/#/clear"), i = e("es5-ext/object/assign"), o = e("es5-ext/object/valid-callable"), s = e("es5-ext/object/valid-value"), l = e("d"), c = e("d/auto-bind"), u = e("es6-symbol"), f = Object.defineProperty, d = Object.defineProperties;
            t.exports = n = function(e, t) {
                if (!(this instanceof n))
                    throw new TypeError("Constructor requires 'new'");
                d(this, {
                    __list__: l("w", s(e)),
                    __context__: l("w", t),
                    __nextIndex__: l("w", 0)
                }),
                t && (o(t.on),
                t.on("_add", this._onAdd),
                t.on("_delete", this._onDelete),
                t.on("_clear", this._onClear))
            }
            ,
            delete n.prototype.constructor,
            d(n.prototype, i({
                _next: l((function() {
                    var e;
                    if (this.__list__)
                        return this.__redo__ && void 0 !== (e = this.__redo__.shift()) ? e : this.__nextIndex__ < this.__list__.length ? this.__nextIndex__++ : void this._unBind()
                }
                )),
                next: l((function() {
                    return this._createResult(this._next())
                }
                )),
                _createResult: l((function(e) {
                    return void 0 === e ? {
                        done: !0,
                        value: void 0
                    } : {
                        done: !1,
                        value: this._resolve(e)
                    }
                }
                )),
                _resolve: l((function(e) {
                    return this.__list__[e]
                }
                )),
                _unBind: l((function() {
                    this.__list__ = null,
                    delete this.__redo__,
                    this.__context__ && (this.__context__.off("_add", this._onAdd),
                    this.__context__.off("_delete", this._onDelete),
                    this.__context__.off("_clear", this._onClear),
                    this.__context__ = null)
                }
                )),
                toString: l((function() {
                    return "[object " + (this[u.toStringTag] || "Object") + "]"
                }
                ))
            }, c({
                _onAdd: l((function(e) {
                    e >= this.__nextIndex__ || (++this.__nextIndex__,
                    this.__redo__ ? (this.__redo__.forEach((function(t, r) {
                        t >= e && (this.__redo__[r] = ++t)
                    }
                    ), this),
                    this.__redo__.push(e)) : f(this, "__redo__", l("c", [e])))
                }
                )),
                _onDelete: l((function(e) {
                    var t;
                    e >= this.__nextIndex__ || (--this.__nextIndex__,
                    this.__redo__ && (-1 !== (t = this.__redo__.indexOf(e)) && this.__redo__.splice(t, 1),
                    this.__redo__.forEach((function(t, r) {
                        t > e && (this.__redo__[r] = --t)
                    }
                    ), this)))
                }
                )),
                _onClear: l((function() {
                    this.__redo__ && a.call(this.__redo__),
                    this.__nextIndex__ = 0
                }
                ))
            }))),
            f(n.prototype, u.iterator, l((function() {
                return this
            }
            )))
        }
        , {
            d: 37,
            "d/auto-bind": 36,
            "es5-ext/array/#/clear": 47,
            "es5-ext/object/assign": 60,
            "es5-ext/object/valid-callable": 76,
            "es5-ext/object/valid-value": 78,
            "es6-symbol": 91
        }],
        88: [function(e, t, r) {
            "use strict";
            var n = e("es5-ext/function/is-arguments")
              , a = e("es5-ext/object/is-value")
              , i = e("es5-ext/string/is-string")
              , o = e("es6-symbol").iterator
              , s = Array.isArray;
            t.exports = function(e) {
                return !!a(e) && (!!s(e) || (!!i(e) || (!!n(e) || "function" == typeof e[o])))
            }
        }
        , {
            "es5-ext/function/is-arguments": 51,
            "es5-ext/object/is-value": 67,
            "es5-ext/string/is-string": 82,
            "es6-symbol": 91
        }],
        89: [function(e, t, r) {
            "use strict";
            var n, a = e("es5-ext/object/set-prototype-of"), i = e("d"), o = e("es6-symbol"), s = e("./"), l = Object.defineProperty;
            n = t.exports = function(e) {
                if (!(this instanceof n))
                    throw new TypeError("Constructor requires 'new'");
                e = String(e),
                s.call(this, e),
                l(this, "__length__", i("", e.length))
            }
            ,
            a && a(n, s),
            delete n.prototype.constructor,
            n.prototype = Object.create(s.prototype, {
                _next: i((function() {
                    if (this.__list__)
                        return this.__nextIndex__ < this.__length__ ? this.__nextIndex__++ : void this._unBind()
                }
                )),
                _resolve: i((function(e) {
                    var t, r = this.__list__[e];
                    return this.__nextIndex__ === this.__length__ ? r : (t = r.charCodeAt(0)) >= 55296 && t <= 56319 ? r + this.__list__[this.__nextIndex__++] : r
                }
                ))
            }),
            l(n.prototype, o.toStringTag, i("c", "String Iterator"))
        }
        , {
            "./": 87,
            d: 37,
            "es5-ext/object/set-prototype-of": 73,
            "es6-symbol": 91
        }],
        90: [function(e, t, r) {
            "use strict";
            var n = e("./is-iterable");
            t.exports = function(e) {
                if (!n(e))
                    throw new TypeError(e + " is not iterable");
                return e
            }
        }
        , {
            "./is-iterable": 88
        }],
        91: [function(e, t, r) {
            "use strict";
            t.exports = e("./is-implemented")() ? e("ext/global-this").Symbol : e("./polyfill")
        }
        , {
            "./is-implemented": 92,
            "./polyfill": 97,
            "ext/global-this": 105
        }],
        92: [function(e, t, r) {
            "use strict";
            var n = e("ext/global-this")
              , a = {
                object: !0,
                symbol: !0
            };
            t.exports = function() {
                var e, t = n.Symbol;
                if ("function" != typeof t)
                    return !1;
                e = t("test symbol");
                try {
                    String(e)
                } catch (e) {
                    return !1
                }
                return !!a[typeof t.iterator] && (!!a[typeof t.toPrimitive] && !!a[typeof t.toStringTag])
            }
        }
        , {
            "ext/global-this": 105
        }],
        93: [function(e, t, r) {
            "use strict";
            t.exports = function(e) {
                return !!e && ("symbol" == typeof e || !!e.constructor && ("Symbol" === e.constructor.name && "Symbol" === e[e.constructor.toStringTag]))
            }
        }
        , {}],
        94: [function(e, t, r) {
            "use strict";
            var n = e("d")
              , a = Object.create
              , i = Object.defineProperty
              , o = Object.prototype
              , s = a(null);
            t.exports = function(e) {
                for (var t, r, a = 0; s[e + (a || "")]; )
                    ++a;
                return s[e += a || ""] = !0,
                i(o, t = "@@" + e, n.gs(null, (function(e) {
                    r || (r = !0,
                    i(this, t, n(e)),
                    r = !1)
                }
                ))),
                t
            }
        }
        , {
            d: 37
        }],
        95: [function(e, t, r) {
            "use strict";
            var n = e("d")
              , a = e("ext/global-this").Symbol;
            t.exports = function(e) {
                return Object.defineProperties(e, {
                    hasInstance: n("", a && a.hasInstance || e("hasInstance")),
                    isConcatSpreadable: n("", a && a.isConcatSpreadable || e("isConcatSpreadable")),
                    iterator: n("", a && a.iterator || e("iterator")),
                    match: n("", a && a.match || e("match")),
                    replace: n("", a && a.replace || e("replace")),
                    search: n("", a && a.search || e("search")),
                    species: n("", a && a.species || e("species")),
                    split: n("", a && a.split || e("split")),
                    toPrimitive: n("", a && a.toPrimitive || e("toPrimitive")),
                    toStringTag: n("", a && a.toStringTag || e("toStringTag")),
                    unscopables: n("", a && a.unscopables || e("unscopables"))
                })
            }
        }
        , {
            d: 37,
            "ext/global-this": 105
        }],
        96: [function(e, t, r) {
            "use strict";
            var n = e("d")
              , a = e("../../../validate-symbol")
              , i = Object.create(null);
            t.exports = function(e) {
                return Object.defineProperties(e, {
                    for: n((function(t) {
                        return i[t] ? i[t] : i[t] = e(String(t))
                    }
                    )),
                    keyFor: n((function(e) {
                        var t;
                        for (t in a(e),
                        i)
                            if (i[t] === e)
                                return t
                    }
                    ))
                })
            }
        }
        , {
            "../../../validate-symbol": 98,
            d: 37
        }],
        97: [function(e, t, r) {
            "use strict";
            var n, a, i, o = e("d"), s = e("./validate-symbol"), l = e("ext/global-this").Symbol, c = e("./lib/private/generate-name"), u = e("./lib/private/setup/standard-symbols"), f = e("./lib/private/setup/symbol-registry"), d = Object.create, h = Object.defineProperties, p = Object.defineProperty;
            if ("function" == typeof l)
                try {
                    String(l()),
                    i = !0
                } catch (e) {}
            else
                l = null;
            a = function(e) {
                if (this instanceof a)
                    throw new TypeError("Symbol is not a constructor");
                return n(e)
            }
            ,
            t.exports = n = function e(t) {
                var r;
                if (this instanceof e)
                    throw new TypeError("Symbol is not a constructor");
                return i ? l(t) : (r = d(a.prototype),
                t = void 0 === t ? "" : String(t),
                h(r, {
                    __description__: o("", t),
                    __name__: o("", c(t))
                }))
            }
            ,
            u(n),
            f(n),
            h(a.prototype, {
                constructor: o(n),
                toString: o("", (function() {
                    return this.__name__
                }
                ))
            }),
            h(n.prototype, {
                toString: o((function() {
                    return "Symbol (" + s(this).__description__ + ")"
                }
                )),
                valueOf: o((function() {
                    return s(this)
                }
                ))
            }),
            p(n.prototype, n.toPrimitive, o("", (function() {
                var e = s(this);
                return "symbol" == typeof e ? e : e.toString()
            }
            ))),
            p(n.prototype, n.toStringTag, o("c", "Symbol")),
            p(a.prototype, n.toStringTag, o("c", n.prototype[n.toStringTag])),
            p(a.prototype, n.toPrimitive, o("c", n.prototype[n.toPrimitive]))
        }
        , {
            "./lib/private/generate-name": 94,
            "./lib/private/setup/standard-symbols": 95,
            "./lib/private/setup/symbol-registry": 96,
            "./validate-symbol": 98,
            d: 37,
            "ext/global-this": 105
        }],
        98: [function(e, t, r) {
            "use strict";
            var n = e("./is-symbol");
            t.exports = function(e) {
                if (!n(e))
                    throw new TypeError(e + " is not a symbol");
                return e
            }
        }
        , {
            "./is-symbol": 93
        }],
        99: [function(e, t, r) {
            "use strict";
            t.exports = e("./is-implemented")() ? WeakMap : e("./polyfill")
        }
        , {
            "./is-implemented": 100,
            "./polyfill": 102
        }],
        100: [function(e, t, r) {
            "use strict";
            t.exports = function() {
                var e, t;
                if ("function" != typeof WeakMap)
                    return !1;
                try {
                    e = new WeakMap([[t = {}, "one"], [{}, "two"], [{}, "three"]])
                } catch (e) {
                    return !1
                }
                return "[object WeakMap]" === String(e) && ("function" == typeof e.set && (e.set({}, 1) === e && ("function" == typeof e.delete && ("function" == typeof e.has && "one" === e.get(t)))))
            }
        }
        , {}],
        101: [function(e, t, r) {
            "use strict";
            t.exports = "function" == typeof WeakMap && "[object WeakMap]" === Object.prototype.toString.call(new WeakMap)
        }
        , {}],
        102: [function(e, t, r) {
            "use strict";
            var n, a = e("es5-ext/object/is-value"), i = e("es5-ext/object/set-prototype-of"), o = e("es5-ext/object/valid-object"), s = e("es5-ext/object/valid-value"), l = e("es5-ext/string/random-uniq"), c = e("d"), u = e("es6-iterator/get"), f = e("es6-iterator/for-of"), d = e("es6-symbol").toStringTag, h = e("./is-native-implemented"), p = Array.isArray, g = Object.defineProperty, y = Object.prototype.hasOwnProperty, v = Object.getPrototypeOf;
            t.exports = n = function() {
                var e, t = arguments[0];
                if (!(this instanceof n))
                    throw new TypeError("Constructor requires 'new'");
                return e = h && i && WeakMap !== n ? i(new WeakMap, v(this)) : this,
                a(t) && (p(t) || (t = u(t))),
                g(e, "__weakMapData__", c("c", "$weakMap$" + l())),
                t ? (f(t, (function(t) {
                    s(t),
                    e.set(t[0], t[1])
                }
                )),
                e) : e
            }
            ,
            h && (i && i(n, WeakMap),
            n.prototype = Object.create(WeakMap.prototype, {
                constructor: c(n)
            })),
            Object.defineProperties(n.prototype, {
                delete: c((function(e) {
                    return !!y.call(o(e), this.__weakMapData__) && (delete e[this.__weakMapData__],
                    !0)
                }
                )),
                get: c((function(e) {
                    if (y.call(o(e), this.__weakMapData__))
                        return e[this.__weakMapData__]
                }
                )),
                has: c((function(e) {
                    return y.call(o(e), this.__weakMapData__)
                }
                )),
                set: c((function(e, t) {
                    return g(o(e), this.__weakMapData__, c("c", t)),
                    this
                }
                )),
                toString: c((function() {
                    return "[object WeakMap]"
                }
                ))
            }),
            g(n.prototype, d, c("c", "WeakMap"))
        }
        , {
            "./is-native-implemented": 101,
            d: 37,
            "es5-ext/object/is-value": 67,
            "es5-ext/object/set-prototype-of": 73,
            "es5-ext/object/valid-object": 77,
            "es5-ext/object/valid-value": 78,
            "es5-ext/string/random-uniq": 83,
            "es6-iterator/for-of": 85,
            "es6-iterator/get": 86,
            "es6-symbol": 91
        }],
        103: [function(e, t, r) {
            "use strict";
            var n, a = "object" == typeof Reflect ? Reflect : null, i = a && "function" == typeof a.apply ? a.apply : function(e, t, r) {
                return Function.prototype.apply.call(e, t, r)
            }
            ;
            n = a && "function" == typeof a.ownKeys ? a.ownKeys : Object.getOwnPropertySymbols ? function(e) {
                return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))
            }
            : function(e) {
                return Object.getOwnPropertyNames(e)
            }
            ;
            var o = Number.isNaN || function(e) {
                return e != e
            }
            ;
            function s() {
                s.init.call(this)
            }
            t.exports = s,
            t.exports.once = function(e, t) {
                return new Promise((function(r, n) {
                    function a(r) {
                        e.removeListener(t, i),
                        n(r)
                    }
                    function i() {
                        "function" == typeof e.removeListener && e.removeListener("error", a),
                        r([].slice.call(arguments))
                    }
                    v(e, t, i, {
                        once: !0
                    }),
                    "error" !== t && function(e, t, r) {
                        "function" == typeof e.on && v(e, "error", t, r)
                    }(e, a, {
                        once: !0
                    })
                }
                ))
            }
            ,
            s.EventEmitter = s,
            s.prototype._events = void 0,
            s.prototype._eventsCount = 0,
            s.prototype._maxListeners = void 0;
            var l = 10;
            function c(e) {
                if ("function" != typeof e)
                    throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof e)
            }
            function u(e) {
                return void 0 === e._maxListeners ? s.defaultMaxListeners : e._maxListeners
            }
            function f(e, t, r, n) {
                var a, i, o, s;
                if (c(r),
                void 0 === (i = e._events) ? (i = e._events = Object.create(null),
                e._eventsCount = 0) : (void 0 !== i.newListener && (e.emit("newListener", t, r.listener ? r.listener : r),
                i = e._events),
                o = i[t]),
                void 0 === o)
                    o = i[t] = r,
                    ++e._eventsCount;
                else if ("function" == typeof o ? o = i[t] = n ? [r, o] : [o, r] : n ? o.unshift(r) : o.push(r),
                (a = u(e)) > 0 && o.length > a && !o.warned) {
                    o.warned = !0;
                    var l = new Error("Possible EventEmitter memory leak detected. " + o.length + " " + String(t) + " listeners added. Use emitter.setMaxListeners() to increase limit");
                    l.name = "MaxListenersExceededWarning",
                    l.emitter = e,
                    l.type = t,
                    l.count = o.length,
                    s = l,
                    console && console.warn && console.warn(s)
                }
                return e
            }
            function d() {
                if (!this.fired)
                    return this.target.removeListener(this.type, this.wrapFn),
                    this.fired = !0,
                    0 === arguments.length ? this.listener.call(this.target) : this.listener.apply(this.target, arguments)
            }
            function h(e, t, r) {
                var n = {
                    fired: !1,
                    wrapFn: void 0,
                    target: e,
                    type: t,
                    listener: r
                }
                  , a = d.bind(n);
                return a.listener = r,
                n.wrapFn = a,
                a
            }
            function p(e, t, r) {
                var n = e._events;
                if (void 0 === n)
                    return [];
                var a = n[t];
                return void 0 === a ? [] : "function" == typeof a ? r ? [a.listener || a] : [a] : r ? function(e) {
                    for (var t = new Array(e.length), r = 0; r < t.length; ++r)
                        t[r] = e[r].listener || e[r];
                    return t
                }(a) : y(a, a.length)
            }
            function g(e) {
                var t = this._events;
                if (void 0 !== t) {
                    var r = t[e];
                    if ("function" == typeof r)
                        return 1;
                    if (void 0 !== r)
                        return r.length
                }
                return 0
            }
            function y(e, t) {
                for (var r = new Array(t), n = 0; n < t; ++n)
                    r[n] = e[n];
                return r
            }
            function v(e, t, r, n) {
                if ("function" == typeof e.on)
                    n.once ? e.once(t, r) : e.on(t, r);
                else {
                    if ("function" != typeof e.addEventListener)
                        throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof e);
                    e.addEventListener(t, (function a(i) {
                        n.once && e.removeEventListener(t, a),
                        r(i)
                    }
                    ))
                }
            }
            Object.defineProperty(s, "defaultMaxListeners", {
                enumerable: !0,
                get: function() {
                    return l
                },
                set: function(e) {
                    if ("number" != typeof e || e < 0 || o(e))
                        throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + e + ".");
                    l = e
                }
            }),
            s.init = function() {
                void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = Object.create(null),
                this._eventsCount = 0),
                this._maxListeners = this._maxListeners || void 0
            }
            ,
            s.prototype.setMaxListeners = function(e) {
                if ("number" != typeof e || e < 0 || o(e))
                    throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + e + ".");
                return this._maxListeners = e,
                this
            }
            ,
            s.prototype.getMaxListeners = function() {
                return u(this)
            }
            ,
            s.prototype.emit = function(e) {
                for (var t = [], r = 1; r < arguments.length; r++)
                    t.push(arguments[r]);
                var n = "error" === e
                  , a = this._events;
                if (void 0 !== a)
                    n = n && void 0 === a.error;
                else if (!n)
                    return !1;
                if (n) {
                    var o;
                    if (t.length > 0 && (o = t[0]),
                    o instanceof Error)
                        throw o;
                    var s = new Error("Unhandled error." + (o ? " (" + o.message + ")" : ""));
                    throw s.context = o,
                    s
                }
                var l = a[e];
                if (void 0 === l)
                    return !1;
                if ("function" == typeof l)
                    i(l, this, t);
                else {
                    var c = l.length
                      , u = y(l, c);
                    for (r = 0; r < c; ++r)
                        i(u[r], this, t)
                }
                return !0
            }
            ,
            s.prototype.addListener = function(e, t) {
                return f(this, e, t, !1)
            }
            ,
            s.prototype.on = s.prototype.addListener,
            s.prototype.prependListener = function(e, t) {
                return f(this, e, t, !0)
            }
            ,
            s.prototype.once = function(e, t) {
                return c(t),
                this.on(e, h(this, e, t)),
                this
            }
            ,
            s.prototype.prependOnceListener = function(e, t) {
                return c(t),
                this.prependListener(e, h(this, e, t)),
                this
            }
            ,
            s.prototype.removeListener = function(e, t) {
                var r, n, a, i, o;
                if (c(t),
                void 0 === (n = this._events))
                    return this;
                if (void 0 === (r = n[e]))
                    return this;
                if (r === t || r.listener === t)
                    0 == --this._eventsCount ? this._events = Object.create(null) : (delete n[e],
                    n.removeListener && this.emit("removeListener", e, r.listener || t));
                else if ("function" != typeof r) {
                    for (a = -1,
                    i = r.length - 1; i >= 0; i--)
                        if (r[i] === t || r[i].listener === t) {
                            o = r[i].listener,
                            a = i;
                            break
                        }
                    if (a < 0)
                        return this;
                    0 === a ? r.shift() : function(e, t) {
                        for (; t + 1 < e.length; t++)
                            e[t] = e[t + 1];
                        e.pop()
                    }(r, a),
                    1 === r.length && (n[e] = r[0]),
                    void 0 !== n.removeListener && this.emit("removeListener", e, o || t)
                }
                return this
            }
            ,
            s.prototype.off = s.prototype.removeListener,
            s.prototype.removeAllListeners = function(e) {
                var t, r, n;
                if (void 0 === (r = this._events))
                    return this;
                if (void 0 === r.removeListener)
                    return 0 === arguments.length ? (this._events = Object.create(null),
                    this._eventsCount = 0) : void 0 !== r[e] && (0 == --this._eventsCount ? this._events = Object.create(null) : delete r[e]),
                    this;
                if (0 === arguments.length) {
                    var a, i = Object.keys(r);
                    for (n = 0; n < i.length; ++n)
                        "removeListener" !== (a = i[n]) && this.removeAllListeners(a);
                    return this.removeAllListeners("removeListener"),
                    this._events = Object.create(null),
                    this._eventsCount = 0,
                    this
                }
                if ("function" == typeof (t = r[e]))
                    this.removeListener(e, t);
                else if (void 0 !== t)
                    for (n = t.length - 1; n >= 0; n--)
                        this.removeListener(e, t[n]);
                return this
            }
            ,
            s.prototype.listeners = function(e) {
                return p(this, e, !0)
            }
            ,
            s.prototype.rawListeners = function(e) {
                return p(this, e, !1)
            }
            ,
            s.listenerCount = function(e, t) {
                return "function" == typeof e.listenerCount ? e.listenerCount(t) : g.call(e, t)
            }
            ,
            s.prototype.listenerCount = g,
            s.prototype.eventNames = function() {
                return this._eventsCount > 0 ? n(this._events) : []
            }
        }
        , {}],
        104: [function(e, t, r) {
            var n = function() {
                if ("object" == typeof self && self)
                    return self;
                if ("object" == typeof window && window)
                    return window;
                throw new Error("Unable to resolve global `this`")
            };
            t.exports = function() {
                if (this)
                    return this;
                try {
                    Object.defineProperty(Object.prototype, "__global__", {
                        get: function() {
                            return this
                        },
                        configurable: !0
                    })
                } catch (e) {
                    return n()
                }
                try {
                    return __global__ || n()
                } finally {
                    delete Object.prototype.__global__
                }
            }()
        }
        , {}],
        105: [function(e, t, r) {
            "use strict";
            t.exports = e("./is-implemented")() ? globalThis : e("./implementation")
        }
        , {
            "./implementation": 104,
            "./is-implemented": 106
        }],
        106: [function(e, t, r) {
            "use strict";
            t.exports = function() {
                return "object" == typeof globalThis && (!!globalThis && globalThis.Array === Array)
            }
        }
        , {}],
        107: [function(e, t, r) {
            "use strict";
            var n = e("is-string-blank");
            t.exports = function(e) {
                var t = typeof e;
                if ("string" === t) {
                    var r = e;
                    if (0 === (e = +e) && n(r))
                        return !1
                } else if ("number" !== t)
                    return !1;
                return e - e < 1
            }
        }
        , {
            "is-string-blank": 153
        }],
        108: [function(e, t, r) {
            var n = e("dtype");
            t.exports = function(e, t, r) {
                if (!e)
                    throw new TypeError("must specify data as first parameter");
                if (r = 0 | +(r || 0),
                Array.isArray(e) && e[0] && "number" == typeof e[0][0]) {
                    var a, i, o, s, l = e[0].length, c = e.length * l;
                    t && "string" != typeof t || (t = new (n(t || "float32"))(c + r));
                    var u = t.length - r;
                    if (c !== u)
                        throw new Error("source length " + c + " (" + l + "x" + e.length + ") does not match destination length " + u);
                    for (a = 0,
                    o = r; a < e.length; a++)
                        for (i = 0; i < l; i++)
                            t[o++] = null === e[a][i] ? NaN : e[a][i]
                } else if (t && "string" != typeof t)
                    t.set(e, r);
                else {
                    var f = n(t || "float32");
                    if (Array.isArray(e) || "array" === t)
                        for (t = new f(e.length + r),
                        a = 0,
                        o = r,
                        s = t.length; o < s; o++,
                        a++)
                            t[o] = null === e[a] ? NaN : e[a];
                    else
                        0 === r ? t = new f(e) : (t = new f(e.length + r)).set(e, r)
                }
                return t
            }
        }
        , {
            dtype: 44
        }],
        109: [function(e, t, r) {
            "use strict";
            var n = e("css-font/stringify")
              , a = [32, 126];
            t.exports = function(e) {
                var t = (e = e || {}).shape ? e.shape : e.canvas ? [e.canvas.width, e.canvas.height] : [512, 512]
                  , r = e.canvas || document.createElement("canvas")
                  , i = e.font
                  , o = "number" == typeof e.step ? [e.step, e.step] : e.step || [32, 32]
                  , s = e.chars || a;
                i && "string" != typeof i && (i = n(i));
                if (Array.isArray(s)) {
                    if (2 === s.length && "number" == typeof s[0] && "number" == typeof s[1]) {
                        for (var l = [], c = s[0], u = 0; c <= s[1]; c++)
                            l[u++] = String.fromCharCode(c);
                        s = l
                    }
                } else
                    s = String(s).split("");
                t = t.slice(),
                r.width = t[0],
                r.height = t[1];
                var f = r.getContext("2d");
                f.fillStyle = "#000",
                f.fillRect(0, 0, r.width, r.height),
                f.font = i,
                f.textAlign = "center",
                f.textBaseline = "middle",
                f.fillStyle = "#fff";
                var d = o[0] / 2
                  , h = o[1] / 2;
                for (c = 0; c < s.length; c++)
                    f.fillText(s[c], d, h),
                    (d += o[0]) > t[0] - o[0] / 2 && (d = o[0] / 2,
                    h += o[1]);
                return r
            }
        }
        , {
            "css-font/stringify": 33
        }],
        110: [function(e, t, r) {
            "use strict";
            function n(e, t) {
                t || (t = {}),
                ("string" == typeof e || Array.isArray(e)) && (t.family = e);
                var r = Array.isArray(t.family) ? t.family.join(", ") : t.family;
                if (!r)
                    throw Error("`family` must be defined");
                var s = t.size || t.fontSize || t.em || 48
                  , l = t.weight || t.fontWeight || ""
                  , c = (e = [t.style || t.fontStyle || "", l, s].join(" ") + "px " + r,
                t.origin || "top");
                if (n.cache[r] && s <= n.cache[r].em)
                    return a(n.cache[r], c);
                var u = t.canvas || n.canvas
                  , f = u.getContext("2d")
                  , d = {
                    upper: void 0 !== t.upper ? t.upper : "H",
                    lower: void 0 !== t.lower ? t.lower : "x",
                    descent: void 0 !== t.descent ? t.descent : "p",
                    ascent: void 0 !== t.ascent ? t.ascent : "h",
                    tittle: void 0 !== t.tittle ? t.tittle : "i",
                    overshoot: void 0 !== t.overshoot ? t.overshoot : "O"
                }
                  , h = Math.ceil(1.5 * s);
                u.height = h,
                u.width = .5 * h,
                f.font = e;
                var p = {
                    top: 0
                };
                f.clearRect(0, 0, h, h),
                f.textBaseline = "top",
                f.fillStyle = "black",
                f.fillText("H", 0, 0);
                var g = i(f.getImageData(0, 0, h, h));
                f.clearRect(0, 0, h, h),
                f.textBaseline = "bottom",
                f.fillText("H", 0, h);
                var y = i(f.getImageData(0, 0, h, h));
                p.lineHeight = p.bottom = h - y + g,
                f.clearRect(0, 0, h, h),
                f.textBaseline = "alphabetic",
                f.fillText("H", 0, h);
                var v = h - i(f.getImageData(0, 0, h, h)) - 1 + g;
                p.baseline = p.alphabetic = v,
                f.clearRect(0, 0, h, h),
                f.textBaseline = "middle",
                f.fillText("H", 0, .5 * h);
                var m = i(f.getImageData(0, 0, h, h));
                p.median = p.middle = h - m - 1 + g - .5 * h,
                f.clearRect(0, 0, h, h),
                f.textBaseline = "hanging",
                f.fillText("H", 0, .5 * h);
                var b = i(f.getImageData(0, 0, h, h));
                p.hanging = h - b - 1 + g - .5 * h,
                f.clearRect(0, 0, h, h),
                f.textBaseline = "ideographic",
                f.fillText("H", 0, h);
                var x = i(f.getImageData(0, 0, h, h));
                if (p.ideographic = h - x - 1 + g,
                d.upper && (f.clearRect(0, 0, h, h),
                f.textBaseline = "top",
                f.fillText(d.upper, 0, 0),
                p.upper = i(f.getImageData(0, 0, h, h)),
                p.capHeight = p.baseline - p.upper),
                d.lower && (f.clearRect(0, 0, h, h),
                f.textBaseline = "top",
                f.fillText(d.lower, 0, 0),
                p.lower = i(f.getImageData(0, 0, h, h)),
                p.xHeight = p.baseline - p.lower),
                d.tittle && (f.clearRect(0, 0, h, h),
                f.textBaseline = "top",
                f.fillText(d.tittle, 0, 0),
                p.tittle = i(f.getImageData(0, 0, h, h))),
                d.ascent && (f.clearRect(0, 0, h, h),
                f.textBaseline = "top",
                f.fillText(d.ascent, 0, 0),
                p.ascent = i(f.getImageData(0, 0, h, h))),
                d.descent && (f.clearRect(0, 0, h, h),
                f.textBaseline = "top",
                f.fillText(d.descent, 0, 0),
                p.descent = o(f.getImageData(0, 0, h, h))),
                d.overshoot) {
                    f.clearRect(0, 0, h, h),
                    f.textBaseline = "top",
                    f.fillText(d.overshoot, 0, 0);
                    var _ = o(f.getImageData(0, 0, h, h));
                    p.overshoot = _ - v
                }
                for (var w in p)
                    p[w] /= s;
                return p.em = s,
                n.cache[r] = p,
                a(p, c)
            }
            function a(e, t) {
                var r = {};
                for (var n in "string" == typeof t && (t = e[t]),
                e)
                    "em" !== n && (r[n] = e[n] - t);
                return r
            }
            function i(e) {
                for (var t = e.height, r = e.data, n = 3; n < r.length; n += 4)
                    if (0 !== r[n])
                        return Math.floor(.25 * (n - 3) / t)
            }
            function o(e) {
                for (var t = e.height, r = e.data, n = r.length - 1; n > 0; n -= 4)
                    if (0 !== r[n])
                        return Math.floor(.25 * (n - 3) / t)
            }
            t.exports = n,
            n.canvas = document.createElement("canvas"),
            n.cache = {}
        }
        , {}],
        111: [function(e, t, r) {
            t.exports = function(e, t) {
                var r = t[0]
                  , n = t[1]
                  , a = t[2]
                  , i = t[3]
                  , o = t[4]
                  , s = t[5]
                  , l = t[6]
                  , c = t[7]
                  , u = t[8]
                  , f = t[9]
                  , d = t[10]
                  , h = t[11]
                  , p = t[12]
                  , g = t[13]
                  , y = t[14]
                  , v = t[15];
                return e[0] = s * (d * v - h * y) - f * (l * v - c * y) + g * (l * h - c * d),
                e[1] = -(n * (d * v - h * y) - f * (a * v - i * y) + g * (a * h - i * d)),
                e[2] = n * (l * v - c * y) - s * (a * v - i * y) + g * (a * c - i * l),
                e[3] = -(n * (l * h - c * d) - s * (a * h - i * d) + f * (a * c - i * l)),
                e[4] = -(o * (d * v - h * y) - u * (l * v - c * y) + p * (l * h - c * d)),
                e[5] = r * (d * v - h * y) - u * (a * v - i * y) + p * (a * h - i * d),
                e[6] = -(r * (l * v - c * y) - o * (a * v - i * y) + p * (a * c - i * l)),
                e[7] = r * (l * h - c * d) - o * (a * h - i * d) + u * (a * c - i * l),
                e[8] = o * (f * v - h * g) - u * (s * v - c * g) + p * (s * h - c * f),
                e[9] = -(r * (f * v - h * g) - u * (n * v - i * g) + p * (n * h - i * f)),
                e[10] = r * (s * v - c * g) - o * (n * v - i * g) + p * (n * c - i * s),
                e[11] = -(r * (s * h - c * f) - o * (n * h - i * f) + u * (n * c - i * s)),
                e[12] = -(o * (f * y - d * g) - u * (s * y - l * g) + p * (s * d - l * f)),
                e[13] = r * (f * y - d * g) - u * (n * y - a * g) + p * (n * d - a * f),
                e[14] = -(r * (s * y - l * g) - o * (n * y - a * g) + p * (n * l - a * s)),
                e[15] = r * (s * d - l * f) - o * (n * d - a * f) + u * (n * l - a * s),
                e
            }
        }
        , {}],
        112: [function(e, t, r) {
            t.exports = function(e) {
                var t = new Float32Array(16);
                return t[0] = e[0],
                t[1] = e[1],
                t[2] = e[2],
                t[3] = e[3],
                t[4] = e[4],
                t[5] = e[5],
                t[6] = e[6],
                t[7] = e[7],
                t[8] = e[8],
                t[9] = e[9],
                t[10] = e[10],
                t[11] = e[11],
                t[12] = e[12],
                t[13] = e[13],
                t[14] = e[14],
                t[15] = e[15],
                t
            }
        }
        , {}],
        113: [function(e, t, r) {
            t.exports = function(e, t) {
                return e[0] = t[0],
                e[1] = t[1],
                e[2] = t[2],
                e[3] = t[3],
                e[4] = t[4],
                e[5] = t[5],
                e[6] = t[6],
                e[7] = t[7],
                e[8] = t[8],
                e[9] = t[9],
                e[10] = t[10],
                e[11] = t[11],
                e[12] = t[12],
                e[13] = t[13],
                e[14] = t[14],
                e[15] = t[15],
                e
            }
        }
        , {}],
        114: [function(e, t, r) {
            t.exports = function() {
                var e = new Float32Array(16);
                return e[0] = 1,
                e[1] = 0,
                e[2] = 0,
                e[3] = 0,
                e[4] = 0,
                e[5] = 1,
                e[6] = 0,
                e[7] = 0,
                e[8] = 0,
                e[9] = 0,
                e[10] = 1,
                e[11] = 0,
                e[12] = 0,
                e[13] = 0,
                e[14] = 0,
                e[15] = 1,
                e
            }
        }
        , {}],
        115: [function(e, t, r) {
            t.exports = function(e) {
                var t = e[0]
                  , r = e[1]
                  , n = e[2]
                  , a = e[3]
                  , i = e[4]
                  , o = e[5]
                  , s = e[6]
                  , l = e[7]
                  , c = e[8]
                  , u = e[9]
                  , f = e[10]
                  , d = e[11]
                  , h = e[12]
                  , p = e[13]
                  , g = e[14]
                  , y = e[15];
                return (t * o - r * i) * (f * y - d * g) - (t * s - n * i) * (u * y - d * p) + (t * l - a * i) * (u * g - f * p) + (r * s - n * o) * (c * y - d * h) - (r * l - a * o) * (c * g - f * h) + (n * l - a * s) * (c * p - u * h)
            }
        }
        , {}],
        116: [function(e, t, r) {
            t.exports = function(e, t) {
                var r = t[0]
                  , n = t[1]
                  , a = t[2]
                  , i = t[3]
                  , o = r + r
                  , s = n + n
                  , l = a + a
                  , c = r * o
                  , u = n * o
                  , f = n * s
                  , d = a * o
                  , h = a * s
                  , p = a * l
                  , g = i * o
                  , y = i * s
                  , v = i * l;
                return e[0] = 1 - f - p,
                e[1] = u + v,
                e[2] = d - y,
                e[3] = 0,
                e[4] = u - v,
                e[5] = 1 - c - p,
                e[6] = h + g,
                e[7] = 0,
                e[8] = d + y,
                e[9] = h - g,
                e[10] = 1 - c - f,
                e[11] = 0,
                e[12] = 0,
                e[13] = 0,
                e[14] = 0,
                e[15] = 1,
                e
            }
        }
        , {}],
        117: [function(e, t, r) {
            t.exports = function(e, t, r) {
                var n, a, i, o = r[0], s = r[1], l = r[2], c = Math.sqrt(o * o + s * s + l * l);
                if (Math.abs(c) < 1e-6)
                    return null;
                return o *= c = 1 / c,
                s *= c,
                l *= c,
                n = Math.sin(t),
                a = Math.cos(t),
                i = 1 - a,
                e[0] = o * o * i + a,
                e[1] = s * o * i + l * n,
                e[2] = l * o * i - s * n,
                e[3] = 0,
                e[4] = o * s * i - l * n,
                e[5] = s * s * i + a,
                e[6] = l * s * i + o * n,
                e[7] = 0,
                e[8] = o * l * i + s * n,
                e[9] = s * l * i - o * n,
                e[10] = l * l * i + a,
                e[11] = 0,
                e[12] = 0,
                e[13] = 0,
                e[14] = 0,
                e[15] = 1,
                e
            }
        }
        , {}],
        118: [function(e, t, r) {
            t.exports = function(e, t, r) {
                var n = t[0]
                  , a = t[1]
                  , i = t[2]
                  , o = t[3]
                  , s = n + n
                  , l = a + a
                  , c = i + i
                  , u = n * s
                  , f = n * l
                  , d = n * c
                  , h = a * l
                  , p = a * c
                  , g = i * c
                  , y = o * s
                  , v = o * l
                  , m = o * c;
                return e[0] = 1 - (h + g),
                e[1] = f + m,
                e[2] = d - v,
                e[3] = 0,
                e[4] = f - m,
                e[5] = 1 - (u + g),
                e[6] = p + y,
                e[7] = 0,
                e[8] = d + v,
                e[9] = p - y,
                e[10] = 1 - (u + h),
                e[11] = 0,
                e[12] = r[0],
                e[13] = r[1],
                e[14] = r[2],
                e[15] = 1,
                e
            }
        }
        , {}],
        119: [function(e, t, r) {
            t.exports = function(e, t) {
                return e[0] = t[0],
                e[1] = 0,
                e[2] = 0,
                e[3] = 0,
                e[4] = 0,
                e[5] = t[1],
                e[6] = 0,
                e[7] = 0,
                e[8] = 0,
                e[9] = 0,
                e[10] = t[2],
                e[11] = 0,
                e[12] = 0,
                e[13] = 0,
                e[14] = 0,
                e[15] = 1,
                e
            }
        }
        , {}],
        120: [function(e, t, r) {
            t.exports = function(e, t) {
                return e[0] = 1,
                e[1] = 0,
                e[2] = 0,
                e[3] = 0,
                e[4] = 0,
                e[5] = 1,
                e[6] = 0,
                e[7] = 0,
                e[8] = 0,
                e[9] = 0,
                e[10] = 1,
                e[11] = 0,
                e[12] = t[0],
                e[13] = t[1],
                e[14] = t[2],
                e[15] = 1,
                e
            }
        }
        , {}],
        121: [function(e, t, r) {
            t.exports = function(e, t) {
                var r = Math.sin(t)
                  , n = Math.cos(t);
                return e[0] = 1,
                e[1] = 0,
                e[2] = 0,
                e[3] = 0,
                e[4] = 0,
                e[5] = n,
                e[6] = r,
                e[7] = 0,
                e[8] = 0,
                e[9] = -r,
                e[10] = n,
                e[11] = 0,
                e[12] = 0,
                e[13] = 0,
                e[14] = 0,
                e[15] = 1,
                e
            }
        }
        , {}],
        122: [function(e, t, r) {
            t.exports = function(e, t) {
                var r = Math.sin(t)
                  , n = Math.cos(t);
                return e[0] = n,
                e[1] = 0,
                e[2] = -r,
                e[3] = 0,
                e[4] = 0,
                e[5] = 1,
                e[6] = 0,
                e[7] = 0,
                e[8] = r,
                e[9] = 0,
                e[10] = n,
                e[11] = 0,
                e[12] = 0,
                e[13] = 0,
                e[14] = 0,
                e[15] = 1,
                e
            }
        }
        , {}],
        123: [function(e, t, r) {
            t.exports = function(e, t) {
                var r = Math.sin(t)
                  , n = Math.cos(t);
                return e[0] = n,
                e[1] = r,
                e[2] = 0,
                e[3] = 0,
                e[4] = -r,
                e[5] = n,
                e[6] = 0,
                e[7] = 0,
                e[8] = 0,
                e[9] = 0,
                e[10] = 1,
                e[11] = 0,
                e[12] = 0,
                e[13] = 0,
                e[14] = 0,
                e[15] = 1,
                e
            }
        }
        , {}],
        124: [function(e, t, r) {
            t.exports = function(e, t, r, n, a, i, o) {
                var s = 1 / (r - t)
                  , l = 1 / (a - n)
                  , c = 1 / (i - o);
                return e[0] = 2 * i * s,
                e[1] = 0,
                e[2] = 0,
                e[3] = 0,
                e[4] = 0,
                e[5] = 2 * i * l,
                e[6] = 0,
                e[7] = 0,
                e[8] = (r + t) * s,
                e[9] = (a + n) * l,
                e[10] = (o + i) * c,
                e[11] = -1,
                e[12] = 0,
                e[13] = 0,
                e[14] = o * i * 2 * c,
                e[15] = 0,
                e
            }
        }
        , {}],
        125: [function(e, t, r) {
            t.exports = function(e) {
                return e[0] = 1,
                e[1] = 0,
                e[2] = 0,
                e[3] = 0,
                e[4] = 0,
                e[5] = 1,
                e[6] = 0,
                e[7] = 0,
                e[8] = 0,
                e[9] = 0,
                e[10] = 1,
                e[11] = 0,
                e[12] = 0,
                e[13] = 0,
                e[14] = 0,
                e[15] = 1,
                e
            }
        }
        , {}],
        126: [function(e, t, r) {
            t.exports = {
                create: e("./create"),
                clone: e("./clone"),
                copy: e("./copy"),
                identity: e("./identity"),
                transpose: e("./transpose"),
                invert: e("./invert"),
                adjoint: e("./adjoint"),
                determinant: e("./determinant"),
                multiply: e("./multiply"),
                translate: e("./translate"),
                scale: e("./scale"),
                rotate: e("./rotate"),
                rotateX: e("./rotateX"),
                rotateY: e("./rotateY"),
                rotateZ: e("./rotateZ"),
                fromRotation: e("./fromRotation"),
                fromRotationTranslation: e("./fromRotationTranslation"),
                fromScaling: e("./fromScaling"),
                fromTranslation: e("./fromTranslation"),
                fromXRotation: e("./fromXRotation"),
                fromYRotation: e("./fromYRotation"),
                fromZRotation: e("./fromZRotation"),
                fromQuat: e("./fromQuat"),
                frustum: e("./frustum"),
                perspective: e("./perspective"),
                perspectiveFromFieldOfView: e("./perspectiveFromFieldOfView"),
                ortho: e("./ortho"),
                lookAt: e("./lookAt"),
                str: e("./str")
            }
        }
        , {
            "./adjoint": 111,
            "./clone": 112,
            "./copy": 113,
            "./create": 114,
            "./determinant": 115,
            "./fromQuat": 116,
            "./fromRotation": 117,
            "./fromRotationTranslation": 118,
            "./fromScaling": 119,
            "./fromTranslation": 120,
            "./fromXRotation": 121,
            "./fromYRotation": 122,
            "./fromZRotation": 123,
            "./frustum": 124,
            "./identity": 125,
            "./invert": 127,
            "./lookAt": 128,
            "./multiply": 129,
            "./ortho": 130,
            "./perspective": 131,
            "./perspectiveFromFieldOfView": 132,
            "./rotate": 133,
            "./rotateX": 134,
            "./rotateY": 135,
            "./rotateZ": 136,
            "./scale": 137,
            "./str": 138,
            "./translate": 139,
            "./transpose": 140
        }],
        127: [function(e, t, r) {
            t.exports = function(e, t) {
                var r = t[0]
                  , n = t[1]
                  , a = t[2]
                  , i = t[3]
                  , o = t[4]
                  , s = t[5]
                  , l = t[6]
                  , c = t[7]
                  , u = t[8]
                  , f = t[9]
                  , d = t[10]
                  , h = t[11]
                  , p = t[12]
                  , g = t[13]
                  , y = t[14]
                  , v = t[15]
                  , m = r * s - n * o
                  , b = r * l - a * o
                  , x = r * c - i * o
                  , _ = n * l - a * s
                  , w = n * c - i * s
                  , A = a * c - i * l
                  , k = u * g - f * p
                  , T = u * y - d * p
                  , M = u * v - h * p
                  , S = f * y - d * g
                  , C = f * v - h * g
                  , O = d * v - h * y
                  , D = m * O - b * C + x * S + _ * M - w * T + A * k;
                if (!D)
                    return null;
                return D = 1 / D,
                e[0] = (s * O - l * C + c * S) * D,
                e[1] = (a * C - n * O - i * S) * D,
                e[2] = (g * A - y * w + v * _) * D,
                e[3] = (d * w - f * A - h * _) * D,
                e[4] = (l * M - o * O - c * T) * D,
                e[5] = (r * O - a * M + i * T) * D,
                e[6] = (y * x - p * A - v * b) * D,
                e[7] = (u * A - d * x + h * b) * D,
                e[8] = (o * C - s * M + c * k) * D,
                e[9] = (n * M - r * C - i * k) * D,
                e[10] = (p * w - g * x + v * m) * D,
                e[11] = (f * x - u * w - h * m) * D,
                e[12] = (s * T - o * S - l * k) * D,
                e[13] = (r * S - n * T + a * k) * D,
                e[14] = (g * b - p * _ - y * m) * D,
                e[15] = (u * _ - f * b + d * m) * D,
                e
            }
        }
        , {}],
        128: [function(e, t, r) {
            var n = e("./identity");
            t.exports = function(e, t, r, a) {
                var i, o, s, l, c, u, f, d, h, p, g = t[0], y = t[1], v = t[2], m = a[0], b = a[1], x = a[2], _ = r[0], w = r[1], A = r[2];
                if (Math.abs(g - _) < 1e-6 && Math.abs(y - w) < 1e-6 && Math.abs(v - A) < 1e-6)
                    return n(e);
                f = g - _,
                d = y - w,
                h = v - A,
                p = 1 / Math.sqrt(f * f + d * d + h * h),
                i = b * (h *= p) - x * (d *= p),
                o = x * (f *= p) - m * h,
                s = m * d - b * f,
                (p = Math.sqrt(i * i + o * o + s * s)) ? (i *= p = 1 / p,
                o *= p,
                s *= p) : (i = 0,
                o = 0,
                s = 0);
                l = d * s - h * o,
                c = h * i - f * s,
                u = f * o - d * i,
                (p = Math.sqrt(l * l + c * c + u * u)) ? (l *= p = 1 / p,
                c *= p,
                u *= p) : (l = 0,
                c = 0,
                u = 0);
                return e[0] = i,
                e[1] = l,
                e[2] = f,
                e[3] = 0,
                e[4] = o,
                e[5] = c,
                e[6] = d,
                e[7] = 0,
                e[8] = s,
                e[9] = u,
                e[10] = h,
                e[11] = 0,
                e[12] = -(i * g + o * y + s * v),
                e[13] = -(l * g + c * y + u * v),
                e[14] = -(f * g + d * y + h * v),
                e[15] = 1,
                e
            }
        }
        , {
            "./identity": 125
        }],
        129: [function(e, t, r) {
            t.exports = function(e, t, r) {
                var n = t[0]
                  , a = t[1]
                  , i = t[2]
                  , o = t[3]
                  , s = t[4]
                  , l = t[5]
                  , c = t[6]
                  , u = t[7]
                  , f = t[8]
                  , d = t[9]
                  , h = t[10]
                  , p = t[11]
                  , g = t[12]
                  , y = t[13]
                  , v = t[14]
                  , m = t[15]
                  , b = r[0]
                  , x = r[1]
                  , _ = r[2]
                  , w = r[3];
                return e[0] = b * n + x * s + _ * f + w * g,
                e[1] = b * a + x * l + _ * d + w * y,
                e[2] = b * i + x * c + _ * h + w * v,
                e[3] = b * o + x * u + _ * p + w * m,
                b = r[4],
                x = r[5],
                _ = r[6],
                w = r[7],
                e[4] = b * n + x * s + _ * f + w * g,
                e[5] = b * a + x * l + _ * d + w * y,
                e[6] = b * i + x * c + _ * h + w * v,
                e[7] = b * o + x * u + _ * p + w * m,
                b = r[8],
                x = r[9],
                _ = r[10],
                w = r[11],
                e[8] = b * n + x * s + _ * f + w * g,
                e[9] = b * a + x * l + _ * d + w * y,
                e[10] = b * i + x * c + _ * h + w * v,
                e[11] = b * o + x * u + _ * p + w * m,
                b = r[12],
                x = r[13],
                _ = r[14],
                w = r[15],
                e[12] = b * n + x * s + _ * f + w * g,
                e[13] = b * a + x * l + _ * d + w * y,
                e[14] = b * i + x * c + _ * h + w * v,
                e[15] = b * o + x * u + _ * p + w * m,
                e
            }
        }
        , {}],
        130: [function(e, t, r) {
            t.exports = function(e, t, r, n, a, i, o) {
                var s = 1 / (t - r)
                  , l = 1 / (n - a)
                  , c = 1 / (i - o);
                return e[0] = -2 * s,
                e[1] = 0,
                e[2] = 0,
                e[3] = 0,
                e[4] = 0,
                e[5] = -2 * l,
                e[6] = 0,
                e[7] = 0,
                e[8] = 0,
                e[9] = 0,
                e[10] = 2 * c,
                e[11] = 0,
                e[12] = (t + r) * s,
                e[13] = (a + n) * l,
                e[14] = (o + i) * c,
                e[15] = 1,
                e
            }
        }
        , {}],
        131: [function(e, t, r) {
            t.exports = function(e, t, r, n, a) {
                var i = 1 / Math.tan(t / 2)
                  , o = 1 / (n - a);
                return e[0] = i / r,
                e[1] = 0,
                e[2] = 0,
                e[3] = 0,
                e[4] = 0,
                e[5] = i,
                e[6] = 0,
                e[7] = 0,
                e[8] = 0,
                e[9] = 0,
                e[10] = (a + n) * o,
                e[11] = -1,
                e[12] = 0,
                e[13] = 0,
                e[14] = 2 * a * n * o,
                e[15] = 0,
                e
            }
        }
        , {}],
        132: [function(e, t, r) {
            t.exports = function(e, t, r, n) {
                var a = Math.tan(t.upDegrees * Math.PI / 180)
                  , i = Math.tan(t.downDegrees * Math.PI / 180)
                  , o = Math.tan(t.leftDegrees * Math.PI / 180)
                  , s = Math.tan(t.rightDegrees * Math.PI / 180)
                  , l = 2 / (o + s)
                  , c = 2 / (a + i);
                return e[0] = l,
                e[1] = 0,
                e[2] = 0,
                e[3] = 0,
                e[4] = 0,
                e[5] = c,
                e[6] = 0,
                e[7] = 0,
                e[8] = -(o - s) * l * .5,
                e[9] = (a - i) * c * .5,
                e[10] = n / (r - n),
                e[11] = -1,
                e[12] = 0,
                e[13] = 0,
                e[14] = n * r / (r - n),
                e[15] = 0,
                e
            }
        }
        , {}],
        133: [function(e, t, r) {
            t.exports = function(e, t, r, n) {
                var a, i, o, s, l, c, u, f, d, h, p, g, y, v, m, b, x, _, w, A, k, T, M, S, C = n[0], O = n[1], D = n[2], L = Math.sqrt(C * C + O * O + D * D);
                if (Math.abs(L) < 1e-6)
                    return null;
                C *= L = 1 / L,
                O *= L,
                D *= L,
                a = Math.sin(r),
                i = Math.cos(r),
                o = 1 - i,
                s = t[0],
                l = t[1],
                c = t[2],
                u = t[3],
                f = t[4],
                d = t[5],
                h = t[6],
                p = t[7],
                g = t[8],
                y = t[9],
                v = t[10],
                m = t[11],
                b = C * C * o + i,
                x = O * C * o + D * a,
                _ = D * C * o - O * a,
                w = C * O * o - D * a,
                A = O * O * o + i,
                k = D * O * o + C * a,
                T = C * D * o + O * a,
                M = O * D * o - C * a,
                S = D * D * o + i,
                e[0] = s * b + f * x + g * _,
                e[1] = l * b + d * x + y * _,
                e[2] = c * b + h * x + v * _,
                e[3] = u * b + p * x + m * _,
                e[4] = s * w + f * A + g * k,
                e[5] = l * w + d * A + y * k,
                e[6] = c * w + h * A + v * k,
                e[7] = u * w + p * A + m * k,
                e[8] = s * T + f * M + g * S,
                e[9] = l * T + d * M + y * S,
                e[10] = c * T + h * M + v * S,
                e[11] = u * T + p * M + m * S,
                t !== e && (e[12] = t[12],
                e[13] = t[13],
                e[14] = t[14],
                e[15] = t[15]);
                return e
            }
        }
        , {}],
        134: [function(e, t, r) {
            t.exports = function(e, t, r) {
                var n = Math.sin(r)
                  , a = Math.cos(r)
                  , i = t[4]
                  , o = t[5]
                  , s = t[6]
                  , l = t[7]
                  , c = t[8]
                  , u = t[9]
                  , f = t[10]
                  , d = t[11];
                t !== e && (e[0] = t[0],
                e[1] = t[1],
                e[2] = t[2],
                e[3] = t[3],
                e[12] = t[12],
                e[13] = t[13],
                e[14] = t[14],
                e[15] = t[15]);
                return e[4] = i * a + c * n,
                e[5] = o * a + u * n,
                e[6] = s * a + f * n,
                e[7] = l * a + d * n,
                e[8] = c * a - i * n,
                e[9] = u * a - o * n,
                e[10] = f * a - s * n,
                e[11] = d * a - l * n,
                e
            }
        }
        , {}],
        135: [function(e, t, r) {
            t.exports = function(e, t, r) {
                var n = Math.sin(r)
                  , a = Math.cos(r)
                  , i = t[0]
                  , o = t[1]
                  , s = t[2]
                  , l = t[3]
                  , c = t[8]
                  , u = t[9]
                  , f = t[10]
                  , d = t[11];
                t !== e && (e[4] = t[4],
                e[5] = t[5],
                e[6] = t[6],
                e[7] = t[7],
                e[12] = t[12],
                e[13] = t[13],
                e[14] = t[14],
                e[15] = t[15]);
                return e[0] = i * a - c * n,
                e[1] = o * a - u * n,
                e[2] = s * a - f * n,
                e[3] = l * a - d * n,
                e[8] = i * n + c * a,
                e[9] = o * n + u * a,
                e[10] = s * n + f * a,
                e[11] = l * n + d * a,
                e
            }
        }
        , {}],
        136: [function(e, t, r) {
            t.exports = function(e, t, r) {
                var n = Math.sin(r)
                  , a = Math.cos(r)
                  , i = t[0]
                  , o = t[1]
                  , s = t[2]
                  , l = t[3]
                  , c = t[4]
                  , u = t[5]
                  , f = t[6]
                  , d = t[7];
                t !== e && (e[8] = t[8],
                e[9] = t[9],
                e[10] = t[10],
                e[11] = t[11],
                e[12] = t[12],
                e[13] = t[13],
                e[14] = t[14],
                e[15] = t[15]);
                return e[0] = i * a + c * n,
                e[1] = o * a + u * n,
                e[2] = s * a + f * n,
                e[3] = l * a + d * n,
                e[4] = c * a - i * n,
                e[5] = u * a - o * n,
                e[6] = f * a - s * n,
                e[7] = d * a - l * n,
                e
            }
        }
        , {}],
        137: [function(e, t, r) {
            t.exports = function(e, t, r) {
                var n = r[0]
                  , a = r[1]
                  , i = r[2];
                return e[0] = t[0] * n,
                e[1] = t[1] * n,
                e[2] = t[2] * n,
                e[3] = t[3] * n,
                e[4] = t[4] * a,
                e[5] = t[5] * a,
                e[6] = t[6] * a,
                e[7] = t[7] * a,
                e[8] = t[8] * i,
                e[9] = t[9] * i,
                e[10] = t[10] * i,
                e[11] = t[11] * i,
                e[12] = t[12],
                e[13] = t[13],
                e[14] = t[14],
                e[15] = t[15],
                e
            }
        }
        , {}],
        138: [function(e, t, r) {
            t.exports = function(e) {
                return "mat4(" + e[0] + ", " + e[1] + ", " + e[2] + ", " + e[3] + ", " + e[4] + ", " + e[5] + ", " + e[6] + ", " + e[7] + ", " + e[8] + ", " + e[9] + ", " + e[10] + ", " + e[11] + ", " + e[12] + ", " + e[13] + ", " + e[14] + ", " + e[15] + ")"
            }
        }
        , {}],
        139: [function(e, t, r) {
            t.exports = function(e, t, r) {
                var n, a, i, o, s, l, c, u, f, d, h, p, g = r[0], y = r[1], v = r[2];
                t === e ? (e[12] = t[0] * g + t[4] * y + t[8] * v + t[12],
                e[13] = t[1] * g + t[5] * y + t[9] * v + t[13],
                e[14] = t[2] * g + t[6] * y + t[10] * v + t[14],
                e[15] = t[3] * g + t[7] * y + t[11] * v + t[15]) : (n = t[0],
                a = t[1],
                i = t[2],
                o = t[3],
                s = t[4],
                l = t[5],
                c = t[6],
                u = t[7],
                f = t[8],
                d = t[9],
                h = t[10],
                p = t[11],
                e[0] = n,
                e[1] = a,
                e[2] = i,
                e[3] = o,
                e[4] = s,
                e[5] = l,
                e[6] = c,
                e[7] = u,
                e[8] = f,
                e[9] = d,
                e[10] = h,
                e[11] = p,
                e[12] = n * g + s * y + f * v + t[12],
                e[13] = a * g + l * y + d * v + t[13],
                e[14] = i * g + c * y + h * v + t[14],
                e[15] = o * g + u * y + p * v + t[15]);
                return e
            }
        }
        , {}],
        140: [function(e, t, r) {
            t.exports = function(e, t) {
                if (e === t) {
                    var r = t[1]
                      , n = t[2]
                      , a = t[3]
                      , i = t[6]
                      , o = t[7]
                      , s = t[11];
                    e[1] = t[4],
                    e[2] = t[8],
                    e[3] = t[12],
                    e[4] = r,
                    e[6] = t[9],
                    e[7] = t[13],
                    e[8] = n,
                    e[9] = i,
                    e[11] = t[14],
                    e[12] = a,
                    e[13] = o,
                    e[14] = s
                } else
                    e[0] = t[0],
                    e[1] = t[4],
                    e[2] = t[8],
                    e[3] = t[12],
                    e[4] = t[1],
                    e[5] = t[5],
                    e[6] = t[9],
                    e[7] = t[13],
                    e[8] = t[2],
                    e[9] = t[6],
                    e[10] = t[10],
                    e[11] = t[14],
                    e[12] = t[3],
                    e[13] = t[7],
                    e[14] = t[11],
                    e[15] = t[15];
                return e
            }
        }
        , {}],
        141: [function(e, t, r) {
            "use strict";
            var n = e("css-font")
              , a = e("pick-by-alias")
              , i = e("regl")
              , o = e("gl-util/context")
              , s = e("es6-weak-map")
              , l = e("color-normalize")
              , c = e("font-atlas")
              , u = e("typedarray-pool")
              , f = e("parse-rect")
              , d = e("is-plain-obj")
              , h = e("parse-unit")
              , p = e("to-px")
              , g = e("detect-kerning")
              , y = e("object-assign")
              , v = e("font-measure")
              , m = e("flatten-vertex-data")
              , b = e("bit-twiddle").nextPow2
              , x = new s
              , _ = !1;
            if (document.body) {
                var w = document.body.appendChild(document.createElement("div"));
                w.style.font = "italic small-caps bold condensed 16px/2 cursive",
                getComputedStyle(w).fontStretch && (_ = !0),
                document.body.removeChild(w)
            }
            var A = function(e) {
                !function(e) {
                    return "function" == typeof e && e._gl && e.prop && e.texture && e.buffer
                }(e) ? this.gl = o(e) : (e = {
                    regl: e
                },
                this.gl = e.regl._gl),
                this.shader = x.get(this.gl),
                this.shader ? this.regl = this.shader.regl : this.regl = e.regl || i({
                    gl: this.gl
                }),
                this.charBuffer = this.regl.buffer({
                    type: "uint8",
                    usage: "stream"
                }),
                this.sizeBuffer = this.regl.buffer({
                    type: "float",
                    usage: "stream"
                }),
                this.shader || (this.shader = this.createShader(),
                x.set(this.gl, this.shader)),
                this.batch = [],
                this.fontSize = [],
                this.font = [],
                this.fontAtlas = [],
                this.draw = this.shader.draw.bind(this),
                this.render = function() {
                    this.regl._refresh(),
                    this.draw(this.batch)
                }
                ,
                this.canvas = this.gl.canvas,
                this.update(d(e) ? e : {})
            };
            A.prototype.createShader = function() {
                var e = this.regl
                  , t = e({
                    blend: {
                        enable: !0,
                        color: [0, 0, 0, 1],
                        func: {
                            srcRGB: "src alpha",
                            dstRGB: "one minus src alpha",
                            srcAlpha: "one minus dst alpha",
                            dstAlpha: "one"
                        }
                    },
                    stencil: {
                        enable: !1
                    },
                    depth: {
                        enable: !1
                    },
                    count: e.prop("count"),
                    offset: e.prop("offset"),
                    attributes: {
                        charOffset: {
                            offset: 4,
                            stride: 8,
                            buffer: e.this("sizeBuffer")
                        },
                        width: {
                            offset: 0,
                            stride: 8,
                            buffer: e.this("sizeBuffer")
                        },
                        char: e.this("charBuffer"),
                        position: e.this("position")
                    },
                    uniforms: {
                        atlasSize: function(e, t) {
                            return [t.atlas.width, t.atlas.height]
                        },
                        atlasDim: function(e, t) {
                            return [t.atlas.cols, t.atlas.rows]
                        },
                        atlas: function(e, t) {
                            return t.atlas.texture
                        },
                        charStep: function(e, t) {
                            return t.atlas.step
                        },
                        em: function(e, t) {
                            return t.atlas.em
                        },
                        color: e.prop("color"),
                        opacity: e.prop("opacity"),
                        viewport: e.this("viewportArray"),
                        scale: e.this("scale"),
                        align: e.prop("align"),
                        baseline: e.prop("baseline"),
                        translate: e.this("translate"),
                        positionOffset: e.prop("positionOffset")
                    },
                    primitive: "points",
                    viewport: e.this("viewport"),
                    vert: "\n\t\t\tprecision highp float;\n\t\t\tattribute float width, charOffset, char;\n\t\t\tattribute vec2 position;\n\t\t\tuniform float fontSize, charStep, em, align, baseline;\n\t\t\tuniform vec4 viewport;\n\t\t\tuniform vec4 color;\n\t\t\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvoid main () {\n\t\t\t\t" + (A.normalViewport ? "" : "vec2 positionOffset = vec2(positionOffset.x,- positionOffset.y);") + "\n\n\t\t\t\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\n\t\t\t\t\t+ positionOffset))\n\t\t\t\t\t/ (viewport.zw * scale.xy);\n\n\t\t\t\tvec2 position = (position + translate) * scale;\n\t\t\t\tposition += offset * scale;\n\n\t\t\t\t" + (A.normalViewport ? "position.y = 1. - position.y;" : "") + "\n\n\t\t\t\tcharCoord = position * viewport.zw + viewport.xy;\n\n\t\t\t\tgl_Position = vec4(position * 2. - 1., 0, 1);\n\n\t\t\t\tgl_PointSize = charStep;\n\n\t\t\t\tcharId.x = mod(char, atlasDim.x);\n\t\t\t\tcharId.y = floor(char / atlasDim.x);\n\n\t\t\t\tcharWidth = width * em;\n\n\t\t\t\tfontColor = color / 255.;\n\t\t\t}",
                    frag: "\n\t\t\tprecision highp float;\n\t\t\tuniform sampler2D atlas;\n\t\t\tuniform float fontSize, charStep, opacity;\n\t\t\tuniform vec2 atlasSize;\n\t\t\tuniform vec4 viewport;\n\t\t\tvarying vec4 fontColor;\n\t\t\tvarying vec2 charCoord, charId;\n\t\t\tvarying float charWidth;\n\n\t\t\tfloat lightness(vec4 color) {\n\t\t\t\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\n\t\t\t}\n\n\t\t\tvoid main () {\n\t\t\t\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\n\t\t\t\tfloat halfCharStep = floor(charStep * .5 + .5);\n\n\t\t\t\t// invert y and shift by 1px (FF expecially needs that)\n\t\t\t\tuv.y = charStep - uv.y;\n\n\t\t\t\t// ignore points outside of character bounding box\n\t\t\t\tfloat halfCharWidth = ceil(charWidth * .5);\n\t\t\t\tif (floor(uv.x) > halfCharStep + halfCharWidth ||\n\t\t\t\t\tfloor(uv.x) < halfCharStep - halfCharWidth) return;\n\n\t\t\t\tuv += charId * charStep;\n\t\t\t\tuv = uv / atlasSize;\n\n\t\t\t\tvec4 color = fontColor;\n\t\t\t\tvec4 mask = texture2D(atlas, uv);\n\n\t\t\t\tfloat maskY = lightness(mask);\n\t\t\t\t// float colorY = lightness(color);\n\t\t\t\tcolor.a *= maskY;\n\t\t\t\tcolor.a *= opacity;\n\n\t\t\t\t// color.a += .1;\n\n\t\t\t\t// antialiasing, see yiq color space y-channel formula\n\t\t\t\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\n\n\t\t\t\tgl_FragColor = color;\n\t\t\t}"
                });
                return {
                    regl: e,
                    draw: t,
                    atlas: {}
                }
            }
            ,
            A.prototype.update = function(e) {
                var t = this;
                if ("string" == typeof e)
                    e = {
                        text: e
                    };
                else if (!e)
                    return;
                null != (e = a(e, {
                    position: "position positions coord coords coordinates",
                    font: "font fontFace fontface typeface cssFont css-font family fontFamily",
                    fontSize: "fontSize fontsize size font-size",
                    text: "text texts chars characters value values symbols",
                    align: "align alignment textAlign textbaseline",
                    baseline: "baseline textBaseline textbaseline",
                    direction: "dir direction textDirection",
                    color: "color colour fill fill-color fillColor textColor textcolor",
                    kerning: "kerning kern",
                    range: "range dataBox",
                    viewport: "vp viewport viewBox viewbox viewPort",
                    opacity: "opacity alpha transparency visible visibility opaque",
                    offset: "offset positionOffset padding shift indent indentation"
                }, !0)).opacity && (Array.isArray(e.opacity) ? this.opacity = e.opacity.map((function(e) {
                    return parseFloat(e)
                }
                )) : this.opacity = parseFloat(e.opacity)),
                null != e.viewport && (this.viewport = f(e.viewport),
                A.normalViewport && (this.viewport.y = this.canvas.height - this.viewport.y - this.viewport.height),
                this.viewportArray = [this.viewport.x, this.viewport.y, this.viewport.width, this.viewport.height]),
                null == this.viewport && (this.viewport = {
                    x: 0,
                    y: 0,
                    width: this.gl.drawingBufferWidth,
                    height: this.gl.drawingBufferHeight
                },
                this.viewportArray = [this.viewport.x, this.viewport.y, this.viewport.width, this.viewport.height]),
                null != e.kerning && (this.kerning = e.kerning),
                null != e.offset && ("number" == typeof e.offset && (e.offset = [e.offset, 0]),
                this.positionOffset = m(e.offset)),
                e.direction && (this.direction = e.direction),
                e.range && (this.range = e.range,
                this.scale = [1 / (e.range[2] - e.range[0]), 1 / (e.range[3] - e.range[1])],
                this.translate = [-e.range[0], -e.range[1]]),
                e.scale && (this.scale = e.scale),
                e.translate && (this.translate = e.translate),
                this.scale || (this.scale = [1 / this.viewport.width, 1 / this.viewport.height]),
                this.translate || (this.translate = [0, 0]),
                this.font.length || e.font || (e.font = A.baseFontSize + "px sans-serif");
                var r, i = !1, o = !1;
                if (e.font && (Array.isArray(e.font) ? e.font : [e.font]).forEach((function(e, r) {
                    if ("string" == typeof e)
                        try {
                            e = n.parse(e)
                        } catch (t) {
                            e = n.parse(A.baseFontSize + "px " + e)
                        }
                    else
                        e = n.parse(n.stringify(e));
                    var a = n.stringify({
                        size: A.baseFontSize,
                        family: e.family,
                        stretch: _ ? e.stretch : void 0,
                        variant: e.variant,
                        weight: e.weight,
                        style: e.style
                    })
                      , s = h(e.size)
                      , l = Math.round(s[0] * p(s[1]));
                    if (l !== t.fontSize[r] && (o = !0,
                    t.fontSize[r] = l),
                    !(t.font[r] && a == t.font[r].baseString || (i = !0,
                    t.font[r] = A.fonts[a],
                    t.font[r]))) {
                        var c = e.family.join(", ")
                          , u = [e.style];
                        e.style != e.variant && u.push(e.variant),
                        e.variant != e.weight && u.push(e.weight),
                        _ && e.weight != e.stretch && u.push(e.stretch),
                        t.font[r] = {
                            baseString: a,
                            family: c,
                            weight: e.weight,
                            stretch: e.stretch,
                            style: e.style,
                            variant: e.variant,
                            width: {},
                            kerning: {},
                            metrics: v(c, {
                                origin: "top",
                                fontSize: A.baseFontSize,
                                fontStyle: u.join(" ")
                            })
                        },
                        A.fonts[a] = t.font[r]
                    }
                }
                )),
                (i || o) && this.font.forEach((function(r, a) {
                    var i = n.stringify({
                        size: t.fontSize[a],
                        family: r.family,
                        stretch: _ ? r.stretch : void 0,
                        variant: r.variant,
                        weight: r.weight,
                        style: r.style
                    });
                    if (t.fontAtlas[a] = t.shader.atlas[i],
                    !t.fontAtlas[a]) {
                        var o = r.metrics;
                        t.shader.atlas[i] = t.fontAtlas[a] = {
                            fontString: i,
                            step: 2 * Math.ceil(t.fontSize[a] * o.bottom * .5),
                            em: t.fontSize[a],
                            cols: 0,
                            rows: 0,
                            height: 0,
                            width: 0,
                            chars: [],
                            ids: {},
                            texture: t.regl.texture()
                        }
                    }
                    null == e.text && (e.text = t.text)
                }
                )),
                "string" == typeof e.text && e.position && e.position.length > 2) {
                    for (var s = Array(.5 * e.position.length), d = 0; d < s.length; d++)
                        s[d] = e.text;
                    e.text = s
                }
                if (null != e.text || i) {
                    if (this.textOffsets = [0],
                    Array.isArray(e.text)) {
                        this.count = e.text[0].length,
                        this.counts = [this.count];
                        for (var x = 1; x < e.text.length; x++)
                            this.textOffsets[x] = this.textOffsets[x - 1] + e.text[x - 1].length,
                            this.count += e.text[x].length,
                            this.counts.push(e.text[x].length);
                        this.text = e.text.join("")
                    } else
                        this.text = e.text,
                        this.count = this.text.length,
                        this.counts = [this.count];
                    r = [],
                    this.font.forEach((function(e, n) {
                        A.atlasContext.font = e.baseString;
                        for (var a = t.fontAtlas[n], i = 0; i < t.text.length; i++) {
                            var o = t.text.charAt(i);
                            if (null == a.ids[o] && (a.ids[o] = a.chars.length,
                            a.chars.push(o),
                            r.push(o)),
                            null == e.width[o] && (e.width[o] = A.atlasContext.measureText(o).width / A.baseFontSize,
                            t.kerning)) {
                                var s = [];
                                for (var l in e.width)
                                    s.push(l + o, o + l);
                                y(e.kerning, g(e.family, {
                                    pairs: s
                                }))
                            }
                        }
                    }
                    ))
                }
                if (e.position)
                    if (e.position.length > 2) {
                        for (var w = !e.position[0].length, k = u.mallocFloat(2 * this.count), T = 0, M = 0; T < this.counts.length; T++) {
                            var S = this.counts[T];
                            if (w)
                                for (var C = 0; C < S; C++)
                                    k[M++] = e.position[2 * T],
                                    k[M++] = e.position[2 * T + 1];
                            else
                                for (var O = 0; O < S; O++)
                                    k[M++] = e.position[T][0],
                                    k[M++] = e.position[T][1]
                        }
                        this.position.call ? this.position({
                            type: "float",
                            data: k
                        }) : this.position = this.regl.buffer({
                            type: "float",
                            data: k
                        }),
                        u.freeFloat(k)
                    } else
                        this.position.destroy && this.position.destroy(),
                        this.position = {
                            constant: e.position
                        };
                if (e.text || i) {
                    var D = u.mallocUint8(this.count)
                      , L = u.mallocFloat(2 * this.count);
                    this.textWidth = [];
                    for (var E = 0, z = 0; E < this.counts.length; E++) {
                        for (var F = this.counts[E], P = this.font[E] || this.font[0], I = this.fontAtlas[E] || this.fontAtlas[0], N = 0; N < F; N++) {
                            var R = this.text.charAt(z)
                              , j = this.text.charAt(z - 1);
                            if (D[z] = I.ids[R],
                            L[2 * z] = P.width[R],
                            N) {
                                var B = L[2 * z - 2]
                                  , H = L[2 * z]
                                  , U = L[2 * z - 1] + .5 * B + .5 * H;
                                if (this.kerning) {
                                    var Y = P.kerning[j + R];
                                    Y && (U += .001 * Y)
                                }
                                L[2 * z + 1] = U
                            } else
                                L[2 * z + 1] = .5 * L[2 * z];
                            z++
                        }
                        this.textWidth.push(L.length ? .5 * L[2 * z - 2] + L[2 * z - 1] : 0)
                    }
                    e.align || (e.align = this.align),
                    this.charBuffer({
                        data: D,
                        type: "uint8",
                        usage: "stream"
                    }),
                    this.sizeBuffer({
                        data: L,
                        type: "float",
                        usage: "stream"
                    }),
                    u.freeUint8(D),
                    u.freeFloat(L),
                    r.length && this.font.forEach((function(e, r) {
                        var n = t.fontAtlas[r]
                          , a = n.step
                          , i = Math.floor(A.maxAtlasSize / a)
                          , o = Math.min(i, n.chars.length)
                          , s = Math.ceil(n.chars.length / o)
                          , l = b(o * a)
                          , u = b(s * a);
                        n.width = l,
                        n.height = u,
                        n.rows = s,
                        n.cols = o,
                        n.em && n.texture({
                            data: c({
                                canvas: A.atlasCanvas,
                                font: n.fontString,
                                chars: n.chars,
                                shape: [l, u],
                                step: [a, a]
                            })
                        })
                    }
                    ))
                }
                if (e.align && (this.align = e.align,
                this.alignOffset = this.textWidth.map((function(e, r) {
                    var n = Array.isArray(t.align) ? t.align.length > 1 ? t.align[r] : t.align[0] : t.align;
                    if ("number" == typeof n)
                        return n;
                    switch (n) {
                    case "right":
                    case "end":
                        return -e;
                    case "center":
                    case "centre":
                    case "middle":
                        return .5 * -e
                    }
                    return 0
                }
                ))),
                null == this.baseline && null == e.baseline && (e.baseline = 0),
                null != e.baseline && (this.baseline = e.baseline,
                Array.isArray(this.baseline) || (this.baseline = [this.baseline]),
                this.baselineOffset = this.baseline.map((function(e, r) {
                    var n = (t.font[r] || t.font[0]).metrics
                      , a = 0;
                    return a += .5 * n.bottom,
                    a += "number" == typeof e ? e - n.baseline : -n[e],
                    A.normalViewport || (a *= -1),
                    a
                }
                ))),
                null != e.color)
                    if (e.color || (e.color = "transparent"),
                    "string" != typeof e.color && isNaN(e.color)) {
                        var V;
                        if ("number" == typeof e.color[0] && e.color.length > this.counts.length) {
                            var q = e.color.length;
                            V = u.mallocUint8(q);
                            for (var W = (e.color.subarray || e.color.slice).bind(e.color), G = 0; G < q; G += 4)
                                V.set(l(W(G, G + 4), "uint8"), G)
                        } else {
                            var Z = e.color.length;
                            V = u.mallocUint8(4 * Z);
                            for (var J = 0; J < Z; J++)
                                V.set(l(e.color[J] || 0, "uint8"), 4 * J)
                        }
                        this.color = V
                    } else
                        this.color = l(e.color, "uint8");
                if (e.position || e.text || e.color || e.baseline || e.align || e.font || e.offset || e.opacity)
                    if (this.color.length > 4 || this.baselineOffset.length > 1 || this.align && this.align.length > 1 || this.fontAtlas.length > 1 || this.positionOffset.length > 2) {
                        var X = Math.max(.5 * this.position.length || 0, .25 * this.color.length || 0, this.baselineOffset.length || 0, this.alignOffset.length || 0, this.font.length || 0, this.opacity.length || 0, .5 * this.positionOffset.length || 0);
                        this.batch = Array(X);
                        for (var Q = 0; Q < this.batch.length; Q++)
                            this.batch[Q] = {
                                count: this.counts.length > 1 ? this.counts[Q] : this.counts[0],
                                offset: this.textOffsets.length > 1 ? this.textOffsets[Q] : this.textOffsets[0],
                                color: this.color ? this.color.length <= 4 ? this.color : this.color.subarray(4 * Q, 4 * Q + 4) : [0, 0, 0, 255],
                                opacity: Array.isArray(this.opacity) ? this.opacity[Q] : this.opacity,
                                baseline: null != this.baselineOffset[Q] ? this.baselineOffset[Q] : this.baselineOffset[0],
                                align: this.align ? null != this.alignOffset[Q] ? this.alignOffset[Q] : this.alignOffset[0] : 0,
                                atlas: this.fontAtlas[Q] || this.fontAtlas[0],
                                positionOffset: this.positionOffset.length > 2 ? this.positionOffset.subarray(2 * Q, 2 * Q + 2) : this.positionOffset
                            }
                    } else
                        this.count ? this.batch = [{
                            count: this.count,
                            offset: 0,
                            color: this.color || [0, 0, 0, 255],
                            opacity: Array.isArray(this.opacity) ? this.opacity[0] : this.opacity,
                            baseline: this.baselineOffset[0],
                            align: this.alignOffset ? this.alignOffset[0] : 0,
                            atlas: this.fontAtlas[0],
                            positionOffset: this.positionOffset
                        }] : this.batch = []
            }
            ,
            A.prototype.destroy = function() {}
            ,
            A.prototype.kerning = !0,
            A.prototype.position = {
                constant: new Float32Array(2)
            },
            A.prototype.translate = null,
            A.prototype.scale = null,
            A.prototype.font = null,
            A.prototype.text = "",
            A.prototype.positionOffset = [0, 0],
            A.prototype.opacity = 1,
            A.prototype.color = new Uint8Array([0, 0, 0, 255]),
            A.prototype.alignOffset = [0, 0],
            A.normalViewport = !1,
            A.maxAtlasSize = 1024,
            A.atlasCanvas = document.createElement("canvas"),
            A.atlasContext = A.atlasCanvas.getContext("2d", {
                alpha: !1
            }),
            A.baseFontSize = 64,
            A.fonts = {},
            t.exports = A
        }
        , {
            "bit-twiddle": 15,
            "color-normalize": 21,
            "css-font": 30,
            "detect-kerning": 42,
            "es6-weak-map": 99,
            "flatten-vertex-data": 108,
            "font-atlas": 109,
            "font-measure": 110,
            "gl-util/context": 143,
            "is-plain-obj": 152,
            "object-assign": 159,
            "parse-rect": 161,
            "parse-unit": 163,
            "pick-by-alias": 164,
            regl: 142,
            "to-px": 186,
            "typedarray-pool": 198
        }],
        142: [function(e, t, r) {
            !function(e, n) {
                "object" == typeof r && void 0 !== t ? t.exports = n() : e.createREGL = n()
            }(this, (function() {
                function e(e, t) {
                    this.id = H++,
                    this.type = e,
                    this.data = t
                }
                function t(e) {
                    return "[" + function e(t) {
                        if (0 === t.length)
                            return [];
                        var r = t.charAt(0)
                          , n = t.charAt(t.length - 1);
                        if (1 < t.length && r === n && ('"' === r || "'" === r))
                            return ['"' + t.substr(1, t.length - 2).replace(/\\/g, "\\\\").replace(/"/g, '\\"') + '"'];
                        if (r = /\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t))
                            return e(t.substr(0, r.index)).concat(e(r[1])).concat(e(t.substr(r.index + r[0].length)));
                        if (1 === (r = t.split(".")).length)
                            return ['"' + t.replace(/\\/g, "\\\\").replace(/"/g, '\\"') + '"'];
                        for (t = [],
                        n = 0; n < r.length; ++n)
                            t = t.concat(e(r[n]));
                        return t
                    }(e).join("][") + "]"
                }
                function r(e) {
                    return "string" == typeof e ? e.split() : e
                }
                function n(e) {
                    return "string" == typeof e ? document.querySelector(e) : e
                }
                function a(e) {
                    var t, a, i, o, s = e || {};
                    e = {};
                    var l = []
                      , c = []
                      , u = "undefined" == typeof window ? 1 : window.devicePixelRatio
                      , f = !1
                      , d = function(e) {}
                      , h = function() {};
                    if ("string" == typeof s ? t = document.querySelector(s) : "object" == typeof s && ("string" == typeof s.nodeName && "function" == typeof s.appendChild && "function" == typeof s.getBoundingClientRect ? t = s : "function" == typeof s.drawArrays || "function" == typeof s.drawElements ? i = (o = s).canvas : ("gl"in s ? o = s.gl : "canvas"in s ? i = n(s.canvas) : "container"in s && (a = n(s.container)),
                    "attributes"in s && (e = s.attributes),
                    "extensions"in s && (l = r(s.extensions)),
                    "optionalExtensions"in s && (c = r(s.optionalExtensions)),
                    "onDone"in s && (d = s.onDone),
                    "profile"in s && (f = !!s.profile),
                    "pixelRatio"in s && (u = +s.pixelRatio))),
                    t && ("canvas" === t.nodeName.toLowerCase() ? i = t : a = t),
                    !o) {
                        if (!i) {
                            if (!(t = function(e, t, r) {
                                function n() {
                                    var t = window.innerWidth
                                      , n = window.innerHeight;
                                    e !== document.body && (t = (n = i.getBoundingClientRect()).right - n.left,
                                    n = n.bottom - n.top),
                                    i.width = r * t,
                                    i.height = r * n
                                }
                                var a, i = document.createElement("canvas");
                                return B(i.style, {
                                    border: 0,
                                    margin: 0,
                                    padding: 0,
                                    top: 0,
                                    left: 0,
                                    width: "100%",
                                    height: "100%"
                                }),
                                e.appendChild(i),
                                e === document.body && (i.style.position = "absolute",
                                B(e.style, {
                                    margin: 0,
                                    padding: 0
                                })),
                                e !== document.body && "function" == typeof ResizeObserver ? (a = new ResizeObserver((function() {
                                    setTimeout(n)
                                }
                                ))).observe(e) : window.addEventListener("resize", n, !1),
                                n(),
                                {
                                    canvas: i,
                                    onDestroy: function() {
                                        a ? a.disconnect() : window.removeEventListener("resize", n),
                                        e.removeChild(i)
                                    }
                                }
                            }(a || document.body, 0, u)))
                                return null;
                            i = t.canvas,
                            h = t.onDestroy
                        }
                        void 0 === e.premultipliedAlpha && (e.premultipliedAlpha = !0),
                        o = function(e, t) {
                            function r(r) {
                                try {
                                    return e.getContext(r, t)
                                } catch (e) {
                                    return null
                                }
                            }
                            return r("webgl") || r("experimental-webgl") || r("webgl-experimental")
                        }(i, e)
                    }
                    return o ? {
                        gl: o,
                        canvas: i,
                        container: a,
                        extensions: l,
                        optionalExtensions: c,
                        pixelRatio: u,
                        profile: f,
                        onDone: d,
                        onDestroy: h
                    } : (h(),
                    d("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),
                    null)
                }
                function i(e, t) {
                    for (var r = Array(e), n = 0; n < e; ++n)
                        r[n] = t(n);
                    return r
                }
                function o(e) {
                    var t, r;
                    return t = (65535 < e) << 4,
                    t |= r = (255 < (e >>>= t)) << 3,
                    (t |= r = (15 < (e >>>= r)) << 2) | (r = (3 < (e >>>= r)) << 1) | e >>> r >> 1
                }
                function s() {
                    function e(e) {
                        e: {
                            for (var t = 16; 268435456 >= t; t *= 16)
                                if (e <= t) {
                                    e = t;
                                    break e
                                }
                            e = 0
                        }
                        return 0 < (t = r[o(e) >> 2]).length ? t.pop() : new ArrayBuffer(e)
                    }
                    function t(e) {
                        r[o(e.byteLength) >> 2].push(e)
                    }
                    var r = i(8, (function() {
                        return []
                    }
                    ));
                    return {
                        alloc: e,
                        free: t,
                        allocType: function(t, r) {
                            var n = null;
                            switch (t) {
                            case 5120:
                                n = new Int8Array(e(r),0,r);
                                break;
                            case 5121:
                                n = new Uint8Array(e(r),0,r);
                                break;
                            case 5122:
                                n = new Int16Array(e(2 * r),0,r);
                                break;
                            case 5123:
                                n = new Uint16Array(e(2 * r),0,r);
                                break;
                            case 5124:
                                n = new Int32Array(e(4 * r),0,r);
                                break;
                            case 5125:
                                n = new Uint32Array(e(4 * r),0,r);
                                break;
                            case 5126:
                                n = new Float32Array(e(4 * r),0,r);
                                break;
                            default:
                                return null
                            }
                            return n.length !== r ? n.subarray(0, r) : n
                        },
                        freeType: function(e) {
                            t(e.buffer)
                        }
                    }
                }
                function l(e) {
                    return !!e && "object" == typeof e && Array.isArray(e.shape) && Array.isArray(e.stride) && "number" == typeof e.offset && e.shape.length === e.stride.length && (Array.isArray(e.data) || G(e.data))
                }
                function c(e, t, r, n, a, i) {
                    for (var o = 0; o < t; ++o)
                        for (var s = e[o], l = 0; l < r; ++l)
                            for (var c = s[l], u = 0; u < n; ++u)
                                a[i++] = c[u]
                }
                function u(e) {
                    return 0 | X[Object.prototype.toString.call(e)]
                }
                function f(e, t) {
                    for (var r = 0; r < t.length; ++r)
                        e[r] = t[r]
                }
                function d(e, t, r, n, a, i, o) {
                    for (var s = 0, l = 0; l < r; ++l)
                        for (var c = 0; c < n; ++c)
                            e[s++] = t[a * l + i * c + o]
                }
                function h(e, t, r, n) {
                    function a(t) {
                        this.id = c++,
                        this.buffer = e.createBuffer(),
                        this.type = t,
                        this.usage = 35044,
                        this.byteLength = 0,
                        this.dimension = 1,
                        this.dtype = 5121,
                        this.persistentData = null,
                        r.profile && (this.stats = {
                            size: 0
                        })
                    }
                    function i(t, r, n) {
                        t.byteLength = r.byteLength,
                        e.bufferData(t.type, r, n)
                    }
                    function o(e, t, r, n, a, o) {
                        if (e.usage = r,
                        Array.isArray(t)) {
                            if (e.dtype = n || 5126,
                            0 < t.length)
                                if (Array.isArray(t[0])) {
                                    a = ee(t);
                                    for (var s = n = 1; s < a.length; ++s)
                                        n *= a[s];
                                    e.dimension = n,
                                    i(e, t = K(t, a, e.dtype), r),
                                    o ? e.persistentData = t : q.freeType(t)
                                } else
                                    "number" == typeof t[0] ? (e.dimension = a,
                                    f(a = q.allocType(e.dtype, t.length), t),
                                    i(e, a, r),
                                    o ? e.persistentData = a : q.freeType(a)) : G(t[0]) && (e.dimension = t[0].length,
                                    e.dtype = n || u(t[0]) || 5126,
                                    i(e, t = K(t, [t.length, t[0].length], e.dtype), r),
                                    o ? e.persistentData = t : q.freeType(t))
                        } else if (G(t))
                            e.dtype = n || u(t),
                            e.dimension = a,
                            i(e, t, r),
                            o && (e.persistentData = new Uint8Array(new Uint8Array(t.buffer)));
                        else if (l(t)) {
                            a = t.shape;
                            var c = t.stride
                              , h = (s = t.offset,
                            0)
                              , p = 0
                              , g = 0
                              , y = 0;
                            1 === a.length ? (h = a[0],
                            p = 1,
                            g = c[0],
                            y = 0) : 2 === a.length && (h = a[0],
                            p = a[1],
                            g = c[0],
                            y = c[1]),
                            e.dtype = n || u(t.data) || 5126,
                            e.dimension = p,
                            d(a = q.allocType(e.dtype, h * p), t.data, h, p, g, y, s),
                            i(e, a, r),
                            o ? e.persistentData = a : q.freeType(a)
                        } else
                            t instanceof ArrayBuffer && (e.dtype = 5121,
                            e.dimension = a,
                            i(e, t, r),
                            o && (e.persistentData = new Uint8Array(new Uint8Array(t))))
                    }
                    function s(r) {
                        t.bufferCount--,
                        n(r),
                        e.deleteBuffer(r.buffer),
                        r.buffer = null,
                        delete h[r.id]
                    }
                    var c = 0
                      , h = {};
                    a.prototype.bind = function() {
                        e.bindBuffer(this.type, this.buffer)
                    }
                    ,
                    a.prototype.destroy = function() {
                        s(this)
                    }
                    ;
                    var p = [];
                    return r.profile && (t.getTotalBufferSize = function() {
                        var e = 0;
                        return Object.keys(h).forEach((function(t) {
                            e += h[t].stats.size
                        }
                        )),
                        e
                    }
                    ),
                    {
                        create: function(n, i, c, p) {
                            function g(t) {
                                var n = 35044
                                  , a = null
                                  , i = 0
                                  , s = 0
                                  , c = 1;
                                return Array.isArray(t) || G(t) || l(t) || t instanceof ArrayBuffer ? a = t : "number" == typeof t ? i = 0 | t : t && ("data"in t && (a = t.data),
                                "usage"in t && (n = $[t.usage]),
                                "type"in t && (s = Q[t.type]),
                                "dimension"in t && (c = 0 | t.dimension),
                                "length"in t && (i = 0 | t.length)),
                                y.bind(),
                                a ? o(y, a, n, s, c, p) : (i && e.bufferData(y.type, i, n),
                                y.dtype = s || 5121,
                                y.usage = n,
                                y.dimension = c,
                                y.byteLength = i),
                                r.profile && (y.stats.size = y.byteLength * te[y.dtype]),
                                g
                            }
                            t.bufferCount++;
                            var y = new a(i);
                            return h[y.id] = y,
                            c || g(n),
                            g._reglType = "buffer",
                            g._buffer = y,
                            g.subdata = function(t, r) {
                                var n, a = 0 | (r || 0);
                                if (y.bind(),
                                G(t) || t instanceof ArrayBuffer)
                                    e.bufferSubData(y.type, a, t);
                                else if (Array.isArray(t)) {
                                    if (0 < t.length)
                                        if ("number" == typeof t[0]) {
                                            var i = q.allocType(y.dtype, t.length);
                                            f(i, t),
                                            e.bufferSubData(y.type, a, i),
                                            q.freeType(i)
                                        } else
                                            (Array.isArray(t[0]) || G(t[0])) && (n = ee(t),
                                            i = K(t, n, y.dtype),
                                            e.bufferSubData(y.type, a, i),
                                            q.freeType(i))
                                } else if (l(t)) {
                                    n = t.shape;
                                    var o = t.stride
                                      , s = i = 0
                                      , c = 0
                                      , h = 0;
                                    1 === n.length ? (i = n[0],
                                    s = 1,
                                    c = o[0],
                                    h = 0) : 2 === n.length && (i = n[0],
                                    s = n[1],
                                    c = o[0],
                                    h = o[1]),
                                    n = Array.isArray(t.data) ? y.dtype : u(t.data),
                                    d(n = q.allocType(n, i * s), t.data, i, s, c, h, t.offset),
                                    e.bufferSubData(y.type, a, n),
                                    q.freeType(n)
                                }
                                return g
                            }
                            ,
                            r.profile && (g.stats = y.stats),
                            g.destroy = function() {
                                s(y)
                            }
                            ,
                            g
                        },
                        createStream: function(e, t) {
                            var r = p.pop();
                            return r || (r = new a(e)),
                            r.bind(),
                            o(r, t, 35040, 0, 1, !1),
                            r
                        },
                        destroyStream: function(e) {
                            p.push(e)
                        },
                        clear: function() {
                            Z(h).forEach(s),
                            p.forEach(s)
                        },
                        getBuffer: function(e) {
                            return e && e._buffer instanceof a ? e._buffer : null
                        },
                        restore: function() {
                            Z(h).forEach((function(t) {
                                t.buffer = e.createBuffer(),
                                e.bindBuffer(t.type, t.buffer),
                                e.bufferData(t.type, t.persistentData || t.byteLength, t.usage)
                            }
                            ))
                        },
                        _initBuffer: o
                    }
                }
                function p(e, t, r, n) {
                    function a(e) {
                        this.id = c++,
                        s[this.id] = this,
                        this.buffer = e,
                        this.primType = 4,
                        this.type = this.vertCount = 0
                    }
                    function i(n, a, i, o, s, c, u) {
                        var f;
                        if (n.buffer.bind(),
                        a ? ((f = u) || G(a) && (!l(a) || G(a.data)) || (f = t.oes_element_index_uint ? 5125 : 5123),
                        r._initBuffer(n.buffer, a, i, f, 3)) : (e.bufferData(34963, c, i),
                        n.buffer.dtype = f || 5121,
                        n.buffer.usage = i,
                        n.buffer.dimension = 3,
                        n.buffer.byteLength = c),
                        f = u,
                        !u) {
                            switch (n.buffer.dtype) {
                            case 5121:
                            case 5120:
                                f = 5121;
                                break;
                            case 5123:
                            case 5122:
                                f = 5123;
                                break;
                            case 5125:
                            case 5124:
                                f = 5125
                            }
                            n.buffer.dtype = f
                        }
                        n.type = f,
                        0 > (a = s) && (a = n.buffer.byteLength,
                        5123 === f ? a >>= 1 : 5125 === f && (a >>= 2)),
                        n.vertCount = a,
                        a = o,
                        0 > o && (a = 4,
                        1 === (o = n.buffer.dimension) && (a = 0),
                        2 === o && (a = 1),
                        3 === o && (a = 4)),
                        n.primType = a
                    }
                    function o(e) {
                        n.elementsCount--,
                        delete s[e.id],
                        e.buffer.destroy(),
                        e.buffer = null
                    }
                    var s = {}
                      , c = 0
                      , u = {
                        uint8: 5121,
                        uint16: 5123
                    };
                    t.oes_element_index_uint && (u.uint32 = 5125),
                    a.prototype.bind = function() {
                        this.buffer.bind()
                    }
                    ;
                    var f = [];
                    return {
                        create: function(e, t) {
                            function s(e) {
                                if (e)
                                    if ("number" == typeof e)
                                        c(e),
                                        f.primType = 4,
                                        f.vertCount = 0 | e,
                                        f.type = 5121;
                                    else {
                                        var t = null
                                          , r = 35044
                                          , n = -1
                                          , a = -1
                                          , o = 0
                                          , d = 0;
                                        Array.isArray(e) || G(e) || l(e) ? t = e : ("data"in e && (t = e.data),
                                        "usage"in e && (r = $[e.usage]),
                                        "primitive"in e && (n = re[e.primitive]),
                                        "count"in e && (a = 0 | e.count),
                                        "type"in e && (d = u[e.type]),
                                        "length"in e ? o = 0 | e.length : (o = a,
                                        5123 === d || 5122 === d ? o *= 2 : 5125 !== d && 5124 !== d || (o *= 4))),
                                        i(f, t, r, n, a, o, d)
                                    }
                                else
                                    c(),
                                    f.primType = 4,
                                    f.vertCount = 0,
                                    f.type = 5121;
                                return s
                            }
                            var c = r.create(null, 34963, !0)
                              , f = new a(c._buffer);
                            return n.elementsCount++,
                            s(e),
                            s._reglType = "elements",
                            s._elements = f,
                            s.subdata = function(e, t) {
                                return c.subdata(e, t),
                                s
                            }
                            ,
                            s.destroy = function() {
                                o(f)
                            }
                            ,
                            s
                        },
                        createStream: function(e) {
                            var t = f.pop();
                            return t || (t = new a(r.create(null, 34963, !0, !1)._buffer)),
                            i(t, e, 35040, -1, -1, 0, 0),
                            t
                        },
                        destroyStream: function(e) {
                            f.push(e)
                        },
                        getElements: function(e) {
                            return "function" == typeof e && e._elements instanceof a ? e._elements : null
                        },
                        clear: function() {
                            Z(s).forEach(o)
                        }
                    }
                }
                function g(e) {
                    for (var t = q.allocType(5123, e.length), r = 0; r < e.length; ++r)
                        if (isNaN(e[r]))
                            t[r] = 65535;
                        else if (1 / 0 === e[r])
                            t[r] = 31744;
                        else if (-1 / 0 === e[r])
                            t[r] = 64512;
                        else {
                            ne[0] = e[r];
                            var n = (i = ae[0]) >>> 31 << 15
                              , a = (i << 1 >>> 24) - 127
                              , i = i >> 13 & 1023;
                            t[r] = -24 > a ? n : -14 > a ? n + (i + 1024 >> -14 - a) : 15 < a ? n + 31744 : n + (a + 15 << 10) + i
                        }
                    return t
                }
                function y(e) {
                    return Array.isArray(e) || G(e)
                }
                function v(e) {
                    return "[object " + e + "]"
                }
                function m(e) {
                    return Array.isArray(e) && (0 === e.length || "number" == typeof e[0])
                }
                function b(e) {
                    return !(!Array.isArray(e) || 0 === e.length || !y(e[0]))
                }
                function x(e) {
                    return Object.prototype.toString.call(e)
                }
                function _(e) {
                    if (!e)
                        return !1;
                    var t = x(e);
                    return 0 <= pe.indexOf(t) || (m(e) || b(e) || l(e))
                }
                function w(e, t) {
                    36193 === e.type ? (e.data = g(t),
                    q.freeType(t)) : e.data = t
                }
                function A(e, t, r, n, a, i) {
                    if (e = void 0 !== ye[e] ? ye[e] : se[e] * ge[t],
                    i && (e *= 6),
                    a) {
                        for (n = 0; 1 <= r; )
                            n += e * r * r,
                            r /= 2;
                        return n
                    }
                    return e * r * n
                }
                function k(e, t, r, n, a, i, o) {
                    function s() {
                        this.format = this.internalformat = 6408,
                        this.type = 5121,
                        this.flipY = this.premultiplyAlpha = this.compressed = !1,
                        this.unpackAlignment = 1,
                        this.colorSpace = 37444,
                        this.channels = this.height = this.width = 0
                    }
                    function c(e, t) {
                        e.internalformat = t.internalformat,
                        e.format = t.format,
                        e.type = t.type,
                        e.compressed = t.compressed,
                        e.premultiplyAlpha = t.premultiplyAlpha,
                        e.flipY = t.flipY,
                        e.unpackAlignment = t.unpackAlignment,
                        e.colorSpace = t.colorSpace,
                        e.width = t.width,
                        e.height = t.height,
                        e.channels = t.channels
                    }
                    function u(e, t) {
                        if ("object" == typeof t && t) {
                            "premultiplyAlpha"in t && (e.premultiplyAlpha = t.premultiplyAlpha),
                            "flipY"in t && (e.flipY = t.flipY),
                            "alignment"in t && (e.unpackAlignment = t.alignment),
                            "colorSpace"in t && (e.colorSpace = Y[t.colorSpace]),
                            "type"in t && (e.type = V[t.type]);
                            var r = e.width
                              , n = e.height
                              , a = e.channels
                              , i = !1;
                            "shape"in t ? (r = t.shape[0],
                            n = t.shape[1],
                            3 === t.shape.length && (a = t.shape[2],
                            i = !0)) : ("radius"in t && (r = n = t.radius),
                            "width"in t && (r = t.width),
                            "height"in t && (n = t.height),
                            "channels"in t && (a = t.channels,
                            i = !0)),
                            e.width = 0 | r,
                            e.height = 0 | n,
                            e.channels = 0 | a,
                            r = !1,
                            "format"in t && (r = t.format,
                            n = e.internalformat = W[r],
                            e.format = pe[n],
                            r in V && !("type"in t) && (e.type = V[r]),
                            r in Q && (e.compressed = !0),
                            r = !0),
                            !i && r ? e.channels = se[e.format] : i && !r && e.channels !== oe[e.format] && (e.format = e.internalformat = oe[e.channels])
                        }
                    }
                    function f(t) {
                        e.pixelStorei(37440, t.flipY),
                        e.pixelStorei(37441, t.premultiplyAlpha),
                        e.pixelStorei(37443, t.colorSpace),
                        e.pixelStorei(3317, t.unpackAlignment)
                    }
                    function d() {
                        s.call(this),
                        this.yOffset = this.xOffset = 0,
                        this.data = null,
                        this.needsFree = !1,
                        this.element = null,
                        this.needsCopy = !1
                    }
                    function h(e, t) {
                        var r = null;
                        if (_(t) ? r = t : t && (u(e, t),
                        "x"in t && (e.xOffset = 0 | t.x),
                        "y"in t && (e.yOffset = 0 | t.y),
                        _(t.data) && (r = t.data)),
                        t.copy) {
                            var n = a.viewportWidth
                              , i = a.viewportHeight;
                            e.width = e.width || n - e.xOffset,
                            e.height = e.height || i - e.yOffset,
                            e.needsCopy = !0
                        } else if (r) {
                            if (G(r))
                                e.channels = e.channels || 4,
                                e.data = r,
                                "type"in t || 5121 !== e.type || (e.type = 0 | X[Object.prototype.toString.call(r)]);
                            else if (m(r)) {
                                switch (e.channels = e.channels || 4,
                                i = (n = r).length,
                                e.type) {
                                case 5121:
                                case 5123:
                                case 5125:
                                case 5126:
                                    (i = q.allocType(e.type, i)).set(n),
                                    e.data = i;
                                    break;
                                case 36193:
                                    e.data = g(n)
                                }
                                e.alignment = 1,
                                e.needsFree = !0
                            } else if (l(r)) {
                                n = r.data,
                                Array.isArray(n) || 5121 !== e.type || (e.type = 0 | X[Object.prototype.toString.call(n)]);
                                i = r.shape;
                                var o, s, c, f, d = r.stride;
                                3 === i.length ? (c = i[2],
                                f = d[2]) : f = c = 1,
                                o = i[0],
                                s = i[1],
                                i = d[0],
                                d = d[1],
                                e.alignment = 1,
                                e.width = o,
                                e.height = s,
                                e.channels = c,
                                e.format = e.internalformat = oe[c],
                                e.needsFree = !0,
                                o = f,
                                r = r.offset,
                                c = e.width,
                                f = e.height,
                                s = e.channels;
                                for (var h = q.allocType(36193 === e.type ? 5126 : e.type, c * f * s), p = 0, v = 0; v < f; ++v)
                                    for (var A = 0; A < c; ++A)
                                        for (var k = 0; k < s; ++k)
                                            h[p++] = n[i * A + d * v + o * k + r];
                                w(e, h)
                            } else if (x(r) === le || x(r) === ce || x(r) === ue)
                                x(r) === le || x(r) === ce ? e.element = r : e.element = r.canvas,
                                e.width = e.element.width,
                                e.height = e.element.height,
                                e.channels = 4;
                            else if (x(r) === fe)
                                e.element = r,
                                e.width = r.width,
                                e.height = r.height,
                                e.channels = 4;
                            else if (x(r) === de)
                                e.element = r,
                                e.width = r.naturalWidth,
                                e.height = r.naturalHeight,
                                e.channels = 4;
                            else if (x(r) === he)
                                e.element = r,
                                e.width = r.videoWidth,
                                e.height = r.videoHeight,
                                e.channels = 4;
                            else if (b(r)) {
                                for (n = e.width || r[0].length,
                                i = e.height || r.length,
                                d = e.channels,
                                d = y(r[0][0]) ? d || r[0][0].length : d || 1,
                                o = J.shape(r),
                                c = 1,
                                f = 0; f < o.length; ++f)
                                    c *= o[f];
                                c = q.allocType(36193 === e.type ? 5126 : e.type, c),
                                J.flatten(r, o, "", c),
                                w(e, c),
                                e.alignment = 1,
                                e.width = n,
                                e.height = i,
                                e.channels = d,
                                e.format = e.internalformat = oe[d],
                                e.needsFree = !0
                            }
                        } else
                            e.width = e.width || 1,
                            e.height = e.height || 1,
                            e.channels = e.channels || 4
                    }
                    function p(t, r, a, i, o) {
                        var s = t.element
                          , l = t.data
                          , c = t.internalformat
                          , u = t.format
                          , d = t.type
                          , h = t.width
                          , p = t.height;
                        f(t),
                        s ? e.texSubImage2D(r, o, a, i, u, d, s) : t.compressed ? e.compressedTexSubImage2D(r, o, a, i, c, h, p, l) : t.needsCopy ? (n(),
                        e.copyTexSubImage2D(r, o, a, i, t.xOffset, t.yOffset, h, p)) : e.texSubImage2D(r, o, a, i, h, p, u, d, l)
                    }
                    function v() {
                        return ge.pop() || new d
                    }
                    function k(e) {
                        e.needsFree && q.freeType(e.data),
                        d.call(e),
                        ge.push(e)
                    }
                    function T() {
                        s.call(this),
                        this.genMipmaps = !1,
                        this.mipmapHint = 4352,
                        this.mipmask = 0,
                        this.images = Array(16)
                    }
                    function M(e, t, r) {
                        var n = e.images[0] = v();
                        e.mipmask = 1,
                        n.width = e.width = t,
                        n.height = e.height = r,
                        n.channels = e.channels = 4
                    }
                    function S(e, t) {
                        var r = null;
                        if (_(t))
                            c(r = e.images[0] = v(), e),
                            h(r, t),
                            e.mipmask = 1;
                        else if (u(e, t),
                        Array.isArray(t.mipmap))
                            for (var n = t.mipmap, a = 0; a < n.length; ++a)
                                c(r = e.images[a] = v(), e),
                                r.width >>= a,
                                r.height >>= a,
                                h(r, n[a]),
                                e.mipmask |= 1 << a;
                        else
                            c(r = e.images[0] = v(), e),
                            h(r, t),
                            e.mipmask = 1;
                        c(e, e.images[0])
                    }
                    function C(t, r) {
                        for (var a = t.images, i = 0; i < a.length && a[i]; ++i) {
                            var o = a[i]
                              , s = r
                              , l = i
                              , c = o.element
                              , u = o.data
                              , d = o.internalformat
                              , h = o.format
                              , p = o.type
                              , g = o.width
                              , y = o.height;
                            f(o),
                            c ? e.texImage2D(s, l, h, h, p, c) : o.compressed ? e.compressedTexImage2D(s, l, d, g, y, 0, u) : o.needsCopy ? (n(),
                            e.copyTexImage2D(s, l, h, o.xOffset, o.yOffset, g, y, 0)) : e.texImage2D(s, l, h, g, y, 0, h, p, u || null)
                        }
                    }
                    function O() {
                        var e = ye.pop() || new T;
                        s.call(e);
                        for (var t = e.mipmask = 0; 16 > t; ++t)
                            e.images[t] = null;
                        return e
                    }
                    function D(e) {
                        for (var t = e.images, r = 0; r < t.length; ++r)
                            t[r] && k(t[r]),
                            t[r] = null;
                        ye.push(e)
                    }
                    function L() {
                        this.magFilter = this.minFilter = 9728,
                        this.wrapT = this.wrapS = 33071,
                        this.anisotropic = 1,
                        this.genMipmaps = !1,
                        this.mipmapHint = 4352
                    }
                    function E(e, t) {
                        "min"in t && (e.minFilter = U[t.min],
                        0 <= ie.indexOf(e.minFilter) && !("faces"in t) && (e.genMipmaps = !0)),
                        "mag"in t && (e.magFilter = H[t.mag]);
                        var r = e.wrapS
                          , n = e.wrapT;
                        if ("wrap"in t) {
                            var a = t.wrap;
                            "string" == typeof a ? r = n = j[a] : Array.isArray(a) && (r = j[a[0]],
                            n = j[a[1]])
                        } else
                            "wrapS"in t && (r = j[t.wrapS]),
                            "wrapT"in t && (n = j[t.wrapT]);
                        if (e.wrapS = r,
                        e.wrapT = n,
                        "anisotropic"in t && (e.anisotropic = t.anisotropic),
                        "mipmap"in t) {
                            switch (r = !1,
                            typeof t.mipmap) {
                            case "string":
                                e.mipmapHint = R[t.mipmap],
                                r = e.genMipmaps = !0;
                                break;
                            case "boolean":
                                r = e.genMipmaps = t.mipmap;
                                break;
                            case "object":
                                e.genMipmaps = !1,
                                r = !0
                            }
                            !r || "min"in t || (e.minFilter = 9984)
                        }
                    }
                    function z(r, n) {
                        e.texParameteri(n, 10241, r.minFilter),
                        e.texParameteri(n, 10240, r.magFilter),
                        e.texParameteri(n, 10242, r.wrapS),
                        e.texParameteri(n, 10243, r.wrapT),
                        t.ext_texture_filter_anisotropic && e.texParameteri(n, 34046, r.anisotropic),
                        r.genMipmaps && (e.hint(33170, r.mipmapHint),
                        e.generateMipmap(n))
                    }
                    function F(t) {
                        s.call(this),
                        this.mipmask = 0,
                        this.internalformat = 6408,
                        this.id = ve++,
                        this.refCount = 1,
                        this.target = t,
                        this.texture = e.createTexture(),
                        this.unit = -1,
                        this.bindCount = 0,
                        this.texInfo = new L,
                        o.profile && (this.stats = {
                            size: 0
                        })
                    }
                    function P(t) {
                        e.activeTexture(33984),
                        e.bindTexture(t.target, t.texture)
                    }
                    function I() {
                        var t = xe[0];
                        t ? e.bindTexture(t.target, t.texture) : e.bindTexture(3553, null)
                    }
                    function N(t) {
                        var r = t.texture
                          , n = t.unit
                          , a = t.target;
                        0 <= n && (e.activeTexture(33984 + n),
                        e.bindTexture(a, null),
                        xe[n] = null),
                        e.deleteTexture(r),
                        t.texture = null,
                        t.params = null,
                        t.pixels = null,
                        t.refCount = 0,
                        delete me[t.id],
                        i.textureCount--
                    }
                    var R = {
                        "don't care": 4352,
                        "dont care": 4352,
                        nice: 4354,
                        fast: 4353
                    }
                      , j = {
                        repeat: 10497,
                        clamp: 33071,
                        mirror: 33648
                    }
                      , H = {
                        nearest: 9728,
                        linear: 9729
                    }
                      , U = B({
                        mipmap: 9987,
                        "nearest mipmap nearest": 9984,
                        "linear mipmap nearest": 9985,
                        "nearest mipmap linear": 9986,
                        "linear mipmap linear": 9987
                    }, H)
                      , Y = {
                        none: 0,
                        browser: 37444
                    }
                      , V = {
                        uint8: 5121,
                        rgba4: 32819,
                        rgb565: 33635,
                        "rgb5 a1": 32820
                    }
                      , W = {
                        alpha: 6406,
                        luminance: 6409,
                        "luminance alpha": 6410,
                        rgb: 6407,
                        rgba: 6408,
                        rgba4: 32854,
                        "rgb5 a1": 32855,
                        rgb565: 36194
                    }
                      , Q = {};
                    t.ext_srgb && (W.srgb = 35904,
                    W.srgba = 35906),
                    t.oes_texture_float && (V.float32 = V.float = 5126),
                    t.oes_texture_half_float && (V.float16 = V["half float"] = 36193),
                    t.webgl_depth_texture && (B(W, {
                        depth: 6402,
                        "depth stencil": 34041
                    }),
                    B(V, {
                        uint16: 5123,
                        uint32: 5125,
                        "depth stencil": 34042
                    })),
                    t.webgl_compressed_texture_s3tc && B(Q, {
                        "rgb s3tc dxt1": 33776,
                        "rgba s3tc dxt1": 33777,
                        "rgba s3tc dxt3": 33778,
                        "rgba s3tc dxt5": 33779
                    }),
                    t.webgl_compressed_texture_atc && B(Q, {
                        "rgb atc": 35986,
                        "rgba atc explicit alpha": 35987,
                        "rgba atc interpolated alpha": 34798
                    }),
                    t.webgl_compressed_texture_pvrtc && B(Q, {
                        "rgb pvrtc 4bppv1": 35840,
                        "rgb pvrtc 2bppv1": 35841,
                        "rgba pvrtc 4bppv1": 35842,
                        "rgba pvrtc 2bppv1": 35843
                    }),
                    t.webgl_compressed_texture_etc1 && (Q["rgb etc1"] = 36196);
                    var $ = Array.prototype.slice.call(e.getParameter(34467));
                    Object.keys(Q).forEach((function(e) {
                        var t = Q[e];
                        0 <= $.indexOf(t) && (W[e] = t)
                    }
                    ));
                    var K = Object.keys(W);
                    r.textureFormats = K;
                    var ee = [];
                    Object.keys(W).forEach((function(e) {
                        ee[W[e]] = e
                    }
                    ));
                    var te = [];
                    Object.keys(V).forEach((function(e) {
                        te[V[e]] = e
                    }
                    ));
                    var re = [];
                    Object.keys(H).forEach((function(e) {
                        re[H[e]] = e
                    }
                    ));
                    var ne = [];
                    Object.keys(U).forEach((function(e) {
                        ne[U[e]] = e
                    }
                    ));
                    var ae = [];
                    Object.keys(j).forEach((function(e) {
                        ae[j[e]] = e
                    }
                    ));
                    var pe = K.reduce((function(e, r) {
                        var n = W[r];
                        return 6409 === n || 6406 === n || 6409 === n || 6410 === n || 6402 === n || 34041 === n || t.ext_srgb && (35904 === n || 35906 === n) ? e[n] = n : 32855 === n || 0 <= r.indexOf("rgba") ? e[n] = 6408 : e[n] = 6407,
                        e
                    }
                    ), {})
                      , ge = []
                      , ye = []
                      , ve = 0
                      , me = {}
                      , be = r.maxTextureUnits
                      , xe = Array(be).map((function() {
                        return null
                    }
                    ));
                    return B(F.prototype, {
                        bind: function() {
                            this.bindCount += 1;
                            var t = this.unit;
                            if (0 > t) {
                                for (var r = 0; r < be; ++r) {
                                    var n = xe[r];
                                    if (n) {
                                        if (0 < n.bindCount)
                                            continue;
                                        n.unit = -1
                                    }
                                    xe[r] = this,
                                    t = r;
                                    break
                                }
                                o.profile && i.maxTextureUnits < t + 1 && (i.maxTextureUnits = t + 1),
                                this.unit = t,
                                e.activeTexture(33984 + t),
                                e.bindTexture(this.target, this.texture)
                            }
                            return t
                        },
                        unbind: function() {
                            --this.bindCount
                        },
                        decRef: function() {
                            0 >= --this.refCount && N(this)
                        }
                    }),
                    o.profile && (i.getTotalTextureSize = function() {
                        var e = 0;
                        return Object.keys(me).forEach((function(t) {
                            e += me[t].stats.size
                        }
                        )),
                        e
                    }
                    ),
                    {
                        create2D: function(t, r) {
                            function n(e, t) {
                                var r = a.texInfo;
                                L.call(r);
                                var i = O();
                                return "number" == typeof e ? M(i, 0 | e, "number" == typeof t ? 0 | t : 0 | e) : e ? (E(r, e),
                                S(i, e)) : M(i, 1, 1),
                                r.genMipmaps && (i.mipmask = (i.width << 1) - 1),
                                a.mipmask = i.mipmask,
                                c(a, i),
                                a.internalformat = i.internalformat,
                                n.width = i.width,
                                n.height = i.height,
                                P(a),
                                C(i, 3553),
                                z(r, 3553),
                                I(),
                                D(i),
                                o.profile && (a.stats.size = A(a.internalformat, a.type, i.width, i.height, r.genMipmaps, !1)),
                                n.format = ee[a.internalformat],
                                n.type = te[a.type],
                                n.mag = re[r.magFilter],
                                n.min = ne[r.minFilter],
                                n.wrapS = ae[r.wrapS],
                                n.wrapT = ae[r.wrapT],
                                n
                            }
                            var a = new F(3553);
                            return me[a.id] = a,
                            i.textureCount++,
                            n(t, r),
                            n.subimage = function(e, t, r, i) {
                                t |= 0,
                                r |= 0,
                                i |= 0;
                                var o = v();
                                return c(o, a),
                                o.width = 0,
                                o.height = 0,
                                h(o, e),
                                o.width = o.width || (a.width >> i) - t,
                                o.height = o.height || (a.height >> i) - r,
                                P(a),
                                p(o, 3553, t, r, i),
                                I(),
                                k(o),
                                n
                            }
                            ,
                            n.resize = function(t, r) {
                                var i = 0 | t
                                  , s = 0 | r || i;
                                if (i === a.width && s === a.height)
                                    return n;
                                n.width = a.width = i,
                                n.height = a.height = s,
                                P(a);
                                for (var l = 0; a.mipmask >> l; ++l) {
                                    var c = i >> l
                                      , u = s >> l;
                                    if (!c || !u)
                                        break;
                                    e.texImage2D(3553, l, a.format, c, u, 0, a.format, a.type, null)
                                }
                                return I(),
                                o.profile && (a.stats.size = A(a.internalformat, a.type, i, s, !1, !1)),
                                n
                            }
                            ,
                            n._reglType = "texture2d",
                            n._texture = a,
                            o.profile && (n.stats = a.stats),
                            n.destroy = function() {
                                a.decRef()
                            }
                            ,
                            n
                        },
                        createCube: function(t, r, n, a, s, l) {
                            function f(e, t, r, n, a, i) {
                                var s, l = d.texInfo;
                                for (L.call(l),
                                s = 0; 6 > s; ++s)
                                    g[s] = O();
                                if ("number" != typeof e && e) {
                                    if ("object" == typeof e)
                                        if (t)
                                            S(g[0], e),
                                            S(g[1], t),
                                            S(g[2], r),
                                            S(g[3], n),
                                            S(g[4], a),
                                            S(g[5], i);
                                        else if (E(l, e),
                                        u(d, e),
                                        "faces"in e)
                                            for (e = e.faces,
                                            s = 0; 6 > s; ++s)
                                                c(g[s], d),
                                                S(g[s], e[s]);
                                        else
                                            for (s = 0; 6 > s; ++s)
                                                S(g[s], e)
                                } else
                                    for (e = 0 | e || 1,
                                    s = 0; 6 > s; ++s)
                                        M(g[s], e, e);
                                for (c(d, g[0]),
                                d.mipmask = l.genMipmaps ? (g[0].width << 1) - 1 : g[0].mipmask,
                                d.internalformat = g[0].internalformat,
                                f.width = g[0].width,
                                f.height = g[0].height,
                                P(d),
                                s = 0; 6 > s; ++s)
                                    C(g[s], 34069 + s);
                                for (z(l, 34067),
                                I(),
                                o.profile && (d.stats.size = A(d.internalformat, d.type, f.width, f.height, l.genMipmaps, !0)),
                                f.format = ee[d.internalformat],
                                f.type = te[d.type],
                                f.mag = re[l.magFilter],
                                f.min = ne[l.minFilter],
                                f.wrapS = ae[l.wrapS],
                                f.wrapT = ae[l.wrapT],
                                s = 0; 6 > s; ++s)
                                    D(g[s]);
                                return f
                            }
                            var d = new F(34067);
                            me[d.id] = d,
                            i.cubeCount++;
                            var g = Array(6);
                            return f(t, r, n, a, s, l),
                            f.subimage = function(e, t, r, n, a) {
                                r |= 0,
                                n |= 0,
                                a |= 0;
                                var i = v();
                                return c(i, d),
                                i.width = 0,
                                i.height = 0,
                                h(i, t),
                                i.width = i.width || (d.width >> a) - r,
                                i.height = i.height || (d.height >> a) - n,
                                P(d),
                                p(i, 34069 + e, r, n, a),
                                I(),
                                k(i),
                                f
                            }
                            ,
                            f.resize = function(t) {
                                if ((t |= 0) !== d.width) {
                                    f.width = d.width = t,
                                    f.height = d.height = t,
                                    P(d);
                                    for (var r = 0; 6 > r; ++r)
                                        for (var n = 0; d.mipmask >> n; ++n)
                                            e.texImage2D(34069 + r, n, d.format, t >> n, t >> n, 0, d.format, d.type, null);
                                    return I(),
                                    o.profile && (d.stats.size = A(d.internalformat, d.type, f.width, f.height, !1, !0)),
                                    f
                                }
                            }
                            ,
                            f._reglType = "textureCube",
                            f._texture = d,
                            o.profile && (f.stats = d.stats),
                            f.destroy = function() {
                                d.decRef()
                            }
                            ,
                            f
                        },
                        clear: function() {
                            for (var t = 0; t < be; ++t)
                                e.activeTexture(33984 + t),
                                e.bindTexture(3553, null),
                                xe[t] = null;
                            Z(me).forEach(N),
                            i.cubeCount = 0,
                            i.textureCount = 0
                        },
                        getTexture: function(e) {
                            return null
                        },
                        restore: function() {
                            for (var t = 0; t < be; ++t) {
                                var r = xe[t];
                                r && (r.bindCount = 0,
                                r.unit = -1,
                                xe[t] = null)
                            }
                            Z(me).forEach((function(t) {
                                t.texture = e.createTexture(),
                                e.bindTexture(t.target, t.texture);
                                for (var r = 0; 32 > r; ++r)
                                    if (0 != (t.mipmask & 1 << r))
                                        if (3553 === t.target)
                                            e.texImage2D(3553, r, t.internalformat, t.width >> r, t.height >> r, 0, t.internalformat, t.type, null);
                                        else
                                            for (var n = 0; 6 > n; ++n)
                                                e.texImage2D(34069 + n, r, t.internalformat, t.width >> r, t.height >> r, 0, t.internalformat, t.type, null);
                                z(t.texInfo, t.target)
                            }
                            ))
                        },
                        refresh: function() {
                            for (var t = 0; t < be; ++t) {
                                var r = xe[t];
                                r && (r.bindCount = 0,
                                r.unit = -1,
                                xe[t] = null),
                                e.activeTexture(33984 + t),
                                e.bindTexture(3553, null),
                                e.bindTexture(34067, null)
                            }
                        }
                    }
                }
                function T(e, t, r, n, a, i) {
                    function o(e, t, r) {
                        this.target = e,
                        this.texture = t,
                        this.renderbuffer = r;
                        var n = e = 0;
                        t ? (e = t.width,
                        n = t.height) : r && (e = r.width,
                        n = r.height),
                        this.width = e,
                        this.height = n
                    }
                    function s(e) {
                        e && (e.texture && e.texture._texture.decRef(),
                        e.renderbuffer && e.renderbuffer._renderbuffer.decRef())
                    }
                    function l(e, t, r) {
                        e && (e.texture ? e.texture._texture.refCount += 1 : e.renderbuffer._renderbuffer.refCount += 1)
                    }
                    function c(t, r) {
                        r && (r.texture ? e.framebufferTexture2D(36160, t, r.target, r.texture._texture.texture, 0) : e.framebufferRenderbuffer(36160, t, 36161, r.renderbuffer._renderbuffer.renderbuffer))
                    }
                    function u(e) {
                        var t = 3553
                          , r = null
                          , n = null
                          , a = e;
                        return "object" == typeof e && (a = e.data,
                        "target"in e && (t = 0 | e.target)),
                        "texture2d" === (e = a._reglType) || "textureCube" === e ? r = a : "renderbuffer" === e && (n = a,
                        t = 36161),
                        new o(t,r,n)
                    }
                    function f(e, t, r, i, s) {
                        return r ? ((e = n.create2D({
                            width: e,
                            height: t,
                            format: i,
                            type: s
                        }))._texture.refCount = 0,
                        new o(3553,e,null)) : ((e = a.create({
                            width: e,
                            height: t,
                            format: i
                        }))._renderbuffer.refCount = 0,
                        new o(36161,null,e))
                    }
                    function d(e) {
                        return e && (e.texture || e.renderbuffer)
                    }
                    function h(e, t, r) {
                        e && (e.texture ? e.texture.resize(t, r) : e.renderbuffer && e.renderbuffer.resize(t, r),
                        e.width = t,
                        e.height = r)
                    }
                    function p() {
                        this.id = A++,
                        k[this.id] = this,
                        this.framebuffer = e.createFramebuffer(),
                        this.height = this.width = 0,
                        this.colorAttachments = [],
                        this.depthStencilAttachment = this.stencilAttachment = this.depthAttachment = null
                    }
                    function g(e) {
                        e.colorAttachments.forEach(s),
                        s(e.depthAttachment),
                        s(e.stencilAttachment),
                        s(e.depthStencilAttachment)
                    }
                    function y(t) {
                        e.deleteFramebuffer(t.framebuffer),
                        t.framebuffer = null,
                        i.framebufferCount--,
                        delete k[t.id]
                    }
                    function v(t) {
                        var n;
                        e.bindFramebuffer(36160, t.framebuffer);
                        var a = t.colorAttachments;
                        for (n = 0; n < a.length; ++n)
                            c(36064 + n, a[n]);
                        for (n = a.length; n < r.maxColorAttachments; ++n)
                            e.framebufferTexture2D(36160, 36064 + n, 3553, null, 0);
                        e.framebufferTexture2D(36160, 33306, 3553, null, 0),
                        e.framebufferTexture2D(36160, 36096, 3553, null, 0),
                        e.framebufferTexture2D(36160, 36128, 3553, null, 0),
                        c(36096, t.depthAttachment),
                        c(36128, t.stencilAttachment),
                        c(33306, t.depthStencilAttachment),
                        e.checkFramebufferStatus(36160),
                        e.isContextLost(),
                        e.bindFramebuffer(36160, b.next ? b.next.framebuffer : null),
                        b.cur = b.next,
                        e.getError()
                    }
                    function m(e, t) {
                        function r(e, t) {
                            var a, i = 0, o = 0, s = !0, c = !0;
                            a = null;
                            var h = !0
                              , p = "rgba"
                              , y = "uint8"
                              , m = 1
                              , b = null
                              , w = null
                              , A = null
                              , k = !1;
                            "number" == typeof e ? (i = 0 | e,
                            o = 0 | t || i) : e ? ("shape"in e ? (i = (o = e.shape)[0],
                            o = o[1]) : ("radius"in e && (i = o = e.radius),
                            "width"in e && (i = e.width),
                            "height"in e && (o = e.height)),
                            ("color"in e || "colors"in e) && (a = e.color || e.colors,
                            Array.isArray(a)),
                            a || ("colorCount"in e && (m = 0 | e.colorCount),
                            "colorTexture"in e && (h = !!e.colorTexture,
                            p = "rgba4"),
                            "colorType"in e && (y = e.colorType,
                            !h) && ("half float" === y || "float16" === y ? p = "rgba16f" : "float" !== y && "float32" !== y || (p = "rgba32f")),
                            "colorFormat"in e && (p = e.colorFormat,
                            0 <= x.indexOf(p) ? h = !0 : 0 <= _.indexOf(p) && (h = !1))),
                            ("depthTexture"in e || "depthStencilTexture"in e) && (k = !(!e.depthTexture && !e.depthStencilTexture)),
                            "depth"in e && ("boolean" == typeof e.depth ? s = e.depth : (b = e.depth,
                            c = !1)),
                            "stencil"in e && ("boolean" == typeof e.stencil ? c = e.stencil : (w = e.stencil,
                            s = !1)),
                            "depthStencil"in e && ("boolean" == typeof e.depthStencil ? s = c = e.depthStencil : (A = e.depthStencil,
                            c = s = !1))) : i = o = 1;
                            var T = null
                              , M = null
                              , S = null
                              , C = null;
                            if (Array.isArray(a))
                                T = a.map(u);
                            else if (a)
                                T = [u(a)];
                            else
                                for (T = Array(m),
                                a = 0; a < m; ++a)
                                    T[a] = f(i, o, h, p, y);
                            for (i = i || T[0].width,
                            o = o || T[0].height,
                            b ? M = u(b) : s && !c && (M = f(i, o, k, "depth", "uint32")),
                            w ? S = u(w) : c && !s && (S = f(i, o, !1, "stencil", "uint8")),
                            A ? C = u(A) : !b && !w && c && s && (C = f(i, o, k, "depth stencil", "depth stencil")),
                            s = null,
                            a = 0; a < T.length; ++a)
                                l(T[a]),
                                T[a] && T[a].texture && (c = be[T[a].texture._texture.format] * xe[T[a].texture._texture.type],
                                null === s && (s = c));
                            return l(M),
                            l(S),
                            l(C),
                            g(n),
                            n.width = i,
                            n.height = o,
                            n.colorAttachments = T,
                            n.depthAttachment = M,
                            n.stencilAttachment = S,
                            n.depthStencilAttachment = C,
                            r.color = T.map(d),
                            r.depth = d(M),
                            r.stencil = d(S),
                            r.depthStencil = d(C),
                            r.width = n.width,
                            r.height = n.height,
                            v(n),
                            r
                        }
                        var n = new p;
                        return i.framebufferCount++,
                        r(e, t),
                        B(r, {
                            resize: function(e, t) {
                                var a = Math.max(0 | e, 1)
                                  , i = Math.max(0 | t || a, 1);
                                if (a === n.width && i === n.height)
                                    return r;
                                for (var o = n.colorAttachments, s = 0; s < o.length; ++s)
                                    h(o[s], a, i);
                                return h(n.depthAttachment, a, i),
                                h(n.stencilAttachment, a, i),
                                h(n.depthStencilAttachment, a, i),
                                n.width = r.width = a,
                                n.height = r.height = i,
                                v(n),
                                r
                            },
                            _reglType: "framebuffer",
                            _framebuffer: n,
                            destroy: function() {
                                y(n),
                                g(n)
                            },
                            use: function(e) {
                                b.setFBO({
                                    framebuffer: r
                                }, e)
                            }
                        })
                    }
                    var b = {
                        cur: null,
                        next: null,
                        dirty: !1,
                        setFBO: null
                    }
                      , x = ["rgba"]
                      , _ = ["rgba4", "rgb565", "rgb5 a1"];
                    t.ext_srgb && _.push("srgba"),
                    t.ext_color_buffer_half_float && _.push("rgba16f", "rgb16f"),
                    t.webgl_color_buffer_float && _.push("rgba32f");
                    var w = ["uint8"];
                    t.oes_texture_half_float && w.push("half float", "float16"),
                    t.oes_texture_float && w.push("float", "float32");
                    var A = 0
                      , k = {};
                    return B(b, {
                        getFramebuffer: function(e) {
                            return "function" == typeof e && "framebuffer" === e._reglType && (e = e._framebuffer)instanceof p ? e : null
                        },
                        create: m,
                        createCube: function(e) {
                            function t(e) {
                                var a, i = {
                                    color: null
                                }, o = 0, s = null;
                                a = "rgba";
                                var l = "uint8"
                                  , c = 1;
                                if ("number" == typeof e ? o = 0 | e : e ? ("shape"in e ? o = e.shape[0] : ("radius"in e && (o = 0 | e.radius),
                                "width"in e ? o = 0 | e.width : "height"in e && (o = 0 | e.height)),
                                ("color"in e || "colors"in e) && (s = e.color || e.colors,
                                Array.isArray(s)),
                                s || ("colorCount"in e && (c = 0 | e.colorCount),
                                "colorType"in e && (l = e.colorType),
                                "colorFormat"in e && (a = e.colorFormat)),
                                "depth"in e && (i.depth = e.depth),
                                "stencil"in e && (i.stencil = e.stencil),
                                "depthStencil"in e && (i.depthStencil = e.depthStencil)) : o = 1,
                                s)
                                    if (Array.isArray(s))
                                        for (e = [],
                                        a = 0; a < s.length; ++a)
                                            e[a] = s[a];
                                    else
                                        e = [s];
                                else
                                    for (e = Array(c),
                                    s = {
                                        radius: o,
                                        format: a,
                                        type: l
                                    },
                                    a = 0; a < c; ++a)
                                        e[a] = n.createCube(s);
                                for (i.color = Array(e.length),
                                a = 0; a < e.length; ++a)
                                    c = e[a],
                                    o = o || c.width,
                                    i.color[a] = {
                                        target: 34069,
                                        data: e[a]
                                    };
                                for (a = 0; 6 > a; ++a) {
                                    for (c = 0; c < e.length; ++c)
                                        i.color[c].target = 34069 + a;
                                    0 < a && (i.depth = r[0].depth,
                                    i.stencil = r[0].stencil,
                                    i.depthStencil = r[0].depthStencil),
                                    r[a] ? r[a](i) : r[a] = m(i)
                                }
                                return B(t, {
                                    width: o,
                                    height: o,
                                    color: e
                                })
                            }
                            var r = Array(6);
                            return t(e),
                            B(t, {
                                faces: r,
                                resize: function(e) {
                                    var n = 0 | e;
                                    if (n === t.width)
                                        return t;
                                    var a = t.color;
                                    for (e = 0; e < a.length; ++e)
                                        a[e].resize(n);
                                    for (e = 0; 6 > e; ++e)
                                        r[e].resize(n);
                                    return t.width = t.height = n,
                                    t
                                },
                                _reglType: "framebufferCube",
                                destroy: function() {
                                    r.forEach((function(e) {
                                        e.destroy()
                                    }
                                    ))
                                }
                            })
                        },
                        clear: function() {
                            Z(k).forEach(y)
                        },
                        restore: function() {
                            b.cur = null,
                            b.next = null,
                            b.dirty = !0,
                            Z(k).forEach((function(t) {
                                t.framebuffer = e.createFramebuffer(),
                                v(t)
                            }
                            ))
                        }
                    })
                }
                function M() {
                    this.w = this.z = this.y = this.x = this.state = 0,
                    this.buffer = null,
                    this.size = 0,
                    this.normalized = !1,
                    this.type = 5126,
                    this.divisor = this.stride = this.offset = 0
                }
                function S(e, t, r, n, a, i, o) {
                    function s() {
                        this.id = ++f,
                        this.attributes = [],
                        this.elements = null,
                        this.ownsElements = !1,
                        this.offset = this.count = 0,
                        this.instances = -1,
                        this.primitive = 4;
                        var e = t.oes_vertex_array_object;
                        this.vao = e ? e.createVertexArrayOES() : null,
                        d[this.id] = this,
                        this.buffers = []
                    }
                    var c = r.maxAttributes
                      , u = Array(c);
                    for (r = 0; r < c; ++r)
                        u[r] = new M;
                    var f = 0
                      , d = {}
                      , h = {
                        Record: M,
                        scope: {},
                        state: u,
                        currentVAO: null,
                        targetVAO: null,
                        restore: t.oes_vertex_array_object ? function() {
                            t.oes_vertex_array_object && Z(d).forEach((function(e) {
                                e.refresh()
                            }
                            ))
                        }
                        : function() {}
                        ,
                        createVAO: function(e) {
                            function t(e) {
                                var n;
                                Array.isArray(e) ? (n = e,
                                r.elements && r.ownsElements && r.elements.destroy(),
                                r.elements = null,
                                r.ownsElements = !1,
                                r.offset = 0,
                                r.count = 0,
                                r.instances = -1,
                                r.primitive = 4) : (e.elements ? (n = e.elements,
                                r.ownsElements ? ("function" == typeof n && "elements" === n._reglType ? r.elements.destroy() : r.elements(n),
                                r.ownsElements = !1) : i.getElements(e.elements) ? (r.elements = e.elements,
                                r.ownsElements = !1) : (r.elements = i.create(e.elements),
                                r.ownsElements = !0)) : (r.elements = null,
                                r.ownsElements = !1),
                                n = e.attributes,
                                r.offset = 0,
                                r.count = -1,
                                r.instances = -1,
                                r.primitive = 4,
                                r.elements && (r.count = r.elements._elements.vertCount,
                                r.primitive = r.elements._elements.primType),
                                "offset"in e && (r.offset = 0 | e.offset),
                                "count"in e && (r.count = 0 | e.count),
                                "instances"in e && (r.instances = 0 | e.instances),
                                "primitive"in e && (r.primitive = re[e.primitive])),
                                e = {};
                                var o = r.attributes;
                                o.length = n.length;
                                for (var s = 0; s < n.length; ++s) {
                                    var c, u = n[s], f = o[s] = new M, d = u.data || u;
                                    if (Array.isArray(d) || G(d) || l(d))
                                        r.buffers[s] && (c = r.buffers[s],
                                        G(d) && c._buffer.byteLength >= d.byteLength ? c.subdata(d) : (c.destroy(),
                                        r.buffers[s] = null)),
                                        r.buffers[s] || (c = r.buffers[s] = a.create(u, 34962, !1, !0)),
                                        f.buffer = a.getBuffer(c),
                                        f.size = 0 | f.buffer.dimension,
                                        f.normalized = !1,
                                        f.type = f.buffer.dtype,
                                        f.offset = 0,
                                        f.stride = 0,
                                        f.divisor = 0,
                                        f.state = 1,
                                        e[s] = 1;
                                    else
                                        a.getBuffer(u) ? (f.buffer = a.getBuffer(u),
                                        f.size = 0 | f.buffer.dimension,
                                        f.normalized = !1,
                                        f.type = f.buffer.dtype,
                                        f.offset = 0,
                                        f.stride = 0,
                                        f.divisor = 0,
                                        f.state = 1) : a.getBuffer(u.buffer) ? (f.buffer = a.getBuffer(u.buffer),
                                        f.size = 0 | (+u.size || f.buffer.dimension),
                                        f.normalized = !!u.normalized || !1,
                                        f.type = "type"in u ? Q[u.type] : f.buffer.dtype,
                                        f.offset = 0 | (u.offset || 0),
                                        f.stride = 0 | (u.stride || 0),
                                        f.divisor = 0 | (u.divisor || 0),
                                        f.state = 1) : "x"in u && (f.x = +u.x || 0,
                                        f.y = +u.y || 0,
                                        f.z = +u.z || 0,
                                        f.w = +u.w || 0,
                                        f.state = 2)
                                }
                                for (c = 0; c < r.buffers.length; ++c)
                                    !e[c] && r.buffers[c] && (r.buffers[c].destroy(),
                                    r.buffers[c] = null);
                                return r.refresh(),
                                t
                            }
                            var r = new s;
                            return n.vaoCount += 1,
                            t.destroy = function() {
                                for (var e = 0; e < r.buffers.length; ++e)
                                    r.buffers[e] && r.buffers[e].destroy();
                                r.buffers.length = 0,
                                r.ownsElements && (r.elements.destroy(),
                                r.elements = null,
                                r.ownsElements = !1),
                                r.destroy()
                            }
                            ,
                            t._vao = r,
                            t._reglType = "vao",
                            t(e)
                        },
                        getVAO: function(e) {
                            return "function" == typeof e && e._vao ? e._vao : null
                        },
                        destroyBuffer: function(t) {
                            for (var r = 0; r < u.length; ++r) {
                                var n = u[r];
                                n.buffer === t && (e.disableVertexAttribArray(r),
                                n.buffer = null)
                            }
                        },
                        setVAO: t.oes_vertex_array_object ? function(e) {
                            if (e !== h.currentVAO) {
                                var r = t.oes_vertex_array_object;
                                e ? r.bindVertexArrayOES(e.vao) : r.bindVertexArrayOES(null),
                                h.currentVAO = e
                            }
                        }
                        : function(r) {
                            if (r !== h.currentVAO) {
                                if (r)
                                    r.bindAttrs();
                                else {
                                    for (var n = t.angle_instanced_arrays, a = 0; a < u.length; ++a) {
                                        var i = u[a];
                                        i.buffer ? (e.enableVertexAttribArray(a),
                                        i.buffer.bind(),
                                        e.vertexAttribPointer(a, i.size, i.type, i.normalized, i.stride, i.offfset),
                                        n && i.divisor && n.vertexAttribDivisorANGLE(a, i.divisor)) : (e.disableVertexAttribArray(a),
                                        e.vertexAttrib4f(a, i.x, i.y, i.z, i.w))
                                    }
                                    o.elements ? e.bindBuffer(34963, o.elements.buffer.buffer) : e.bindBuffer(34963, null)
                                }
                                h.currentVAO = r
                            }
                        }
                        ,
                        clear: t.oes_vertex_array_object ? function() {
                            Z(d).forEach((function(e) {
                                e.destroy()
                            }
                            ))
                        }
                        : function() {}
                    };
                    return s.prototype.bindAttrs = function() {
                        for (var r = t.angle_instanced_arrays, n = this.attributes, a = 0; a < n.length; ++a) {
                            var o = n[a];
                            o.buffer ? (e.enableVertexAttribArray(a),
                            e.bindBuffer(34962, o.buffer.buffer),
                            e.vertexAttribPointer(a, o.size, o.type, o.normalized, o.stride, o.offset),
                            r && o.divisor && r.vertexAttribDivisorANGLE(a, o.divisor)) : (e.disableVertexAttribArray(a),
                            e.vertexAttrib4f(a, o.x, o.y, o.z, o.w))
                        }
                        for (r = n.length; r < c; ++r)
                            e.disableVertexAttribArray(r);
                        (r = i.getElements(this.elements)) ? e.bindBuffer(34963, r.buffer.buffer) : e.bindBuffer(34963, null)
                    }
                    ,
                    s.prototype.refresh = function() {
                        var e = t.oes_vertex_array_object;
                        e && (e.bindVertexArrayOES(this.vao),
                        this.bindAttrs(),
                        h.currentVAO = null,
                        e.bindVertexArrayOES(null))
                    }
                    ,
                    s.prototype.destroy = function() {
                        if (this.vao) {
                            var e = t.oes_vertex_array_object;
                            this === h.currentVAO && (h.currentVAO = null,
                            e.bindVertexArrayOES(null)),
                            e.deleteVertexArrayOES(this.vao),
                            this.vao = null
                        }
                        this.ownsElements && (this.elements.destroy(),
                        this.elements = null,
                        this.ownsElements = !1),
                        d[this.id] && (delete d[this.id],
                        --n.vaoCount)
                    }
                    ,
                    h
                }
                function C(e, t, r, n) {
                    function a(e, t, r, n) {
                        this.name = e,
                        this.id = t,
                        this.location = r,
                        this.info = n
                    }
                    function i(e, t) {
                        for (var r = 0; r < e.length; ++r)
                            if (e[r].id === t.id)
                                return void (e[r].location = t.location);
                        e.push(t)
                    }
                    function o(r, n, a) {
                        if (!(o = (a = 35632 === r ? c : u)[n])) {
                            var i = t.str(n)
                              , o = e.createShader(r);
                            e.shaderSource(o, i),
                            e.compileShader(o),
                            a[n] = o
                        }
                        return o
                    }
                    function s(e, t) {
                        this.id = h++,
                        this.fragId = e,
                        this.vertId = t,
                        this.program = null,
                        this.uniforms = [],
                        this.attributes = [],
                        this.refCount = 1,
                        n.profile && (this.stats = {
                            uniformsCount: 0,
                            attributesCount: 0
                        })
                    }
                    function l(r, s, l) {
                        var c;
                        c = o(35632, r.fragId);
                        var u = o(35633, r.vertId);
                        if (s = r.program = e.createProgram(),
                        e.attachShader(s, c),
                        e.attachShader(s, u),
                        l)
                            for (c = 0; c < l.length; ++c)
                                u = l[c],
                                e.bindAttribLocation(s, u[0], u[1]);
                        e.linkProgram(s),
                        u = e.getProgramParameter(s, 35718),
                        n.profile && (r.stats.uniformsCount = u);
                        var f = r.uniforms;
                        for (c = 0; c < u; ++c)
                            if (l = e.getActiveUniform(s, c)) {
                                if (1 < l.size)
                                    for (var d = 0; d < l.size; ++d) {
                                        var h = l.name.replace("[0]", "[" + d + "]");
                                        i(f, new a(h,t.id(h),e.getUniformLocation(s, h),l))
                                    }
                                d = l.name,
                                1 < l.size && (d = d.replace("[0]", "")),
                                i(f, new a(d,t.id(d),e.getUniformLocation(s, d),l))
                            }
                        for (u = e.getProgramParameter(s, 35721),
                        n.profile && (r.stats.attributesCount = u),
                        r = r.attributes,
                        c = 0; c < u; ++c)
                            (l = e.getActiveAttrib(s, c)) && i(r, new a(l.name,t.id(l.name),e.getAttribLocation(s, l.name),l))
                    }
                    var c = {}
                      , u = {}
                      , f = {}
                      , d = []
                      , h = 0;
                    return n.profile && (r.getMaxUniformsCount = function() {
                        var e = 0;
                        return d.forEach((function(t) {
                            t.stats.uniformsCount > e && (e = t.stats.uniformsCount)
                        }
                        )),
                        e
                    }
                    ,
                    r.getMaxAttributesCount = function() {
                        var e = 0;
                        return d.forEach((function(t) {
                            t.stats.attributesCount > e && (e = t.stats.attributesCount)
                        }
                        )),
                        e
                    }
                    ),
                    {
                        clear: function() {
                            var t = e.deleteShader.bind(e);
                            Z(c).forEach(t),
                            c = {},
                            Z(u).forEach(t),
                            u = {},
                            d.forEach((function(t) {
                                e.deleteProgram(t.program)
                            }
                            )),
                            d.length = 0,
                            f = {},
                            r.shaderCount = 0
                        },
                        program: function(t, n, a, i) {
                            var o = f[n];
                            o || (o = f[n] = {});
                            var h = o[t];
                            if (h && (h.refCount++,
                            !i))
                                return h;
                            var p = new s(n,t);
                            return r.shaderCount++,
                            l(p, a, i),
                            h || (o[t] = p),
                            d.push(p),
                            B(p, {
                                destroy: function() {
                                    if (p.refCount--,
                                    0 >= p.refCount) {
                                        e.deleteProgram(p.program);
                                        var t = d.indexOf(p);
                                        d.splice(t, 1),
                                        r.shaderCount--
                                    }
                                    0 >= o[p.vertId].refCount && (e.deleteShader(u[p.vertId]),
                                    delete u[p.vertId],
                                    delete f[p.fragId][p.vertId]),
                                    Object.keys(f[p.fragId]).length || (e.deleteShader(c[p.fragId]),
                                    delete c[p.fragId],
                                    delete f[p.fragId])
                                }
                            })
                        },
                        restore: function() {
                            c = {},
                            u = {};
                            for (var e = 0; e < d.length; ++e)
                                l(d[e], null, d[e].attributes.map((function(e) {
                                    return [e.location, e.name]
                                }
                                )))
                        },
                        shader: o,
                        frag: -1,
                        vert: -1
                    }
                }
                function O(e, t, r, n, a, i, o) {
                    function s(a) {
                        var i;
                        i = null === t.next ? 5121 : t.next.colorAttachments[0].texture._texture.type;
                        var o = 0
                          , s = 0
                          , l = n.framebufferWidth
                          , c = n.framebufferHeight
                          , u = null;
                        return G(a) ? u = a : a && (o = 0 | a.x,
                        s = 0 | a.y,
                        l = 0 | (a.width || n.framebufferWidth - o),
                        c = 0 | (a.height || n.framebufferHeight - s),
                        u = a.data || null),
                        r(),
                        a = l * c * 4,
                        u || (5121 === i ? u = new Uint8Array(a) : 5126 === i && (u = u || new Float32Array(a))),
                        e.pixelStorei(3333, 4),
                        e.readPixels(o, s, l, c, 6408, i, u),
                        u
                    }
                    return function(e) {
                        return e && "framebuffer"in e ? function(e) {
                            var r;
                            return t.setFBO({
                                framebuffer: e.framebuffer
                            }, (function() {
                                r = s(e)
                            }
                            )),
                            r
                        }(e) : s(e)
                    }
                }
                function D(e) {
                    return Array.prototype.slice.call(e)
                }
                function L(e) {
                    return D(e).join("")
                }
                function E(e) {
                    return Array.isArray(e) || G(e) || l(e)
                }
                function z(e) {
                    return e.sort((function(e, t) {
                        return "viewport" === e ? -1 : "viewport" === t ? 1 : e < t ? -1 : 1
                    }
                    ))
                }
                function F(e, t, r, n) {
                    this.thisDep = e,
                    this.contextDep = t,
                    this.propDep = r,
                    this.append = n
                }
                function P(e) {
                    return e && !(e.thisDep || e.contextDep || e.propDep)
                }
                function I(e) {
                    return new F(!1,!1,!1,e)
                }
                function N(e, t) {
                    var r = e.type;
                    if (0 === r)
                        return new F(!0,1 <= (r = e.data.length),2 <= r,t);
                    if (4 === r)
                        return new F((r = e.data).thisDep,r.contextDep,r.propDep,t);
                    if (5 === r)
                        return new F(!1,!1,!1,t);
                    if (6 === r) {
                        for (var n = r = !1, a = !1, i = 0; i < e.data.length; ++i) {
                            var o = e.data[i];
                            1 === o.type ? a = !0 : 2 === o.type ? n = !0 : 3 === o.type ? r = !0 : 0 === o.type ? (r = !0,
                            1 <= (o = o.data) && (n = !0),
                            2 <= o && (a = !0)) : 4 === o.type && (r = r || o.data.thisDep,
                            n = n || o.data.contextDep,
                            a = a || o.data.propDep)
                        }
                        return new F(r,n,a,t)
                    }
                    return new F(3 === r,2 === r,1 === r,t)
                }
                function R(e, t, r, n, a, o, s, l, c, u, f, d, h, p, g) {
                    function v(e) {
                        return e.replace(".", "_")
                    }
                    function m(e, t, r) {
                        var n = v(e);
                        oe.push(e),
                        ie[n] = ae[n] = !!r,
                        se[n] = t
                    }
                    function b(e, t, r) {
                        var n = v(e);
                        oe.push(e),
                        Array.isArray(r) ? (ae[n] = r.slice(),
                        ie[n] = r.slice()) : ae[n] = ie[n] = r,
                        le[n] = t
                    }
                    function x() {
                        var e = function() {
                            function e() {
                                var e = []
                                  , t = [];
                                return B((function() {
                                    e.push.apply(e, D(arguments))
                                }
                                ), {
                                    def: function() {
                                        var n = "v" + r++;
                                        return t.push(n),
                                        0 < arguments.length && (e.push(n, "="),
                                        e.push.apply(e, D(arguments)),
                                        e.push(";")),
                                        n
                                    },
                                    toString: function() {
                                        return L([0 < t.length ? "var " + t.join(",") + ";" : "", L(e)])
                                    }
                                })
                            }
                            function t() {
                                function t(e, t) {
                                    n(e, t, "=", r.def(e, t), ";")
                                }
                                var r = e()
                                  , n = e()
                                  , a = r.toString
                                  , i = n.toString;
                                return B((function() {
                                    r.apply(r, D(arguments))
                                }
                                ), {
                                    def: r.def,
                                    entry: r,
                                    exit: n,
                                    save: t,
                                    set: function(e, n, a) {
                                        t(e, n),
                                        r(e, n, "=", a, ";")
                                    },
                                    toString: function() {
                                        return a() + i()
                                    }
                                })
                            }
                            var r = 0
                              , n = []
                              , a = []
                              , i = e()
                              , o = {};
                            return {
                                global: i,
                                link: function(e) {
                                    for (var t = 0; t < a.length; ++t)
                                        if (a[t] === e)
                                            return n[t];
                                    return t = "g" + r++,
                                    n.push(t),
                                    a.push(e),
                                    t
                                },
                                block: e,
                                proc: function(e, r) {
                                    function n() {
                                        var e = "a" + a.length;
                                        return a.push(e),
                                        e
                                    }
                                    var a = [];
                                    r = r || 0;
                                    for (var i = 0; i < r; ++i)
                                        n();
                                    var s = (i = t()).toString;
                                    return o[e] = B(i, {
                                        arg: n,
                                        toString: function() {
                                            return L(["function(", a.join(), "){", s(), "}"])
                                        }
                                    })
                                },
                                scope: t,
                                cond: function() {
                                    var e = L(arguments)
                                      , r = t()
                                      , n = t()
                                      , a = r.toString
                                      , i = n.toString;
                                    return B(r, {
                                        then: function() {
                                            return r.apply(r, D(arguments)),
                                            this
                                        },
                                        else: function() {
                                            return n.apply(n, D(arguments)),
                                            this
                                        },
                                        toString: function() {
                                            var t = i();
                                            return t && (t = "else{" + t + "}"),
                                            L(["if(", e, "){", a(), "}", t])
                                        }
                                    })
                                },
                                compile: function() {
                                    var e = ['"use strict";', i, "return {"];
                                    Object.keys(o).forEach((function(t) {
                                        e.push('"', t, '":', o[t].toString(), ",")
                                    }
                                    )),
                                    e.push("}");
                                    var t = L(e).replace(/;/g, ";\n").replace(/}/g, "}\n").replace(/{/g, "{\n");
                                    return Function.apply(null, n.concat(t)).apply(null, a)
                                }
                            }
                        }()
                          , r = e.link
                          , n = e.global;
                        e.id = fe++,
                        e.batchId = "0";
                        var a = r(ce)
                          , i = e.shared = {
                            props: "a0"
                        };
                        Object.keys(ce).forEach((function(e) {
                            i[e] = n.def(a, ".", e)
                        }
                        ));
                        var o = e.next = {}
                          , s = e.current = {};
                        Object.keys(le).forEach((function(e) {
                            Array.isArray(ae[e]) && (o[e] = n.def(i.next, ".", e),
                            s[e] = n.def(i.current, ".", e))
                        }
                        ));
                        var l = e.constants = {};
                        Object.keys(ue).forEach((function(e) {
                            l[e] = n.def(JSON.stringify(ue[e]))
                        }
                        )),
                        e.invoke = function(t, n) {
                            switch (n.type) {
                            case 0:
                                var a = ["this", i.context, i.props, e.batchId];
                                return t.def(r(n.data), ".call(", a.slice(0, Math.max(n.data.length + 1, 4)), ")");
                            case 1:
                                return t.def(i.props, n.data);
                            case 2:
                                return t.def(i.context, n.data);
                            case 3:
                                return t.def("this", n.data);
                            case 4:
                                return n.data.append(e, t),
                                n.data.ref;
                            case 5:
                                return n.data.toString();
                            case 6:
                                return n.data.map((function(r) {
                                    return e.invoke(t, r)
                                }
                                ))
                            }
                        }
                        ,
                        e.attribCache = {};
                        var c = {};
                        return e.scopeAttrib = function(e) {
                            if ((e = t.id(e))in c)
                                return c[e];
                            var n = u.scope[e];
                            return n || (n = u.scope[e] = new $),
                            c[e] = r(n)
                        }
                        ,
                        e
                    }
                    function _(e, t) {
                        var r = e.static
                          , n = e.dynamic;
                        if ("framebuffer"in r) {
                            var a = r.framebuffer;
                            return a ? (a = l.getFramebuffer(a),
                            I((function(e, t) {
                                var r = e.link(a)
                                  , n = e.shared;
                                return t.set(n.framebuffer, ".next", r),
                                n = n.context,
                                t.set(n, ".framebufferWidth", r + ".width"),
                                t.set(n, ".framebufferHeight", r + ".height"),
                                r
                            }
                            ))) : I((function(e, t) {
                                var r = e.shared;
                                return t.set(r.framebuffer, ".next", "null"),
                                r = r.context,
                                t.set(r, ".framebufferWidth", r + ".drawingBufferWidth"),
                                t.set(r, ".framebufferHeight", r + ".drawingBufferHeight"),
                                "null"
                            }
                            ))
                        }
                        if ("framebuffer"in n) {
                            var i = n.framebuffer;
                            return N(i, (function(e, t) {
                                var r = e.invoke(t, i)
                                  , n = e.shared
                                  , a = n.framebuffer;
                                r = t.def(a, ".getFramebuffer(", r, ")");
                                return t.set(a, ".next", r),
                                n = n.context,
                                t.set(n, ".framebufferWidth", r + "?" + r + ".width:" + n + ".drawingBufferWidth"),
                                t.set(n, ".framebufferHeight", r + "?" + r + ".height:" + n + ".drawingBufferHeight"),
                                r
                            }
                            ))
                        }
                        return null
                    }
                    function w(e, r, n) {
                        function a(e) {
                            if (e in i) {
                                var r = t.id(i[e]);
                                return (e = I((function() {
                                    return r
                                }
                                ))).id = r,
                                e
                            }
                            if (e in o) {
                                var n = o[e];
                                return N(n, (function(e, t) {
                                    var r = e.invoke(t, n);
                                    return t.def(e.shared.strings, ".id(", r, ")")
                                }
                                ))
                            }
                            return null
                        }
                        var i = e.static
                          , o = e.dynamic
                          , s = a("frag")
                          , l = a("vert")
                          , c = null;
                        return P(s) && P(l) ? (c = f.program(l.id, s.id, null, n),
                        e = I((function(e, t) {
                            return e.link(c)
                        }
                        ))) : e = new F(s && s.thisDep || l && l.thisDep,s && s.contextDep || l && l.contextDep,s && s.propDep || l && l.propDep,(function(e, t) {
                            var r, n, a = e.shared.shader;
                            return r = s ? s.append(e, t) : t.def(a, ".", "frag"),
                            n = l ? l.append(e, t) : t.def(a, ".", "vert"),
                            t.def(a + ".program(" + n + "," + r + ")")
                        }
                        )),
                        {
                            frag: s,
                            vert: l,
                            progVar: e,
                            program: c
                        }
                    }
                    function A(e, t) {
                        function r(e, t) {
                            if (e in n) {
                                var r = 0 | n[e];
                                return t ? i.offset = r : i.instances = r,
                                I((function(e, n) {
                                    return t && (e.OFFSET = r),
                                    r
                                }
                                ))
                            }
                            if (e in a) {
                                var o = a[e];
                                return N(o, (function(e, r) {
                                    var n = e.invoke(r, o);
                                    return t && (e.OFFSET = n),
                                    n
                                }
                                ))
                            }
                            if (t) {
                                if (c)
                                    return I((function(e, t) {
                                        return e.OFFSET = 0
                                    }
                                    ));
                                if (s)
                                    return new F(l.thisDep,l.contextDep,l.propDep,(function(e, t) {
                                        return t.def(e.shared.vao + ".currentVAO?" + e.shared.vao + ".currentVAO.offset:0")
                                    }
                                    ))
                            } else if (s)
                                return new F(l.thisDep,l.contextDep,l.propDep,(function(e, t) {
                                    return t.def(e.shared.vao + ".currentVAO?" + e.shared.vao + ".currentVAO.instances:-1")
                                }
                                ));
                            return null
                        }
                        var n = e.static
                          , a = e.dynamic
                          , i = {}
                          , s = !1
                          , l = function() {
                            if ("vao"in n) {
                                var e = n.vao;
                                return null !== e && null === u.getVAO(e) && (e = u.createVAO(e)),
                                s = !0,
                                i.vao = e,
                                I((function(t) {
                                    var r = u.getVAO(e);
                                    return r ? t.link(r) : "null"
                                }
                                ))
                            }
                            if ("vao"in a) {
                                s = !0;
                                var t = a.vao;
                                return N(t, (function(e, r) {
                                    var n = e.invoke(r, t);
                                    return r.def(e.shared.vao + ".getVAO(" + n + ")")
                                }
                                ))
                            }
                            return null
                        }()
                          , c = !1
                          , f = function() {
                            if ("elements"in n) {
                                var e = n.elements;
                                if (i.elements = e,
                                E(e)) {
                                    var t = i.elements = o.create(e, !0);
                                    e = o.getElements(t);
                                    c = !0
                                } else
                                    e && (e = o.getElements(e),
                                    c = !0);
                                return (t = I((function(t, r) {
                                    if (e) {
                                        var n = t.link(e);
                                        return t.ELEMENTS = n
                                    }
                                    return t.ELEMENTS = null
                                }
                                ))).value = e,
                                t
                            }
                            if ("elements"in a) {
                                c = !0;
                                var r = a.elements;
                                return N(r, (function(e, t) {
                                    var n = (a = e.shared).isBufferArgs
                                      , a = a.elements
                                      , i = e.invoke(t, r)
                                      , o = t.def("null");
                                    n = t.def(n, "(", i, ")"),
                                    i = e.cond(n).then(o, "=", a, ".createStream(", i, ");").else(o, "=", a, ".getElements(", i, ");");
                                    return t.entry(i),
                                    t.exit(e.cond(n).then(a, ".destroyStream(", o, ");")),
                                    e.ELEMENTS = o
                                }
                                ))
                            }
                            return s ? new F(l.thisDep,l.contextDep,l.propDep,(function(e, t) {
                                return t.def(e.shared.vao + ".currentVAO?" + e.shared.elements + ".getElements(" + e.shared.vao + ".currentVAO.elements):null")
                            }
                            )) : null
                        }()
                          , d = r("offset", !0)
                          , h = function() {
                            if ("primitive"in n) {
                                var e = n.primitive;
                                return i.primitive = e,
                                I((function(t, r) {
                                    return re[e]
                                }
                                ))
                            }
                            if ("primitive"in a) {
                                var t = a.primitive;
                                return N(t, (function(e, r) {
                                    var n = e.constants.primTypes
                                      , a = e.invoke(r, t);
                                    return r.def(n, "[", a, "]")
                                }
                                ))
                            }
                            return c ? P(f) ? f.value ? I((function(e, t) {
                                return t.def(e.ELEMENTS, ".primType")
                            }
                            )) : I((function() {
                                return 4
                            }
                            )) : new F(f.thisDep,f.contextDep,f.propDep,(function(e, t) {
                                var r = e.ELEMENTS;
                                return t.def(r, "?", r, ".primType:", 4)
                            }
                            )) : s ? new F(l.thisDep,l.contextDep,l.propDep,(function(e, t) {
                                return t.def(e.shared.vao + ".currentVAO?" + e.shared.vao + ".currentVAO.primitive:4")
                            }
                            )) : null
                        }()
                          , p = function() {
                            if ("count"in n) {
                                var e = 0 | n.count;
                                return i.count = e,
                                I((function() {
                                    return e
                                }
                                ))
                            }
                            if ("count"in a) {
                                var t = a.count;
                                return N(t, (function(e, r) {
                                    return e.invoke(r, t)
                                }
                                ))
                            }
                            return c ? P(f) ? f ? d ? new F(d.thisDep,d.contextDep,d.propDep,(function(e, t) {
                                return t.def(e.ELEMENTS, ".vertCount-", e.OFFSET)
                            }
                            )) : I((function(e, t) {
                                return t.def(e.ELEMENTS, ".vertCount")
                            }
                            )) : I((function() {
                                return -1
                            }
                            )) : new F(f.thisDep || d.thisDep,f.contextDep || d.contextDep,f.propDep || d.propDep,(function(e, t) {
                                var r = e.ELEMENTS;
                                return e.OFFSET ? t.def(r, "?", r, ".vertCount-", e.OFFSET, ":-1") : t.def(r, "?", r, ".vertCount:-1")
                            }
                            )) : s ? new F(l.thisDep,l.contextDep,l.propDep,(function(e, t) {
                                return t.def(e.shared.vao, ".currentVAO?", e.shared.vao, ".currentVAO.count:-1")
                            }
                            )) : null
                        }()
                          , g = r("instances", !1);
                        return {
                            elements: f,
                            primitive: h,
                            count: p,
                            instances: g,
                            offset: d,
                            vao: l,
                            vaoActive: s,
                            elementsActive: c,
                            static: i
                        }
                    }
                    function k(e, r) {
                        var n = e.static
                          , i = e.dynamic
                          , o = {};
                        return Object.keys(n).forEach((function(e) {
                            var r = n[e]
                              , i = t.id(e)
                              , s = new $;
                            if (E(r))
                                s.state = 1,
                                s.buffer = a.getBuffer(a.create(r, 34962, !1, !0)),
                                s.type = 0;
                            else if (c = a.getBuffer(r))
                                s.state = 1,
                                s.buffer = c,
                                s.type = 0;
                            else if ("constant"in r) {
                                var l = r.constant;
                                s.buffer = "null",
                                s.state = 2,
                                "number" == typeof l ? s.x = l : _e.forEach((function(e, t) {
                                    t < l.length && (s[e] = l[t])
                                }
                                ))
                            } else {
                                var c = E(r.buffer) ? a.getBuffer(a.create(r.buffer, 34962, !1, !0)) : a.getBuffer(r.buffer)
                                  , u = 0 | r.offset
                                  , f = 0 | r.stride
                                  , d = 0 | r.size
                                  , h = !!r.normalized
                                  , p = 0;
                                "type"in r && (p = Q[r.type]),
                                r = 0 | r.divisor,
                                s.buffer = c,
                                s.state = 1,
                                s.size = d,
                                s.normalized = h,
                                s.type = p || c.dtype,
                                s.offset = u,
                                s.stride = f,
                                s.divisor = r
                            }
                            o[e] = I((function(e, t) {
                                var r = e.attribCache;
                                if (i in r)
                                    return r[i];
                                var n = {
                                    isStream: !1
                                };
                                return Object.keys(s).forEach((function(e) {
                                    n[e] = s[e]
                                }
                                )),
                                s.buffer && (n.buffer = e.link(s.buffer),
                                n.type = n.type || n.buffer + ".dtype"),
                                r[i] = n
                            }
                            ))
                        }
                        )),
                        Object.keys(i).forEach((function(e) {
                            var t = i[e];
                            o[e] = N(t, (function(e, r) {
                                function n(e) {
                                    r(l[e], "=", a, ".", e, "|0;")
                                }
                                var a = e.invoke(r, t)
                                  , i = e.shared
                                  , o = e.constants
                                  , s = i.isBufferArgs
                                  , l = (i = i.buffer,
                                {
                                    isStream: r.def(!1)
                                })
                                  , c = new $;
                                c.state = 1,
                                Object.keys(c).forEach((function(e) {
                                    l[e] = r.def("" + c[e])
                                }
                                ));
                                var u = l.buffer
                                  , f = l.type;
                                return r("if(", s, "(", a, ")){", l.isStream, "=true;", u, "=", i, ".createStream(", 34962, ",", a, ");", f, "=", u, ".dtype;", "}else{", u, "=", i, ".getBuffer(", a, ");", "if(", u, "){", f, "=", u, ".dtype;", '}else if("constant" in ', a, "){", l.state, "=", 2, ";", "if(typeof " + a + '.constant === "number"){', l[_e[0]], "=", a, ".constant;", _e.slice(1).map((function(e) {
                                    return l[e]
                                }
                                )).join("="), "=0;", "}else{", _e.map((function(e, t) {
                                    return l[e] + "=" + a + ".constant.length>" + t + "?" + a + ".constant[" + t + "]:0;"
                                }
                                )).join(""), "}}else{", "if(", s, "(", a, ".buffer)){", u, "=", i, ".createStream(", 34962, ",", a, ".buffer);", "}else{", u, "=", i, ".getBuffer(", a, ".buffer);", "}", f, '="type" in ', a, "?", o.glTypes, "[", a, ".type]:", u, ".dtype;", l.normalized, "=!!", a, ".normalized;"),
                                n("size"),
                                n("offset"),
                                n("stride"),
                                n("divisor"),
                                r("}}"),
                                r.exit("if(", l.isStream, "){", i, ".destroyStream(", u, ");", "}"),
                                l
                            }
                            ))
                        }
                        )),
                        o
                    }
                    function T(e, t, n, a, o) {
                        function s(e) {
                            var t = c[e];
                            t && (d[e] = t)
                        }
                        var l = function(e, t) {
                            if ("string" == typeof (r = e.static).frag && "string" == typeof r.vert) {
                                if (0 < Object.keys(t.dynamic).length)
                                    return null;
                                var r = t.static
                                  , n = Object.keys(r);
                                if (0 < n.length && "number" == typeof r[n[0]]) {
                                    for (var a = [], i = 0; i < n.length; ++i)
                                        a.push([0 | r[n[i]], n[i]]);
                                    return a
                                }
                            }
                            return null
                        }(e, t)
                          , c = function(e, t, r) {
                            function n(e) {
                                if (e in a) {
                                    var r = a[e];
                                    e = !0;
                                    var n, o, s = 0 | r.x, l = 0 | r.y;
                                    return "width"in r ? n = 0 | r.width : e = !1,
                                    "height"in r ? o = 0 | r.height : e = !1,
                                    new F(!e && t && t.thisDep,!e && t && t.contextDep,!e && t && t.propDep,(function(e, t) {
                                        var a = e.shared.context
                                          , i = n;
                                        "width"in r || (i = t.def(a, ".", "framebufferWidth", "-", s));
                                        var c = o;
                                        return "height"in r || (c = t.def(a, ".", "framebufferHeight", "-", l)),
                                        [s, l, i, c]
                                    }
                                    ))
                                }
                                if (e in i) {
                                    var c = i[e];
                                    return e = N(c, (function(e, t) {
                                        var r = e.invoke(t, c)
                                          , n = e.shared.context
                                          , a = t.def(r, ".x|0")
                                          , i = t.def(r, ".y|0");
                                        return [a, i, t.def('"width" in ', r, "?", r, ".width|0:", "(", n, ".", "framebufferWidth", "-", a, ")"), r = t.def('"height" in ', r, "?", r, ".height|0:", "(", n, ".", "framebufferHeight", "-", i, ")")]
                                    }
                                    )),
                                    t && (e.thisDep = e.thisDep || t.thisDep,
                                    e.contextDep = e.contextDep || t.contextDep,
                                    e.propDep = e.propDep || t.propDep),
                                    e
                                }
                                return t ? new F(t.thisDep,t.contextDep,t.propDep,(function(e, t) {
                                    var r = e.shared.context;
                                    return [0, 0, t.def(r, ".", "framebufferWidth"), t.def(r, ".", "framebufferHeight")]
                                }
                                )) : null
                            }
                            var a = e.static
                              , i = e.dynamic;
                            if (e = n("viewport")) {
                                var o = e;
                                e = new F(e.thisDep,e.contextDep,e.propDep,(function(e, t) {
                                    var r = o.append(e, t)
                                      , n = e.shared.context;
                                    return t.set(n, ".viewportWidth", r[2]),
                                    t.set(n, ".viewportHeight", r[3]),
                                    r
                                }
                                ))
                            }
                            return {
                                viewport: e,
                                scissor_box: n("scissor.box")
                            }
                        }(e, p = _(e))
                          , f = A(e)
                          , d = function(e, t) {
                            var r = e.static
                              , n = e.dynamic
                              , a = {};
                            return oe.forEach((function(e) {
                                function t(t, i) {
                                    if (e in r) {
                                        var s = t(r[e]);
                                        a[o] = I((function() {
                                            return s
                                        }
                                        ))
                                    } else if (e in n) {
                                        var l = n[e];
                                        a[o] = N(l, (function(e, t) {
                                            return i(e, t, e.invoke(t, l))
                                        }
                                        ))
                                    }
                                }
                                var o = v(e);
                                switch (e) {
                                case "cull.enable":
                                case "blend.enable":
                                case "dither":
                                case "stencil.enable":
                                case "depth.enable":
                                case "scissor.enable":
                                case "polygonOffset.enable":
                                case "sample.alpha":
                                case "sample.enable":
                                case "depth.mask":
                                    return t((function(e) {
                                        return e
                                    }
                                    ), (function(e, t, r) {
                                        return r
                                    }
                                    ));
                                case "depth.func":
                                    return t((function(e) {
                                        return ke[e]
                                    }
                                    ), (function(e, t, r) {
                                        return t.def(e.constants.compareFuncs, "[", r, "]")
                                    }
                                    ));
                                case "depth.range":
                                    return t((function(e) {
                                        return e
                                    }
                                    ), (function(e, t, r) {
                                        return [t.def("+", r, "[0]"), t = t.def("+", r, "[1]")]
                                    }
                                    ));
                                case "blend.func":
                                    return t((function(e) {
                                        return [Ae["srcRGB"in e ? e.srcRGB : e.src], Ae["dstRGB"in e ? e.dstRGB : e.dst], Ae["srcAlpha"in e ? e.srcAlpha : e.src], Ae["dstAlpha"in e ? e.dstAlpha : e.dst]]
                                    }
                                    ), (function(e, t, r) {
                                        function n(e, n) {
                                            return t.def('"', e, n, '" in ', r, "?", r, ".", e, n, ":", r, ".", e)
                                        }
                                        e = e.constants.blendFuncs;
                                        var a = n("src", "RGB")
                                          , i = n("dst", "RGB")
                                          , o = (a = t.def(e, "[", a, "]"),
                                        t.def(e, "[", n("src", "Alpha"), "]"));
                                        return [a, i = t.def(e, "[", i, "]"), o, e = t.def(e, "[", n("dst", "Alpha"), "]")]
                                    }
                                    ));
                                case "blend.equation":
                                    return t((function(e) {
                                        return "string" == typeof e ? [K[e], K[e]] : "object" == typeof e ? [K[e.rgb], K[e.alpha]] : void 0
                                    }
                                    ), (function(e, t, r) {
                                        var n = e.constants.blendEquations
                                          , a = t.def()
                                          , i = t.def();
                                        return (e = e.cond("typeof ", r, '==="string"')).then(a, "=", i, "=", n, "[", r, "];"),
                                        e.else(a, "=", n, "[", r, ".rgb];", i, "=", n, "[", r, ".alpha];"),
                                        t(e),
                                        [a, i]
                                    }
                                    ));
                                case "blend.color":
                                    return t((function(e) {
                                        return i(4, (function(t) {
                                            return +e[t]
                                        }
                                        ))
                                    }
                                    ), (function(e, t, r) {
                                        return i(4, (function(e) {
                                            return t.def("+", r, "[", e, "]")
                                        }
                                        ))
                                    }
                                    ));
                                case "stencil.mask":
                                    return t((function(e) {
                                        return 0 | e
                                    }
                                    ), (function(e, t, r) {
                                        return t.def(r, "|0")
                                    }
                                    ));
                                case "stencil.func":
                                    return t((function(e) {
                                        return [ke[e.cmp || "keep"], e.ref || 0, "mask"in e ? e.mask : -1]
                                    }
                                    ), (function(e, t, r) {
                                        return [e = t.def('"cmp" in ', r, "?", e.constants.compareFuncs, "[", r, ".cmp]", ":", 7680), t.def(r, ".ref|0"), t = t.def('"mask" in ', r, "?", r, ".mask|0:-1")]
                                    }
                                    ));
                                case "stencil.opFront":
                                case "stencil.opBack":
                                    return t((function(t) {
                                        return ["stencil.opBack" === e ? 1029 : 1028, Te[t.fail || "keep"], Te[t.zfail || "keep"], Te[t.zpass || "keep"]]
                                    }
                                    ), (function(t, r, n) {
                                        function a(e) {
                                            return r.def('"', e, '" in ', n, "?", i, "[", n, ".", e, "]:", 7680)
                                        }
                                        var i = t.constants.stencilOps;
                                        return ["stencil.opBack" === e ? 1029 : 1028, a("fail"), a("zfail"), a("zpass")]
                                    }
                                    ));
                                case "polygonOffset.offset":
                                    return t((function(e) {
                                        return [0 | e.factor, 0 | e.units]
                                    }
                                    ), (function(e, t, r) {
                                        return [t.def(r, ".factor|0"), t = t.def(r, ".units|0")]
                                    }
                                    ));
                                case "cull.face":
                                    return t((function(e) {
                                        var t = 0;
                                        return "front" === e ? t = 1028 : "back" === e && (t = 1029),
                                        t
                                    }
                                    ), (function(e, t, r) {
                                        return t.def(r, '==="front"?', 1028, ":", 1029)
                                    }
                                    ));
                                case "lineWidth":
                                    return t((function(e) {
                                        return e
                                    }
                                    ), (function(e, t, r) {
                                        return r
                                    }
                                    ));
                                case "frontFace":
                                    return t((function(e) {
                                        return Me[e]
                                    }
                                    ), (function(e, t, r) {
                                        return t.def(r + '==="cw"?2304:2305')
                                    }
                                    ));
                                case "colorMask":
                                    return t((function(e) {
                                        return e.map((function(e) {
                                            return !!e
                                        }
                                        ))
                                    }
                                    ), (function(e, t, r) {
                                        return i(4, (function(e) {
                                            return "!!" + r + "[" + e + "]"
                                        }
                                        ))
                                    }
                                    ));
                                case "sample.coverage":
                                    return t((function(e) {
                                        return ["value"in e ? e.value : 1, !!e.invert]
                                    }
                                    ), (function(e, t, r) {
                                        return [t.def('"value" in ', r, "?+", r, ".value:1"), t = t.def("!!", r, ".invert")]
                                    }
                                    ))
                                }
                            }
                            )),
                            a
                        }(e)
                          , h = w(e, 0, l);
                        s("viewport"),
                        s(v("scissor.box"));
                        var p, g = 0 < Object.keys(d).length;
                        if ((p = {
                            framebuffer: p,
                            draw: f,
                            shader: h,
                            state: d,
                            dirty: g,
                            scopeVAO: null,
                            drawVAO: null,
                            useVAO: !1,
                            attributes: {}
                        }).profile = function(e) {
                            var t, r = e.static;
                            if (e = e.dynamic,
                            "profile"in r) {
                                var n = !!r.profile;
                                (t = I((function(e, t) {
                                    return n
                                }
                                ))).enable = n
                            } else if ("profile"in e) {
                                var a = e.profile;
                                t = N(a, (function(e, t) {
                                    return e.invoke(t, a)
                                }
                                ))
                            }
                            return t
                        }(e),
                        p.uniforms = function(e, t) {
                            var r = e.static
                              , n = e.dynamic
                              , a = {};
                            return Object.keys(r).forEach((function(e) {
                                var t, n = r[e];
                                if ("number" == typeof n || "boolean" == typeof n)
                                    t = I((function() {
                                        return n
                                    }
                                    ));
                                else if ("function" == typeof n) {
                                    var o = n._reglType;
                                    "texture2d" === o || "textureCube" === o ? t = I((function(e) {
                                        return e.link(n)
                                    }
                                    )) : "framebuffer" !== o && "framebufferCube" !== o || (t = I((function(e) {
                                        return e.link(n.color[0])
                                    }
                                    )))
                                } else
                                    y(n) && (t = I((function(e) {
                                        return e.global.def("[", i(n.length, (function(e) {
                                            return n[e]
                                        }
                                        )), "]")
                                    }
                                    )));
                                t.value = n,
                                a[e] = t
                            }
                            )),
                            Object.keys(n).forEach((function(e) {
                                var t = n[e];
                                a[e] = N(t, (function(e, r) {
                                    return e.invoke(r, t)
                                }
                                ))
                            }
                            )),
                            a
                        }(n),
                        p.drawVAO = p.scopeVAO = f.vao,
                        !p.drawVAO && h.program && !l && r.angle_instanced_arrays && f.static.elements) {
                            var m = !0;
                            if (e = h.program.attributes.map((function(e) {
                                return e = t.static[e],
                                m = m && !!e,
                                e
                            }
                            )),
                            m && 0 < e.length) {
                                var b = u.getVAO(u.createVAO({
                                    attributes: e,
                                    elements: f.static.elements
                                }));
                                p.drawVAO = new F(null,null,null,(function(e, t) {
                                    return e.link(b)
                                }
                                )),
                                p.useVAO = !0
                            }
                        }
                        return l ? p.useVAO = !0 : p.attributes = k(t),
                        p.context = function(e) {
                            var t = e.static
                              , r = e.dynamic
                              , n = {};
                            return Object.keys(t).forEach((function(e) {
                                var r = t[e];
                                n[e] = I((function(e, t) {
                                    return "number" == typeof r || "boolean" == typeof r ? "" + r : e.link(r)
                                }
                                ))
                            }
                            )),
                            Object.keys(r).forEach((function(e) {
                                var t = r[e];
                                n[e] = N(t, (function(e, r) {
                                    return e.invoke(r, t)
                                }
                                ))
                            }
                            )),
                            n
                        }(a),
                        p
                    }
                    function M(e, t, r) {
                        var n = e.shared.context
                          , a = e.scope();
                        Object.keys(r).forEach((function(i) {
                            t.save(n, "." + i);
                            var o = r[i].append(e, t);
                            Array.isArray(o) ? a(n, ".", i, "=[", o.join(), "];") : a(n, ".", i, "=", o, ";")
                        }
                        )),
                        t(a)
                    }
                    function S(e, t, r, n) {
                        var a, i = (s = e.shared).gl, o = s.framebuffer;
                        te && (a = t.def(s.extensions, ".webgl_draw_buffers"));
                        var s = (l = e.constants).drawBuffer
                          , l = l.backBuffer;
                        e = r ? r.append(e, t) : t.def(o, ".next"),
                        n || t("if(", e, "!==", o, ".cur){"),
                        t("if(", e, "){", i, ".bindFramebuffer(", 36160, ",", e, ".framebuffer);"),
                        te && t(a, ".drawBuffersWEBGL(", s, "[", e, ".colorAttachments.length]);"),
                        t("}else{", i, ".bindFramebuffer(", 36160, ",null);"),
                        te && t(a, ".drawBuffersWEBGL(", l, ");"),
                        t("}", o, ".cur=", e, ";"),
                        n || t("}")
                    }
                    function C(e, t, r) {
                        var n = e.shared
                          , a = n.gl
                          , o = e.current
                          , s = e.next
                          , l = n.current
                          , c = n.next
                          , u = e.cond(l, ".dirty");
                        oe.forEach((function(t) {
                            var n, f;
                            if (!((t = v(t))in r.state))
                                if (t in s) {
                                    n = s[t],
                                    f = o[t];
                                    var d = i(ae[t].length, (function(e) {
                                        return u.def(n, "[", e, "]")
                                    }
                                    ));
                                    u(e.cond(d.map((function(e, t) {
                                        return e + "!==" + f + "[" + t + "]"
                                    }
                                    )).join("||")).then(a, ".", le[t], "(", d, ");", d.map((function(e, t) {
                                        return f + "[" + t + "]=" + e
                                    }
                                    )).join(";"), ";"))
                                } else
                                    n = u.def(c, ".", t),
                                    d = e.cond(n, "!==", l, ".", t),
                                    u(d),
                                    t in se ? d(e.cond(n).then(a, ".enable(", se[t], ");").else(a, ".disable(", se[t], ");"), l, ".", t, "=", n, ";") : d(a, ".", le[t], "(", n, ");", l, ".", t, "=", n, ";")
                        }
                        )),
                        0 === Object.keys(r.state).length && u(l, ".dirty=false;"),
                        t(u)
                    }
                    function O(e, t, r, n) {
                        var a = e.shared
                          , i = e.current
                          , o = a.current
                          , s = a.gl;
                        z(Object.keys(r)).forEach((function(a) {
                            var l = r[a];
                            if (!n || n(l)) {
                                var c = l.append(e, t);
                                if (se[a]) {
                                    var u = se[a];
                                    P(l) ? t(s, c ? ".enable(" : ".disable(", u, ");") : t(e.cond(c).then(s, ".enable(", u, ");").else(s, ".disable(", u, ");")),
                                    t(o, ".", a, "=", c, ";")
                                } else if (y(c)) {
                                    var f = i[a];
                                    t(s, ".", le[a], "(", c, ");", c.map((function(e, t) {
                                        return f + "[" + t + "]=" + e
                                    }
                                    )).join(";"), ";")
                                } else
                                    t(s, ".", le[a], "(", c, ");", o, ".", a, "=", c, ";")
                            }
                        }
                        ))
                    }
                    function R(e, t) {
                        ee && (e.instancing = t.def(e.shared.extensions, ".angle_instanced_arrays"))
                    }
                    function j(e, t, r, n, a) {
                        function i() {
                            return "undefined" == typeof performance ? "Date.now()" : "performance.now()"
                        }
                        function o(e) {
                            e(c = t.def(), "=", i(), ";"),
                            "string" == typeof a ? e(d, ".count+=", a, ";") : e(d, ".count++;"),
                            p && (n ? e(u = t.def(), "=", g, ".getNumPendingQueries();") : e(g, ".beginQuery(", d, ");"))
                        }
                        function s(e) {
                            e(d, ".cpuTime+=", i(), "-", c, ";"),
                            p && (n ? e(g, ".pushScopeStats(", u, ",", g, ".getNumPendingQueries(),", d, ");") : e(g, ".endQuery();"))
                        }
                        function l(e) {
                            var r = t.def(h, ".profile");
                            t(h, ".profile=", e, ";"),
                            t.exit(h, ".profile=", r, ";")
                        }
                        var c, u, f = e.shared, d = e.stats, h = f.current, g = f.timer;
                        if (r = r.profile) {
                            if (P(r))
                                return void (r.enable ? (o(t),
                                s(t.exit),
                                l("true")) : l("false"));
                            l(r = r.append(e, t))
                        } else
                            r = t.def(h, ".profile");
                        o(f = e.block()),
                        t("if(", r, "){", f, "}"),
                        s(e = e.block()),
                        t.exit("if(", r, "){", e, "}")
                    }
                    function H(e, t, r, n, a) {
                        function i(r, n, a) {
                            function i() {
                                t("if(!", u, ".buffer){", l, ".enableVertexAttribArray(", c, ");}");
                                var r, i = a.type;
                                r = a.size ? t.def(a.size, "||", n) : n,
                                t("if(", u, ".type!==", i, "||", u, ".size!==", r, "||", h.map((function(e) {
                                    return u + "." + e + "!==" + a[e]
                                }
                                )).join("||"), "){", l, ".bindBuffer(", 34962, ",", f, ".buffer);", l, ".vertexAttribPointer(", [c, r, i, a.normalized, a.stride, a.offset], ");", u, ".type=", i, ";", u, ".size=", r, ";", h.map((function(e) {
                                    return u + "." + e + "=" + a[e] + ";"
                                }
                                )).join(""), "}"),
                                ee && (i = a.divisor,
                                t("if(", u, ".divisor!==", i, "){", e.instancing, ".vertexAttribDivisorANGLE(", [c, i], ");", u, ".divisor=", i, ";}"))
                            }
                            function s() {
                                t("if(", u, ".buffer){", l, ".disableVertexAttribArray(", c, ");", u, ".buffer=null;", "}if(", _e.map((function(e, t) {
                                    return u + "." + e + "!==" + d[t]
                                }
                                )).join("||"), "){", l, ".vertexAttrib4f(", c, ",", d, ");", _e.map((function(e, t) {
                                    return u + "." + e + "=" + d[t] + ";"
                                }
                                )).join(""), "}")
                            }
                            var l = o.gl
                              , c = t.def(r, ".location")
                              , u = t.def(o.attributes, "[", c, "]");
                            r = a.state;
                            var f = a.buffer
                              , d = [a.x, a.y, a.z, a.w]
                              , h = ["buffer", "normalized", "offset", "stride"];
                            1 === r ? i() : 2 === r ? s() : (t("if(", r, "===", 1, "){"),
                            i(),
                            t("}else{"),
                            s(),
                            t("}"))
                        }
                        var o = e.shared;
                        n.forEach((function(n) {
                            var o, s = n.name, l = r.attributes[s];
                            if (l) {
                                if (!a(l))
                                    return;
                                o = l.append(e, t)
                            } else {
                                if (!a(Se))
                                    return;
                                var c = e.scopeAttrib(s);
                                o = {},
                                Object.keys(new $).forEach((function(e) {
                                    o[e] = t.def(c, ".", e)
                                }
                                ))
                            }
                            i(e.link(n), function(e) {
                                switch (e) {
                                case 35664:
                                case 35667:
                                case 35671:
                                    return 2;
                                case 35665:
                                case 35668:
                                case 35672:
                                    return 3;
                                case 35666:
                                case 35669:
                                case 35673:
                                    return 4;
                                default:
                                    return 1
                                }
                            }(n.info.type), o)
                        }
                        ))
                    }
                    function Y(e, r, n, a, o, s) {
                        for (var l, c = e.shared, u = c.gl, f = {}, d = 0; d < a.length; ++d) {
                            var h = (x = a[d]).name
                              , p = x.info.type
                              , g = x.info.size
                              , v = n.uniforms[h];
                            if (1 < g) {
                                if (!v)
                                    continue;
                                var m = h.replace("[0]", "");
                                if (f[m])
                                    continue;
                                f[m] = 1
                            }
                            var b, x = e.link(x) + ".location";
                            if (v) {
                                if (!o(v))
                                    continue;
                                if (P(v)) {
                                    if (h = v.value,
                                    35678 === p || 35680 === p)
                                        r(u, ".uniform1i(", x, ",", (p = e.link(h._texture || h.color[0]._texture)) + ".bind());"),
                                        r.exit(p, ".unbind();");
                                    else if (35674 === p || 35675 === p || 35676 === p)
                                        g = e.global.def("new Float32Array([" + Array.prototype.slice.call(h) + "])"),
                                        h = 2,
                                        35675 === p ? h = 3 : 35676 === p && (h = 4),
                                        r(u, ".uniformMatrix", h, "fv(", x, ",false,", g, ");");
                                    else {
                                        switch (p) {
                                        case 5126:
                                            l = "1f";
                                            break;
                                        case 35664:
                                            l = "2f";
                                            break;
                                        case 35665:
                                            l = "3f";
                                            break;
                                        case 35666:
                                            l = "4f";
                                            break;
                                        case 35670:
                                        case 5124:
                                            l = "1i";
                                            break;
                                        case 35671:
                                        case 35667:
                                            l = "2i";
                                            break;
                                        case 35672:
                                        case 35668:
                                            l = "3i";
                                            break;
                                        case 35673:
                                            l = "4i";
                                            break;
                                        case 35669:
                                            l = "4i"
                                        }
                                        1 < g ? (l += "v",
                                        h = e.global.def("[" + Array.prototype.slice.call(h) + "]")) : h = y(h) ? Array.prototype.slice.call(h) : h,
                                        r(u, ".uniform", l, "(", x, ",", h, ");")
                                    }
                                    continue
                                }
                                b = v.append(e, r)
                            } else {
                                if (!o(Se))
                                    continue;
                                b = r.def(c.uniforms, "[", t.id(h), "]")
                            }
                            switch (35678 === p ? r("if(", b, "&&", b, '._reglType==="framebuffer"){', b, "=", b, ".color[0];", "}") : 35680 === p && r("if(", b, "&&", b, '._reglType==="framebufferCube"){', b, "=", b, ".color[0];", "}"),
                            h = 1,
                            p) {
                            case 35678:
                            case 35680:
                                p = r.def(b, "._texture"),
                                r(u, ".uniform1i(", x, ",", p, ".bind());"),
                                r.exit(p, ".unbind();");
                                continue;
                            case 5124:
                            case 35670:
                                l = "1i";
                                break;
                            case 35667:
                            case 35671:
                                l = "2i",
                                h = 2;
                                break;
                            case 35668:
                            case 35672:
                                l = "3i",
                                h = 3;
                                break;
                            case 35669:
                            case 35673:
                                l = "4i",
                                h = 4;
                                break;
                            case 5126:
                                l = "1f";
                                break;
                            case 35664:
                                l = "2f",
                                h = 2;
                                break;
                            case 35665:
                                l = "3f",
                                h = 3;
                                break;
                            case 35666:
                                l = "4f",
                                h = 4;
                                break;
                            case 35674:
                                l = "Matrix2fv";
                                break;
                            case 35675:
                                l = "Matrix3fv";
                                break;
                            case 35676:
                                l = "Matrix4fv"
                            }
                            if (-1 === l.indexOf("Matrix") && 1 < g && (l += "v",
                            h = 1),
                            "M" === l.charAt(0)) {
                                r(u, ".uniform", l, "(", x, ",");
                                x = Math.pow(p - 35674 + 2, 2);
                                var _ = e.global.def("new Float32Array(", x, ")");
                                Array.isArray(b) ? r("false,(", i(x, (function(e) {
                                    return _ + "[" + e + "]=" + b[e]
                                }
                                )), ",", _, ")") : r("false,(Array.isArray(", b, ")||", b, " instanceof Float32Array)?", b, ":(", i(x, (function(e) {
                                    return _ + "[" + e + "]=" + b + "[" + e + "]"
                                }
                                )), ",", _, ")"),
                                r(");")
                            } else {
                                if (1 < h) {
                                    p = [];
                                    var w = [];
                                    for (g = 0; g < h; ++g)
                                        Array.isArray(b) ? w.push(b[g]) : w.push(r.def(b + "[" + g + "]")),
                                        s && p.push(r.def());
                                    s && r("if(!", e.batchId, "||", p.map((function(e, t) {
                                        return e + "!==" + w[t]
                                    }
                                    )).join("||"), "){", p.map((function(e, t) {
                                        return e + "=" + w[t] + ";"
                                    }
                                    )).join("")),
                                    r(u, ".uniform", l, "(", x, ",", w.join(","), ");")
                                } else
                                    s && (p = r.def(),
                                    r("if(!", e.batchId, "||", p, "!==", b, "){", p, "=", b, ";")),
                                    r(u, ".uniform", l, "(", x, ",", b, ");");
                                s && r("}")
                            }
                        }
                    }
                    function V(e, t, r, n) {
                        function a(a) {
                            var i = d[a];
                            return i ? i.contextDep && n.contextDynamic || i.propDep ? i.append(e, r) : i.append(e, t) : t.def(f, ".", a)
                        }
                        function i() {
                            function e() {
                                r(l, ".drawElementsInstancedANGLE(", [p, y, v, g + "<<((" + v + "-5121)>>1)", s], ");")
                            }
                            function t() {
                                r(l, ".drawArraysInstancedANGLE(", [p, g, y, s], ");")
                            }
                            h && "null" !== h ? m ? e() : (r("if(", h, "){"),
                            e(),
                            r("}else{"),
                            t(),
                            r("}")) : t()
                        }
                        function o() {
                            function e() {
                                r(u + ".drawElements(" + [p, y, v, g + "<<((" + v + "-5121)>>1)"] + ");")
                            }
                            function t() {
                                r(u + ".drawArrays(" + [p, g, y] + ");")
                            }
                            h && "null" !== h ? m ? e() : (r("if(", h, "){"),
                            e(),
                            r("}else{"),
                            t(),
                            r("}")) : t()
                        }
                        var s, l, c = e.shared, u = c.gl, f = c.draw, d = n.draw, h = function() {
                            var a = d.elements
                              , i = t;
                            return a ? ((a.contextDep && n.contextDynamic || a.propDep) && (i = r),
                            a = a.append(e, i),
                            d.elementsActive && i("if(" + a + ")" + u + ".bindBuffer(34963," + a + ".buffer.buffer);")) : (a = i.def(),
                            i(a, "=", f, ".", "elements", ";", "if(", a, "){", u, ".bindBuffer(", 34963, ",", a, ".buffer.buffer);}", "else if(", c.vao, ".currentVAO){", a, "=", e.shared.elements + ".getElements(" + c.vao, ".currentVAO.elements);", ne ? "" : "if(" + a + ")" + u + ".bindBuffer(34963," + a + ".buffer.buffer);", "}")),
                            a
                        }(), p = a("primitive"), g = a("offset"), y = function() {
                            var a = d.count
                              , i = t;
                            return a ? ((a.contextDep && n.contextDynamic || a.propDep) && (i = r),
                            a = a.append(e, i)) : a = i.def(f, ".", "count"),
                            a
                        }();
                        if ("number" == typeof y) {
                            if (0 === y)
                                return
                        } else
                            r("if(", y, "){"),
                            r.exit("}");
                        ee && (s = a("instances"),
                        l = e.instancing);
                        var v = h + ".type"
                          , m = d.elements && P(d.elements) && !d.vaoActive;
                        ee && ("number" != typeof s || 0 <= s) ? "string" == typeof s ? (r("if(", s, ">0){"),
                        i(),
                        r("}else if(", s, "<0){"),
                        o(),
                        r("}")) : i() : o()
                    }
                    function q(e, t, r, n, a) {
                        return a = (t = x()).proc("body", a),
                        ee && (t.instancing = a.def(t.shared.extensions, ".angle_instanced_arrays")),
                        e(t, a, r, n),
                        t.compile().body
                    }
                    function W(e, t, r, n) {
                        R(e, t),
                        r.useVAO ? r.drawVAO ? t(e.shared.vao, ".setVAO(", r.drawVAO.append(e, t), ");") : t(e.shared.vao, ".setVAO(", e.shared.vao, ".targetVAO);") : (t(e.shared.vao, ".setVAO(null);"),
                        H(e, t, r, n.attributes, (function() {
                            return !0
                        }
                        ))),
                        Y(e, t, r, n.uniforms, (function() {
                            return !0
                        }
                        ), !1),
                        V(e, t, t, r)
                    }
                    function G(e, t, r, n) {
                        function a() {
                            return !0
                        }
                        e.batchId = "a1",
                        R(e, t),
                        H(e, t, r, n.attributes, a),
                        Y(e, t, r, n.uniforms, a, !1),
                        V(e, t, t, r)
                    }
                    function Z(e, t, r, n) {
                        function a(e) {
                            return e.contextDep && o || e.propDep
                        }
                        function i(e) {
                            return !a(e)
                        }
                        R(e, t);
                        var o = r.contextDep
                          , s = t.def()
                          , l = t.def();
                        e.shared.props = l,
                        e.batchId = s;
                        var c = e.scope()
                          , u = e.scope();
                        t(c.entry, "for(", s, "=0;", s, "<", "a1", ";++", s, "){", l, "=", "a0", "[", s, "];", u, "}", c.exit),
                        r.needsContext && M(e, u, r.context),
                        r.needsFramebuffer && S(e, u, r.framebuffer),
                        O(e, u, r.state, a),
                        r.profile && a(r.profile) && j(e, u, r, !1, !0),
                        n ? (r.useVAO ? r.drawVAO ? a(r.drawVAO) ? u(e.shared.vao, ".setVAO(", r.drawVAO.append(e, u), ");") : c(e.shared.vao, ".setVAO(", r.drawVAO.append(e, c), ");") : c(e.shared.vao, ".setVAO(", e.shared.vao, ".targetVAO);") : (c(e.shared.vao, ".setVAO(null);"),
                        H(e, c, r, n.attributes, i),
                        H(e, u, r, n.attributes, a)),
                        Y(e, c, r, n.uniforms, i, !1),
                        Y(e, u, r, n.uniforms, a, !0),
                        V(e, c, u, r)) : (t = e.global.def("{}"),
                        n = r.shader.progVar.append(e, u),
                        l = u.def(n, ".id"),
                        c = u.def(t, "[", l, "]"),
                        u(e.shared.gl, ".useProgram(", n, ".program);", "if(!", c, "){", c, "=", t, "[", l, "]=", e.link((function(t) {
                            return q(G, e, r, t, 2)
                        }
                        )), "(", n, ");}", c, ".call(this,a0[", s, "],", s, ");"))
                    }
                    function J(e, r) {
                        function n(t) {
                            var n = r.shader[t];
                            n && a.set(i.shader, "." + t, n.append(e, a))
                        }
                        var a = e.proc("scope", 3);
                        e.batchId = "a2";
                        var i = e.shared
                          , o = i.current;
                        M(e, a, r.context),
                        r.framebuffer && r.framebuffer.append(e, a),
                        z(Object.keys(r.state)).forEach((function(t) {
                            var n = r.state[t].append(e, a);
                            y(n) ? n.forEach((function(r, n) {
                                a.set(e.next[t], "[" + n + "]", r)
                            }
                            )) : a.set(i.next, "." + t, n)
                        }
                        )),
                        j(e, a, r, !0, !0),
                        ["elements", "offset", "count", "instances", "primitive"].forEach((function(t) {
                            var n = r.draw[t];
                            n && a.set(i.draw, "." + t, "" + n.append(e, a))
                        }
                        )),
                        Object.keys(r.uniforms).forEach((function(n) {
                            var o = r.uniforms[n].append(e, a);
                            Array.isArray(o) && (o = "[" + o.join() + "]"),
                            a.set(i.uniforms, "[" + t.id(n) + "]", o)
                        }
                        )),
                        Object.keys(r.attributes).forEach((function(t) {
                            var n = r.attributes[t].append(e, a)
                              , i = e.scopeAttrib(t);
                            Object.keys(new $).forEach((function(e) {
                                a.set(i, "." + e, n[e])
                            }
                            ))
                        }
                        )),
                        r.scopeVAO && a.set(i.vao, ".targetVAO", r.scopeVAO.append(e, a)),
                        n("vert"),
                        n("frag"),
                        0 < Object.keys(r.state).length && (a(o, ".dirty=true;"),
                        a.exit(o, ".dirty=true;")),
                        a("a1(", e.shared.context, ",a0,", e.batchId, ");")
                    }
                    function X(e, t, r) {
                        var n = t.static[r];
                        if (n && function(e) {
                            if ("object" == typeof e && !y(e)) {
                                for (var t = Object.keys(e), r = 0; r < t.length; ++r)
                                    if (U.isDynamic(e[t[r]]))
                                        return !0;
                                return !1
                            }
                        }(n)) {
                            var a = e.global
                              , i = Object.keys(n)
                              , o = !1
                              , s = !1
                              , l = !1
                              , c = e.global.def("{}");
                            i.forEach((function(t) {
                                var r = n[t];
                                if (U.isDynamic(r))
                                    "function" == typeof r && (r = n[t] = U.unbox(r)),
                                    t = N(r, null),
                                    o = o || t.thisDep,
                                    l = l || t.propDep,
                                    s = s || t.contextDep;
                                else {
                                    switch (a(c, ".", t, "="),
                                    typeof r) {
                                    case "number":
                                        a(r);
                                        break;
                                    case "string":
                                        a('"', r, '"');
                                        break;
                                    case "object":
                                        Array.isArray(r) && a("[", r.join(), "]");
                                        break;
                                    default:
                                        a(e.link(r))
                                    }
                                    a(";")
                                }
                            }
                            )),
                            t.dynamic[r] = new U.DynamicVariable(4,{
                                thisDep: o,
                                contextDep: s,
                                propDep: l,
                                ref: c,
                                append: function(e, t) {
                                    i.forEach((function(r) {
                                        var a = n[r];
                                        U.isDynamic(a) && (a = e.invoke(t, a),
                                        t(c, ".", r, "=", a, ";"))
                                    }
                                    ))
                                }
                            }),
                            delete t.static[r]
                        }
                    }
                    var $ = u.Record
                      , K = {
                        add: 32774,
                        subtract: 32778,
                        "reverse subtract": 32779
                    };
                    r.ext_blend_minmax && (K.min = 32775,
                    K.max = 32776);
                    var ee = r.angle_instanced_arrays
                      , te = r.webgl_draw_buffers
                      , ne = r.oes_vertex_array_object
                      , ae = {
                        dirty: !0,
                        profile: g.profile
                    }
                      , ie = {}
                      , oe = []
                      , se = {}
                      , le = {};
                    m("dither", 3024),
                    m("blend.enable", 3042),
                    b("blend.color", "blendColor", [0, 0, 0, 0]),
                    b("blend.equation", "blendEquationSeparate", [32774, 32774]),
                    b("blend.func", "blendFuncSeparate", [1, 0, 1, 0]),
                    m("depth.enable", 2929, !0),
                    b("depth.func", "depthFunc", 513),
                    b("depth.range", "depthRange", [0, 1]),
                    b("depth.mask", "depthMask", !0),
                    b("colorMask", "colorMask", [!0, !0, !0, !0]),
                    m("cull.enable", 2884),
                    b("cull.face", "cullFace", 1029),
                    b("frontFace", "frontFace", 2305),
                    b("lineWidth", "lineWidth", 1),
                    m("polygonOffset.enable", 32823),
                    b("polygonOffset.offset", "polygonOffset", [0, 0]),
                    m("sample.alpha", 32926),
                    m("sample.enable", 32928),
                    b("sample.coverage", "sampleCoverage", [1, !1]),
                    m("stencil.enable", 2960),
                    b("stencil.mask", "stencilMask", -1),
                    b("stencil.func", "stencilFunc", [519, 0, -1]),
                    b("stencil.opFront", "stencilOpSeparate", [1028, 7680, 7680, 7680]),
                    b("stencil.opBack", "stencilOpSeparate", [1029, 7680, 7680, 7680]),
                    m("scissor.enable", 3089),
                    b("scissor.box", "scissor", [0, 0, e.drawingBufferWidth, e.drawingBufferHeight]),
                    b("viewport", "viewport", [0, 0, e.drawingBufferWidth, e.drawingBufferHeight]);
                    var ce = {
                        gl: e,
                        context: h,
                        strings: t,
                        next: ie,
                        current: ae,
                        draw: d,
                        elements: o,
                        buffer: a,
                        shader: f,
                        attributes: u.state,
                        vao: u,
                        uniforms: c,
                        framebuffer: l,
                        extensions: r,
                        timer: p,
                        isBufferArgs: E
                    }
                      , ue = {
                        primTypes: re,
                        compareFuncs: ke,
                        blendFuncs: Ae,
                        blendEquations: K,
                        stencilOps: Te,
                        glTypes: Q,
                        orientationType: Me
                    };
                    te && (ue.backBuffer = [1029],
                    ue.drawBuffer = i(n.maxDrawbuffers, (function(e) {
                        return 0 === e ? [0] : i(e, (function(e) {
                            return 36064 + e
                        }
                        ))
                    }
                    )));
                    var fe = 0;
                    return {
                        next: ie,
                        current: ae,
                        procs: function() {
                            var e = x()
                              , t = e.proc("poll")
                              , a = e.proc("refresh")
                              , o = e.block();
                            t(o),
                            a(o);
                            var s, l = e.shared, c = l.gl, u = l.next, f = l.current;
                            o(f, ".dirty=false;"),
                            S(e, t),
                            S(e, a, null, !0),
                            ee && (s = e.link(ee)),
                            r.oes_vertex_array_object && a(e.link(r.oes_vertex_array_object), ".bindVertexArrayOES(null);");
                            for (var d = 0; d < n.maxAttributes; ++d) {
                                var h = a.def(l.attributes, "[", d, "]")
                                  , p = e.cond(h, ".buffer");
                                p.then(c, ".enableVertexAttribArray(", d, ");", c, ".bindBuffer(", 34962, ",", h, ".buffer.buffer);", c, ".vertexAttribPointer(", d, ",", h, ".size,", h, ".type,", h, ".normalized,", h, ".stride,", h, ".offset);").else(c, ".disableVertexAttribArray(", d, ");", c, ".vertexAttrib4f(", d, ",", h, ".x,", h, ".y,", h, ".z,", h, ".w);", h, ".buffer=null;"),
                                a(p),
                                ee && a(s, ".vertexAttribDivisorANGLE(", d, ",", h, ".divisor);")
                            }
                            return a(e.shared.vao, ".currentVAO=null;", e.shared.vao, ".setVAO(", e.shared.vao, ".targetVAO);"),
                            Object.keys(se).forEach((function(r) {
                                var n = se[r]
                                  , i = o.def(u, ".", r)
                                  , s = e.block();
                                s("if(", i, "){", c, ".enable(", n, ")}else{", c, ".disable(", n, ")}", f, ".", r, "=", i, ";"),
                                a(s),
                                t("if(", i, "!==", f, ".", r, "){", s, "}")
                            }
                            )),
                            Object.keys(le).forEach((function(r) {
                                var n, s, l = le[r], d = ae[r], h = e.block();
                                h(c, ".", l, "("),
                                y(d) ? (l = d.length,
                                n = e.global.def(u, ".", r),
                                s = e.global.def(f, ".", r),
                                h(i(l, (function(e) {
                                    return n + "[" + e + "]"
                                }
                                )), ");", i(l, (function(e) {
                                    return s + "[" + e + "]=" + n + "[" + e + "];"
                                }
                                )).join("")),
                                t("if(", i(l, (function(e) {
                                    return n + "[" + e + "]!==" + s + "[" + e + "]"
                                }
                                )).join("||"), "){", h, "}")) : (n = o.def(u, ".", r),
                                s = o.def(f, ".", r),
                                h(n, ");", f, ".", r, "=", n, ";"),
                                t("if(", n, "!==", s, "){", h, "}")),
                                a(h)
                            }
                            )),
                            e.compile()
                        }(),
                        compile: function(e, t, r, n, a) {
                            var i = x();
                            i.stats = i.link(a),
                            Object.keys(t.static).forEach((function(e) {
                                X(i, t, e)
                            }
                            )),
                            we.forEach((function(t) {
                                X(i, e, t)
                            }
                            ));
                            var o = T(e, t, r, n);
                            return function(e, t) {
                                var r = e.proc("draw", 1);
                                R(e, r),
                                M(e, r, t.context),
                                S(e, r, t.framebuffer),
                                C(e, r, t),
                                O(e, r, t.state),
                                j(e, r, t, !1, !0);
                                var n = t.shader.progVar.append(e, r);
                                if (r(e.shared.gl, ".useProgram(", n, ".program);"),
                                t.shader.program)
                                    W(e, r, t, t.shader.program);
                                else {
                                    r(e.shared.vao, ".setVAO(null);");
                                    var a = e.global.def("{}")
                                      , i = r.def(n, ".id")
                                      , o = r.def(a, "[", i, "]");
                                    r(e.cond(o).then(o, ".call(this,a0);").else(o, "=", a, "[", i, "]=", e.link((function(r) {
                                        return q(W, e, t, r, 1)
                                    }
                                    )), "(", n, ");", o, ".call(this,a0);"))
                                }
                                0 < Object.keys(t.state).length && r(e.shared.current, ".dirty=true;"),
                                e.shared.vao && r(e.shared.vao, ".setVAO(null);")
                            }(i, o),
                            J(i, o),
                            function(e, t) {
                                function r(e) {
                                    return e.contextDep && a || e.propDep
                                }
                                var n = e.proc("batch", 2);
                                e.batchId = "0",
                                R(e, n);
                                var a = !1
                                  , i = !0;
                                Object.keys(t.context).forEach((function(e) {
                                    a = a || t.context[e].propDep
                                }
                                )),
                                a || (M(e, n, t.context),
                                i = !1);
                                var o = !1;
                                if ((s = t.framebuffer) ? (s.propDep ? a = o = !0 : s.contextDep && a && (o = !0),
                                o || S(e, n, s)) : S(e, n, null),
                                t.state.viewport && t.state.viewport.propDep && (a = !0),
                                C(e, n, t),
                                O(e, n, t.state, (function(e) {
                                    return !r(e)
                                }
                                )),
                                t.profile && r(t.profile) || j(e, n, t, !1, "a1"),
                                t.contextDep = a,
                                t.needsContext = i,
                                t.needsFramebuffer = o,
                                (i = t.shader.progVar).contextDep && a || i.propDep)
                                    Z(e, n, t, null);
                                else if (i = i.append(e, n),
                                n(e.shared.gl, ".useProgram(", i, ".program);"),
                                t.shader.program)
                                    Z(e, n, t, t.shader.program);
                                else {
                                    n(e.shared.vao, ".setVAO(null);");
                                    var s = e.global.def("{}")
                                      , l = (o = n.def(i, ".id"),
                                    n.def(s, "[", o, "]"));
                                    n(e.cond(l).then(l, ".call(this,a0,a1);").else(l, "=", s, "[", o, "]=", e.link((function(r) {
                                        return q(Z, e, t, r, 2)
                                    }
                                    )), "(", i, ");", l, ".call(this,a0,a1);"))
                                }
                                0 < Object.keys(t.state).length && n(e.shared.current, ".dirty=true;"),
                                e.shared.vao && n(e.shared.vao, ".setVAO(null);")
                            }(i, o),
                            B(i.compile(), {
                                destroy: function() {
                                    o.shader.program.destroy()
                                }
                            })
                        }
                    }
                }
                function j(e, t) {
                    for (var r = 0; r < e.length; ++r)
                        if (e[r] === t)
                            return r;
                    return -1
                }
                var B = function(e, t) {
                    for (var r = Object.keys(t), n = 0; n < r.length; ++n)
                        e[r[n]] = t[r[n]];
                    return e
                }
                  , H = 0
                  , U = {
                    DynamicVariable: e,
                    define: function(r, n) {
                        return new e(r,t(n + ""))
                    },
                    isDynamic: function(t) {
                        return "function" == typeof t && !t._reglType || t instanceof e
                    },
                    unbox: function t(r, n) {
                        return "function" == typeof r ? new e(0,r) : "number" == typeof r || "boolean" == typeof r ? new e(5,r) : Array.isArray(r) ? new e(6,r.map((function(e, r) {
                            return t(e, n + "[" + r + "]")
                        }
                        ))) : r instanceof e ? r : void 0
                    },
                    accessor: t
                }
                  , Y = {
                    next: "function" == typeof requestAnimationFrame ? function(e) {
                        return requestAnimationFrame(e)
                    }
                    : function(e) {
                        return setTimeout(e, 16)
                    }
                    ,
                    cancel: "function" == typeof cancelAnimationFrame ? function(e) {
                        return cancelAnimationFrame(e)
                    }
                    : clearTimeout
                }
                  , V = "undefined" != typeof performance && performance.now ? function() {
                    return performance.now()
                }
                : function() {
                    return +new Date
                }
                  , q = s();
                q.zero = s();
                var W = function(e, t) {
                    var r = 1;
                    t.ext_texture_filter_anisotropic && (r = e.getParameter(34047));
                    var n = 1
                      , a = 1;
                    t.webgl_draw_buffers && (n = e.getParameter(34852),
                    a = e.getParameter(36063));
                    var i = !!t.oes_texture_float;
                    if (i) {
                        i = e.createTexture(),
                        e.bindTexture(3553, i),
                        e.texImage2D(3553, 0, 6408, 1, 1, 0, 6408, 5126, null);
                        var o = e.createFramebuffer();
                        if (e.bindFramebuffer(36160, o),
                        e.framebufferTexture2D(36160, 36064, 3553, i, 0),
                        e.bindTexture(3553, null),
                        36053 !== e.checkFramebufferStatus(36160))
                            i = !1;
                        else {
                            e.viewport(0, 0, 1, 1),
                            e.clearColor(1, 0, 0, 1),
                            e.clear(16384);
                            var s = q.allocType(5126, 4);
                            e.readPixels(0, 0, 1, 1, 6408, 5126, s),
                            e.getError() ? i = !1 : (e.deleteFramebuffer(o),
                            e.deleteTexture(i),
                            i = 1 === s[0]),
                            q.freeType(s)
                        }
                    }
                    return s = !0,
                    "undefined" != typeof navigator && (/MSIE/.test(navigator.userAgent) || /Trident\//.test(navigator.appVersion) || /Edge/.test(navigator.userAgent)) || (s = e.createTexture(),
                    o = q.allocType(5121, 36),
                    e.activeTexture(33984),
                    e.bindTexture(34067, s),
                    e.texImage2D(34069, 0, 6408, 3, 3, 0, 6408, 5121, o),
                    q.freeType(o),
                    e.bindTexture(34067, null),
                    e.deleteTexture(s),
                    s = !e.getError()),
                    {
                        colorBits: [e.getParameter(3410), e.getParameter(3411), e.getParameter(3412), e.getParameter(3413)],
                        depthBits: e.getParameter(3414),
                        stencilBits: e.getParameter(3415),
                        subpixelBits: e.getParameter(3408),
                        extensions: Object.keys(t).filter((function(e) {
                            return !!t[e]
                        }
                        )),
                        maxAnisotropic: r,
                        maxDrawbuffers: n,
                        maxColorAttachments: a,
                        pointSizeDims: e.getParameter(33901),
                        lineWidthDims: e.getParameter(33902),
                        maxViewportDims: e.getParameter(3386),
                        maxCombinedTextureUnits: e.getParameter(35661),
                        maxCubeMapSize: e.getParameter(34076),
                        maxRenderbufferSize: e.getParameter(34024),
                        maxTextureUnits: e.getParameter(34930),
                        maxTextureSize: e.getParameter(3379),
                        maxAttributes: e.getParameter(34921),
                        maxVertexUniforms: e.getParameter(36347),
                        maxVertexTextureUnits: e.getParameter(35660),
                        maxVaryingVectors: e.getParameter(36348),
                        maxFragmentUniforms: e.getParameter(36349),
                        glsl: e.getParameter(35724),
                        renderer: e.getParameter(7937),
                        vendor: e.getParameter(7936),
                        version: e.getParameter(7938),
                        readFloat: i,
                        npotTextureCube: s
                    }
                }
                  , G = function(e) {
                    return e instanceof Uint8Array || e instanceof Uint16Array || e instanceof Uint32Array || e instanceof Int8Array || e instanceof Int16Array || e instanceof Int32Array || e instanceof Float32Array || e instanceof Float64Array || e instanceof Uint8ClampedArray
                }
                  , Z = function(e) {
                    return Object.keys(e).map((function(t) {
                        return e[t]
                    }
                    ))
                }
                  , J = {
                    shape: function(e) {
                        for (var t = []; e.length; e = e[0])
                            t.push(e.length);
                        return t
                    },
                    flatten: function(e, t, r, n) {
                        var a = 1;
                        if (t.length)
                            for (var i = 0; i < t.length; ++i)
                                a *= t[i];
                        else
                            a = 0;
                        switch (r = n || q.allocType(r, a),
                        t.length) {
                        case 0:
                            break;
                        case 1:
                            for (n = t[0],
                            t = 0; t < n; ++t)
                                r[t] = e[t];
                            break;
                        case 2:
                            for (n = t[0],
                            t = t[1],
                            i = a = 0; i < n; ++i)
                                for (var o = e[i], s = 0; s < t; ++s)
                                    r[a++] = o[s];
                            break;
                        case 3:
                            c(e, t[0], t[1], t[2], r, 0);
                            break;
                        default:
                            !function e(t, r, n, a, i) {
                                for (var o = 1, s = n + 1; s < r.length; ++s)
                                    o *= r[s];
                                var l = r[n];
                                if (4 == r.length - n) {
                                    var u = r[n + 1]
                                      , f = r[n + 2];
                                    for (r = r[n + 3],
                                    s = 0; s < l; ++s)
                                        c(t[s], u, f, r, a, i),
                                        i += o
                                } else
                                    for (s = 0; s < l; ++s)
                                        e(t[s], r, n + 1, a, i),
                                        i += o
                            }(e, t, 0, r, 0)
                        }
                        return r
                    }
                }
                  , X = {
                    "[object Int8Array]": 5120,
                    "[object Int16Array]": 5122,
                    "[object Int32Array]": 5124,
                    "[object Uint8Array]": 5121,
                    "[object Uint8ClampedArray]": 5121,
                    "[object Uint16Array]": 5123,
                    "[object Uint32Array]": 5125,
                    "[object Float32Array]": 5126,
                    "[object Float64Array]": 5121,
                    "[object ArrayBuffer]": 5121
                }
                  , Q = {
                    int8: 5120,
                    int16: 5122,
                    int32: 5124,
                    uint8: 5121,
                    uint16: 5123,
                    uint32: 5125,
                    float: 5126,
                    float32: 5126
                }
                  , $ = {
                    dynamic: 35048,
                    stream: 35040,
                    static: 35044
                }
                  , K = J.flatten
                  , ee = J.shape
                  , te = [];
                te[5120] = 1,
                te[5122] = 2,
                te[5124] = 4,
                te[5121] = 1,
                te[5123] = 2,
                te[5125] = 4,
                te[5126] = 4;
                var re = {
                    points: 0,
                    point: 0,
                    lines: 1,
                    line: 1,
                    triangles: 4,
                    triangle: 4,
                    "line loop": 2,
                    "line strip": 3,
                    "triangle strip": 5,
                    "triangle fan": 6
                }
                  , ne = new Float32Array(1)
                  , ae = new Uint32Array(ne.buffer)
                  , ie = [9984, 9986, 9985, 9987]
                  , oe = [0, 6409, 6410, 6407, 6408]
                  , se = {};
                se[6409] = se[6406] = se[6402] = 1,
                se[34041] = se[6410] = 2,
                se[6407] = se[35904] = 3,
                se[6408] = se[35906] = 4;
                var le = v("HTMLCanvasElement")
                  , ce = v("OffscreenCanvas")
                  , ue = v("CanvasRenderingContext2D")
                  , fe = v("ImageBitmap")
                  , de = v("HTMLImageElement")
                  , he = v("HTMLVideoElement")
                  , pe = Object.keys(X).concat([le, ce, ue, fe, de, he])
                  , ge = [];
                ge[5121] = 1,
                ge[5126] = 4,
                ge[36193] = 2,
                ge[5123] = 2,
                ge[5125] = 4;
                var ye = [];
                ye[32854] = 2,
                ye[32855] = 2,
                ye[36194] = 2,
                ye[34041] = 4,
                ye[33776] = .5,
                ye[33777] = .5,
                ye[33778] = 1,
                ye[33779] = 1,
                ye[35986] = .5,
                ye[35987] = 1,
                ye[34798] = 1,
                ye[35840] = .5,
                ye[35841] = .25,
                ye[35842] = .5,
                ye[35843] = .25,
                ye[36196] = .5;
                var ve = [];
                ve[32854] = 2,
                ve[32855] = 2,
                ve[36194] = 2,
                ve[33189] = 2,
                ve[36168] = 1,
                ve[34041] = 4,
                ve[35907] = 4,
                ve[34836] = 16,
                ve[34842] = 8,
                ve[34843] = 6;
                var me = function(e, t, r, n, a) {
                    function i(e) {
                        this.id = c++,
                        this.refCount = 1,
                        this.renderbuffer = e,
                        this.format = 32854,
                        this.height = this.width = 0,
                        a.profile && (this.stats = {
                            size: 0
                        })
                    }
                    function o(t) {
                        var r = t.renderbuffer;
                        e.bindRenderbuffer(36161, null),
                        e.deleteRenderbuffer(r),
                        t.renderbuffer = null,
                        t.refCount = 0,
                        delete u[t.id],
                        n.renderbufferCount--
                    }
                    var s = {
                        rgba4: 32854,
                        rgb565: 36194,
                        "rgb5 a1": 32855,
                        depth: 33189,
                        stencil: 36168,
                        "depth stencil": 34041
                    };
                    t.ext_srgb && (s.srgba = 35907),
                    t.ext_color_buffer_half_float && (s.rgba16f = 34842,
                    s.rgb16f = 34843),
                    t.webgl_color_buffer_float && (s.rgba32f = 34836);
                    var l = [];
                    Object.keys(s).forEach((function(e) {
                        l[s[e]] = e
                    }
                    ));
                    var c = 0
                      , u = {};
                    return i.prototype.decRef = function() {
                        0 >= --this.refCount && o(this)
                    }
                    ,
                    a.profile && (n.getTotalRenderbufferSize = function() {
                        var e = 0;
                        return Object.keys(u).forEach((function(t) {
                            e += u[t].stats.size
                        }
                        )),
                        e
                    }
                    ),
                    {
                        create: function(t, r) {
                            function o(t, r) {
                                var n = 0
                                  , i = 0
                                  , u = 32854;
                                if ("object" == typeof t && t ? ("shape"in t ? (n = 0 | (i = t.shape)[0],
                                i = 0 | i[1]) : ("radius"in t && (n = i = 0 | t.radius),
                                "width"in t && (n = 0 | t.width),
                                "height"in t && (i = 0 | t.height)),
                                "format"in t && (u = s[t.format])) : "number" == typeof t ? (n = 0 | t,
                                i = "number" == typeof r ? 0 | r : n) : t || (n = i = 1),
                                n !== c.width || i !== c.height || u !== c.format)
                                    return o.width = c.width = n,
                                    o.height = c.height = i,
                                    c.format = u,
                                    e.bindRenderbuffer(36161, c.renderbuffer),
                                    e.renderbufferStorage(36161, u, n, i),
                                    a.profile && (c.stats.size = ve[c.format] * c.width * c.height),
                                    o.format = l[c.format],
                                    o
                            }
                            var c = new i(e.createRenderbuffer());
                            return u[c.id] = c,
                            n.renderbufferCount++,
                            o(t, r),
                            o.resize = function(t, r) {
                                var n = 0 | t
                                  , i = 0 | r || n;
                                return n === c.width && i === c.height || (o.width = c.width = n,
                                o.height = c.height = i,
                                e.bindRenderbuffer(36161, c.renderbuffer),
                                e.renderbufferStorage(36161, c.format, n, i),
                                a.profile && (c.stats.size = ve[c.format] * c.width * c.height)),
                                o
                            }
                            ,
                            o._reglType = "renderbuffer",
                            o._renderbuffer = c,
                            a.profile && (o.stats = c.stats),
                            o.destroy = function() {
                                c.decRef()
                            }
                            ,
                            o
                        },
                        clear: function() {
                            Z(u).forEach(o)
                        },
                        restore: function() {
                            Z(u).forEach((function(t) {
                                t.renderbuffer = e.createRenderbuffer(),
                                e.bindRenderbuffer(36161, t.renderbuffer),
                                e.renderbufferStorage(36161, t.format, t.width, t.height)
                            }
                            )),
                            e.bindRenderbuffer(36161, null)
                        }
                    }
                }
                  , be = [];
                be[6408] = 4,
                be[6407] = 3;
                var xe = [];
                xe[5121] = 1,
                xe[5126] = 4,
                xe[36193] = 2;
                var _e = ["x", "y", "z", "w"]
                  , we = "blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" ")
                  , Ae = {
                    0: 0,
                    1: 1,
                    zero: 0,
                    one: 1,
                    "src color": 768,
                    "one minus src color": 769,
                    "src alpha": 770,
                    "one minus src alpha": 771,
                    "dst color": 774,
                    "one minus dst color": 775,
                    "dst alpha": 772,
                    "one minus dst alpha": 773,
                    "constant color": 32769,
                    "one minus constant color": 32770,
                    "constant alpha": 32771,
                    "one minus constant alpha": 32772,
                    "src alpha saturate": 776
                }
                  , ke = {
                    never: 512,
                    less: 513,
                    "<": 513,
                    equal: 514,
                    "=": 514,
                    "==": 514,
                    "===": 514,
                    lequal: 515,
                    "<=": 515,
                    greater: 516,
                    ">": 516,
                    notequal: 517,
                    "!=": 517,
                    "!==": 517,
                    gequal: 518,
                    ">=": 518,
                    always: 519
                }
                  , Te = {
                    0: 0,
                    zero: 0,
                    keep: 7680,
                    replace: 7681,
                    increment: 7682,
                    decrement: 7683,
                    "increment wrap": 34055,
                    "decrement wrap": 34056,
                    invert: 5386
                }
                  , Me = {
                    cw: 2304,
                    ccw: 2305
                }
                  , Se = new F(!1,!1,!1,(function() {}
                ));
                return function(e) {
                    function t() {
                        if (0 === X.length)
                            w && w.update(),
                            ee = null;
                        else {
                            ee = Y.next(t),
                            f();
                            for (var e = X.length - 1; 0 <= e; --e) {
                                var r = X[e];
                                r && r(L, null, 0)
                            }
                            y.flush(),
                            w && w.update()
                        }
                    }
                    function r() {
                        !ee && 0 < X.length && (ee = Y.next(t))
                    }
                    function n() {
                        ee && (Y.cancel(t),
                        ee = null)
                    }
                    function i(e) {
                        e.preventDefault(),
                        n(),
                        Q.forEach((function(e) {
                            e()
                        }
                        ))
                    }
                    function o(e) {
                        y.getError(),
                        m.restore(),
                        I.restore(),
                        z.restore(),
                        N.restore(),
                        H.restore(),
                        q.restore(),
                        P.restore(),
                        w && w.restore(),
                        G.procs.refresh(),
                        r(),
                        $.forEach((function(e) {
                            e()
                        }
                        ))
                    }
                    function s(e) {
                        function t(e, t) {
                            var r = {}
                              , n = {};
                            return Object.keys(e).forEach((function(a) {
                                var i = e[a];
                                if (U.isDynamic(i))
                                    n[a] = U.unbox(i, a);
                                else {
                                    if (t && Array.isArray(i))
                                        for (var o = 0; o < i.length; ++o)
                                            if (U.isDynamic(i[o]))
                                                return void (n[a] = U.unbox(i, a));
                                    r[a] = i
                                }
                            }
                            )),
                            {
                                dynamic: n,
                                static: r
                            }
                        }
                        var r = t(e.context || {}, !0)
                          , n = t(e.uniforms || {}, !0)
                          , a = t(e.attributes || {}, !1);
                        e = t(function(e) {
                            function t(e) {
                                if (e in r) {
                                    var t = r[e];
                                    delete r[e],
                                    Object.keys(t).forEach((function(n) {
                                        r[e + "." + n] = t[n]
                                    }
                                    ))
                                }
                            }
                            var r = B({}, e);
                            return delete r.uniforms,
                            delete r.attributes,
                            delete r.context,
                            delete r.vao,
                            "stencil"in r && r.stencil.op && (r.stencil.opBack = r.stencil.opFront = r.stencil.op,
                            delete r.stencil.op),
                            t("blend"),
                            t("depth"),
                            t("cull"),
                            t("stencil"),
                            t("polygonOffset"),
                            t("scissor"),
                            t("sample"),
                            "vao"in e && (r.vao = e.vao),
                            r
                        }(e), !1);
                        var i = {
                            gpuTime: 0,
                            cpuTime: 0,
                            count: 0
                        }
                          , o = G.compile(e, a, n, r, i)
                          , s = o.draw
                          , l = o.batch
                          , c = o.scope
                          , u = [];
                        return B((function(e, t) {
                            var r;
                            if ("function" == typeof e)
                                return c.call(this, null, e, 0);
                            if ("function" == typeof t)
                                if ("number" == typeof e)
                                    for (r = 0; r < e; ++r)
                                        c.call(this, null, t, r);
                                else {
                                    if (!Array.isArray(e))
                                        return c.call(this, e, t, 0);
                                    for (r = 0; r < e.length; ++r)
                                        c.call(this, e[r], t, r)
                                }
                            else if ("number" == typeof e) {
                                if (0 < e)
                                    return l.call(this, function(e) {
                                        for (; u.length < e; )
                                            u.push(null);
                                        return u
                                    }(0 | e), 0 | e)
                            } else {
                                if (!Array.isArray(e))
                                    return s.call(this, e);
                                if (e.length)
                                    return l.call(this, e, e.length)
                            }
                        }
                        ), {
                            stats: i,
                            destroy: function() {
                                o.destroy()
                            }
                        })
                    }
                    function l(e, t) {
                        var r = 0;
                        G.procs.poll();
                        var n = t.color;
                        n && (y.clearColor(+n[0] || 0, +n[1] || 0, +n[2] || 0, +n[3] || 0),
                        r |= 16384),
                        "depth"in t && (y.clearDepth(+t.depth),
                        r |= 256),
                        "stencil"in t && (y.clearStencil(0 | t.stencil),
                        r |= 1024),
                        y.clear(r)
                    }
                    function c(e) {
                        return X.push(e),
                        r(),
                        {
                            cancel: function() {
                                var t = j(X, e);
                                X[t] = function e() {
                                    var t = j(X, e);
                                    X[t] = X[X.length - 1],
                                    --X.length,
                                    0 >= X.length && n()
                                }
                            }
                        }
                    }
                    function u() {
                        var e = Z.viewport
                          , t = Z.scissor_box;
                        e[0] = e[1] = t[0] = t[1] = 0,
                        L.viewportWidth = L.framebufferWidth = L.drawingBufferWidth = e[2] = t[2] = y.drawingBufferWidth,
                        L.viewportHeight = L.framebufferHeight = L.drawingBufferHeight = e[3] = t[3] = y.drawingBufferHeight
                    }
                    function f() {
                        L.tick += 1,
                        L.time = g(),
                        u(),
                        G.procs.poll()
                    }
                    function d() {
                        N.refresh(),
                        u(),
                        G.procs.refresh(),
                        w && w.update()
                    }
                    function g() {
                        return (V() - A) / 1e3
                    }
                    if (!(e = a(e)))
                        return null;
                    var y = e.gl
                      , v = y.getContextAttributes();
                    y.isContextLost();
                    var m = function(e, t) {
                        function r(t) {
                            var r;
                            t = t.toLowerCase();
                            try {
                                r = n[t] = e.getExtension(t)
                            } catch (e) {}
                            return !!r
                        }
                        for (var n = {}, a = 0; a < t.extensions.length; ++a) {
                            var i = t.extensions[a];
                            if (!r(i))
                                return t.onDestroy(),
                                t.onDone('"' + i + '" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),
                                null
                        }
                        return t.optionalExtensions.forEach(r),
                        {
                            extensions: n,
                            restore: function() {
                                Object.keys(n).forEach((function(e) {
                                    if (n[e] && !r(e))
                                        throw Error("(regl): error restoring extension " + e)
                                }
                                ))
                            }
                        }
                    }(y, e);
                    if (!m)
                        return null;
                    var b = function() {
                        var e = {
                            "": 0
                        }
                          , t = [""];
                        return {
                            id: function(r) {
                                var n = e[r];
                                return n || (n = e[r] = t.length,
                                t.push(r),
                                n)
                            },
                            str: function(e) {
                                return t[e]
                            }
                        }
                    }()
                      , x = {
                        vaoCount: 0,
                        bufferCount: 0,
                        elementsCount: 0,
                        framebufferCount: 0,
                        shaderCount: 0,
                        textureCount: 0,
                        cubeCount: 0,
                        renderbufferCount: 0,
                        maxTextureUnits: 0
                    }
                      , _ = m.extensions
                      , w = function(e, t) {
                        function r() {
                            this.endQueryIndex = this.startQueryIndex = -1,
                            this.sum = 0,
                            this.stats = null
                        }
                        function n(e, t, n) {
                            var a = o.pop() || new r;
                            a.startQueryIndex = e,
                            a.endQueryIndex = t,
                            a.sum = 0,
                            a.stats = n,
                            s.push(a)
                        }
                        if (!t.ext_disjoint_timer_query)
                            return null;
                        var a = []
                          , i = []
                          , o = []
                          , s = []
                          , l = []
                          , c = [];
                        return {
                            beginQuery: function(e) {
                                var r = a.pop() || t.ext_disjoint_timer_query.createQueryEXT();
                                t.ext_disjoint_timer_query.beginQueryEXT(35007, r),
                                i.push(r),
                                n(i.length - 1, i.length, e)
                            },
                            endQuery: function() {
                                t.ext_disjoint_timer_query.endQueryEXT(35007)
                            },
                            pushScopeStats: n,
                            update: function() {
                                var e, r;
                                if (0 !== (e = i.length)) {
                                    c.length = Math.max(c.length, e + 1),
                                    l.length = Math.max(l.length, e + 1),
                                    l[0] = 0;
                                    var n = c[0] = 0;
                                    for (r = e = 0; r < i.length; ++r) {
                                        var u = i[r];
                                        t.ext_disjoint_timer_query.getQueryObjectEXT(u, 34919) ? (n += t.ext_disjoint_timer_query.getQueryObjectEXT(u, 34918),
                                        a.push(u)) : i[e++] = u,
                                        l[r + 1] = n,
                                        c[r + 1] = e
                                    }
                                    for (i.length = e,
                                    r = e = 0; r < s.length; ++r) {
                                        var f = (n = s[r]).startQueryIndex;
                                        u = n.endQueryIndex;
                                        n.sum += l[u] - l[f],
                                        f = c[f],
                                        (u = c[u]) === f ? (n.stats.gpuTime += n.sum / 1e6,
                                        o.push(n)) : (n.startQueryIndex = f,
                                        n.endQueryIndex = u,
                                        s[e++] = n)
                                    }
                                    s.length = e
                                }
                            },
                            getNumPendingQueries: function() {
                                return i.length
                            },
                            clear: function() {
                                a.push.apply(a, i);
                                for (var e = 0; e < a.length; e++)
                                    t.ext_disjoint_timer_query.deleteQueryEXT(a[e]);
                                i.length = 0,
                                a.length = 0
                            },
                            restore: function() {
                                i.length = 0,
                                a.length = 0
                            }
                        }
                    }(0, _)
                      , A = V()
                      , M = y.drawingBufferWidth
                      , D = y.drawingBufferHeight
                      , L = {
                        tick: 0,
                        time: 0,
                        viewportWidth: M,
                        viewportHeight: D,
                        framebufferWidth: M,
                        framebufferHeight: D,
                        drawingBufferWidth: M,
                        drawingBufferHeight: D,
                        pixelRatio: e.pixelRatio
                    }
                      , E = (M = {
                        elements: null,
                        primitive: 4,
                        count: -1,
                        offset: 0,
                        instances: -1
                    },
                    W(y, _))
                      , z = h(y, x, e, (function(e) {
                        return P.destroyBuffer(e)
                    }
                    ))
                      , F = p(y, _, z, x)
                      , P = S(y, _, E, x, z, F, M)
                      , I = C(y, b, x, e)
                      , N = k(y, _, E, (function() {
                        G.procs.poll()
                    }
                    ), L, x, e)
                      , H = me(y, _, 0, x, e)
                      , q = T(y, _, E, N, H, x)
                      , G = R(y, b, _, E, z, F, 0, q, {}, P, I, M, L, w, e)
                      , Z = (b = O(y, q, G.procs.poll, L),
                    G.next)
                      , J = y.canvas
                      , X = []
                      , Q = []
                      , $ = []
                      , K = [e.onDestroy]
                      , ee = null;
                    J && (J.addEventListener("webglcontextlost", i, !1),
                    J.addEventListener("webglcontextrestored", o, !1));
                    var te = q.setFBO = s({
                        framebuffer: U.define.call(null, 1, "framebuffer")
                    });
                    return d(),
                    v = B(s, {
                        clear: function(e) {
                            if ("framebuffer"in e)
                                if (e.framebuffer && "framebufferCube" === e.framebuffer_reglType)
                                    for (var t = 0; 6 > t; ++t)
                                        te(B({
                                            framebuffer: e.framebuffer.faces[t]
                                        }, e), l);
                                else
                                    te(e, l);
                            else
                                l(0, e)
                        },
                        prop: U.define.bind(null, 1),
                        context: U.define.bind(null, 2),
                        this: U.define.bind(null, 3),
                        draw: s({}),
                        buffer: function(e) {
                            return z.create(e, 34962, !1, !1)
                        },
                        elements: function(e) {
                            return F.create(e, !1)
                        },
                        texture: N.create2D,
                        cube: N.createCube,
                        renderbuffer: H.create,
                        framebuffer: q.create,
                        framebufferCube: q.createCube,
                        vao: P.createVAO,
                        attributes: v,
                        frame: c,
                        on: function(e, t) {
                            var r;
                            switch (e) {
                            case "frame":
                                return c(t);
                            case "lost":
                                r = Q;
                                break;
                            case "restore":
                                r = $;
                                break;
                            case "destroy":
                                r = K
                            }
                            return r.push(t),
                            {
                                cancel: function() {
                                    for (var e = 0; e < r.length; ++e)
                                        if (r[e] === t) {
                                            r[e] = r[r.length - 1],
                                            r.pop();
                                            break
                                        }
                                }
                            }
                        },
                        limits: E,
                        hasExtension: function(e) {
                            return 0 <= E.extensions.indexOf(e.toLowerCase())
                        },
                        read: b,
                        destroy: function() {
                            X.length = 0,
                            n(),
                            J && (J.removeEventListener("webglcontextlost", i),
                            J.removeEventListener("webglcontextrestored", o)),
                            I.clear(),
                            q.clear(),
                            H.clear(),
                            P.clear(),
                            N.clear(),
                            F.clear(),
                            z.clear(),
                            w && w.clear(),
                            K.forEach((function(e) {
                                e()
                            }
                            ))
                        },
                        _gl: y,
                        _refresh: d,
                        poll: function() {
                            f(),
                            w && w.update()
                        },
                        now: g,
                        stats: x
                    }),
                    e.onDone(null, v),
                    v
                }
            }
            ))
        }
        , {}],
        143: [function(e, t, r) {
            (function(r) {
                (function() {
                    "use strict";
                    var n = e("pick-by-alias");
                    function a(e) {
                        if (e.container)
                            if (e.container == document.body)
                                document.body.style.width || (e.canvas.width = e.width || e.pixelRatio * r.innerWidth),
                                document.body.style.height || (e.canvas.height = e.height || e.pixelRatio * r.innerHeight);
                            else {
                                var t = e.container.getBoundingClientRect();
                                e.canvas.width = e.width || t.right - t.left,
                                e.canvas.height = e.height || t.bottom - t.top
                            }
                    }
                    function i(e) {
                        return "function" == typeof e.getContext && "width"in e && "height"in e
                    }
                    function o() {
                        var e = document.createElement("canvas");
                        return e.style.position = "absolute",
                        e.style.top = 0,
                        e.style.left = 0,
                        e
                    }
                    t.exports = function(e) {
                        var t;
                        if (e ? "string" == typeof e && (e = {
                            container: e
                        }) : e = {},
                        i(e) ? e = {
                            container: e
                        } : e = "string" == typeof (t = e).nodeName && "function" == typeof t.appendChild && "function" == typeof t.getBoundingClientRect ? {
                            container: e
                        } : function(e) {
                            return "function" == typeof e.drawArrays || "function" == typeof e.drawElements
                        }(e) ? {
                            gl: e
                        } : n(e, {
                            container: "container target element el canvas holder parent parentNode wrapper use ref root node",
                            gl: "gl context webgl glContext",
                            attrs: "attributes attrs contextAttributes",
                            pixelRatio: "pixelRatio pxRatio px ratio pxratio pixelratio",
                            width: "w width",
                            height: "h height"
                        }, !0),
                        e.pixelRatio || (e.pixelRatio = r.pixelRatio || 1),
                        e.gl)
                            return e.gl;
                        if (e.canvas && (e.container = e.canvas.parentNode),
                        e.container) {
                            if ("string" == typeof e.container) {
                                var s = document.querySelector(e.container);
                                if (!s)
                                    throw Error("Element " + e.container + " is not found");
                                e.container = s
                            }
                            i(e.container) ? (e.canvas = e.container,
                            e.container = e.canvas.parentNode) : e.canvas || (e.canvas = o(),
                            e.container.appendChild(e.canvas),
                            a(e))
                        } else if (!e.canvas) {
                            if ("undefined" == typeof document)
                                throw Error("Not DOM environment. Use headless-gl.");
                            e.container = document.body || document.documentElement,
                            e.canvas = o(),
                            e.container.appendChild(e.canvas),
                            a(e)
                        }
                        return e.gl || ["webgl", "experimental-webgl", "webgl-experimental"].some((function(t) {
                            try {
                                e.gl = e.canvas.getContext(t, e.attrs)
                            } catch (e) {}
                            return e.gl
                        }
                        )),
                        e.gl
                    }
                }
                ).call(this)
            }
            ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }
        , {
            "pick-by-alias": 164
        }],
        144: [function(e, t, r) {
            t.exports = function(e) {
                "string" == typeof e && (e = [e]);
                for (var t = [].slice.call(arguments, 1), r = [], n = 0; n < e.length - 1; n++)
                    r.push(e[n], t[n] || "");
                return r.push(e[n]),
                r.join("")
            }
        }
        , {}],
        145: [function(e, t, r) {
            (function(r) {
                (function() {
                    "use strict";
                    var n, a = e("is-browser");
                    n = "function" == typeof r.matchMedia ? !r.matchMedia("(hover: none)").matches : a,
                    t.exports = n
                }
                ).call(this)
            }
            ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }
        , {
            "is-browser": 148
        }],
        146: [function(e, t, r) {
            "use strict";
            var n = e("is-browser");
            t.exports = n && function() {
                var e = !1;
                try {
                    var t = Object.defineProperty({}, "passive", {
                        get: function() {
                            e = !0
                        }
                    });
                    window.addEventListener("test", null, t),
                    window.removeEventListener("test", null, t)
                } catch (t) {
                    e = !1
                }
                return e
            }()
        }
        , {
            "is-browser": 148
        }],
        147: [function(e, t, r) {
            /*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
            r.read = function(e, t, r, n, a) {
                var i, o, s = 8 * a - n - 1, l = (1 << s) - 1, c = l >> 1, u = -7, f = r ? a - 1 : 0, d = r ? -1 : 1, h = e[t + f];
                for (f += d,
                i = h & (1 << -u) - 1,
                h >>= -u,
                u += s; u > 0; i = 256 * i + e[t + f],
                f += d,
                u -= 8)
                    ;
                for (o = i & (1 << -u) - 1,
                i >>= -u,
                u += n; u > 0; o = 256 * o + e[t + f],
                f += d,
                u -= 8)
                    ;
                if (0 === i)
                    i = 1 - c;
                else {
                    if (i === l)
                        return o ? NaN : 1 / 0 * (h ? -1 : 1);
                    o += Math.pow(2, n),
                    i -= c
                }
                return (h ? -1 : 1) * o * Math.pow(2, i - n)
            }
            ,
            r.write = function(e, t, r, n, a, i) {
                var o, s, l, c = 8 * i - a - 1, u = (1 << c) - 1, f = u >> 1, d = 23 === a ? Math.pow(2, -24) - Math.pow(2, -77) : 0, h = n ? 0 : i - 1, p = n ? 1 : -1, g = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
                for (t = Math.abs(t),
                isNaN(t) || t === 1 / 0 ? (s = isNaN(t) ? 1 : 0,
                o = u) : (o = Math.floor(Math.log(t) / Math.LN2),
                t * (l = Math.pow(2, -o)) < 1 && (o--,
                l *= 2),
                (t += o + f >= 1 ? d / l : d * Math.pow(2, 1 - f)) * l >= 2 && (o++,
                l /= 2),
                o + f >= u ? (s = 0,
                o = u) : o + f >= 1 ? (s = (t * l - 1) * Math.pow(2, a),
                o += f) : (s = t * Math.pow(2, f - 1) * Math.pow(2, a),
                o = 0)); a >= 8; e[r + h] = 255 & s,
                h += p,
                s /= 256,
                a -= 8)
                    ;
                for (o = o << a | s,
                c += a; c > 0; e[r + h] = 255 & o,
                h += p,
                o /= 256,
                c -= 8)
                    ;
                e[r + h - p] |= 128 * g
            }
        }
        , {}],
        148: [function(e, t, r) {
            t.exports = !0
        }
        , {}],
        149: [function(e, t, r) {
            "use strict";
            t.exports = "undefined" != typeof navigator && (/MSIE/.test(navigator.userAgent) || /Trident\//.test(navigator.appVersion))
        }
        , {}],
        150: [function(e, t, r) {
            "use strict";
            t.exports = i,
            t.exports.isMobile = i,
            t.exports.default = i;
            var n = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i
              , a = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;
            function i(e) {
                e || (e = {});
                var t = e.ua;
                if (t || "undefined" == typeof navigator || (t = navigator.userAgent),
                t && t.headers && "string" == typeof t.headers["user-agent"] && (t = t.headers["user-agent"]),
                "string" != typeof t)
                    return !1;
                var r = e.tablet ? a.test(t) : n.test(t);
                return !r && e.tablet && e.featureDetect && navigator && navigator.maxTouchPoints > 1 && -1 !== t.indexOf("Macintosh") && -1 !== t.indexOf("Safari") && (r = !0),
                r
            }
        }
        , {}],
        151: [function(e, t, r) {
            "use strict";
            t.exports = function(e) {
                var t = typeof e;
                return null !== e && ("object" === t || "function" === t)
            }
        }
        , {}],
        152: [function(e, t, r) {
            "use strict";
            var n = Object.prototype.toString;
            t.exports = function(e) {
                var t;
                return "[object Object]" === n.call(e) && (null === (t = Object.getPrototypeOf(e)) || t === Object.getPrototypeOf({}))
            }
        }
        , {}],
        153: [function(e, t, r) {
            "use strict";
            t.exports = function(e) {
                for (var t, r = e.length, n = 0; n < r; n++)
                    if (((t = e.charCodeAt(n)) < 9 || t > 13) && 32 !== t && 133 !== t && 160 !== t && 5760 !== t && 6158 !== t && (t < 8192 || t > 8205) && 8232 !== t && 8233 !== t && 8239 !== t && 8287 !== t && 8288 !== t && 12288 !== t && 65279 !== t)
                        return !1;
                return !0
            }
        }
        , {}],
        154: [function(e, t, r) {
            "use strict";
            t.exports = function(e) {
                return "string" == typeof e && (e = e.trim(),
                !!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e) && /[\dz]$/i.test(e) && e.length > 4))
            }
        }
        , {}],
        155: [function(e, t, r) {
            "use strict";
            t.exports = Math.log2 || function(e) {
                return Math.log(e) * Math.LOG2E
            }
        }
        , {}],
        156: [function(e, t, r) {
            var n = {
                left: 0,
                top: 0
            };
            t.exports = function(e, t, r) {
                t = t || e.currentTarget || e.srcElement,
                Array.isArray(r) || (r = [0, 0]);
                var a = e.clientX || 0
                  , i = e.clientY || 0
                  , o = (s = t,
                s === window || s === document || s === document.body ? n : s.getBoundingClientRect());
                var s;
                return r[0] = a - o.left,
                r[1] = i - o.top,
                r
            }
        }
        , {}],
        157: [function(e, t, r) {
            (function(e, r) {
                (function() {
                    /*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/
                    var n, a, i;
                    i = function() {
                        "use strict";
                        var e, t, n, a = Object.prototype.toString, i = void 0 !== r ? function(e) {
                            return r(e)
                        }
                        : setTimeout;
                        try {
                            Object.defineProperty({}, "x", {}),
                            e = function(e, t, r, n) {
                                return Object.defineProperty(e, t, {
                                    value: r,
                                    writable: !0,
                                    configurable: !1 !== n
                                })
                            }
                        } catch (t) {
                            e = function(e, t, r) {
                                return e[t] = r,
                                e
                            }
                        }
                        function o(e, r) {
                            n.add(e, r),
                            t || (t = i(n.drain))
                        }
                        function s(e) {
                            var t, r = typeof e;
                            return null == e || "object" != r && "function" != r || (t = e.then),
                            "function" == typeof t && t
                        }
                        function l() {
                            for (var e = 0; e < this.chain.length; e++)
                                c(this, 1 === this.state ? this.chain[e].success : this.chain[e].failure, this.chain[e]);
                            this.chain.length = 0
                        }
                        function c(e, t, r) {
                            var n, a;
                            try {
                                !1 === t ? r.reject(e.msg) : (n = !0 === t ? e.msg : t.call(void 0, e.msg)) === r.promise ? r.reject(TypeError("Promise-chain cycle")) : (a = s(n)) ? a.call(n, r.resolve, r.reject) : r.resolve(n)
                            } catch (e) {
                                r.reject(e)
                            }
                        }
                        function u(e) {
                            var t, r = this;
                            if (!r.triggered) {
                                r.triggered = !0,
                                r.def && (r = r.def);
                                try {
                                    (t = s(e)) ? o((function() {
                                        var n = new h(r);
                                        try {
                                            t.call(e, (function() {
                                                u.apply(n, arguments)
                                            }
                                            ), (function() {
                                                f.apply(n, arguments)
                                            }
                                            ))
                                        } catch (e) {
                                            f.call(n, e)
                                        }
                                    }
                                    )) : (r.msg = e,
                                    r.state = 1,
                                    r.chain.length > 0 && o(l, r))
                                } catch (e) {
                                    f.call(new h(r), e)
                                }
                            }
                        }
                        function f(e) {
                            var t = this;
                            t.triggered || (t.triggered = !0,
                            t.def && (t = t.def),
                            t.msg = e,
                            t.state = 2,
                            t.chain.length > 0 && o(l, t))
                        }
                        function d(e, t, r, n) {
                            for (var a = 0; a < t.length; a++)
                                !function(a) {
                                    e.resolve(t[a]).then((function(e) {
                                        r(a, e)
                                    }
                                    ), n)
                                }(a)
                        }
                        function h(e) {
                            this.def = e,
                            this.triggered = !1
                        }
                        function p(e) {
                            this.promise = e,
                            this.state = 0,
                            this.triggered = !1,
                            this.chain = [],
                            this.msg = void 0
                        }
                        function g(e) {
                            if ("function" != typeof e)
                                throw TypeError("Not a function");
                            if (0 !== this.__NPO__)
                                throw TypeError("Not a promise");
                            this.__NPO__ = 1;
                            var t = new p(this);
                            this.then = function(e, r) {
                                var n = {
                                    success: "function" != typeof e || e,
                                    failure: "function" == typeof r && r
                                };
                                return n.promise = new this.constructor((function(e, t) {
                                    if ("function" != typeof e || "function" != typeof t)
                                        throw TypeError("Not a function");
                                    n.resolve = e,
                                    n.reject = t
                                }
                                )),
                                t.chain.push(n),
                                0 !== t.state && o(l, t),
                                n.promise
                            }
                            ,
                            this.catch = function(e) {
                                return this.then(void 0, e)
                            }
                            ;
                            try {
                                e.call(void 0, (function(e) {
                                    u.call(t, e)
                                }
                                ), (function(e) {
                                    f.call(t, e)
                                }
                                ))
                            } catch (e) {
                                f.call(t, e)
                            }
                        }
                        n = function() {
                            var e, r, n;
                            function a(e, t) {
                                this.fn = e,
                                this.self = t,
                                this.next = void 0
                            }
                            return {
                                add: function(t, i) {
                                    n = new a(t,i),
                                    r ? r.next = n : e = n,
                                    r = n,
                                    n = void 0
                                },
                                drain: function() {
                                    var n = e;
                                    for (e = r = t = void 0; n; )
                                        n.fn.call(n.self),
                                        n = n.next
                                }
                            }
                        }();
                        var y = e({}, "constructor", g, !1);
                        return g.prototype = y,
                        e(y, "__NPO__", 0, !1),
                        e(g, "resolve", (function(e) {
                            return e && "object" == typeof e && 1 === e.__NPO__ ? e : new this((function(t, r) {
                                if ("function" != typeof t || "function" != typeof r)
                                    throw TypeError("Not a function");
                                t(e)
                            }
                            ))
                        }
                        )),
                        e(g, "reject", (function(e) {
                            return new this((function(t, r) {
                                if ("function" != typeof t || "function" != typeof r)
                                    throw TypeError("Not a function");
                                r(e)
                            }
                            ))
                        }
                        )),
                        e(g, "all", (function(e) {
                            var t = this;
                            return "[object Array]" != a.call(e) ? t.reject(TypeError("Not an array")) : 0 === e.length ? t.resolve([]) : new t((function(r, n) {
                                if ("function" != typeof r || "function" != typeof n)
                                    throw TypeError("Not a function");
                                var a = e.length
                                  , i = Array(a)
                                  , o = 0;
                                d(t, e, (function(e, t) {
                                    i[e] = t,
                                    ++o === a && r(i)
                                }
                                ), n)
                            }
                            ))
                        }
                        )),
                        e(g, "race", (function(e) {
                            var t = this;
                            return "[object Array]" != a.call(e) ? t.reject(TypeError("Not an array")) : new t((function(r, n) {
                                if ("function" != typeof r || "function" != typeof n)
                                    throw TypeError("Not a function");
                                d(t, e, (function(e, t) {
                                    r(t)
                                }
                                ), n)
                            }
                            ))
                        }
                        )),
                        g
                    }
                    ,
                    (a = void 0 !== e ? e : this)[n = "Promise"] = a[n] || i(),
                    void 0 !== t && t.exports && (t.exports = a[n])
                }
                ).call(this)
            }
            ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}, e("timers").setImmediate)
        }
        , {
            timers: 183
        }],
        158: [function(e, t, r) {
            var n = Math.PI
              , a = c(120);
            function i(e, t, r, n) {
                return ["C", e, t, r, n, r, n]
            }
            function o(e, t, r, n, a, i) {
                return ["C", e / 3 + 2 / 3 * r, t / 3 + 2 / 3 * n, a / 3 + 2 / 3 * r, i / 3 + 2 / 3 * n, a, i]
            }
            function s(e, t, r, i, o, c, u, f, d, h) {
                if (h)
                    A = h[0],
                    k = h[1],
                    _ = h[2],
                    w = h[3];
                else {
                    var p = l(e, t, -o);
                    e = p.x,
                    t = p.y;
                    var g = (e - (f = (p = l(f, d, -o)).x)) / 2
                      , y = (t - (d = p.y)) / 2
                      , v = g * g / (r * r) + y * y / (i * i);
                    v > 1 && (r *= v = Math.sqrt(v),
                    i *= v);
                    var m = r * r
                      , b = i * i
                      , x = (c == u ? -1 : 1) * Math.sqrt(Math.abs((m * b - m * y * y - b * g * g) / (m * y * y + b * g * g)));
                    x == 1 / 0 && (x = 1);
                    var _ = x * r * y / i + (e + f) / 2
                      , w = x * -i * g / r + (t + d) / 2
                      , A = Math.asin(((t - w) / i).toFixed(9))
                      , k = Math.asin(((d - w) / i).toFixed(9));
                    (A = e < _ ? n - A : A) < 0 && (A = 2 * n + A),
                    (k = f < _ ? n - k : k) < 0 && (k = 2 * n + k),
                    u && A > k && (A -= 2 * n),
                    !u && k > A && (k -= 2 * n)
                }
                if (Math.abs(k - A) > a) {
                    var T = k
                      , M = f
                      , S = d;
                    k = A + a * (u && k > A ? 1 : -1);
                    var C = s(f = _ + r * Math.cos(k), d = w + i * Math.sin(k), r, i, o, 0, u, M, S, [k, T, _, w])
                }
                var O = Math.tan((k - A) / 4)
                  , D = 4 / 3 * r * O
                  , L = 4 / 3 * i * O
                  , E = [2 * e - (e + D * Math.sin(A)), 2 * t - (t - L * Math.cos(A)), f + D * Math.sin(k), d - L * Math.cos(k), f, d];
                if (h)
                    return E;
                C && (E = E.concat(C));
                for (var z = 0; z < E.length; ) {
                    var F = l(E[z], E[z + 1], o);
                    E[z++] = F.x,
                    E[z++] = F.y
                }
                return E
            }
            function l(e, t, r) {
                return {
                    x: e * Math.cos(r) - t * Math.sin(r),
                    y: e * Math.sin(r) + t * Math.cos(r)
                }
            }
            function c(e) {
                return e * (n / 180)
            }
            t.exports = function(e) {
                for (var t, r = [], n = 0, a = 0, l = 0, u = 0, f = null, d = null, h = 0, p = 0, g = 0, y = e.length; g < y; g++) {
                    var v = e[g]
                      , m = v[0];
                    switch (m) {
                    case "M":
                        l = v[1],
                        u = v[2];
                        break;
                    case "A":
                        (v = s(h, p, v[1], v[2], c(v[3]), v[4], v[5], v[6], v[7])).unshift("C"),
                        v.length > 7 && (r.push(v.splice(0, 7)),
                        v.unshift("C"));
                        break;
                    case "S":
                        var b = h
                          , x = p;
                        "C" != t && "S" != t || (b += b - n,
                        x += x - a),
                        v = ["C", b, x, v[1], v[2], v[3], v[4]];
                        break;
                    case "T":
                        "Q" == t || "T" == t ? (f = 2 * h - f,
                        d = 2 * p - d) : (f = h,
                        d = p),
                        v = o(h, p, f, d, v[1], v[2]);
                        break;
                    case "Q":
                        f = v[1],
                        d = v[2],
                        v = o(h, p, v[1], v[2], v[3], v[4]);
                        break;
                    case "L":
                        v = i(h, p, v[1], v[2]);
                        break;
                    case "H":
                        v = i(h, p, v[1], p);
                        break;
                    case "V":
                        v = i(h, p, h, v[1]);
                        break;
                    case "Z":
                        v = i(h, p, l, u)
                    }
                    t = m,
                    h = v[v.length - 2],
                    p = v[v.length - 1],
                    v.length > 4 ? (n = v[v.length - 4],
                    a = v[v.length - 3]) : (n = h,
                    a = p),
                    r.push(v)
                }
                return r
            }
        }
        , {}],
        159: [function(e, t, r) {
            /*
object-assign
(c) Sindre Sorhus
@license MIT
*/
            "use strict";
            var n = Object.getOwnPropertySymbols
              , a = Object.prototype.hasOwnProperty
              , i = Object.prototype.propertyIsEnumerable;
            function o(e) {
                if (null == e)
                    throw new TypeError("Object.assign cannot be called with null or undefined");
                return Object(e)
            }
            t.exports = function() {
                try {
                    if (!Object.assign)
                        return !1;
                    var e = new String("abc");
                    if (e[5] = "de",
                    "5" === Object.getOwnPropertyNames(e)[0])
                        return !1;
                    for (var t = {}, r = 0; r < 10; r++)
                        t["_" + String.fromCharCode(r)] = r;
                    if ("0123456789" !== Object.getOwnPropertyNames(t).map((function(e) {
                        return t[e]
                    }
                    )).join(""))
                        return !1;
                    var n = {};
                    return "abcdefghijklmnopqrst".split("").forEach((function(e) {
                        n[e] = e
                    }
                    )),
                    "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, n)).join("")
                } catch (e) {
                    return !1
                }
            }() ? Object.assign : function(e, t) {
                for (var r, s, l = o(e), c = 1; c < arguments.length; c++) {
                    for (var u in r = Object(arguments[c]))
                        a.call(r, u) && (l[u] = r[u]);
                    if (n) {
                        s = n(r);
                        for (var f = 0; f < s.length; f++)
                            i.call(r, s[f]) && (l[s[f]] = r[s[f]])
                    }
                }
                return l
            }
        }
        , {}],
        160: [function(e, t, r) {
            "use strict";
            function n(e, t) {
                if ("string" != typeof e)
                    return [e];
                var r = [e];
                "string" == typeof t || Array.isArray(t) ? t = {
                    brackets: t
                } : t || (t = {});
                var n = t.brackets ? Array.isArray(t.brackets) ? t.brackets : [t.brackets] : ["{}", "[]", "()"]
                  , a = t.escape || "___"
                  , i = !!t.flat;
                n.forEach((function(e) {
                    var t = new RegExp(["\\", e[0], "[^\\", e[0], "\\", e[1], "]*\\", e[1]].join(""))
                      , n = [];
                    function i(t, i, o) {
                        var s = r.push(t.slice(e[0].length, -e[1].length)) - 1;
                        return n.push(s),
                        a + s + a
                    }
                    r.forEach((function(e, n) {
                        for (var a, o = 0; e != a; )
                            if (a = e,
                            e = e.replace(t, i),
                            o++ > 1e4)
                                throw Error("References have circular dependency. Please, check them.");
                        r[n] = e
                    }
                    )),
                    n = n.reverse(),
                    r = r.map((function(t) {
                        return n.forEach((function(r) {
                            t = t.replace(new RegExp("(\\" + a + r + "\\" + a + ")","g"), e[0] + "$1" + e[1])
                        }
                        )),
                        t
                    }
                    ))
                }
                ));
                var o = new RegExp("\\" + a + "([0-9]+)\\" + a);
                return i ? r : function e(t, r, n) {
                    for (var a, i = [], s = 0; a = o.exec(t); ) {
                        if (s++ > 1e4)
                            throw Error("Circular references in parenthesis");
                        i.push(t.slice(0, a.index)),
                        i.push(e(r[a[1]], r)),
                        t = t.slice(a.index + a[0].length)
                    }
                    return i.push(t),
                    i
                }(r[0], r)
            }
            function a(e, t) {
                if (t && t.flat) {
                    var r, n = t && t.escape || "___", a = e[0];
                    if (!a)
                        return "";
                    for (var i = new RegExp("\\" + n + "([0-9]+)\\" + n), o = 0; a != r; ) {
                        if (o++ > 1e4)
                            throw Error("Circular references in " + e);
                        r = a,
                        a = a.replace(i, s)
                    }
                    return a
                }
                return e.reduce((function e(t, r) {
                    return Array.isArray(r) && (r = r.reduce(e, "")),
                    t + r
                }
                ), "");
                function s(t, r) {
                    if (null == e[r])
                        throw Error("Reference " + r + "is undefined");
                    return e[r]
                }
            }
            function i(e, t) {
                return Array.isArray(e) ? a(e, t) : n(e, t)
            }
            i.parse = n,
            i.stringify = a,
            t.exports = i
        }
        , {}],
        161: [function(e, t, r) {
            "use strict";
            var n = e("pick-by-alias");
            t.exports = function(e) {
                var t;
                arguments.length > 1 && (e = arguments);
                "string" == typeof e ? e = e.split(/\s/).map(parseFloat) : "number" == typeof e && (e = [e]);
                e.length && "number" == typeof e[0] ? t = 1 === e.length ? {
                    width: e[0],
                    height: e[0],
                    x: 0,
                    y: 0
                } : 2 === e.length ? {
                    width: e[0],
                    height: e[1],
                    x: 0,
                    y: 0
                } : {
                    x: e[0],
                    y: e[1],
                    width: e[2] - e[0] || 0,
                    height: e[3] - e[1] || 0
                } : e && (e = n(e, {
                    left: "x l left Left",
                    top: "y t top Top",
                    width: "w width W Width",
                    height: "h height W Width",
                    bottom: "b bottom Bottom",
                    right: "r right Right"
                }),
                t = {
                    x: e.left || 0,
                    y: e.top || 0
                },
                null == e.width ? e.right ? t.width = e.right - t.x : t.width = 0 : t.width = e.width,
                null == e.height ? e.bottom ? t.height = e.bottom - t.y : t.height = 0 : t.height = e.height);
                return t
            }
        }
        , {
            "pick-by-alias": 164
        }],
        162: [function(e, t, r) {
            t.exports = function(e) {
                var t = [];
                return e.replace(a, (function(e, r, a) {
                    var o = r.toLowerCase();
                    for (a = function(e) {
                        var t = e.match(i);
                        return t ? t.map(Number) : []
                    }(a),
                    "m" == o && a.length > 2 && (t.push([r].concat(a.splice(0, 2))),
                    o = "l",
                    r = "m" == r ? "l" : "L"); ; ) {
                        if (a.length == n[o])
                            return a.unshift(r),
                            t.push(a);
                        if (a.length < n[o])
                            throw new Error("malformed path data");
                        t.push([r].concat(a.splice(0, n[o])))
                    }
                }
                )),
                t
            }
            ;
            var n = {
                a: 7,
                c: 6,
                h: 1,
                l: 2,
                m: 2,
                q: 4,
                s: 4,
                t: 2,
                v: 1,
                z: 0
            }
              , a = /([astvzqmhlc])([^astvzqmhlc]*)/gi;
            var i = /-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi
        }
        , {}],
        163: [function(e, t, r) {
            t.exports = function(e, t) {
                t || (t = [0, ""]),
                e = String(e);
                var r = parseFloat(e, 10);
                return t[0] = r,
                t[1] = e.match(/[\d.\-\+]*\s*(.*)/)[1] || "",
                t
            }
        }
        , {}],
        164: [function(e, t, r) {
            "use strict";
            t.exports = function(e, t, r) {
                var n, i, o = {};
                if ("string" == typeof t && (t = a(t)),
                Array.isArray(t)) {
                    var s = {};
                    for (i = 0; i < t.length; i++)
                        s[t[i]] = !0;
                    t = s
                }
                for (n in t)
                    t[n] = a(t[n]);
                var l = {};
                for (n in t) {
                    var c = t[n];
                    if (Array.isArray(c))
                        for (i = 0; i < c.length; i++) {
                            var u = c[i];
                            if (r && (l[u] = !0),
                            u in e) {
                                if (o[n] = e[u],
                                r)
                                    for (var f = i; f < c.length; f++)
                                        l[c[f]] = !0;
                                break
                            }
                        }
                    else
                        n in e && (t[n] && (o[n] = e[n]),
                        r && (l[n] = !0))
                }
                if (r)
                    for (n in e)
                        l[n] || (o[n] = e[n]);
                return o
            }
            ;
            var n = {};
            function a(e) {
                return n[e] ? n[e] : ("string" == typeof e && (e = n[e] = e.split(/\s*,\s*|\s+/)),
                e)
            }
        }
        , {}],
        165: [function(e, t, r) {
            /*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */
            var n, a = e("./lib/build-log"), i = e("./lib/epsilon"), o = e("./lib/intersecter"), s = e("./lib/segment-chainer"), l = e("./lib/segment-selector"), c = e("./lib/geojson"), u = !1, f = i();
            function d(e, t, r) {
                var a = n.segments(e)
                  , i = n.segments(t)
                  , o = r(n.combine(a, i));
                return n.polygon(o)
            }
            n = {
                buildLog: function(e) {
                    return !0 === e ? u = a() : !1 === e && (u = !1),
                    !1 !== u && u.list
                },
                epsilon: function(e) {
                    return f.epsilon(e)
                },
                segments: function(e) {
                    var t = o(!0, f, u);
                    return e.regions.forEach(t.addRegion),
                    {
                        segments: t.calculate(e.inverted),
                        inverted: e.inverted
                    }
                },
                combine: function(e, t) {
                    return {
                        combined: o(!1, f, u).calculate(e.segments, e.inverted, t.segments, t.inverted),
                        inverted1: e.inverted,
                        inverted2: t.inverted
                    }
                },
                selectUnion: function(e) {
                    return {
                        segments: l.union(e.combined, u),
                        inverted: e.inverted1 || e.inverted2
                    }
                },
                selectIntersect: function(e) {
                    return {
                        segments: l.intersect(e.combined, u),
                        inverted: e.inverted1 && e.inverted2
                    }
                },
                selectDifference: function(e) {
                    return {
                        segments: l.difference(e.combined, u),
                        inverted: e.inverted1 && !e.inverted2
                    }
                },
                selectDifferenceRev: function(e) {
                    return {
                        segments: l.differenceRev(e.combined, u),
                        inverted: !e.inverted1 && e.inverted2
                    }
                },
                selectXor: function(e) {
                    return {
                        segments: l.xor(e.combined, u),
                        inverted: e.inverted1 !== e.inverted2
                    }
                },
                polygon: function(e) {
                    return {
                        regions: s(e.segments, f, u),
                        inverted: e.inverted
                    }
                },
                polygonFromGeoJSON: function(e) {
                    return c.toPolygon(n, e)
                },
                polygonToGeoJSON: function(e) {
                    return c.fromPolygon(n, f, e)
                },
                union: function(e, t) {
                    return d(e, t, n.selectUnion)
                },
                intersect: function(e, t) {
                    return d(e, t, n.selectIntersect)
                },
                difference: function(e, t) {
                    return d(e, t, n.selectDifference)
                },
                differenceRev: function(e, t) {
                    return d(e, t, n.selectDifferenceRev)
                },
                xor: function(e, t) {
                    return d(e, t, n.selectXor)
                }
            },
            "object" == typeof window && (window.PolyBool = n),
            t.exports = n
        }
        , {
            "./lib/build-log": 166,
            "./lib/epsilon": 167,
            "./lib/geojson": 168,
            "./lib/intersecter": 169,
            "./lib/segment-chainer": 171,
            "./lib/segment-selector": 172
        }],
        166: [function(e, t, r) {
            t.exports = function() {
                var e, t = 0, r = !1;
                function n(t, r) {
                    return e.list.push({
                        type: t,
                        data: r ? JSON.parse(JSON.stringify(r)) : void 0
                    }),
                    e
                }
                return e = {
                    list: [],
                    segmentId: function() {
                        return t++
                    },
                    checkIntersection: function(e, t) {
                        return n("check", {
                            seg1: e,
                            seg2: t
                        })
                    },
                    segmentChop: function(e, t) {
                        return n("div_seg", {
                            seg: e,
                            pt: t
                        }),
                        n("chop", {
                            seg: e,
                            pt: t
                        })
                    },
                    statusRemove: function(e) {
                        return n("pop_seg", {
                            seg: e
                        })
                    },
                    segmentUpdate: function(e) {
                        return n("seg_update", {
                            seg: e
                        })
                    },
                    segmentNew: function(e, t) {
                        return n("new_seg", {
                            seg: e,
                            primary: t
                        })
                    },
                    segmentRemove: function(e) {
                        return n("rem_seg", {
                            seg: e
                        })
                    },
                    tempStatus: function(e, t, r) {
                        return n("temp_status", {
                            seg: e,
                            above: t,
                            below: r
                        })
                    },
                    rewind: function(e) {
                        return n("rewind", {
                            seg: e
                        })
                    },
                    status: function(e, t, r) {
                        return n("status", {
                            seg: e,
                            above: t,
                            below: r
                        })
                    },
                    vert: function(t) {
                        return t === r ? e : (r = t,
                        n("vert", {
                            x: t
                        }))
                    },
                    log: function(e) {
                        return "string" != typeof e && (e = JSON.stringify(e, !1, "  ")),
                        n("log", {
                            txt: e
                        })
                    },
                    reset: function() {
                        return n("reset")
                    },
                    selected: function(e) {
                        return n("selected", {
                            segs: e
                        })
                    },
                    chainStart: function(e) {
                        return n("chain_start", {
                            seg: e
                        })
                    },
                    chainRemoveHead: function(e, t) {
                        return n("chain_rem_head", {
                            index: e,
                            pt: t
                        })
                    },
                    chainRemoveTail: function(e, t) {
                        return n("chain_rem_tail", {
                            index: e,
                            pt: t
                        })
                    },
                    chainNew: function(e, t) {
                        return n("chain_new", {
                            pt1: e,
                            pt2: t
                        })
                    },
                    chainMatch: function(e) {
                        return n("chain_match", {
                            index: e
                        })
                    },
                    chainClose: function(e) {
                        return n("chain_close", {
                            index: e
                        })
                    },
                    chainAddHead: function(e, t) {
                        return n("chain_add_head", {
                            index: e,
                            pt: t
                        })
                    },
                    chainAddTail: function(e, t) {
                        return n("chain_add_tail", {
                            index: e,
                            pt: t
                        })
                    },
                    chainConnect: function(e, t) {
                        return n("chain_con", {
                            index1: e,
                            index2: t
                        })
                    },
                    chainReverse: function(e) {
                        return n("chain_rev", {
                            index: e
                        })
                    },
                    chainJoin: function(e, t) {
                        return n("chain_join", {
                            index1: e,
                            index2: t
                        })
                    },
                    done: function() {
                        return n("done")
                    }
                }
            }
        }
        , {}],
        167: [function(e, t, r) {
            t.exports = function(e) {
                "number" != typeof e && (e = 1e-10);
                var t = {
                    epsilon: function(t) {
                        return "number" == typeof t && (e = t),
                        e
                    },
                    pointAboveOrOnLine: function(t, r, n) {
                        var a = r[0]
                          , i = r[1]
                          , o = n[0]
                          , s = n[1]
                          , l = t[0];
                        return (o - a) * (t[1] - i) - (s - i) * (l - a) >= -e
                    },
                    pointBetween: function(t, r, n) {
                        var a = t[1] - r[1]
                          , i = n[0] - r[0]
                          , o = t[0] - r[0]
                          , s = n[1] - r[1]
                          , l = o * i + a * s;
                        return !(l < e) && !(l - (i * i + s * s) > -e)
                    },
                    pointsSameX: function(t, r) {
                        return Math.abs(t[0] - r[0]) < e
                    },
                    pointsSameY: function(t, r) {
                        return Math.abs(t[1] - r[1]) < e
                    },
                    pointsSame: function(e, r) {
                        return t.pointsSameX(e, r) && t.pointsSameY(e, r)
                    },
                    pointsCompare: function(e, r) {
                        return t.pointsSameX(e, r) ? t.pointsSameY(e, r) ? 0 : e[1] < r[1] ? -1 : 1 : e[0] < r[0] ? -1 : 1
                    },
                    pointsCollinear: function(t, r, n) {
                        var a = t[0] - r[0]
                          , i = t[1] - r[1]
                          , o = r[0] - n[0]
                          , s = r[1] - n[1];
                        return Math.abs(a * s - o * i) < e
                    },
                    linesIntersect: function(t, r, n, a) {
                        var i = r[0] - t[0]
                          , o = r[1] - t[1]
                          , s = a[0] - n[0]
                          , l = a[1] - n[1]
                          , c = i * l - o * s;
                        if (Math.abs(c) < e)
                            return !1;
                        var u = t[0] - n[0]
                          , f = t[1] - n[1]
                          , d = (s * f - l * u) / c
                          , h = (i * f - o * u) / c
                          , p = {
                            alongA: 0,
                            alongB: 0,
                            pt: [t[0] + d * i, t[1] + d * o]
                        };
                        return p.alongA = d <= -e ? -2 : d < e ? -1 : d - 1 <= -e ? 0 : d - 1 < e ? 1 : 2,
                        p.alongB = h <= -e ? -2 : h < e ? -1 : h - 1 <= -e ? 0 : h - 1 < e ? 1 : 2,
                        p
                    },
                    pointInsideRegion: function(t, r) {
                        for (var n = t[0], a = t[1], i = r[r.length - 1][0], o = r[r.length - 1][1], s = !1, l = 0; l < r.length; l++) {
                            var c = r[l][0]
                              , u = r[l][1];
                            u - a > e != o - a > e && (i - c) * (a - u) / (o - u) + c - n > e && (s = !s),
                            i = c,
                            o = u
                        }
                        return s
                    }
                };
                return t
            }
        }
        , {}],
        168: [function(e, t, r) {
            var n = {
                toPolygon: function(e, t) {
                    function r(t) {
                        if (t.length <= 0)
                            return e.segments({
                                inverted: !1,
                                regions: []
                            });
                        function r(t) {
                            var r = t.slice(0, t.length - 1);
                            return e.segments({
                                inverted: !1,
                                regions: [r]
                            })
                        }
                        for (var n = r(t[0]), a = 1; a < t.length; a++)
                            n = e.selectDifference(e.combine(n, r(t[a])));
                        return n
                    }
                    if ("Polygon" === t.type)
                        return e.polygon(r(t.coordinates));
                    if ("MultiPolygon" === t.type) {
                        for (var n = e.segments({
                            inverted: !1,
                            regions: []
                        }), a = 0; a < t.coordinates.length; a++)
                            n = e.selectUnion(e.combine(n, r(t.coordinates[a])));
                        return e.polygon(n)
                    }
                    throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")
                },
                fromPolygon: function(e, t, r) {
                    function n(e, r) {
                        return t.pointInsideRegion([.5 * (e[0][0] + e[1][0]), .5 * (e[0][1] + e[1][1])], r)
                    }
                    function a(e) {
                        return {
                            region: e,
                            children: []
                        }
                    }
                    r = e.polygon(e.segments(r));
                    var i = a(null);
                    function o(e, t) {
                        for (var r = 0; r < e.children.length; r++) {
                            if (n(t, (s = e.children[r]).region))
                                return void o(s, t)
                        }
                        var i = a(t);
                        for (r = 0; r < e.children.length; r++) {
                            var s;
                            n((s = e.children[r]).region, t) && (i.children.push(s),
                            e.children.splice(r, 1),
                            r--)
                        }
                        e.children.push(i)
                    }
                    for (var s = 0; s < r.regions.length; s++) {
                        var l = r.regions[s];
                        l.length < 3 || o(i, l)
                    }
                    function c(e, t) {
                        for (var r = 0, n = e[e.length - 1][0], a = e[e.length - 1][1], i = [], o = 0; o < e.length; o++) {
                            var s = e[o][0]
                              , l = e[o][1];
                            i.push([s, l]),
                            r += l * n - s * a,
                            n = s,
                            a = l
                        }
                        return r < 0 !== t && i.reverse(),
                        i.push([i[0][0], i[0][1]]),
                        i
                    }
                    var u = [];
                    function f(e) {
                        var t = [c(e.region, !1)];
                        u.push(t);
                        for (var r = 0; r < e.children.length; r++)
                            t.push(d(e.children[r]))
                    }
                    function d(e) {
                        for (var t = 0; t < e.children.length; t++)
                            f(e.children[t]);
                        return c(e.region, !0)
                    }
                    for (s = 0; s < i.children.length; s++)
                        f(i.children[s]);
                    return u.length <= 0 ? {
                        type: "Polygon",
                        coordinates: []
                    } : 1 == u.length ? {
                        type: "Polygon",
                        coordinates: u[0]
                    } : {
                        type: "MultiPolygon",
                        coordinates: u
                    }
                }
            };
            t.exports = n
        }
        , {}],
        169: [function(e, t, r) {
            var n = e("./linked-list");
            t.exports = function(e, t, r) {
                function a(e, t, n) {
                    return {
                        id: r ? r.segmentId() : -1,
                        start: e,
                        end: t,
                        myFill: {
                            above: n.myFill.above,
                            below: n.myFill.below
                        },
                        otherFill: null
                    }
                }
                var i = n.create();
                function o(e, r) {
                    i.insertBefore(e, (function(n) {
                        return function(e, r, n, a, i, o) {
                            var s = t.pointsCompare(r, i);
                            return 0 !== s ? s : t.pointsSame(n, o) ? 0 : e !== a ? e ? 1 : -1 : t.pointAboveOrOnLine(n, a ? i : o, a ? o : i) ? 1 : -1
                        }(e.isStart, e.pt, r, n.isStart, n.pt, n.other.pt) < 0
                    }
                    ))
                }
                function s(e, t) {
                    var r = function(e, t) {
                        var r = n.node({
                            isStart: !0,
                            pt: e.start,
                            seg: e,
                            primary: t,
                            other: null,
                            status: null
                        });
                        return o(r, e.end),
                        r
                    }(e, t);
                    return function(e, t, r) {
                        var a = n.node({
                            isStart: !1,
                            pt: t.end,
                            seg: t,
                            primary: r,
                            other: e,
                            status: null
                        });
                        e.other = a,
                        o(a, e.pt)
                    }(r, e, t),
                    r
                }
                function l(e, t) {
                    var n = a(t, e.seg.end, e.seg);
                    return function(e, t) {
                        r && r.segmentChop(e.seg, t),
                        e.other.remove(),
                        e.seg.end = t,
                        e.other.pt = t,
                        o(e.other, e.pt)
                    }(e, t),
                    s(n, e.primary)
                }
                function c(a, o) {
                    var s = n.create();
                    function c(e) {
                        return s.findTransition((function(r) {
                            var n, a, i, o, s, l;
                            return (n = e,
                            a = r.ev,
                            i = n.seg.start,
                            o = n.seg.end,
                            s = a.seg.start,
                            l = a.seg.end,
                            t.pointsCollinear(i, s, l) ? t.pointsCollinear(o, s, l) || t.pointAboveOrOnLine(o, s, l) ? 1 : -1 : t.pointAboveOrOnLine(i, s, l) ? 1 : -1) > 0
                        }
                        ))
                    }
                    function u(e, n) {
                        var a = e.seg
                          , i = n.seg
                          , o = a.start
                          , s = a.end
                          , c = i.start
                          , u = i.end;
                        r && r.checkIntersection(a, i);
                        var f = t.linesIntersect(o, s, c, u);
                        if (!1 === f) {
                            if (!t.pointsCollinear(o, s, c))
                                return !1;
                            if (t.pointsSame(o, u) || t.pointsSame(s, c))
                                return !1;
                            var d = t.pointsSame(o, c)
                              , h = t.pointsSame(s, u);
                            if (d && h)
                                return n;
                            var p = !d && t.pointBetween(o, c, u)
                              , g = !h && t.pointBetween(s, c, u);
                            if (d)
                                return g ? l(n, s) : l(e, u),
                                n;
                            p && (h || (g ? l(n, s) : l(e, u)),
                            l(n, o))
                        } else
                            0 === f.alongA && (-1 === f.alongB ? l(e, c) : 0 === f.alongB ? l(e, f.pt) : 1 === f.alongB && l(e, u)),
                            0 === f.alongB && (-1 === f.alongA ? l(n, o) : 0 === f.alongA ? l(n, f.pt) : 1 === f.alongA && l(n, s));
                        return !1
                    }
                    for (var f = []; !i.isEmpty(); ) {
                        var d = i.getHead();
                        if (r && r.vert(d.pt[0]),
                        d.isStart) {
                            r && r.segmentNew(d.seg, d.primary);
                            var h = c(d)
                              , p = h.before ? h.before.ev : null
                              , g = h.after ? h.after.ev : null;
                            function y() {
                                if (p) {
                                    var e = u(d, p);
                                    if (e)
                                        return e
                                }
                                return !!g && u(d, g)
                            }
                            r && r.tempStatus(d.seg, !!p && p.seg, !!g && g.seg);
                            var v, m = y();
                            if (m) {
                                var b;
                                if (e)
                                    (b = null === d.seg.myFill.below || d.seg.myFill.above !== d.seg.myFill.below) && (m.seg.myFill.above = !m.seg.myFill.above);
                                else
                                    m.seg.otherFill = d.seg.myFill;
                                r && r.segmentUpdate(m.seg),
                                d.other.remove(),
                                d.remove()
                            }
                            if (i.getHead() !== d) {
                                r && r.rewind(d.seg);
                                continue
                            }
                            if (e)
                                b = null === d.seg.myFill.below || d.seg.myFill.above !== d.seg.myFill.below,
                                d.seg.myFill.below = g ? g.seg.myFill.above : a,
                                d.seg.myFill.above = b ? !d.seg.myFill.below : d.seg.myFill.below;
                            else if (null === d.seg.otherFill)
                                v = g ? d.primary === g.primary ? g.seg.otherFill.above : g.seg.myFill.above : d.primary ? o : a,
                                d.seg.otherFill = {
                                    above: v,
                                    below: v
                                };
                            r && r.status(d.seg, !!p && p.seg, !!g && g.seg),
                            d.other.status = h.insert(n.node({
                                ev: d
                            }))
                        } else {
                            var x = d.status;
                            if (null === x)
                                throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");
                            if (s.exists(x.prev) && s.exists(x.next) && u(x.prev.ev, x.next.ev),
                            r && r.statusRemove(x.ev.seg),
                            x.remove(),
                            !d.primary) {
                                var _ = d.seg.myFill;
                                d.seg.myFill = d.seg.otherFill,
                                d.seg.otherFill = _
                            }
                            f.push(d.seg)
                        }
                        i.getHead().remove()
                    }
                    return r && r.done(),
                    f
                }
                return e ? {
                    addRegion: function(e) {
                        for (var n, a, i, o = e[e.length - 1], l = 0; l < e.length; l++) {
                            n = o,
                            o = e[l];
                            var c = t.pointsCompare(n, o);
                            0 !== c && s((a = c < 0 ? n : o,
                            i = c < 0 ? o : n,
                            {
                                id: r ? r.segmentId() : -1,
                                start: a,
                                end: i,
                                myFill: {
                                    above: null,
                                    below: null
                                },
                                otherFill: null
                            }), !0)
                        }
                    },
                    calculate: function(e) {
                        return c(e, !1)
                    }
                } : {
                    calculate: function(e, t, r, n) {
                        return e.forEach((function(e) {
                            s(a(e.start, e.end, e), !0)
                        }
                        )),
                        r.forEach((function(e) {
                            s(a(e.start, e.end, e), !1)
                        }
                        )),
                        c(t, n)
                    }
                }
            }
        }
        , {
            "./linked-list": 170
        }],
        170: [function(e, t, r) {
            t.exports = {
                create: function() {
                    var e = {
                        root: {
                            root: !0,
                            next: null
                        },
                        exists: function(t) {
                            return null !== t && t !== e.root
                        },
                        isEmpty: function() {
                            return null === e.root.next
                        },
                        getHead: function() {
                            return e.root.next
                        },
                        insertBefore: function(t, r) {
                            for (var n = e.root, a = e.root.next; null !== a; ) {
                                if (r(a))
                                    return t.prev = a.prev,
                                    t.next = a,
                                    a.prev.next = t,
                                    void (a.prev = t);
                                n = a,
                                a = a.next
                            }
                            n.next = t,
                            t.prev = n,
                            t.next = null
                        },
                        findTransition: function(t) {
                            for (var r = e.root, n = e.root.next; null !== n && !t(n); )
                                r = n,
                                n = n.next;
                            return {
                                before: r === e.root ? null : r,
                                after: n,
                                insert: function(e) {
                                    return e.prev = r,
                                    e.next = n,
                                    r.next = e,
                                    null !== n && (n.prev = e),
                                    e
                                }
                            }
                        }
                    };
                    return e
                },
                node: function(e) {
                    return e.prev = null,
                    e.next = null,
                    e.remove = function() {
                        e.prev.next = e.next,
                        e.next && (e.next.prev = e.prev),
                        e.prev = null,
                        e.next = null
                    }
                    ,
                    e
                }
            }
        }
        , {}],
        171: [function(e, t, r) {
            t.exports = function(e, t, r) {
                var n = []
                  , a = [];
                return e.forEach((function(e) {
                    var i = e.start
                      , o = e.end;
                    if (t.pointsSame(i, o))
                        console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");
                    else {
                        r && r.chainStart(e);
                        for (var s = {
                            index: 0,
                            matches_head: !1,
                            matches_pt1: !1
                        }, l = {
                            index: 0,
                            matches_head: !1,
                            matches_pt1: !1
                        }, c = s, u = 0; u < n.length; u++) {
                            var f = (y = n[u])[0]
                              , d = (y[1],
                            y[y.length - 1]);
                            y[y.length - 2];
                            if (t.pointsSame(f, i)) {
                                if (k(u, !0, !0))
                                    break
                            } else if (t.pointsSame(f, o)) {
                                if (k(u, !0, !1))
                                    break
                            } else if (t.pointsSame(d, i)) {
                                if (k(u, !1, !0))
                                    break
                            } else if (t.pointsSame(d, o) && k(u, !1, !1))
                                break
                        }
                        if (c === s)
                            return n.push([i, o]),
                            void (r && r.chainNew(i, o));
                        if (c === l) {
                            r && r.chainMatch(s.index);
                            var h = s.index
                              , p = s.matches_pt1 ? o : i
                              , g = s.matches_head
                              , y = n[h]
                              , v = g ? y[0] : y[y.length - 1]
                              , m = g ? y[1] : y[y.length - 2]
                              , b = g ? y[y.length - 1] : y[0]
                              , x = g ? y[y.length - 2] : y[1];
                            return t.pointsCollinear(m, v, p) && (g ? (r && r.chainRemoveHead(s.index, p),
                            y.shift()) : (r && r.chainRemoveTail(s.index, p),
                            y.pop()),
                            v = m),
                            t.pointsSame(b, p) ? (n.splice(h, 1),
                            t.pointsCollinear(x, b, v) && (g ? (r && r.chainRemoveTail(s.index, v),
                            y.pop()) : (r && r.chainRemoveHead(s.index, v),
                            y.shift())),
                            r && r.chainClose(s.index),
                            void a.push(y)) : void (g ? (r && r.chainAddHead(s.index, p),
                            y.unshift(p)) : (r && r.chainAddTail(s.index, p),
                            y.push(p)))
                        }
                        var _ = s.index
                          , w = l.index;
                        r && r.chainConnect(_, w);
                        var A = n[_].length < n[w].length;
                        s.matches_head ? l.matches_head ? A ? (T(_),
                        M(_, w)) : (T(w),
                        M(w, _)) : M(w, _) : l.matches_head ? M(_, w) : A ? (T(_),
                        M(w, _)) : (T(w),
                        M(_, w))
                    }
                    function k(e, t, r) {
                        return c.index = e,
                        c.matches_head = t,
                        c.matches_pt1 = r,
                        c === s ? (c = l,
                        !1) : (c = null,
                        !0)
                    }
                    function T(e) {
                        r && r.chainReverse(e),
                        n[e].reverse()
                    }
                    function M(e, a) {
                        var i = n[e]
                          , o = n[a]
                          , s = i[i.length - 1]
                          , l = i[i.length - 2]
                          , c = o[0]
                          , u = o[1];
                        t.pointsCollinear(l, s, c) && (r && r.chainRemoveTail(e, s),
                        i.pop(),
                        s = l),
                        t.pointsCollinear(s, c, u) && (r && r.chainRemoveHead(a, c),
                        o.shift()),
                        r && r.chainJoin(e, a),
                        n[e] = i.concat(o),
                        n.splice(a, 1)
                    }
                }
                )),
                a
            }
        }
        , {}],
        172: [function(e, t, r) {
            function n(e, t, r) {
                var n = [];
                return e.forEach((function(e) {
                    var a = (e.myFill.above ? 8 : 0) + (e.myFill.below ? 4 : 0) + (e.otherFill && e.otherFill.above ? 2 : 0) + (e.otherFill && e.otherFill.below ? 1 : 0);
                    0 !== t[a] && n.push({
                        id: r ? r.segmentId() : -1,
                        start: e.start,
                        end: e.end,
                        myFill: {
                            above: 1 === t[a],
                            below: 2 === t[a]
                        },
                        otherFill: null
                    })
                }
                )),
                r && r.selected(n),
                n
            }
            var a = {
                union: function(e, t) {
                    return n(e, [0, 2, 1, 0, 2, 2, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0], t)
                },
                intersect: function(e, t) {
                    return n(e, [0, 0, 0, 0, 0, 2, 0, 2, 0, 0, 1, 1, 0, 2, 1, 0], t)
                },
                difference: function(e, t) {
                    return n(e, [0, 0, 0, 0, 2, 0, 2, 0, 1, 1, 0, 0, 0, 1, 2, 0], t)
                },
                differenceRev: function(e, t) {
                    return n(e, [0, 2, 1, 0, 0, 0, 1, 1, 0, 2, 0, 2, 0, 0, 0, 0], t)
                },
                xor: function(e, t) {
                    return n(e, [0, 2, 1, 0, 2, 0, 0, 1, 1, 0, 0, 2, 0, 1, 2, 0], t)
                }
            };
            t.exports = a
        }
        , {}],
        173: [function(e, t, r) {
            var n, a, i = t.exports = {};
            function o() {
                throw new Error("setTimeout has not been defined")
            }
            function s() {
                throw new Error("clearTimeout has not been defined")
            }
            function l(e) {
                if (n === setTimeout)
                    return setTimeout(e, 0);
                if ((n === o || !n) && setTimeout)
                    return n = setTimeout,
                    setTimeout(e, 0);
                try {
                    return n(e, 0)
                } catch (t) {
                    try {
                        return n.call(null, e, 0)
                    } catch (t) {
                        return n.call(this, e, 0)
                    }
                }
            }
            !function() {
                try {
                    n = "function" == typeof setTimeout ? setTimeout : o
                } catch (e) {
                    n = o
                }
                try {
                    a = "function" == typeof clearTimeout ? clearTimeout : s
                } catch (e) {
                    a = s
                }
            }();
            var c, u = [], f = !1, d = -1;
            function h() {
                f && c && (f = !1,
                c.length ? u = c.concat(u) : d = -1,
                u.length && p())
            }
            function p() {
                if (!f) {
                    var e = l(h);
                    f = !0;
                    for (var t = u.length; t; ) {
                        for (c = u,
                        u = []; ++d < t; )
                            c && c[d].run();
                        d = -1,
                        t = u.length
                    }
                    c = null,
                    f = !1,
                    function(e) {
                        if (a === clearTimeout)
                            return clearTimeout(e);
                        if ((a === s || !a) && clearTimeout)
                            return a = clearTimeout,
                            clearTimeout(e);
                        try {
                            a(e)
                        } catch (t) {
                            try {
                                return a.call(null, e)
                            } catch (t) {
                                return a.call(this, e)
                            }
                        }
                    }(e)
                }
            }
            function g(e, t) {
                this.fun = e,
                this.array = t
            }
            function y() {}
            i.nextTick = function(e) {
                var t = new Array(arguments.length - 1);
                if (arguments.length > 1)
                    for (var r = 1; r < arguments.length; r++)
                        t[r - 1] = arguments[r];
                u.push(new g(e,t)),
                1 !== u.length || f || l(p)
            }
            ,
            g.prototype.run = function() {
                this.fun.apply(null, this.array)
            }
            ,
            i.title = "browser",
            i.browser = !0,
            i.env = {},
            i.argv = [],
            i.version = "",
            i.versions = {},
            i.on = y,
            i.addListener = y,
            i.once = y,
            i.off = y,
            i.removeListener = y,
            i.removeAllListeners = y,
            i.emit = y,
            i.prependListener = y,
            i.prependOnceListener = y,
            i.listeners = function(e) {
                return []
            }
            ,
            i.binding = function(e) {
                throw new Error("process.binding is not supported")
            }
            ,
            i.cwd = function() {
                return "/"
            }
            ,
            i.chdir = function(e) {
                throw new Error("process.chdir is not supported")
            }
            ,
            i.umask = function() {
                return 0
            }
        }
        , {}],
        174: [function(e, t, r) {
            "use strict";
            var n = e("array-bounds")
              , a = e("color-normalize")
              , i = e("update-diff")
              , o = e("pick-by-alias")
              , s = e("object-assign")
              , l = e("flatten-vertex-data")
              , c = e("to-float32")
              , u = c.float32
              , f = c.fract32;
            t.exports = function(e, t) {
                "function" == typeof e ? (t || (t = {}),
                t.regl = e) : t = e;
                t.length && (t.positions = t);
                if (!(e = t.regl).hasExtension("ANGLE_instanced_arrays"))
                    throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");
                var r, c, h, p, g, y, v = e._gl, m = {
                    color: "black",
                    capSize: 5,
                    lineWidth: 1,
                    opacity: 1,
                    viewport: null,
                    range: null,
                    offset: 0,
                    count: 0,
                    bounds: null,
                    positions: [],
                    errors: []
                }, b = [];
                return p = e.buffer({
                    usage: "dynamic",
                    type: "uint8",
                    data: new Uint8Array(0)
                }),
                c = e.buffer({
                    usage: "dynamic",
                    type: "float",
                    data: new Uint8Array(0)
                }),
                h = e.buffer({
                    usage: "dynamic",
                    type: "float",
                    data: new Uint8Array(0)
                }),
                g = e.buffer({
                    usage: "dynamic",
                    type: "float",
                    data: new Uint8Array(0)
                }),
                y = e.buffer({
                    usage: "static",
                    type: "float",
                    data: d
                }),
                A(t),
                r = e({
                    vert: "\n\t\tprecision highp float;\n\n\t\tattribute vec2 position, positionFract;\n\t\tattribute vec4 error;\n\t\tattribute vec4 color;\n\n\t\tattribute vec2 direction, lineOffset, capOffset;\n\n\t\tuniform vec4 viewport;\n\t\tuniform float lineWidth, capSize;\n\t\tuniform vec2 scale, scaleFract, translate, translateFract;\n\n\t\tvarying vec4 fragColor;\n\n\t\tvoid main() {\n\t\t\tfragColor = color / 255.;\n\n\t\t\tvec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;\n\n\t\t\tvec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;\n\n\t\t\tvec2 position = position + dxy;\n\n\t\t\tvec2 pos = (position + translate) * scale\n\t\t\t\t+ (positionFract + translateFract) * scale\n\t\t\t\t+ (position + translate) * scaleFract\n\t\t\t\t+ (positionFract + translateFract) * scaleFract;\n\n\t\t\tpos += pixelOffset / viewport.zw;\n\n\t\t\tgl_Position = vec4(pos * 2. - 1., 0, 1);\n\t\t}\n\t\t",
                    frag: "\n\t\tprecision highp float;\n\n\t\tvarying vec4 fragColor;\n\n\t\tuniform float opacity;\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = fragColor;\n\t\t\tgl_FragColor.a *= opacity;\n\t\t}\n\t\t",
                    uniforms: {
                        range: e.prop("range"),
                        lineWidth: e.prop("lineWidth"),
                        capSize: e.prop("capSize"),
                        opacity: e.prop("opacity"),
                        scale: e.prop("scale"),
                        translate: e.prop("translate"),
                        scaleFract: e.prop("scaleFract"),
                        translateFract: e.prop("translateFract"),
                        viewport: function(e, t) {
                            return [t.viewport.x, t.viewport.y, e.viewportWidth, e.viewportHeight]
                        }
                    },
                    attributes: {
                        color: {
                            buffer: p,
                            offset: function(e, t) {
                                return 4 * t.offset
                            },
                            divisor: 1
                        },
                        position: {
                            buffer: c,
                            offset: function(e, t) {
                                return 8 * t.offset
                            },
                            divisor: 1
                        },
                        positionFract: {
                            buffer: h,
                            offset: function(e, t) {
                                return 8 * t.offset
                            },
                            divisor: 1
                        },
                        error: {
                            buffer: g,
                            offset: function(e, t) {
                                return 16 * t.offset
                            },
                            divisor: 1
                        },
                        direction: {
                            buffer: y,
                            stride: 24,
                            offset: 0
                        },
                        lineOffset: {
                            buffer: y,
                            stride: 24,
                            offset: 8
                        },
                        capOffset: {
                            buffer: y,
                            stride: 24,
                            offset: 16
                        }
                    },
                    primitive: "triangles",
                    blend: {
                        enable: !0,
                        color: [0, 0, 0, 0],
                        equation: {
                            rgb: "add",
                            alpha: "add"
                        },
                        func: {
                            srcRGB: "src alpha",
                            dstRGB: "one minus src alpha",
                            srcAlpha: "one minus dst alpha",
                            dstAlpha: "one"
                        }
                    },
                    depth: {
                        enable: !1
                    },
                    scissor: {
                        enable: !0,
                        box: e.prop("viewport")
                    },
                    viewport: e.prop("viewport"),
                    stencil: !1,
                    instances: e.prop("count"),
                    count: d.length
                }),
                s(x, {
                    update: A,
                    draw: _,
                    destroy: k,
                    regl: e,
                    gl: v,
                    canvas: v.canvas,
                    groups: b
                }),
                x;
                function x(e) {
                    e ? A(e) : null === e && k(),
                    _()
                }
                function _(t) {
                    if ("number" == typeof t)
                        return w(t);
                    t && !Array.isArray(t) && (t = [t]),
                    e._refresh(),
                    b.forEach((function(e, r) {
                        e && (t && (t[r] ? e.draw = !0 : e.draw = !1),
                        e.draw ? w(r) : e.draw = !0)
                    }
                    ))
                }
                function w(e) {
                    "number" == typeof e && (e = b[e]),
                    null != e && e && e.count && e.color && e.opacity && e.positions && e.positions.length > 1 && (e.scaleRatio = [e.scale[0] * e.viewport.width, e.scale[1] * e.viewport.height],
                    r(e),
                    e.after && e.after(e))
                }
                function A(e) {
                    if (e) {
                        null != e.length ? "number" == typeof e[0] && (e = [{
                            positions: e
                        }]) : Array.isArray(e) || (e = [e]);
                        var t = 0
                          , r = 0;
                        if (x.groups = b = e.map((function(e, c) {
                            var u = b[c];
                            return e ? ("function" == typeof e ? e = {
                                after: e
                            } : "number" == typeof e[0] && (e = {
                                positions: e
                            }),
                            e = o(e, {
                                color: "color colors fill",
                                capSize: "capSize cap capsize cap-size",
                                lineWidth: "lineWidth line-width width line thickness",
                                opacity: "opacity alpha",
                                range: "range dataBox",
                                viewport: "viewport viewBox",
                                errors: "errors error",
                                positions: "positions position data points"
                            }),
                            u || (b[c] = u = {
                                id: c,
                                scale: null,
                                translate: null,
                                scaleFract: null,
                                translateFract: null,
                                draw: !0
                            },
                            e = s({}, m, e)),
                            i(u, e, [{
                                lineWidth: function(e) {
                                    return .5 * +e
                                },
                                capSize: function(e) {
                                    return .5 * +e
                                },
                                opacity: parseFloat,
                                errors: function(e) {
                                    return e = l(e),
                                    r += e.length,
                                    e
                                },
                                positions: function(e, r) {
                                    return e = l(e, "float64"),
                                    r.count = Math.floor(e.length / 2),
                                    r.bounds = n(e, 2),
                                    r.offset = t,
                                    t += r.count,
                                    e
                                }
                            }, {
                                color: function(e, t) {
                                    var r = t.count;
                                    if (e || (e = "transparent"),
                                    !Array.isArray(e) || "number" == typeof e[0]) {
                                        var n = e;
                                        e = Array(r);
                                        for (var i = 0; i < r; i++)
                                            e[i] = n
                                    }
                                    if (e.length < r)
                                        throw Error("Not enough colors");
                                    for (var o = new Uint8Array(4 * r), s = 0; s < r; s++) {
                                        var l = a(e[s], "uint8");
                                        o.set(l, 4 * s)
                                    }
                                    return o
                                },
                                range: function(e, t, r) {
                                    var n = t.bounds;
                                    return e || (e = n),
                                    t.scale = [1 / (e[2] - e[0]), 1 / (e[3] - e[1])],
                                    t.translate = [-e[0], -e[1]],
                                    t.scaleFract = f(t.scale),
                                    t.translateFract = f(t.translate),
                                    e
                                },
                                viewport: function(e) {
                                    var t;
                                    return Array.isArray(e) ? t = {
                                        x: e[0],
                                        y: e[1],
                                        width: e[2] - e[0],
                                        height: e[3] - e[1]
                                    } : e ? (t = {
                                        x: e.x || e.left || 0,
                                        y: e.y || e.top || 0
                                    },
                                    e.right ? t.width = e.right - t.x : t.width = e.w || e.width || 0,
                                    e.bottom ? t.height = e.bottom - t.y : t.height = e.h || e.height || 0) : t = {
                                        x: 0,
                                        y: 0,
                                        width: v.drawingBufferWidth,
                                        height: v.drawingBufferHeight
                                    },
                                    t
                                }
                            }]),
                            u) : u
                        }
                        )),
                        t || r) {
                            var d = b.reduce((function(e, t, r) {
                                return e + (t ? t.count : 0)
                            }
                            ), 0)
                              , y = new Float64Array(2 * d)
                              , _ = new Uint8Array(4 * d)
                              , w = new Float32Array(4 * d);
                            b.forEach((function(e, t) {
                                if (e) {
                                    var r = e.positions
                                      , n = e.count
                                      , a = e.offset
                                      , i = e.color
                                      , o = e.errors;
                                    n && (_.set(i, 4 * a),
                                    w.set(o, 4 * a),
                                    y.set(r, 2 * a))
                                }
                            }
                            )),
                            c(u(y)),
                            h(f(y)),
                            p(_),
                            g(w)
                        }
                    }
                }
                function k() {
                    c.destroy(),
                    h.destroy(),
                    p.destroy(),
                    g.destroy(),
                    y.destroy()
                }
            }
            ;
            var d = [[1, 0, 0, 1, 0, 0], [1, 0, 0, -1, 0, 0], [-1, 0, 0, -1, 0, 0], [-1, 0, 0, -1, 0, 0], [-1, 0, 0, 1, 0, 0], [1, 0, 0, 1, 0, 0], [1, 0, -1, 0, 0, 1], [1, 0, -1, 0, 0, -1], [1, 0, 1, 0, 0, -1], [1, 0, 1, 0, 0, -1], [1, 0, 1, 0, 0, 1], [1, 0, -1, 0, 0, 1], [-1, 0, -1, 0, 0, 1], [-1, 0, -1, 0, 0, -1], [-1, 0, 1, 0, 0, -1], [-1, 0, 1, 0, 0, -1], [-1, 0, 1, 0, 0, 1], [-1, 0, -1, 0, 0, 1], [0, 1, 1, 0, 0, 0], [0, 1, -1, 0, 0, 0], [0, -1, -1, 0, 0, 0], [0, -1, -1, 0, 0, 0], [0, 1, 1, 0, 0, 0], [0, -1, 1, 0, 0, 0], [0, 1, 0, -1, 1, 0], [0, 1, 0, -1, -1, 0], [0, 1, 0, 1, -1, 0], [0, 1, 0, 1, 1, 0], [0, 1, 0, -1, 1, 0], [0, 1, 0, 1, -1, 0], [0, -1, 0, -1, 1, 0], [0, -1, 0, -1, -1, 0], [0, -1, 0, 1, -1, 0], [0, -1, 0, 1, 1, 0], [0, -1, 0, -1, 1, 0], [0, -1, 0, 1, -1, 0]]
        }
        , {
            "array-bounds": 10,
            "color-normalize": 21,
            "flatten-vertex-data": 108,
            "object-assign": 159,
            "pick-by-alias": 164,
            "to-float32": 185,
            "update-diff": 200
        }],
        175: [function(e, t, r) {
            "use strict";
            var n = e("color-normalize")
              , a = e("array-bounds")
              , i = e("object-assign")
              , o = e("glslify")
              , s = e("pick-by-alias")
              , l = e("flatten-vertex-data")
              , c = e("earcut")
              , u = e("array-normalize")
              , f = e("to-float32")
              , d = f.float32
              , h = f.fract32
              , p = e("es6-weak-map")
              , g = e("parse-rect")
              , y = e("array-find-index");
            function v(e, t) {
                if (!(this instanceof v))
                    return new v(e,t);
                if ("function" == typeof e ? (t || (t = {}),
                t.regl = e) : t = e,
                t.length && (t.positions = t),
                !(e = t.regl).hasExtension("ANGLE_instanced_arrays"))
                    throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");
                this.gl = e._gl,
                this.regl = e,
                this.passes = [],
                this.shaders = v.shaders.has(e) ? v.shaders.get(e) : v.shaders.set(e, v.createShaders(e)).get(e),
                this.update(t)
            }
            t.exports = v,
            v.dashMult = 2,
            v.maxPatternLength = 256,
            v.precisionThreshold = 3e6,
            v.maxPoints = 1e4,
            v.maxLines = 2048,
            v.shaders = new p,
            v.createShaders = function(e) {
                var t, r = e.buffer({
                    usage: "static",
                    type: "float",
                    data: [0, 1, 0, 0, 1, 1, 1, 0]
                }), n = {
                    primitive: "triangle strip",
                    instances: e.prop("count"),
                    count: 4,
                    offset: 0,
                    uniforms: {
                        miterMode: function(e, t) {
                            return "round" === t.join ? 2 : 1
                        },
                        miterLimit: e.prop("miterLimit"),
                        scale: e.prop("scale"),
                        scaleFract: e.prop("scaleFract"),
                        translateFract: e.prop("translateFract"),
                        translate: e.prop("translate"),
                        thickness: e.prop("thickness"),
                        dashPattern: e.prop("dashTexture"),
                        opacity: e.prop("opacity"),
                        pixelRatio: e.context("pixelRatio"),
                        id: e.prop("id"),
                        dashSize: e.prop("dashLength"),
                        viewport: function(e, t) {
                            return [t.viewport.x, t.viewport.y, e.viewportWidth, e.viewportHeight]
                        },
                        depth: e.prop("depth")
                    },
                    blend: {
                        enable: !0,
                        color: [0, 0, 0, 0],
                        equation: {
                            rgb: "add",
                            alpha: "add"
                        },
                        func: {
                            srcRGB: "src alpha",
                            dstRGB: "one minus src alpha",
                            srcAlpha: "one minus dst alpha",
                            dstAlpha: "one"
                        }
                    },
                    depth: {
                        enable: function(e, t) {
                            return !t.overlay
                        }
                    },
                    stencil: {
                        enable: !1
                    },
                    scissor: {
                        enable: !0,
                        box: e.prop("viewport")
                    },
                    viewport: e.prop("viewport")
                }, a = e(i({
                    vert: o(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;\nattribute vec4 color;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {\n\t// the order is important\n\treturn position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n}\n\nvoid main() {\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineOffset = lineTop * 2. - 1.;\n\n\tvec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);\n\ttangent = normalize(diff * scale * viewport.zw);\n\tvec2 normal = vec2(-tangent.y, tangent.x);\n\n\tvec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart\n\t\t+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd\n\n\t\t+ thickness * normal * .5 * lineOffset / viewport.zw;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n}\n"]),
                    frag: o(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D dashPattern;\n\nuniform float dashSize, pixelRatio, thickness, opacity, id;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\n\nvoid main() {\n\tfloat alpha = 1.;\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashSize) * .5 + .25;\n\tfloat dash = texture2D(dashPattern, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),
                    attributes: {
                        lineEnd: {
                            buffer: r,
                            divisor: 0,
                            stride: 8,
                            offset: 0
                        },
                        lineTop: {
                            buffer: r,
                            divisor: 0,
                            stride: 8,
                            offset: 4
                        },
                        aCoord: {
                            buffer: e.prop("positionBuffer"),
                            stride: 8,
                            offset: 8,
                            divisor: 1
                        },
                        bCoord: {
                            buffer: e.prop("positionBuffer"),
                            stride: 8,
                            offset: 16,
                            divisor: 1
                        },
                        aCoordFract: {
                            buffer: e.prop("positionFractBuffer"),
                            stride: 8,
                            offset: 8,
                            divisor: 1
                        },
                        bCoordFract: {
                            buffer: e.prop("positionFractBuffer"),
                            stride: 8,
                            offset: 16,
                            divisor: 1
                        },
                        color: {
                            buffer: e.prop("colorBuffer"),
                            stride: 4,
                            offset: 0,
                            divisor: 1
                        }
                    }
                }, n));
                try {
                    t = e(i({
                        cull: {
                            enable: !0,
                            face: "back"
                        },
                        vert: o(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 aCoord, bCoord, nextCoord, prevCoord;\nattribute vec4 aColor, bColor;\nattribute float lineEnd, lineTop;\n\nuniform vec2 scale, translate;\nuniform float thickness, pixelRatio, id, depth;\nuniform vec4 viewport;\nuniform float miterLimit, miterMode;\n\nvarying vec4 fragColor;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 tangent;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nconst float REVERSE_THRESHOLD = -.875;\nconst float MIN_DIFF = 1e-6;\n\n// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead\n// TODO: precalculate dot products, normalize things beforehead etc.\n// TODO: refactor to rectangular algorithm\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nbool isNaN( float val ){\n  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}\n\nvoid main() {\n\tvec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;\n\n  vec2 adjustedScale;\n  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;\n  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;\n\n  vec2 scaleRatio = adjustedScale * viewport.zw;\n\tvec2 normalWidth = thickness / scaleRatio;\n\n\tfloat lineStart = 1. - lineEnd;\n\tfloat lineBot = 1. - lineTop;\n\n\tfragColor = (lineStart * aColor + lineEnd * bColor) / 255.;\n\n\tif (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;\n\n\tif (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);\n\tif (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);\n\n\tvec2 prevDiff = aCoord - prevCoord;\n\tvec2 currDiff = bCoord - aCoord;\n\tvec2 nextDiff = nextCoord - bCoord;\n\n\tvec2 prevTangent = normalize(prevDiff * scaleRatio);\n\tvec2 currTangent = normalize(currDiff * scaleRatio);\n\tvec2 nextTangent = normalize(nextDiff * scaleRatio);\n\n\tvec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);\n\tvec2 currNormal = vec2(-currTangent.y, currTangent.x);\n\tvec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);\n\n\tvec2 startJoinDirection = normalize(prevTangent - currTangent);\n\tvec2 endJoinDirection = normalize(currTangent - nextTangent);\n\n\t// collapsed/unidirectional segment cases\n\t// FIXME: there should be more elegant solution\n\tvec2 prevTanDiff = abs(prevTangent - currTangent);\n\tvec2 nextTanDiff = abs(nextTangent - currTangent);\n\tif (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {\n\t\tstartJoinDirection = currNormal;\n\t}\n\tif (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {\n\t\tendJoinDirection = currNormal;\n\t}\n\tif (aCoord == bCoord) {\n\t\tendJoinDirection = startJoinDirection;\n\t\tcurrNormal = prevNormal;\n\t\tcurrTangent = prevTangent;\n\t}\n\n\ttangent = currTangent;\n\n\t//calculate join shifts relative to normals\n\tfloat startJoinShift = dot(currNormal, startJoinDirection);\n\tfloat endJoinShift = dot(currNormal, endJoinDirection);\n\n\tfloat startMiterRatio = abs(1. / startJoinShift);\n\tfloat endMiterRatio = abs(1. / endJoinShift);\n\n\tvec2 startJoin = startJoinDirection * startMiterRatio;\n\tvec2 endJoin = endJoinDirection * endMiterRatio;\n\n\tvec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;\n\tstartTopJoin = sign(startJoinShift) * startJoin * .5;\n\tstartBotJoin = -startTopJoin;\n\n\tendTopJoin = sign(endJoinShift) * endJoin * .5;\n\tendBotJoin = -endTopJoin;\n\n\tvec2 aTopCoord = aCoord + normalWidth * startTopJoin;\n\tvec2 bTopCoord = bCoord + normalWidth * endTopJoin;\n\tvec2 aBotCoord = aCoord + normalWidth * startBotJoin;\n\tvec2 bBotCoord = bCoord + normalWidth * endBotJoin;\n\n\t//miter anti-clipping\n\tfloat baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));\n\tfloat abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));\n\n\t//prevent close to reverse direction switch\n\tbool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\tbool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);\n\n\tif (prevReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);\n\t\taBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\taTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {\n\t\t//handle miter clipping\n\t\tbTopCoord -= normalWidth * endTopJoin;\n\t\tbTopCoord += normalize(endTopJoin * normalWidth) * baClipping;\n\t}\n\n\tif (nextReverse) {\n\t\t//make join rectangular\n\t\tvec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;\n\t\tfloat normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);\n\t\tbBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;\n\t\tbTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;\n\t}\n\telse if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {\n\t\t//handle miter clipping\n\t\taBotCoord -= normalWidth * startBotJoin;\n\t\taBotCoord += normalize(startBotJoin * normalWidth) * abClipping;\n\t}\n\n\tvec2 aTopPosition = (aTopCoord) * adjustedScale + translate;\n\tvec2 aBotPosition = (aBotCoord) * adjustedScale + translate;\n\n\tvec2 bTopPosition = (bTopCoord) * adjustedScale + translate;\n\tvec2 bBotPosition = (bBotCoord) * adjustedScale + translate;\n\n\t//position is normalized 0..1 coord on the screen\n\tvec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;\n\n\tstartCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\tendCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;\n\n\tgl_Position = vec4(position  * 2.0 - 1.0, depth, 1);\n\n\tenableStartMiter = step(dot(currTangent, prevTangent), .5);\n\tenableEndMiter = step(dot(currTangent, nextTangent), .5);\n\n\t//bevel miter cutoffs\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n\n\t//round miter cutoffs\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tvec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;\n\t\t\tstartCutoff = vec4(aCoord, aCoord);\n\t\t\tstartCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;\n\t\t\tstartCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tstartCutoff += viewport.xyxy;\n\t\t\tstartCutoff += startMiterWidth.xyxy;\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tvec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;\n\t\t\tendCutoff = vec4(bCoord, bCoord);\n\t\t\tendCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;\n\t\t\tendCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;\n\t\t\tendCutoff += viewport.xyxy;\n\t\t\tendCutoff += endMiterWidth.xyxy;\n\t\t}\n\t}\n}\n"]),
                        frag: o(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D dashPattern;\nuniform float dashSize, pixelRatio, thickness, opacity, id, miterMode;\n\nvarying vec4 fragColor;\nvarying vec2 tangent;\nvarying vec4 startCutoff, endCutoff;\nvarying vec2 startCoord, endCoord;\nvarying float enableStartMiter, enableEndMiter;\n\nfloat distToLine(vec2 p, vec2 a, vec2 b) {\n\tvec2 diff = b - a;\n\tvec2 perp = normalize(vec2(-diff.y, diff.x));\n\treturn dot(p - a, perp);\n}\n\nvoid main() {\n\tfloat alpha = 1., distToStart, distToEnd;\n\tfloat cutoff = thickness * .5;\n\n\t//bevel miter\n\tif (miterMode == 1.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToStart + 1., 0.), 1.);\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < -1.) {\n\t\t\t\tdiscard;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\talpha *= min(max(distToEnd + 1., 0.), 1.);\n\t\t}\n\t}\n\n\t// round miter\n\telse if (miterMode == 2.) {\n\t\tif (enableStartMiter == 1.) {\n\t\t\tdistToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);\n\t\t\tif (distToStart < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - startCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\n\t\tif (enableEndMiter == 1.) {\n\t\t\tdistToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);\n\t\t\tif (distToEnd < 0.) {\n\t\t\t\tfloat radius = length(gl_FragCoord.xy - endCoord);\n\n\t\t\t\tif(radius > cutoff + .5) {\n\t\t\t\t\tdiscard;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\talpha -= smoothstep(cutoff - .5, cutoff + .5, radius);\n\t\t\t}\n\t\t}\n\t}\n\n\tfloat t = fract(dot(tangent, gl_FragCoord.xy) / dashSize) * .5 + .25;\n\tfloat dash = texture2D(dashPattern, vec2(t, .5)).r;\n\n\tgl_FragColor = fragColor;\n\tgl_FragColor.a *= alpha * opacity * dash;\n}\n"]),
                        attributes: {
                            lineEnd: {
                                buffer: r,
                                divisor: 0,
                                stride: 8,
                                offset: 0
                            },
                            lineTop: {
                                buffer: r,
                                divisor: 0,
                                stride: 8,
                                offset: 4
                            },
                            aColor: {
                                buffer: e.prop("colorBuffer"),
                                stride: 4,
                                offset: 0,
                                divisor: 1
                            },
                            bColor: {
                                buffer: e.prop("colorBuffer"),
                                stride: 4,
                                offset: 4,
                                divisor: 1
                            },
                            prevCoord: {
                                buffer: e.prop("positionBuffer"),
                                stride: 8,
                                offset: 0,
                                divisor: 1
                            },
                            aCoord: {
                                buffer: e.prop("positionBuffer"),
                                stride: 8,
                                offset: 8,
                                divisor: 1
                            },
                            bCoord: {
                                buffer: e.prop("positionBuffer"),
                                stride: 8,
                                offset: 16,
                                divisor: 1
                            },
                            nextCoord: {
                                buffer: e.prop("positionBuffer"),
                                stride: 8,
                                offset: 24,
                                divisor: 1
                            }
                        }
                    }, n))
                } catch (e) {
                    t = a
                }
                return {
                    fill: e({
                        primitive: "triangle",
                        elements: function(e, t) {
                            return t.triangles
                        },
                        offset: 0,
                        vert: o(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec2 position, positionFract;\n\nuniform vec4 color;\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio, id;\nuniform vec4 viewport;\nuniform float opacity;\n\nvarying vec4 fragColor;\n\nconst float MAX_LINES = 256.;\n\nvoid main() {\n\tfloat depth = (MAX_LINES - 4. - id) / (MAX_LINES);\n\n\tvec2 position = position * scale + translate\n       + positionFract * scale + translateFract\n       + position * scaleFract\n       + positionFract * scaleFract;\n\n\tgl_Position = vec4(position * 2.0 - 1.0, depth, 1);\n\n\tfragColor = color / 255.;\n\tfragColor.a *= opacity;\n}\n"]),
                        frag: o(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n\tgl_FragColor = fragColor;\n}\n"]),
                        uniforms: {
                            scale: e.prop("scale"),
                            color: e.prop("fill"),
                            scaleFract: e.prop("scaleFract"),
                            translateFract: e.prop("translateFract"),
                            translate: e.prop("translate"),
                            opacity: e.prop("opacity"),
                            pixelRatio: e.context("pixelRatio"),
                            id: e.prop("id"),
                            viewport: function(e, t) {
                                return [t.viewport.x, t.viewport.y, e.viewportWidth, e.viewportHeight]
                            }
                        },
                        attributes: {
                            position: {
                                buffer: e.prop("positionBuffer"),
                                stride: 8,
                                offset: 8
                            },
                            positionFract: {
                                buffer: e.prop("positionFractBuffer"),
                                stride: 8,
                                offset: 8
                            }
                        },
                        blend: n.blend,
                        depth: {
                            enable: !1
                        },
                        scissor: n.scissor,
                        stencil: n.stencil,
                        viewport: n.viewport
                    }),
                    rect: a,
                    miter: t
                }
            }
            ,
            v.defaults = {
                dashes: null,
                join: "miter",
                miterLimit: 1,
                thickness: 10,
                cap: "square",
                color: "black",
                opacity: 1,
                overlay: !1,
                viewport: null,
                range: null,
                close: !1,
                fill: null
            },
            v.prototype.render = function() {
                for (var e, t = [], r = arguments.length; r--; )
                    t[r] = arguments[r];
                t.length && (e = this).update.apply(e, t),
                this.draw()
            }
            ,
            v.prototype.draw = function() {
                for (var e = this, t = [], r = arguments.length; r--; )
                    t[r] = arguments[r];
                return (t.length ? t : this.passes).forEach((function(t, r) {
                    var n;
                    if (t && Array.isArray(t))
                        return (n = e).draw.apply(n, t);
                    "number" == typeof t && (t = e.passes[t]),
                    t && t.count > 1 && t.opacity && (e.regl._refresh(),
                    t.fill && t.triangles && t.triangles.length > 2 && e.shaders.fill(t),
                    t.thickness && (t.scale[0] * t.viewport.width > v.precisionThreshold || t.scale[1] * t.viewport.height > v.precisionThreshold || "rect" === t.join || !t.join && (t.thickness <= 2 || t.count >= v.maxPoints) ? e.shaders.rect(t) : e.shaders.miter(t)))
                }
                )),
                this
            }
            ,
            v.prototype.update = function(e) {
                var t = this;
                if (e) {
                    null != e.length ? "number" == typeof e[0] && (e = [{
                        positions: e
                    }]) : Array.isArray(e) || (e = [e]);
                    var r = this.regl
                      , o = this.gl;
                    if (e.forEach((function(e, f) {
                        var p = t.passes[f];
                        if (void 0 !== e)
                            if (null !== e) {
                                if ("number" == typeof e[0] && (e = {
                                    positions: e
                                }),
                                e = s(e, {
                                    positions: "positions points data coords",
                                    thickness: "thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",
                                    join: "lineJoin linejoin join type mode",
                                    miterLimit: "miterlimit miterLimit",
                                    dashes: "dash dashes dasharray dash-array dashArray",
                                    color: "color colour stroke colors colours stroke-color strokeColor",
                                    fill: "fill fill-color fillColor",
                                    opacity: "alpha opacity",
                                    overlay: "overlay crease overlap intersect",
                                    close: "closed close closed-path closePath",
                                    range: "range dataBox",
                                    viewport: "viewport viewBox",
                                    hole: "holes hole hollow",
                                    splitNull: "splitNull"
                                }),
                                p || (t.passes[f] = p = {
                                    id: f,
                                    scale: null,
                                    scaleFract: null,
                                    translate: null,
                                    translateFract: null,
                                    count: 0,
                                    hole: [],
                                    depth: 0,
                                    dashLength: 1,
                                    dashTexture: r.texture({
                                        channels: 1,
                                        data: new Uint8Array([255]),
                                        width: 1,
                                        height: 1,
                                        mag: "linear",
                                        min: "linear"
                                    }),
                                    colorBuffer: r.buffer({
                                        usage: "dynamic",
                                        type: "uint8",
                                        data: new Uint8Array
                                    }),
                                    positionBuffer: r.buffer({
                                        usage: "dynamic",
                                        type: "float",
                                        data: new Uint8Array
                                    }),
                                    positionFractBuffer: r.buffer({
                                        usage: "dynamic",
                                        type: "float",
                                        data: new Uint8Array
                                    })
                                },
                                e = i({}, v.defaults, e)),
                                null != e.thickness && (p.thickness = parseFloat(e.thickness)),
                                null != e.opacity && (p.opacity = parseFloat(e.opacity)),
                                null != e.miterLimit && (p.miterLimit = parseFloat(e.miterLimit)),
                                null != e.overlay && (p.overlay = !!e.overlay,
                                f < v.maxLines && (p.depth = 2 * (v.maxLines - 1 - f % v.maxLines) / v.maxLines - 1)),
                                null != e.join && (p.join = e.join),
                                null != e.hole && (p.hole = e.hole),
                                null != e.fill && (p.fill = e.fill ? n(e.fill, "uint8") : null),
                                null != e.viewport && (p.viewport = g(e.viewport)),
                                p.viewport || (p.viewport = g([o.drawingBufferWidth, o.drawingBufferHeight])),
                                null != e.close && (p.close = e.close),
                                null === e.positions && (e.positions = []),
                                e.positions) {
                                    var m, b;
                                    if (e.positions.x && e.positions.y) {
                                        var x = e.positions.x
                                          , _ = e.positions.y;
                                        b = p.count = Math.max(x.length, _.length),
                                        m = new Float64Array(2 * b);
                                        for (var w = 0; w < b; w++)
                                            m[2 * w] = x[w],
                                            m[2 * w + 1] = _[w]
                                    } else
                                        m = l(e.positions, "float64"),
                                        b = p.count = Math.floor(m.length / 2);
                                    var A = p.bounds = a(m, 2);
                                    if (p.fill) {
                                        for (var k = [], T = {}, M = 0, S = 0, C = 0, O = p.count; S < O; S++) {
                                            var D = m[2 * S]
                                              , L = m[2 * S + 1];
                                            isNaN(D) || isNaN(L) || null == D || null == L ? (D = m[2 * M],
                                            L = m[2 * M + 1],
                                            T[S] = M) : M = S,
                                            k[C++] = D,
                                            k[C++] = L
                                        }
                                        if (e.splitNull) {
                                            p.count - 1 in T || (T[p.count] = p.count - 1);
                                            var E = Object.keys(T).map(Number).sort((function(e, t) {
                                                return e - t
                                            }
                                            ))
                                              , z = []
                                              , F = 0
                                              , P = null != p.hole ? p.hole[0] : null;
                                            if (null != P) {
                                                var I = y(E, (function(e) {
                                                    return e >= P
                                                }
                                                ));
                                                (E = E.slice(0, I)).push(P)
                                            }
                                            for (var N = function(e) {
                                                var t = k.slice(2 * F, 2 * E[e]).concat(P ? k.slice(2 * P) : [])
                                                  , r = (p.hole || []).map((function(t) {
                                                    return t - P + (E[e] - F)
                                                }
                                                ))
                                                  , n = c(t, r);
                                                n = n.map((function(t) {
                                                    return t + F + (t + F < E[e] ? 0 : P - E[e])
                                                }
                                                )),
                                                z.push.apply(z, n),
                                                F = E[e] + 1
                                            }, R = 0; R < E.length; R++)
                                                N(R);
                                            for (var j = 0, B = z.length; j < B; j++)
                                                null != T[z[j]] && (z[j] = T[z[j]]);
                                            p.triangles = z
                                        } else {
                                            for (var H = c(k, p.hole || []), U = 0, Y = H.length; U < Y; U++)
                                                null != T[H[U]] && (H[U] = T[H[U]]);
                                            p.triangles = H
                                        }
                                    }
                                    var V = new Float64Array(m);
                                    u(V, 2, A);
                                    var q = new Float64Array(2 * b + 6);
                                    p.close ? m[0] === m[2 * b - 2] && m[1] === m[2 * b - 1] ? (q[0] = V[2 * b - 4],
                                    q[1] = V[2 * b - 3]) : (q[0] = V[2 * b - 2],
                                    q[1] = V[2 * b - 1]) : (q[0] = V[0],
                                    q[1] = V[1]),
                                    q.set(V, 2),
                                    p.close ? m[0] === m[2 * b - 2] && m[1] === m[2 * b - 1] ? (q[2 * b + 2] = V[2],
                                    q[2 * b + 3] = V[3],
                                    p.count -= 1) : (q[2 * b + 2] = V[0],
                                    q[2 * b + 3] = V[1],
                                    q[2 * b + 4] = V[2],
                                    q[2 * b + 5] = V[3]) : (q[2 * b + 2] = V[2 * b - 2],
                                    q[2 * b + 3] = V[2 * b - 1],
                                    q[2 * b + 4] = V[2 * b - 2],
                                    q[2 * b + 5] = V[2 * b - 1]),
                                    p.positionBuffer(d(q)),
                                    p.positionFractBuffer(h(q))
                                }
                                if (e.range ? p.range = e.range : p.range || (p.range = p.bounds),
                                (e.range || e.positions) && p.count) {
                                    var W = p.bounds
                                      , G = W[2] - W[0]
                                      , Z = W[3] - W[1]
                                      , J = p.range[2] - p.range[0]
                                      , X = p.range[3] - p.range[1];
                                    p.scale = [G / J, Z / X],
                                    p.translate = [-p.range[0] / J + W[0] / J || 0, -p.range[1] / X + W[1] / X || 0],
                                    p.scaleFract = h(p.scale),
                                    p.translateFract = h(p.translate)
                                }
                                if (e.dashes) {
                                    var Q, $ = 0;
                                    if (!e.dashes || e.dashes.length < 2)
                                        $ = 1,
                                        Q = new Uint8Array([255, 255, 255, 255, 255, 255, 255, 255]);
                                    else {
                                        $ = 0;
                                        for (var K = 0; K < e.dashes.length; ++K)
                                            $ += e.dashes[K];
                                        Q = new Uint8Array($ * v.dashMult);
                                        for (var ee = 0, te = 255, re = 0; re < 2; re++)
                                            for (var ne = 0; ne < e.dashes.length; ++ne) {
                                                for (var ae = 0, ie = e.dashes[ne] * v.dashMult * .5; ae < ie; ++ae)
                                                    Q[ee++] = te;
                                                te ^= 255
                                            }
                                    }
                                    p.dashLength = $,
                                    p.dashTexture({
                                        channels: 1,
                                        data: Q,
                                        width: Q.length,
                                        height: 1,
                                        mag: "linear",
                                        min: "linear"
                                    }, 0, 0)
                                }
                                if (e.color) {
                                    var oe = p.count
                                      , se = e.color;
                                    se || (se = "transparent");
                                    var le = new Uint8Array(4 * oe + 4);
                                    if (Array.isArray(se) && "number" != typeof se[0]) {
                                        for (var ce = 0; ce < oe; ce++) {
                                            var ue = n(se[ce], "uint8");
                                            le.set(ue, 4 * ce)
                                        }
                                        le.set(n(se[0], "uint8"), 4 * oe)
                                    } else
                                        for (var fe = n(se, "uint8"), de = 0; de < oe + 1; de++)
                                            le.set(fe, 4 * de);
                                    p.colorBuffer({
                                        usage: "dynamic",
                                        type: "uint8",
                                        data: le
                                    })
                                }
                            } else
                                t.passes[f] = null
                    }
                    )),
                    e.length < this.passes.length) {
                        for (var f = e.length; f < this.passes.length; f++) {
                            var p = this.passes[f];
                            p && (p.colorBuffer.destroy(),
                            p.positionBuffer.destroy(),
                            p.dashTexture.destroy())
                        }
                        this.passes.length = e.length
                    }
                    for (var m = [], b = 0; b < this.passes.length; b++)
                        null !== this.passes[b] && m.push(this.passes[b]);
                    return this.passes = m,
                    this
                }
            }
            ,
            v.prototype.destroy = function() {
                return this.passes.forEach((function(e) {
                    e.colorBuffer.destroy(),
                    e.positionBuffer.destroy(),
                    e.dashTexture.destroy()
                }
                )),
                this.passes.length = 0,
                this
            }
        }
        , {
            "array-bounds": 10,
            "array-find-index": 11,
            "array-normalize": 12,
            "color-normalize": 21,
            earcut: 46,
            "es6-weak-map": 99,
            "flatten-vertex-data": 108,
            glslify: 144,
            "object-assign": 159,
            "parse-rect": 161,
            "pick-by-alias": 164,
            "to-float32": 185
        }],
        176: [function(e, t, r) {
            "use strict";
            function n(e, t) {
                return function(e) {
                    if (Array.isArray(e))
                        return e
                }(e) || function(e, t) {
                    if ("undefined" == typeof Symbol || !(Symbol.iterator in Object(e)))
                        return;
                    var r = []
                      , n = !0
                      , a = !1
                      , i = void 0;
                    try {
                        for (var o, s = e[Symbol.iterator](); !(n = (o = s.next()).done) && (r.push(o.value),
                        !t || r.length !== t); n = !0)
                            ;
                    } catch (e) {
                        a = !0,
                        i = e
                    } finally {
                        try {
                            n || null == s.return || s.return()
                        } finally {
                            if (a)
                                throw i
                        }
                    }
                    return r
                }(e, t) || i(e, t) || function() {
                    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                }()
            }
            function a(e) {
                return function(e) {
                    if (Array.isArray(e))
                        return o(e)
                }(e) || function(e) {
                    if ("undefined" != typeof Symbol && Symbol.iterator in Object(e))
                        return Array.from(e)
                }(e) || i(e) || function() {
                    throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                }()
            }
            function i(e, t) {
                if (e) {
                    if ("string" == typeof e)
                        return o(e, t);
                    var r = Object.prototype.toString.call(e).slice(8, -1);
                    return "Object" === r && e.constructor && (r = e.constructor.name),
                    "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? o(e, t) : void 0
                }
            }
            function o(e, t) {
                (null == t || t > e.length) && (t = e.length);
                for (var r = 0, n = new Array(t); r < t; r++)
                    n[r] = e[r];
                return n
            }
            var s = e("color-normalize")
              , l = e("array-bounds")
              , c = e("color-id")
              , u = e("@plotly/point-cluster")
              , f = e("object-assign")
              , d = e("glslify")
              , h = e("pick-by-alias")
              , p = e("update-diff")
              , g = e("flatten-vertex-data")
              , y = e("is-iexplorer")
              , v = e("to-float32")
              , m = e("parse-rect")
              , b = x;
            function x(e, t) {
                var r = this;
                if (!(this instanceof x))
                    return new x(e,t);
                "function" == typeof e ? (t || (t = {}),
                t.regl = e) : (t = e,
                e = null),
                t && t.length && (t.positions = t);
                var n, a = (e = t.regl)._gl, i = [];
                this.tooManyColors = y,
                n = e.texture({
                    data: new Uint8Array(1020),
                    width: 255,
                    height: 1,
                    type: "uint8",
                    format: "rgba",
                    wrapS: "clamp",
                    wrapT: "clamp",
                    mag: "nearest",
                    min: "nearest"
                }),
                f(this, {
                    regl: e,
                    gl: a,
                    groups: [],
                    markerCache: [null],
                    markerTextures: [null],
                    palette: i,
                    paletteIds: {},
                    paletteTexture: n,
                    maxColors: 255,
                    maxSize: 100,
                    canvas: a.canvas
                }),
                this.update(t);
                var o = {
                    uniforms: {
                        constPointSize: !!t.constPointSize,
                        pixelRatio: e.context("pixelRatio"),
                        palette: n,
                        paletteSize: function(e, t) {
                            return [r.tooManyColors ? 0 : 255, n.height]
                        },
                        scale: e.prop("scale"),
                        scaleFract: e.prop("scaleFract"),
                        translate: e.prop("translate"),
                        translateFract: e.prop("translateFract"),
                        opacity: e.prop("opacity"),
                        marker: e.prop("markerTexture")
                    },
                    attributes: {
                        x: function(e, t) {
                            return t.xAttr || {
                                buffer: t.positionBuffer,
                                stride: 8,
                                offset: 0
                            }
                        },
                        y: function(e, t) {
                            return t.yAttr || {
                                buffer: t.positionBuffer,
                                stride: 8,
                                offset: 4
                            }
                        },
                        xFract: function(e, t) {
                            return t.xAttr ? {
                                constant: [0, 0]
                            } : {
                                buffer: t.positionFractBuffer,
                                stride: 8,
                                offset: 0
                            }
                        },
                        yFract: function(e, t) {
                            return t.yAttr ? {
                                constant: [0, 0]
                            } : {
                                buffer: t.positionFractBuffer,
                                stride: 8,
                                offset: 4
                            }
                        },
                        size: function(e, t) {
                            return t.size.length ? {
                                buffer: t.sizeBuffer,
                                stride: 2,
                                offset: 0
                            } : {
                                constant: [Math.round(255 * t.size / r.maxSize)]
                            }
                        },
                        borderSize: function(e, t) {
                            return t.borderSize.length ? {
                                buffer: t.sizeBuffer,
                                stride: 2,
                                offset: 1
                            } : {
                                constant: [Math.round(255 * t.borderSize / r.maxSize)]
                            }
                        },
                        colorId: function(e, t) {
                            return t.color.length ? {
                                buffer: t.colorBuffer,
                                stride: r.tooManyColors ? 8 : 4,
                                offset: 0
                            } : {
                                constant: r.tooManyColors ? i.slice(4 * t.color, 4 * t.color + 4) : [t.color]
                            }
                        },
                        borderColorId: function(e, t) {
                            return t.borderColor.length ? {
                                buffer: t.colorBuffer,
                                stride: r.tooManyColors ? 8 : 4,
                                offset: r.tooManyColors ? 4 : 2
                            } : {
                                constant: r.tooManyColors ? i.slice(4 * t.borderColor, 4 * t.borderColor + 4) : [t.borderColor]
                            }
                        },
                        isActive: function(e, t) {
                            return !0 === t.activation ? {
                                constant: [1]
                            } : t.activation ? t.activation : {
                                constant: [0]
                            }
                        }
                    },
                    blend: {
                        enable: !0,
                        color: [0, 0, 0, 1],
                        func: {
                            srcRGB: "src alpha",
                            dstRGB: "one minus src alpha",
                            srcAlpha: "one minus dst alpha",
                            dstAlpha: "one"
                        }
                    },
                    scissor: {
                        enable: !0,
                        box: e.prop("viewport")
                    },
                    viewport: e.prop("viewport"),
                    stencil: {
                        enable: !1
                    },
                    depth: {
                        enable: !1
                    },
                    elements: e.prop("elements"),
                    count: e.prop("count"),
                    offset: e.prop("offset"),
                    primitive: "points"
                }
                  , s = f({}, o);
                s.frag = d(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragWidth, fragBorderColorLevel, fragColorLevel;\n\nuniform sampler2D marker;\nuniform float opacity;\n\nfloat smoothStep(float x, float y) {\n  return 1.0 / (1.0 + exp(50.0*(x - y)));\n}\n\nvoid main() {\n  float dist = texture2D(marker, gl_PointCoord).r, delta = fragWidth;\n\n  // max-distance alpha\n  if (dist < 0.003) discard;\n\n  // null-border case\n  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {\n    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);\n    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);\n  }\n  else {\n    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);\n    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);\n\n    vec4 color = fragBorderColor;\n    color.a *= borderColorAmt;\n    color = mix(color, fragColor, colorAmt);\n    color.a *= opacity;\n\n    gl_FragColor = color;\n  }\n\n}\n"]),
                s.vert = d(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform vec2 scale, scaleFract, translate, translateFract, paletteSize;\nuniform float pixelRatio;\nuniform bool constPointSize;\nuniform sampler2D palette;\n\nconst float maxSize = 100.;\nconst float borderLevel = .5;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(palette,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = 2. * size * pointSizeScale;\n  fragPointSize = size * pixelRatio;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragColor = color;\n  fragBorderColor = borderColor;\n  fragWidth = 1. / gl_PointSize;\n\n  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);\n  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);\n}"]),
                this.drawMarker = e(s);
                var l = f({}, o);
                l.frag = d(["precision highp float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor, fragBorderColor;\n\nuniform float opacity;\nvarying float fragBorderRadius, fragWidth;\n\nfloat smoothStep(float edge0, float edge1, float x) {\n\tfloat t;\n\tt = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n\treturn t * t * (3.0 - 2.0 * t);\n}\n\nvoid main() {\n\tfloat radius, alpha = 1.0, delta = fragWidth;\n\n\tradius = length(2.0 * gl_PointCoord.xy - 1.0);\n\n\tif (radius > 1.0 + delta) {\n\t\tdiscard;\n\t}\n\n\talpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);\n\n\tfloat borderRadius = fragBorderRadius;\n\tfloat ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);\n\tvec4 color = mix(fragColor, fragBorderColor, ratio);\n\tcolor.a *= alpha * opacity;\n\tgl_FragColor = color;\n}\n"]),
                l.vert = d(["precision highp float;\n#define GLSLIFY 1\n\nattribute float x, y, xFract, yFract;\nattribute float size, borderSize;\nattribute vec4 colorId, borderColorId;\nattribute float isActive;\n\nuniform vec2 scale, scaleFract, translate, translateFract;\nuniform float pixelRatio;\nuniform bool constPointSize;\nuniform sampler2D palette;\nuniform vec2 paletteSize;\n\nconst float maxSize = 100.;\n\nvarying vec4 fragColor, fragBorderColor;\nvarying float fragBorderRadius, fragWidth;\n\nfloat pointSizeScale = (constPointSize) ? 2. : pixelRatio;\n\nbool isDirect = (paletteSize.x < 1.);\n\nvec4 getColor(vec4 id) {\n  return isDirect ? id / 255. : texture2D(palette,\n    vec2(\n      (id.x + .5) / paletteSize.x,\n      (id.y + .5) / paletteSize.y\n    )\n  );\n}\n\nvoid main() {\n  // ignore inactive points\n  if (isActive == 0.) return;\n\n  vec2 position = vec2(x, y);\n  vec2 positionFract = vec2(xFract, yFract);\n\n  vec4 color = getColor(colorId);\n  vec4 borderColor = getColor(borderColorId);\n\n  float size = size * maxSize / 255.;\n  float borderSize = borderSize * maxSize / 255.;\n\n  gl_PointSize = (size + borderSize) * pointSizeScale;\n\n  vec2 pos = (position + translate) * scale\n      + (positionFract + translateFract) * scale\n      + (position + translate) * scaleFract\n      + (positionFract + translateFract) * scaleFract;\n\n  gl_Position = vec4(pos * 2. - 1., 0., 1.);\n\n  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);\n  fragColor = color;\n  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;\n  fragWidth = 1. / gl_PointSize;\n}\n"]),
                y && (l.frag = l.frag.replace("smoothstep", "smoothStep"),
                s.frag = s.frag.replace("smoothstep", "smoothStep")),
                this.drawCircle = e(l)
            }
            x.defaults = {
                color: "black",
                borderColor: "transparent",
                borderSize: 0,
                size: 12,
                opacity: 1,
                marker: void 0,
                viewport: null,
                range: null,
                pixelSize: null,
                count: 0,
                offset: 0,
                bounds: null,
                positions: [],
                snap: 1e4
            },
            x.prototype.render = function() {
                return arguments.length && this.update.apply(this, arguments),
                this.draw(),
                this
            }
            ,
            x.prototype.draw = function() {
                for (var e = this, t = arguments.length, r = new Array(t), n = 0; n < t; n++)
                    r[n] = arguments[n];
                var a = this.groups;
                if (1 === r.length && Array.isArray(r[0]) && (null === r[0][0] || Array.isArray(r[0][0])) && (r = r[0]),
                this.regl._refresh(),
                r.length)
                    for (var i = 0; i < r.length; i++)
                        this.drawItem(i, r[i]);
                else
                    a.forEach((function(t, r) {
                        e.drawItem(r)
                    }
                    ));
                return this
            }
            ,
            x.prototype.drawItem = function(e, t) {
                var r = this.groups
                  , n = r[e];
                if ("number" == typeof t && (e = t,
                n = r[t],
                t = null),
                n && n.count && n.opacity) {
                    n.activation[0] && this.drawCircle(this.getMarkerDrawOptions(0, n, t));
                    for (var i = [], o = 1; o < n.activation.length; o++)
                        n.activation[o] && (!0 === n.activation[o] || n.activation[o].data.length) && i.push.apply(i, a(this.getMarkerDrawOptions(o, n, t)));
                    i.length && this.drawMarker(i)
                }
            }
            ,
            x.prototype.getMarkerDrawOptions = function(e, t, r) {
                var a = t.range
                  , i = t.tree
                  , o = t.viewport
                  , s = t.activation
                  , l = t.selectionBuffer
                  , c = t.count;
                this.regl;
                if (!i)
                    return r ? [f({}, t, {
                        markerTexture: this.markerTextures[e],
                        activation: s[e],
                        count: r.length,
                        elements: r,
                        offset: 0
                    })] : [f({}, t, {
                        markerTexture: this.markerTextures[e],
                        activation: s[e],
                        offset: 0
                    })];
                var u = []
                  , d = i.range(a, {
                    lod: !0,
                    px: [(a[2] - a[0]) / o.width, (a[3] - a[1]) / o.height]
                });
                if (r) {
                    for (var h = s[e].data, p = new Uint8Array(c), g = 0; g < r.length; g++) {
                        var y = r[g];
                        p[y] = h ? h[y] : 1
                    }
                    l.subdata(p)
                }
                for (var v = d.length; v--; ) {
                    var m = n(d[v], 2)
                      , b = m[0]
                      , x = m[1];
                    u.push(f({}, t, {
                        markerTexture: this.markerTextures[e],
                        activation: r ? l : s[e],
                        offset: b,
                        count: x - b
                    }))
                }
                return u
            }
            ,
            x.prototype.update = function() {
                for (var e = this, t = arguments.length, r = new Array(t), n = 0; n < t; n++)
                    r[n] = arguments[n];
                if (r.length) {
                    1 === r.length && Array.isArray(r[0]) && (r = r[0]);
                    var a = this.groups
                      , i = this.gl
                      , o = this.regl
                      , s = this.maxSize
                      , c = this.maxColors
                      , d = this.palette;
                    this.groups = a = r.map((function(t, r) {
                        var n = a[r];
                        if (void 0 === t)
                            return n;
                        null === t ? t = {
                            positions: null
                        } : "function" == typeof t ? t = {
                            ondraw: t
                        } : "number" == typeof t[0] && (t = {
                            positions: t
                        }),
                        null === (t = h(t, {
                            positions: "positions data points",
                            snap: "snap cluster lod tree",
                            size: "sizes size radius",
                            borderSize: "borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",
                            color: "colors color fill fill-color fillColor",
                            borderColor: "borderColors borderColor stroke stroke-color strokeColor",
                            marker: "markers marker shape",
                            range: "range dataBox databox",
                            viewport: "viewport viewPort viewBox viewbox",
                            opacity: "opacity alpha transparency",
                            bounds: "bound bounds boundaries limits",
                            tooManyColors: "tooManyColors palette paletteMode optimizePalette enablePalette"
                        })).positions && (t.positions = []),
                        null != t.tooManyColors && (e.tooManyColors = t.tooManyColors),
                        n || (a[r] = n = {
                            id: r,
                            scale: null,
                            translate: null,
                            scaleFract: null,
                            translateFract: null,
                            activation: [],
                            selectionBuffer: o.buffer({
                                data: new Uint8Array(0),
                                usage: "stream",
                                type: "uint8"
                            }),
                            sizeBuffer: o.buffer({
                                data: new Uint8Array(0),
                                usage: "dynamic",
                                type: "uint8"
                            }),
                            colorBuffer: o.buffer({
                                data: new Uint8Array(0),
                                usage: "dynamic",
                                type: "uint8"
                            }),
                            positionBuffer: o.buffer({
                                data: new Uint8Array(0),
                                usage: "dynamic",
                                type: "float"
                            }),
                            positionFractBuffer: o.buffer({
                                data: new Uint8Array(0),
                                usage: "dynamic",
                                type: "float"
                            })
                        },
                        t = f({}, x.defaults, t)),
                        t.positions && !("marker"in t) && (t.marker = n.marker,
                        delete n.marker),
                        t.marker && !("positions"in t) && (t.positions = n.positions,
                        delete n.positions);
                        var y = 0
                          , b = 0;
                        if (p(n, t, [{
                            snap: !0,
                            size: function(e, t) {
                                return null == e && (e = x.defaults.size),
                                y += e && e.length ? 1 : 0,
                                e
                            },
                            borderSize: function(e, t) {
                                return null == e && (e = x.defaults.borderSize),
                                y += e && e.length ? 1 : 0,
                                e
                            },
                            opacity: parseFloat,
                            color: function(t, r) {
                                return null == t && (t = x.defaults.color),
                                t = e.updateColor(t),
                                b++,
                                t
                            },
                            borderColor: function(t, r) {
                                return null == t && (t = x.defaults.borderColor),
                                t = e.updateColor(t),
                                b++,
                                t
                            },
                            bounds: function(e, t, r) {
                                return "range"in r || (r.range = null),
                                e
                            },
                            positions: function(e, t, r) {
                                var n = t.snap
                                  , a = t.positionBuffer
                                  , i = t.positionFractBuffer
                                  , s = t.selectionBuffer;
                                if (e.x || e.y)
                                    return e.x.length ? t.xAttr = {
                                        buffer: o.buffer(e.x),
                                        offset: 0,
                                        stride: 4,
                                        count: e.x.length
                                    } : t.xAttr = {
                                        buffer: e.x.buffer,
                                        offset: 4 * e.x.offset || 0,
                                        stride: 4 * (e.x.stride || 1),
                                        count: e.x.count
                                    },
                                    e.y.length ? t.yAttr = {
                                        buffer: o.buffer(e.y),
                                        offset: 0,
                                        stride: 4,
                                        count: e.y.length
                                    } : t.yAttr = {
                                        buffer: e.y.buffer,
                                        offset: 4 * e.y.offset || 0,
                                        stride: 4 * (e.y.stride || 1),
                                        count: e.y.count
                                    },
                                    t.count = Math.max(t.xAttr.count, t.yAttr.count),
                                    e;
                                e = g(e, "float64");
                                var c = t.count = Math.floor(e.length / 2)
                                  , f = t.bounds = c ? l(e, 2) : null;
                                if (r.range || t.range || (delete t.range,
                                r.range = f),
                                r.marker || t.marker || (delete t.marker,
                                r.marker = null),
                                n && (!0 === n || c > n) ? t.tree = u(e, {
                                    bounds: f
                                }) : n && n.length && (t.tree = n),
                                t.tree) {
                                    var d = {
                                        primitive: "points",
                                        usage: "static",
                                        data: t.tree,
                                        type: "uint32"
                                    };
                                    t.elements ? t.elements(d) : t.elements = o.elements(d)
                                }
                                return a({
                                    data: v.float(e),
                                    usage: "dynamic"
                                }),
                                i({
                                    data: v.fract(e),
                                    usage: "dynamic"
                                }),
                                s({
                                    data: new Uint8Array(c),
                                    type: "uint8",
                                    usage: "stream"
                                }),
                                e
                            }
                        }, {
                            marker: function(t, r, n) {
                                var a = r.activation;
                                if (a.forEach((function(e) {
                                    return e && e.destroy && e.destroy()
                                }
                                )),
                                a.length = 0,
                                t && "number" != typeof t[0]) {
                                    for (var i = [], s = 0, l = Math.min(t.length, r.count); s < l; s++) {
                                        var c = e.addMarker(t[s]);
                                        i[c] || (i[c] = new Uint8Array(r.count)),
                                        i[c][s] = 1
                                    }
                                    for (var u = 0; u < i.length; u++)
                                        if (i[u]) {
                                            var f = {
                                                data: i[u],
                                                type: "uint8",
                                                usage: "static"
                                            };
                                            a[u] ? a[u](f) : a[u] = o.buffer(f),
                                            a[u].data = i[u]
                                        }
                                } else {
                                    a[e.addMarker(t)] = !0
                                }
                                return t
                            },
                            range: function(e, t, r) {
                                var n = t.bounds;
                                if (n)
                                    return e || (e = n),
                                    t.scale = [1 / (e[2] - e[0]), 1 / (e[3] - e[1])],
                                    t.translate = [-e[0], -e[1]],
                                    t.scaleFract = v.fract(t.scale),
                                    t.translateFract = v.fract(t.translate),
                                    e
                            },
                            viewport: function(e) {
                                return m(e || [i.drawingBufferWidth, i.drawingBufferHeight])
                            }
                        }]),
                        y) {
                            var _ = n
                              , w = _.count
                              , A = _.size
                              , k = _.borderSize
                              , T = _.sizeBuffer
                              , M = new Uint8Array(2 * w);
                            if (A.length || k.length)
                                for (var S = 0; S < w; S++)
                                    M[2 * S] = Math.round(255 * (null == A[S] ? A : A[S]) / s),
                                    M[2 * S + 1] = Math.round(255 * (null == k[S] ? k : k[S]) / s);
                            T({
                                data: M,
                                usage: "dynamic"
                            })
                        }
                        if (b) {
                            var C, O = n, D = O.count, L = O.color, E = O.borderColor, z = O.colorBuffer;
                            if (e.tooManyColors) {
                                if (L.length || E.length) {
                                    C = new Uint8Array(8 * D);
                                    for (var F = 0; F < D; F++) {
                                        var P = L[F];
                                        C[8 * F] = d[4 * P],
                                        C[8 * F + 1] = d[4 * P + 1],
                                        C[8 * F + 2] = d[4 * P + 2],
                                        C[8 * F + 3] = d[4 * P + 3];
                                        var I = E[F];
                                        C[8 * F + 4] = d[4 * I],
                                        C[8 * F + 5] = d[4 * I + 1],
                                        C[8 * F + 6] = d[4 * I + 2],
                                        C[8 * F + 7] = d[4 * I + 3]
                                    }
                                }
                            } else if (L.length || E.length) {
                                C = new Uint8Array(4 * D + 2);
                                for (var N = 0; N < D; N++)
                                    null != L[N] && (C[4 * N] = L[N] % c,
                                    C[4 * N + 1] = Math.floor(L[N] / c)),
                                    null != E[N] && (C[4 * N + 2] = E[N] % c,
                                    C[4 * N + 3] = Math.floor(E[N] / c))
                            }
                            z({
                                data: C || new Uint8Array(0),
                                type: "uint8",
                                usage: "dynamic"
                            })
                        }
                        return n
                    }
                    ))
                }
            }
            ,
            x.prototype.addMarker = function(e) {
                var t, r = this.markerTextures, n = this.regl, a = this.markerCache, i = null == e ? 0 : a.indexOf(e);
                if (i >= 0)
                    return i;
                if (e instanceof Uint8Array || e instanceof Uint8ClampedArray)
                    t = e;
                else {
                    t = new Uint8Array(e.length);
                    for (var o = 0, s = e.length; o < s; o++)
                        t[o] = 255 * e[o]
                }
                var l = Math.floor(Math.sqrt(t.length));
                return i = r.length,
                a.push(e),
                r.push(n.texture({
                    channels: 1,
                    data: t,
                    radius: l,
                    mag: "linear",
                    min: "linear"
                })),
                i
            }
            ,
            x.prototype.updateColor = function(e) {
                var t = this.paletteIds
                  , r = this.palette
                  , n = this.maxColors;
                Array.isArray(e) || (e = [e]);
                var a = [];
                if ("number" == typeof e[0]) {
                    var i = [];
                    if (Array.isArray(e))
                        for (var o = 0; o < e.length; o += 4)
                            i.push(e.slice(o, o + 4));
                    else
                        for (var l = 0; l < e.length; l += 4)
                            i.push(e.subarray(l, l + 4));
                    e = i
                }
                for (var u = 0; u < e.length; u++) {
                    var f = e[u];
                    f = s(f, "uint8");
                    var d = c(f, !1);
                    if (null == t[d]) {
                        var h = r.length;
                        t[d] = Math.floor(h / 4),
                        r[h] = f[0],
                        r[h + 1] = f[1],
                        r[h + 2] = f[2],
                        r[h + 3] = f[3]
                    }
                    a[u] = t[d]
                }
                return !this.tooManyColors && r.length > 4 * n && (this.tooManyColors = !0),
                this.updatePalette(r),
                1 === a.length ? a[0] : a
            }
            ,
            x.prototype.updatePalette = function(e) {
                if (!this.tooManyColors) {
                    var t = this.maxColors
                      , r = this.paletteTexture
                      , n = Math.ceil(.25 * e.length / t);
                    if (n > 1)
                        for (var a = .25 * (e = e.slice()).length % t; a < n * t; a++)
                            e.push(0, 0, 0, 0);
                    r.height < n && r.resize(t, n),
                    r.subimage({
                        width: Math.min(.25 * e.length, t),
                        height: n,
                        data: e
                    }, 0, 0)
                }
            }
            ,
            x.prototype.destroy = function() {
                return this.groups.forEach((function(e) {
                    e.sizeBuffer.destroy(),
                    e.positionBuffer.destroy(),
                    e.positionFractBuffer.destroy(),
                    e.colorBuffer.destroy(),
                    e.activation.forEach((function(e) {
                        return e && e.destroy && e.destroy()
                    }
                    )),
                    e.selectionBuffer.destroy(),
                    e.elements && e.elements.destroy()
                }
                )),
                this.groups.length = 0,
                this.paletteTexture.destroy(),
                this.markerTextures.forEach((function(e) {
                    return e && e.destroy && e.destroy()
                }
                )),
                this
            }
            ;
            var _ = e("object-assign");
            t.exports = function(e, t) {
                var r = new b(e,t)
                  , n = r.render.bind(r);
                return _(n, {
                    render: n,
                    update: r.update.bind(r),
                    draw: r.draw.bind(r),
                    destroy: r.destroy.bind(r),
                    regl: r.regl,
                    gl: r.gl,
                    canvas: r.gl.canvas,
                    groups: r.groups,
                    markers: r.markerCache,
                    palette: r.palette
                }),
                n
            }
        }
        , {
            "@plotly/point-cluster": 7,
            "array-bounds": 10,
            "color-id": 19,
            "color-normalize": 21,
            "flatten-vertex-data": 108,
            glslify: 144,
            "is-iexplorer": 149,
            "object-assign": 159,
            "parse-rect": 161,
            "pick-by-alias": 164,
            "to-float32": 185,
            "update-diff": 200
        }],
        177: [function(e, t, r) {
            !function(e, n) {
                "object" == typeof r && void 0 !== t ? t.exports = n() : e.createREGL = n()
            }(this, (function() {
                function e(e, t) {
                    this.id = H++,
                    this.type = e,
                    this.data = t
                }
                function t(e) {
                    return "[" + function e(t) {
                        if (0 === t.length)
                            return [];
                        var r = t.charAt(0)
                          , n = t.charAt(t.length - 1);
                        if (1 < t.length && r === n && ('"' === r || "'" === r))
                            return ['"' + t.substr(1, t.length - 2).replace(/\\/g, "\\\\").replace(/"/g, '\\"') + '"'];
                        if (r = /\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t))
                            return e(t.substr(0, r.index)).concat(e(r[1])).concat(e(t.substr(r.index + r[0].length)));
                        if (1 === (r = t.split(".")).length)
                            return ['"' + t.replace(/\\/g, "\\\\").replace(/"/g, '\\"') + '"'];
                        for (t = [],
                        n = 0; n < r.length; ++n)
                            t = t.concat(e(r[n]));
                        return t
                    }(e).join("][") + "]"
                }
                function r(e) {
                    return "string" == typeof e ? e.split() : e
                }
                function n(e) {
                    return "string" == typeof e ? document.querySelector(e) : e
                }
                function a(e) {
                    var t, a, i, o, s = e || {};
                    e = {};
                    var l = []
                      , c = []
                      , u = "undefined" == typeof window ? 1 : window.devicePixelRatio
                      , f = !1
                      , d = function(e) {}
                      , h = function() {};
                    if ("string" == typeof s ? t = document.querySelector(s) : "object" == typeof s && ("string" == typeof s.nodeName && "function" == typeof s.appendChild && "function" == typeof s.getBoundingClientRect ? t = s : "function" == typeof s.drawArrays || "function" == typeof s.drawElements ? i = (o = s).canvas : ("gl"in s ? o = s.gl : "canvas"in s ? i = n(s.canvas) : "container"in s && (a = n(s.container)),
                    "attributes"in s && (e = s.attributes),
                    "extensions"in s && (l = r(s.extensions)),
                    "optionalExtensions"in s && (c = r(s.optionalExtensions)),
                    "onDone"in s && (d = s.onDone),
                    "profile"in s && (f = !!s.profile),
                    "pixelRatio"in s && (u = +s.pixelRatio))),
                    t && ("canvas" === t.nodeName.toLowerCase() ? i = t : a = t),
                    !o) {
                        if (!i) {
                            if (!(t = function(e, t, r) {
                                function n() {
                                    var t = window.innerWidth
                                      , n = window.innerHeight;
                                    e !== document.body && (t = (n = e.getBoundingClientRect()).right - n.left,
                                    n = n.bottom - n.top),
                                    i.width = r * t,
                                    i.height = r * n,
                                    B(i.style, {
                                        width: t + "px",
                                        height: n + "px"
                                    })
                                }
                                var a, i = document.createElement("canvas");
                                return B(i.style, {
                                    border: 0,
                                    margin: 0,
                                    padding: 0,
                                    top: 0,
                                    left: 0
                                }),
                                e.appendChild(i),
                                e === document.body && (i.style.position = "absolute",
                                B(e.style, {
                                    margin: 0,
                                    padding: 0
                                })),
                                e !== document.body && "function" == typeof ResizeObserver ? (a = new ResizeObserver((function() {
                                    setTimeout(n)
                                }
                                ))).observe(e) : window.addEventListener("resize", n, !1),
                                n(),
                                {
                                    canvas: i,
                                    onDestroy: function() {
                                        a ? a.disconnect() : window.removeEventListener("resize", n),
                                        e.removeChild(i)
                                    }
                                }
                            }(a || document.body, 0, u)))
                                return null;
                            i = t.canvas,
                            h = t.onDestroy
                        }
                        void 0 === e.premultipliedAlpha && (e.premultipliedAlpha = !0),
                        o = function(e, t) {
                            function r(r) {
                                try {
                                    return e.getContext(r, t)
                                } catch (e) {
                                    return null
                                }
                            }
                            return r("webgl") || r("experimental-webgl") || r("webgl-experimental")
                        }(i, e)
                    }
                    return o ? {
                        gl: o,
                        canvas: i,
                        container: a,
                        extensions: l,
                        optionalExtensions: c,
                        pixelRatio: u,
                        profile: f,
                        onDone: d,
                        onDestroy: h
                    } : (h(),
                    d("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),
                    null)
                }
                function i(e, t) {
                    for (var r = Array(e), n = 0; n < e; ++n)
                        r[n] = t(n);
                    return r
                }
                function o(e) {
                    var t, r;
                    return t = (65535 < e) << 4,
                    t |= r = (255 < (e >>>= t)) << 3,
                    (t |= r = (15 < (e >>>= r)) << 2) | (r = (3 < (e >>>= r)) << 1) | e >>> r >> 1
                }
                function s() {
                    function e(e) {
                        e: {
                            for (var t = 16; 268435456 >= t; t *= 16)
                                if (e <= t) {
                                    e = t;
                                    break e
                                }
                            e = 0
                        }
                        return 0 < (t = r[o(e) >> 2]).length ? t.pop() : new ArrayBuffer(e)
                    }
                    function t(e) {
                        r[o(e.byteLength) >> 2].push(e)
                    }
                    var r = i(8, (function() {
                        return []
                    }
                    ));
                    return {
                        alloc: e,
                        free: t,
                        allocType: function(t, r) {
                            var n = null;
                            switch (t) {
                            case 5120:
                                n = new Int8Array(e(r),0,r);
                                break;
                            case 5121:
                                n = new Uint8Array(e(r),0,r);
                                break;
                            case 5122:
                                n = new Int16Array(e(2 * r),0,r);
                                break;
                            case 5123:
                                n = new Uint16Array(e(2 * r),0,r);
                                break;
                            case 5124:
                                n = new Int32Array(e(4 * r),0,r);
                                break;
                            case 5125:
                                n = new Uint32Array(e(4 * r),0,r);
                                break;
                            case 5126:
                                n = new Float32Array(e(4 * r),0,r);
                                break;
                            default:
                                return null
                            }
                            return n.length !== r ? n.subarray(0, r) : n
                        },
                        freeType: function(e) {
                            t(e.buffer)
                        }
                    }
                }
                function l(e) {
                    return !!e && "object" == typeof e && Array.isArray(e.shape) && Array.isArray(e.stride) && "number" == typeof e.offset && e.shape.length === e.stride.length && (Array.isArray(e.data) || G(e.data))
                }
                function c(e, t, r, n, a, i) {
                    for (var o = 0; o < t; ++o)
                        for (var s = e[o], l = 0; l < r; ++l)
                            for (var c = s[l], u = 0; u < n; ++u)
                                a[i++] = c[u]
                }
                function u(e) {
                    return 0 | X[Object.prototype.toString.call(e)]
                }
                function f(e, t) {
                    for (var r = 0; r < t.length; ++r)
                        e[r] = t[r]
                }
                function d(e, t, r, n, a, i, o) {
                    for (var s = 0, l = 0; l < r; ++l)
                        for (var c = 0; c < n; ++c)
                            e[s++] = t[a * l + i * c + o]
                }
                function h(e, t, r, n) {
                    function a(t) {
                        this.id = c++,
                        this.buffer = e.createBuffer(),
                        this.type = t,
                        this.usage = 35044,
                        this.byteLength = 0,
                        this.dimension = 1,
                        this.dtype = 5121,
                        this.persistentData = null,
                        r.profile && (this.stats = {
                            size: 0
                        })
                    }
                    function i(t, r, n) {
                        t.byteLength = r.byteLength,
                        e.bufferData(t.type, r, n)
                    }
                    function o(e, t, r, n, a, o) {
                        if (e.usage = r,
                        Array.isArray(t)) {
                            if (e.dtype = n || 5126,
                            0 < t.length)
                                if (Array.isArray(t[0])) {
                                    a = ee(t);
                                    for (var s = n = 1; s < a.length; ++s)
                                        n *= a[s];
                                    e.dimension = n,
                                    i(e, t = K(t, a, e.dtype), r),
                                    o ? e.persistentData = t : q.freeType(t)
                                } else
                                    "number" == typeof t[0] ? (e.dimension = a,
                                    f(a = q.allocType(e.dtype, t.length), t),
                                    i(e, a, r),
                                    o ? e.persistentData = a : q.freeType(a)) : G(t[0]) && (e.dimension = t[0].length,
                                    e.dtype = n || u(t[0]) || 5126,
                                    i(e, t = K(t, [t.length, t[0].length], e.dtype), r),
                                    o ? e.persistentData = t : q.freeType(t))
                        } else if (G(t))
                            e.dtype = n || u(t),
                            e.dimension = a,
                            i(e, t, r),
                            o && (e.persistentData = new Uint8Array(new Uint8Array(t.buffer)));
                        else if (l(t)) {
                            a = t.shape;
                            var c = t.stride
                              , h = (s = t.offset,
                            0)
                              , p = 0
                              , g = 0
                              , y = 0;
                            1 === a.length ? (h = a[0],
                            p = 1,
                            g = c[0],
                            y = 0) : 2 === a.length && (h = a[0],
                            p = a[1],
                            g = c[0],
                            y = c[1]),
                            e.dtype = n || u(t.data) || 5126,
                            e.dimension = p,
                            d(a = q.allocType(e.dtype, h * p), t.data, h, p, g, y, s),
                            i(e, a, r),
                            o ? e.persistentData = a : q.freeType(a)
                        } else
                            t instanceof ArrayBuffer && (e.dtype = 5121,
                            e.dimension = a,
                            i(e, t, r),
                            o && (e.persistentData = new Uint8Array(new Uint8Array(t))))
                    }
                    function s(r) {
                        t.bufferCount--,
                        n(r),
                        e.deleteBuffer(r.buffer),
                        r.buffer = null,
                        delete h[r.id]
                    }
                    var c = 0
                      , h = {};
                    a.prototype.bind = function() {
                        e.bindBuffer(this.type, this.buffer)
                    }
                    ,
                    a.prototype.destroy = function() {
                        s(this)
                    }
                    ;
                    var p = [];
                    return r.profile && (t.getTotalBufferSize = function() {
                        var e = 0;
                        return Object.keys(h).forEach((function(t) {
                            e += h[t].stats.size
                        }
                        )),
                        e
                    }
                    ),
                    {
                        create: function(n, i, c, p) {
                            function g(t) {
                                var n = 35044
                                  , a = null
                                  , i = 0
                                  , s = 0
                                  , c = 1;
                                return Array.isArray(t) || G(t) || l(t) || t instanceof ArrayBuffer ? a = t : "number" == typeof t ? i = 0 | t : t && ("data"in t && (a = t.data),
                                "usage"in t && (n = $[t.usage]),
                                "type"in t && (s = Q[t.type]),
                                "dimension"in t && (c = 0 | t.dimension),
                                "length"in t && (i = 0 | t.length)),
                                y.bind(),
                                a ? o(y, a, n, s, c, p) : (i && e.bufferData(y.type, i, n),
                                y.dtype = s || 5121,
                                y.usage = n,
                                y.dimension = c,
                                y.byteLength = i),
                                r.profile && (y.stats.size = y.byteLength * te[y.dtype]),
                                g
                            }
                            t.bufferCount++;
                            var y = new a(i);
                            return h[y.id] = y,
                            c || g(n),
                            g._reglType = "buffer",
                            g._buffer = y,
                            g.subdata = function(t, r) {
                                var n, a = 0 | (r || 0);
                                if (y.bind(),
                                G(t) || t instanceof ArrayBuffer)
                                    e.bufferSubData(y.type, a, t);
                                else if (Array.isArray(t)) {
                                    if (0 < t.length)
                                        if ("number" == typeof t[0]) {
                                            var i = q.allocType(y.dtype, t.length);
                                            f(i, t),
                                            e.bufferSubData(y.type, a, i),
                                            q.freeType(i)
                                        } else
                                            (Array.isArray(t[0]) || G(t[0])) && (n = ee(t),
                                            i = K(t, n, y.dtype),
                                            e.bufferSubData(y.type, a, i),
                                            q.freeType(i))
                                } else if (l(t)) {
                                    n = t.shape;
                                    var o = t.stride
                                      , s = i = 0
                                      , c = 0
                                      , h = 0;
                                    1 === n.length ? (i = n[0],
                                    s = 1,
                                    c = o[0],
                                    h = 0) : 2 === n.length && (i = n[0],
                                    s = n[1],
                                    c = o[0],
                                    h = o[1]),
                                    n = Array.isArray(t.data) ? y.dtype : u(t.data),
                                    d(n = q.allocType(n, i * s), t.data, i, s, c, h, t.offset),
                                    e.bufferSubData(y.type, a, n),
                                    q.freeType(n)
                                }
                                return g
                            }
                            ,
                            r.profile && (g.stats = y.stats),
                            g.destroy = function() {
                                s(y)
                            }
                            ,
                            g
                        },
                        createStream: function(e, t) {
                            var r = p.pop();
                            return r || (r = new a(e)),
                            r.bind(),
                            o(r, t, 35040, 0, 1, !1),
                            r
                        },
                        destroyStream: function(e) {
                            p.push(e)
                        },
                        clear: function() {
                            Z(h).forEach(s),
                            p.forEach(s)
                        },
                        getBuffer: function(e) {
                            return e && e._buffer instanceof a ? e._buffer : null
                        },
                        restore: function() {
                            Z(h).forEach((function(t) {
                                t.buffer = e.createBuffer(),
                                e.bindBuffer(t.type, t.buffer),
                                e.bufferData(t.type, t.persistentData || t.byteLength, t.usage)
                            }
                            ))
                        },
                        _initBuffer: o
                    }
                }
                function p(e, t, r, n) {
                    function a(e) {
                        this.id = c++,
                        s[this.id] = this,
                        this.buffer = e,
                        this.primType = 4,
                        this.type = this.vertCount = 0
                    }
                    function i(n, a, i, o, s, c, u) {
                        var f;
                        if (n.buffer.bind(),
                        a ? ((f = u) || G(a) && (!l(a) || G(a.data)) || (f = t.oes_element_index_uint ? 5125 : 5123),
                        r._initBuffer(n.buffer, a, i, f, 3)) : (e.bufferData(34963, c, i),
                        n.buffer.dtype = f || 5121,
                        n.buffer.usage = i,
                        n.buffer.dimension = 3,
                        n.buffer.byteLength = c),
                        f = u,
                        !u) {
                            switch (n.buffer.dtype) {
                            case 5121:
                            case 5120:
                                f = 5121;
                                break;
                            case 5123:
                            case 5122:
                                f = 5123;
                                break;
                            case 5125:
                            case 5124:
                                f = 5125
                            }
                            n.buffer.dtype = f
                        }
                        n.type = f,
                        0 > (a = s) && (a = n.buffer.byteLength,
                        5123 === f ? a >>= 1 : 5125 === f && (a >>= 2)),
                        n.vertCount = a,
                        a = o,
                        0 > o && (a = 4,
                        1 === (o = n.buffer.dimension) && (a = 0),
                        2 === o && (a = 1),
                        3 === o && (a = 4)),
                        n.primType = a
                    }
                    function o(e) {
                        n.elementsCount--,
                        delete s[e.id],
                        e.buffer.destroy(),
                        e.buffer = null
                    }
                    var s = {}
                      , c = 0
                      , u = {
                        uint8: 5121,
                        uint16: 5123
                    };
                    t.oes_element_index_uint && (u.uint32 = 5125),
                    a.prototype.bind = function() {
                        this.buffer.bind()
                    }
                    ;
                    var f = [];
                    return {
                        create: function(e, t) {
                            function s(e) {
                                if (e)
                                    if ("number" == typeof e)
                                        c(e),
                                        f.primType = 4,
                                        f.vertCount = 0 | e,
                                        f.type = 5121;
                                    else {
                                        var t = null
                                          , r = 35044
                                          , n = -1
                                          , a = -1
                                          , o = 0
                                          , d = 0;
                                        Array.isArray(e) || G(e) || l(e) ? t = e : ("data"in e && (t = e.data),
                                        "usage"in e && (r = $[e.usage]),
                                        "primitive"in e && (n = re[e.primitive]),
                                        "count"in e && (a = 0 | e.count),
                                        "type"in e && (d = u[e.type]),
                                        "length"in e ? o = 0 | e.length : (o = a,
                                        5123 === d || 5122 === d ? o *= 2 : 5125 !== d && 5124 !== d || (o *= 4))),
                                        i(f, t, r, n, a, o, d)
                                    }
                                else
                                    c(),
                                    f.primType = 4,
                                    f.vertCount = 0,
                                    f.type = 5121;
                                return s
                            }
                            var c = r.create(null, 34963, !0)
                              , f = new a(c._buffer);
                            return n.elementsCount++,
                            s(e),
                            s._reglType = "elements",
                            s._elements = f,
                            s.subdata = function(e, t) {
                                return c.subdata(e, t),
                                s
                            }
                            ,
                            s.destroy = function() {
                                o(f)
                            }
                            ,
                            s
                        },
                        createStream: function(e) {
                            var t = f.pop();
                            return t || (t = new a(r.create(null, 34963, !0, !1)._buffer)),
                            i(t, e, 35040, -1, -1, 0, 0),
                            t
                        },
                        destroyStream: function(e) {
                            f.push(e)
                        },
                        getElements: function(e) {
                            return "function" == typeof e && e._elements instanceof a ? e._elements : null
                        },
                        clear: function() {
                            Z(s).forEach(o)
                        }
                    }
                }
                function g(e) {
                    for (var t = q.allocType(5123, e.length), r = 0; r < e.length; ++r)
                        if (isNaN(e[r]))
                            t[r] = 65535;
                        else if (1 / 0 === e[r])
                            t[r] = 31744;
                        else if (-1 / 0 === e[r])
                            t[r] = 64512;
                        else {
                            ne[0] = e[r];
                            var n = (i = ae[0]) >>> 31 << 15
                              , a = (i << 1 >>> 24) - 127
                              , i = i >> 13 & 1023;
                            t[r] = -24 > a ? n : -14 > a ? n + (i + 1024 >> -14 - a) : 15 < a ? n + 31744 : n + (a + 15 << 10) + i
                        }
                    return t
                }
                function y(e) {
                    return Array.isArray(e) || G(e)
                }
                function v(e) {
                    return "[object " + e + "]"
                }
                function m(e) {
                    return Array.isArray(e) && (0 === e.length || "number" == typeof e[0])
                }
                function b(e) {
                    return !(!Array.isArray(e) || 0 === e.length || !y(e[0]))
                }
                function x(e) {
                    return Object.prototype.toString.call(e)
                }
                function _(e) {
                    if (!e)
                        return !1;
                    var t = x(e);
                    return 0 <= pe.indexOf(t) || (m(e) || b(e) || l(e))
                }
                function w(e, t) {
                    36193 === e.type ? (e.data = g(t),
                    q.freeType(t)) : e.data = t
                }
                function A(e, t, r, n, a, i) {
                    if (e = void 0 !== ye[e] ? ye[e] : se[e] * ge[t],
                    i && (e *= 6),
                    a) {
                        for (n = 0; 1 <= r; )
                            n += e * r * r,
                            r /= 2;
                        return n
                    }
                    return e * r * n
                }
                function k(e, t, r, n, a, i, o) {
                    function s() {
                        this.format = this.internalformat = 6408,
                        this.type = 5121,
                        this.flipY = this.premultiplyAlpha = this.compressed = !1,
                        this.unpackAlignment = 1,
                        this.colorSpace = 37444,
                        this.channels = this.height = this.width = 0
                    }
                    function c(e, t) {
                        e.internalformat = t.internalformat,
                        e.format = t.format,
                        e.type = t.type,
                        e.compressed = t.compressed,
                        e.premultiplyAlpha = t.premultiplyAlpha,
                        e.flipY = t.flipY,
                        e.unpackAlignment = t.unpackAlignment,
                        e.colorSpace = t.colorSpace,
                        e.width = t.width,
                        e.height = t.height,
                        e.channels = t.channels
                    }
                    function u(e, t) {
                        if ("object" == typeof t && t) {
                            "premultiplyAlpha"in t && (e.premultiplyAlpha = t.premultiplyAlpha),
                            "flipY"in t && (e.flipY = t.flipY),
                            "alignment"in t && (e.unpackAlignment = t.alignment),
                            "colorSpace"in t && (e.colorSpace = Y[t.colorSpace]),
                            "type"in t && (e.type = V[t.type]);
                            var r = e.width
                              , n = e.height
                              , a = e.channels
                              , i = !1;
                            "shape"in t ? (r = t.shape[0],
                            n = t.shape[1],
                            3 === t.shape.length && (a = t.shape[2],
                            i = !0)) : ("radius"in t && (r = n = t.radius),
                            "width"in t && (r = t.width),
                            "height"in t && (n = t.height),
                            "channels"in t && (a = t.channels,
                            i = !0)),
                            e.width = 0 | r,
                            e.height = 0 | n,
                            e.channels = 0 | a,
                            r = !1,
                            "format"in t && (r = t.format,
                            n = e.internalformat = W[r],
                            e.format = pe[n],
                            r in V && !("type"in t) && (e.type = V[r]),
                            r in Q && (e.compressed = !0),
                            r = !0),
                            !i && r ? e.channels = se[e.format] : i && !r && e.channels !== oe[e.format] && (e.format = e.internalformat = oe[e.channels])
                        }
                    }
                    function f(t) {
                        e.pixelStorei(37440, t.flipY),
                        e.pixelStorei(37441, t.premultiplyAlpha),
                        e.pixelStorei(37443, t.colorSpace),
                        e.pixelStorei(3317, t.unpackAlignment)
                    }
                    function d() {
                        s.call(this),
                        this.yOffset = this.xOffset = 0,
                        this.data = null,
                        this.needsFree = !1,
                        this.element = null,
                        this.needsCopy = !1
                    }
                    function h(e, t) {
                        var r = null;
                        if (_(t) ? r = t : t && (u(e, t),
                        "x"in t && (e.xOffset = 0 | t.x),
                        "y"in t && (e.yOffset = 0 | t.y),
                        _(t.data) && (r = t.data)),
                        t.copy) {
                            var n = a.viewportWidth
                              , i = a.viewportHeight;
                            e.width = e.width || n - e.xOffset,
                            e.height = e.height || i - e.yOffset,
                            e.needsCopy = !0
                        } else if (r) {
                            if (G(r))
                                e.channels = e.channels || 4,
                                e.data = r,
                                "type"in t || 5121 !== e.type || (e.type = 0 | X[Object.prototype.toString.call(r)]);
                            else if (m(r)) {
                                switch (e.channels = e.channels || 4,
                                i = (n = r).length,
                                e.type) {
                                case 5121:
                                case 5123:
                                case 5125:
                                case 5126:
                                    (i = q.allocType(e.type, i)).set(n),
                                    e.data = i;
                                    break;
                                case 36193:
                                    e.data = g(n)
                                }
                                e.alignment = 1,
                                e.needsFree = !0
                            } else if (l(r)) {
                                n = r.data,
                                Array.isArray(n) || 5121 !== e.type || (e.type = 0 | X[Object.prototype.toString.call(n)]);
                                i = r.shape;
                                var o, s, c, f, d = r.stride;
                                3 === i.length ? (c = i[2],
                                f = d[2]) : f = c = 1,
                                o = i[0],
                                s = i[1],
                                i = d[0],
                                d = d[1],
                                e.alignment = 1,
                                e.width = o,
                                e.height = s,
                                e.channels = c,
                                e.format = e.internalformat = oe[c],
                                e.needsFree = !0,
                                o = f,
                                r = r.offset,
                                c = e.width,
                                f = e.height,
                                s = e.channels;
                                for (var h = q.allocType(36193 === e.type ? 5126 : e.type, c * f * s), p = 0, v = 0; v < f; ++v)
                                    for (var A = 0; A < c; ++A)
                                        for (var k = 0; k < s; ++k)
                                            h[p++] = n[i * A + d * v + o * k + r];
                                w(e, h)
                            } else if (x(r) === le || x(r) === ce || x(r) === ue)
                                x(r) === le || x(r) === ce ? e.element = r : e.element = r.canvas,
                                e.width = e.element.width,
                                e.height = e.element.height,
                                e.channels = 4;
                            else if (x(r) === fe)
                                e.element = r,
                                e.width = r.width,
                                e.height = r.height,
                                e.channels = 4;
                            else if (x(r) === de)
                                e.element = r,
                                e.width = r.naturalWidth,
                                e.height = r.naturalHeight,
                                e.channels = 4;
                            else if (x(r) === he)
                                e.element = r,
                                e.width = r.videoWidth,
                                e.height = r.videoHeight,
                                e.channels = 4;
                            else if (b(r)) {
                                for (n = e.width || r[0].length,
                                i = e.height || r.length,
                                d = e.channels,
                                d = y(r[0][0]) ? d || r[0][0].length : d || 1,
                                o = J.shape(r),
                                c = 1,
                                f = 0; f < o.length; ++f)
                                    c *= o[f];
                                c = q.allocType(36193 === e.type ? 5126 : e.type, c),
                                J.flatten(r, o, "", c),
                                w(e, c),
                                e.alignment = 1,
                                e.width = n,
                                e.height = i,
                                e.channels = d,
                                e.format = e.internalformat = oe[d],
                                e.needsFree = !0
                            }
                        } else
                            e.width = e.width || 1,
                            e.height = e.height || 1,
                            e.channels = e.channels || 4
                    }
                    function p(t, r, a, i, o) {
                        var s = t.element
                          , l = t.data
                          , c = t.internalformat
                          , u = t.format
                          , d = t.type
                          , h = t.width
                          , p = t.height;
                        f(t),
                        s ? e.texSubImage2D(r, o, a, i, u, d, s) : t.compressed ? e.compressedTexSubImage2D(r, o, a, i, c, h, p, l) : t.needsCopy ? (n(),
                        e.copyTexSubImage2D(r, o, a, i, t.xOffset, t.yOffset, h, p)) : e.texSubImage2D(r, o, a, i, h, p, u, d, l)
                    }
                    function v() {
                        return ge.pop() || new d
                    }
                    function k(e) {
                        e.needsFree && q.freeType(e.data),
                        d.call(e),
                        ge.push(e)
                    }
                    function T() {
                        s.call(this),
                        this.genMipmaps = !1,
                        this.mipmapHint = 4352,
                        this.mipmask = 0,
                        this.images = Array(16)
                    }
                    function M(e, t, r) {
                        var n = e.images[0] = v();
                        e.mipmask = 1,
                        n.width = e.width = t,
                        n.height = e.height = r,
                        n.channels = e.channels = 4
                    }
                    function S(e, t) {
                        var r = null;
                        if (_(t))
                            c(r = e.images[0] = v(), e),
                            h(r, t),
                            e.mipmask = 1;
                        else if (u(e, t),
                        Array.isArray(t.mipmap))
                            for (var n = t.mipmap, a = 0; a < n.length; ++a)
                                c(r = e.images[a] = v(), e),
                                r.width >>= a,
                                r.height >>= a,
                                h(r, n[a]),
                                e.mipmask |= 1 << a;
                        else
                            c(r = e.images[0] = v(), e),
                            h(r, t),
                            e.mipmask = 1;
                        c(e, e.images[0])
                    }
                    function C(t, r) {
                        for (var a = t.images, i = 0; i < a.length && a[i]; ++i) {
                            var o = a[i]
                              , s = r
                              , l = i
                              , c = o.element
                              , u = o.data
                              , d = o.internalformat
                              , h = o.format
                              , p = o.type
                              , g = o.width
                              , y = o.height;
                            f(o),
                            c ? e.texImage2D(s, l, h, h, p, c) : o.compressed ? e.compressedTexImage2D(s, l, d, g, y, 0, u) : o.needsCopy ? (n(),
                            e.copyTexImage2D(s, l, h, o.xOffset, o.yOffset, g, y, 0)) : e.texImage2D(s, l, h, g, y, 0, h, p, u || null)
                        }
                    }
                    function O() {
                        var e = ye.pop() || new T;
                        s.call(e);
                        for (var t = e.mipmask = 0; 16 > t; ++t)
                            e.images[t] = null;
                        return e
                    }
                    function D(e) {
                        for (var t = e.images, r = 0; r < t.length; ++r)
                            t[r] && k(t[r]),
                            t[r] = null;
                        ye.push(e)
                    }
                    function L() {
                        this.magFilter = this.minFilter = 9728,
                        this.wrapT = this.wrapS = 33071,
                        this.anisotropic = 1,
                        this.genMipmaps = !1,
                        this.mipmapHint = 4352
                    }
                    function E(e, t) {
                        "min"in t && (e.minFilter = U[t.min],
                        0 <= ie.indexOf(e.minFilter) && !("faces"in t) && (e.genMipmaps = !0)),
                        "mag"in t && (e.magFilter = H[t.mag]);
                        var r = e.wrapS
                          , n = e.wrapT;
                        if ("wrap"in t) {
                            var a = t.wrap;
                            "string" == typeof a ? r = n = j[a] : Array.isArray(a) && (r = j[a[0]],
                            n = j[a[1]])
                        } else
                            "wrapS"in t && (r = j[t.wrapS]),
                            "wrapT"in t && (n = j[t.wrapT]);
                        if (e.wrapS = r,
                        e.wrapT = n,
                        "anisotropic"in t && (e.anisotropic = t.anisotropic),
                        "mipmap"in t) {
                            switch (r = !1,
                            typeof t.mipmap) {
                            case "string":
                                e.mipmapHint = R[t.mipmap],
                                r = e.genMipmaps = !0;
                                break;
                            case "boolean":
                                r = e.genMipmaps = t.mipmap;
                                break;
                            case "object":
                                e.genMipmaps = !1,
                                r = !0
                            }
                            !r || "min"in t || (e.minFilter = 9984)
                        }
                    }
                    function z(r, n) {
                        e.texParameteri(n, 10241, r.minFilter),
                        e.texParameteri(n, 10240, r.magFilter),
                        e.texParameteri(n, 10242, r.wrapS),
                        e.texParameteri(n, 10243, r.wrapT),
                        t.ext_texture_filter_anisotropic && e.texParameteri(n, 34046, r.anisotropic),
                        r.genMipmaps && (e.hint(33170, r.mipmapHint),
                        e.generateMipmap(n))
                    }
                    function F(t) {
                        s.call(this),
                        this.mipmask = 0,
                        this.internalformat = 6408,
                        this.id = ve++,
                        this.refCount = 1,
                        this.target = t,
                        this.texture = e.createTexture(),
                        this.unit = -1,
                        this.bindCount = 0,
                        this.texInfo = new L,
                        o.profile && (this.stats = {
                            size: 0
                        })
                    }
                    function P(t) {
                        e.activeTexture(33984),
                        e.bindTexture(t.target, t.texture)
                    }
                    function I() {
                        var t = xe[0];
                        t ? e.bindTexture(t.target, t.texture) : e.bindTexture(3553, null)
                    }
                    function N(t) {
                        var r = t.texture
                          , n = t.unit
                          , a = t.target;
                        0 <= n && (e.activeTexture(33984 + n),
                        e.bindTexture(a, null),
                        xe[n] = null),
                        e.deleteTexture(r),
                        t.texture = null,
                        t.params = null,
                        t.pixels = null,
                        t.refCount = 0,
                        delete me[t.id],
                        i.textureCount--
                    }
                    var R = {
                        "don't care": 4352,
                        "dont care": 4352,
                        nice: 4354,
                        fast: 4353
                    }
                      , j = {
                        repeat: 10497,
                        clamp: 33071,
                        mirror: 33648
                    }
                      , H = {
                        nearest: 9728,
                        linear: 9729
                    }
                      , U = B({
                        mipmap: 9987,
                        "nearest mipmap nearest": 9984,
                        "linear mipmap nearest": 9985,
                        "nearest mipmap linear": 9986,
                        "linear mipmap linear": 9987
                    }, H)
                      , Y = {
                        none: 0,
                        browser: 37444
                    }
                      , V = {
                        uint8: 5121,
                        rgba4: 32819,
                        rgb565: 33635,
                        "rgb5 a1": 32820
                    }
                      , W = {
                        alpha: 6406,
                        luminance: 6409,
                        "luminance alpha": 6410,
                        rgb: 6407,
                        rgba: 6408,
                        rgba4: 32854,
                        "rgb5 a1": 32855,
                        rgb565: 36194
                    }
                      , Q = {};
                    t.ext_srgb && (W.srgb = 35904,
                    W.srgba = 35906),
                    t.oes_texture_float && (V.float32 = V.float = 5126),
                    t.oes_texture_half_float && (V.float16 = V["half float"] = 36193),
                    t.webgl_depth_texture && (B(W, {
                        depth: 6402,
                        "depth stencil": 34041
                    }),
                    B(V, {
                        uint16: 5123,
                        uint32: 5125,
                        "depth stencil": 34042
                    })),
                    t.webgl_compressed_texture_s3tc && B(Q, {
                        "rgb s3tc dxt1": 33776,
                        "rgba s3tc dxt1": 33777,
                        "rgba s3tc dxt3": 33778,
                        "rgba s3tc dxt5": 33779
                    }),
                    t.webgl_compressed_texture_atc && B(Q, {
                        "rgb atc": 35986,
                        "rgba atc explicit alpha": 35987,
                        "rgba atc interpolated alpha": 34798
                    }),
                    t.webgl_compressed_texture_pvrtc && B(Q, {
                        "rgb pvrtc 4bppv1": 35840,
                        "rgb pvrtc 2bppv1": 35841,
                        "rgba pvrtc 4bppv1": 35842,
                        "rgba pvrtc 2bppv1": 35843
                    }),
                    t.webgl_compressed_texture_etc1 && (Q["rgb etc1"] = 36196);
                    var $ = Array.prototype.slice.call(e.getParameter(34467));
                    Object.keys(Q).forEach((function(e) {
                        var t = Q[e];
                        0 <= $.indexOf(t) && (W[e] = t)
                    }
                    ));
                    var K = Object.keys(W);
                    r.textureFormats = K;
                    var ee = [];
                    Object.keys(W).forEach((function(e) {
                        ee[W[e]] = e
                    }
                    ));
                    var te = [];
                    Object.keys(V).forEach((function(e) {
                        te[V[e]] = e
                    }
                    ));
                    var re = [];
                    Object.keys(H).forEach((function(e) {
                        re[H[e]] = e
                    }
                    ));
                    var ne = [];
                    Object.keys(U).forEach((function(e) {
                        ne[U[e]] = e
                    }
                    ));
                    var ae = [];
                    Object.keys(j).forEach((function(e) {
                        ae[j[e]] = e
                    }
                    ));
                    var pe = K.reduce((function(e, r) {
                        var n = W[r];
                        return 6409 === n || 6406 === n || 6409 === n || 6410 === n || 6402 === n || 34041 === n || t.ext_srgb && (35904 === n || 35906 === n) ? e[n] = n : 32855 === n || 0 <= r.indexOf("rgba") ? e[n] = 6408 : e[n] = 6407,
                        e
                    }
                    ), {})
                      , ge = []
                      , ye = []
                      , ve = 0
                      , me = {}
                      , be = r.maxTextureUnits
                      , xe = Array(be).map((function() {
                        return null
                    }
                    ));
                    return B(F.prototype, {
                        bind: function() {
                            this.bindCount += 1;
                            var t = this.unit;
                            if (0 > t) {
                                for (var r = 0; r < be; ++r) {
                                    var n = xe[r];
                                    if (n) {
                                        if (0 < n.bindCount)
                                            continue;
                                        n.unit = -1
                                    }
                                    xe[r] = this,
                                    t = r;
                                    break
                                }
                                o.profile && i.maxTextureUnits < t + 1 && (i.maxTextureUnits = t + 1),
                                this.unit = t,
                                e.activeTexture(33984 + t),
                                e.bindTexture(this.target, this.texture)
                            }
                            return t
                        },
                        unbind: function() {
                            --this.bindCount
                        },
                        decRef: function() {
                            0 >= --this.refCount && N(this)
                        }
                    }),
                    o.profile && (i.getTotalTextureSize = function() {
                        var e = 0;
                        return Object.keys(me).forEach((function(t) {
                            e += me[t].stats.size
                        }
                        )),
                        e
                    }
                    ),
                    {
                        create2D: function(t, r) {
                            function n(e, t) {
                                var r = a.texInfo;
                                L.call(r);
                                var i = O();
                                return "number" == typeof e ? M(i, 0 | e, "number" == typeof t ? 0 | t : 0 | e) : e ? (E(r, e),
                                S(i, e)) : M(i, 1, 1),
                                r.genMipmaps && (i.mipmask = (i.width << 1) - 1),
                                a.mipmask = i.mipmask,
                                c(a, i),
                                a.internalformat = i.internalformat,
                                n.width = i.width,
                                n.height = i.height,
                                P(a),
                                C(i, 3553),
                                z(r, 3553),
                                I(),
                                D(i),
                                o.profile && (a.stats.size = A(a.internalformat, a.type, i.width, i.height, r.genMipmaps, !1)),
                                n.format = ee[a.internalformat],
                                n.type = te[a.type],
                                n.mag = re[r.magFilter],
                                n.min = ne[r.minFilter],
                                n.wrapS = ae[r.wrapS],
                                n.wrapT = ae[r.wrapT],
                                n
                            }
                            var a = new F(3553);
                            return me[a.id] = a,
                            i.textureCount++,
                            n(t, r),
                            n.subimage = function(e, t, r, i) {
                                t |= 0,
                                r |= 0,
                                i |= 0;
                                var o = v();
                                return c(o, a),
                                o.width = 0,
                                o.height = 0,
                                h(o, e),
                                o.width = o.width || (a.width >> i) - t,
                                o.height = o.height || (a.height >> i) - r,
                                P(a),
                                p(o, 3553, t, r, i),
                                I(),
                                k(o),
                                n
                            }
                            ,
                            n.resize = function(t, r) {
                                var i = 0 | t
                                  , s = 0 | r || i;
                                if (i === a.width && s === a.height)
                                    return n;
                                n.width = a.width = i,
                                n.height = a.height = s,
                                P(a);
                                for (var l = 0; a.mipmask >> l; ++l) {
                                    var c = i >> l
                                      , u = s >> l;
                                    if (!c || !u)
                                        break;
                                    e.texImage2D(3553, l, a.format, c, u, 0, a.format, a.type, null)
                                }
                                return I(),
                                o.profile && (a.stats.size = A(a.internalformat, a.type, i, s, !1, !1)),
                                n
                            }
                            ,
                            n._reglType = "texture2d",
                            n._texture = a,
                            o.profile && (n.stats = a.stats),
                            n.destroy = function() {
                                a.decRef()
                            }
                            ,
                            n
                        },
                        createCube: function(t, r, n, a, s, l) {
                            function f(e, t, r, n, a, i) {
                                var s, l = d.texInfo;
                                for (L.call(l),
                                s = 0; 6 > s; ++s)
                                    g[s] = O();
                                if ("number" != typeof e && e) {
                                    if ("object" == typeof e)
                                        if (t)
                                            S(g[0], e),
                                            S(g[1], t),
                                            S(g[2], r),
                                            S(g[3], n),
                                            S(g[4], a),
                                            S(g[5], i);
                                        else if (E(l, e),
                                        u(d, e),
                                        "faces"in e)
                                            for (e = e.faces,
                                            s = 0; 6 > s; ++s)
                                                c(g[s], d),
                                                S(g[s], e[s]);
                                        else
                                            for (s = 0; 6 > s; ++s)
                                                S(g[s], e)
                                } else
                                    for (e = 0 | e || 1,
                                    s = 0; 6 > s; ++s)
                                        M(g[s], e, e);
                                for (c(d, g[0]),
                                d.mipmask = l.genMipmaps ? (g[0].width << 1) - 1 : g[0].mipmask,
                                d.internalformat = g[0].internalformat,
                                f.width = g[0].width,
                                f.height = g[0].height,
                                P(d),
                                s = 0; 6 > s; ++s)
                                    C(g[s], 34069 + s);
                                for (z(l, 34067),
                                I(),
                                o.profile && (d.stats.size = A(d.internalformat, d.type, f.width, f.height, l.genMipmaps, !0)),
                                f.format = ee[d.internalformat],
                                f.type = te[d.type],
                                f.mag = re[l.magFilter],
                                f.min = ne[l.minFilter],
                                f.wrapS = ae[l.wrapS],
                                f.wrapT = ae[l.wrapT],
                                s = 0; 6 > s; ++s)
                                    D(g[s]);
                                return f
                            }
                            var d = new F(34067);
                            me[d.id] = d,
                            i.cubeCount++;
                            var g = Array(6);
                            return f(t, r, n, a, s, l),
                            f.subimage = function(e, t, r, n, a) {
                                r |= 0,
                                n |= 0,
                                a |= 0;
                                var i = v();
                                return c(i, d),
                                i.width = 0,
                                i.height = 0,
                                h(i, t),
                                i.width = i.width || (d.width >> a) - r,
                                i.height = i.height || (d.height >> a) - n,
                                P(d),
                                p(i, 34069 + e, r, n, a),
                                I(),
                                k(i),
                                f
                            }
                            ,
                            f.resize = function(t) {
                                if ((t |= 0) !== d.width) {
                                    f.width = d.width = t,
                                    f.height = d.height = t,
                                    P(d);
                                    for (var r = 0; 6 > r; ++r)
                                        for (var n = 0; d.mipmask >> n; ++n)
                                            e.texImage2D(34069 + r, n, d.format, t >> n, t >> n, 0, d.format, d.type, null);
                                    return I(),
                                    o.profile && (d.stats.size = A(d.internalformat, d.type, f.width, f.height, !1, !0)),
                                    f
                                }
                            }
                            ,
                            f._reglType = "textureCube",
                            f._texture = d,
                            o.profile && (f.stats = d.stats),
                            f.destroy = function() {
                                d.decRef()
                            }
                            ,
                            f
                        },
                        clear: function() {
                            for (var t = 0; t < be; ++t)
                                e.activeTexture(33984 + t),
                                e.bindTexture(3553, null),
                                xe[t] = null;
                            Z(me).forEach(N),
                            i.cubeCount = 0,
                            i.textureCount = 0
                        },
                        getTexture: function(e) {
                            return null
                        },
                        restore: function() {
                            for (var t = 0; t < be; ++t) {
                                var r = xe[t];
                                r && (r.bindCount = 0,
                                r.unit = -1,
                                xe[t] = null)
                            }
                            Z(me).forEach((function(t) {
                                t.texture = e.createTexture(),
                                e.bindTexture(t.target, t.texture);
                                for (var r = 0; 32 > r; ++r)
                                    if (0 != (t.mipmask & 1 << r))
                                        if (3553 === t.target)
                                            e.texImage2D(3553, r, t.internalformat, t.width >> r, t.height >> r, 0, t.internalformat, t.type, null);
                                        else
                                            for (var n = 0; 6 > n; ++n)
                                                e.texImage2D(34069 + n, r, t.internalformat, t.width >> r, t.height >> r, 0, t.internalformat, t.type, null);
                                z(t.texInfo, t.target)
                            }
                            ))
                        },
                        refresh: function() {
                            for (var t = 0; t < be; ++t) {
                                var r = xe[t];
                                r && (r.bindCount = 0,
                                r.unit = -1,
                                xe[t] = null),
                                e.activeTexture(33984 + t),
                                e.bindTexture(3553, null),
                                e.bindTexture(34067, null)
                            }
                        }
                    }
                }
                function T(e, t, r, n, a, i) {
                    function o(e, t, r) {
                        this.target = e,
                        this.texture = t,
                        this.renderbuffer = r;
                        var n = e = 0;
                        t ? (e = t.width,
                        n = t.height) : r && (e = r.width,
                        n = r.height),
                        this.width = e,
                        this.height = n
                    }
                    function s(e) {
                        e && (e.texture && e.texture._texture.decRef(),
                        e.renderbuffer && e.renderbuffer._renderbuffer.decRef())
                    }
                    function l(e, t, r) {
                        e && (e.texture ? e.texture._texture.refCount += 1 : e.renderbuffer._renderbuffer.refCount += 1)
                    }
                    function c(t, r) {
                        r && (r.texture ? e.framebufferTexture2D(36160, t, r.target, r.texture._texture.texture, 0) : e.framebufferRenderbuffer(36160, t, 36161, r.renderbuffer._renderbuffer.renderbuffer))
                    }
                    function u(e) {
                        var t = 3553
                          , r = null
                          , n = null
                          , a = e;
                        return "object" == typeof e && (a = e.data,
                        "target"in e && (t = 0 | e.target)),
                        "texture2d" === (e = a._reglType) || "textureCube" === e ? r = a : "renderbuffer" === e && (n = a,
                        t = 36161),
                        new o(t,r,n)
                    }
                    function f(e, t, r, i, s) {
                        return r ? ((e = n.create2D({
                            width: e,
                            height: t,
                            format: i,
                            type: s
                        }))._texture.refCount = 0,
                        new o(3553,e,null)) : ((e = a.create({
                            width: e,
                            height: t,
                            format: i
                        }))._renderbuffer.refCount = 0,
                        new o(36161,null,e))
                    }
                    function d(e) {
                        return e && (e.texture || e.renderbuffer)
                    }
                    function h(e, t, r) {
                        e && (e.texture ? e.texture.resize(t, r) : e.renderbuffer && e.renderbuffer.resize(t, r),
                        e.width = t,
                        e.height = r)
                    }
                    function p() {
                        this.id = A++,
                        k[this.id] = this,
                        this.framebuffer = e.createFramebuffer(),
                        this.height = this.width = 0,
                        this.colorAttachments = [],
                        this.depthStencilAttachment = this.stencilAttachment = this.depthAttachment = null
                    }
                    function g(e) {
                        e.colorAttachments.forEach(s),
                        s(e.depthAttachment),
                        s(e.stencilAttachment),
                        s(e.depthStencilAttachment)
                    }
                    function y(t) {
                        e.deleteFramebuffer(t.framebuffer),
                        t.framebuffer = null,
                        i.framebufferCount--,
                        delete k[t.id]
                    }
                    function v(t) {
                        var n;
                        e.bindFramebuffer(36160, t.framebuffer);
                        var a = t.colorAttachments;
                        for (n = 0; n < a.length; ++n)
                            c(36064 + n, a[n]);
                        for (n = a.length; n < r.maxColorAttachments; ++n)
                            e.framebufferTexture2D(36160, 36064 + n, 3553, null, 0);
                        e.framebufferTexture2D(36160, 33306, 3553, null, 0),
                        e.framebufferTexture2D(36160, 36096, 3553, null, 0),
                        e.framebufferTexture2D(36160, 36128, 3553, null, 0),
                        c(36096, t.depthAttachment),
                        c(36128, t.stencilAttachment),
                        c(33306, t.depthStencilAttachment),
                        e.checkFramebufferStatus(36160),
                        e.isContextLost(),
                        e.bindFramebuffer(36160, b.next ? b.next.framebuffer : null),
                        b.cur = b.next,
                        e.getError()
                    }
                    function m(e, t) {
                        function r(e, t) {
                            var a, i = 0, o = 0, s = !0, c = !0;
                            a = null;
                            var h = !0
                              , p = "rgba"
                              , y = "uint8"
                              , m = 1
                              , b = null
                              , w = null
                              , A = null
                              , k = !1;
                            "number" == typeof e ? (i = 0 | e,
                            o = 0 | t || i) : e ? ("shape"in e ? (i = (o = e.shape)[0],
                            o = o[1]) : ("radius"in e && (i = o = e.radius),
                            "width"in e && (i = e.width),
                            "height"in e && (o = e.height)),
                            ("color"in e || "colors"in e) && (a = e.color || e.colors,
                            Array.isArray(a)),
                            a || ("colorCount"in e && (m = 0 | e.colorCount),
                            "colorTexture"in e && (h = !!e.colorTexture,
                            p = "rgba4"),
                            "colorType"in e && (y = e.colorType,
                            !h) && ("half float" === y || "float16" === y ? p = "rgba16f" : "float" !== y && "float32" !== y || (p = "rgba32f")),
                            "colorFormat"in e && (p = e.colorFormat,
                            0 <= x.indexOf(p) ? h = !0 : 0 <= _.indexOf(p) && (h = !1))),
                            ("depthTexture"in e || "depthStencilTexture"in e) && (k = !(!e.depthTexture && !e.depthStencilTexture)),
                            "depth"in e && ("boolean" == typeof e.depth ? s = e.depth : (b = e.depth,
                            c = !1)),
                            "stencil"in e && ("boolean" == typeof e.stencil ? c = e.stencil : (w = e.stencil,
                            s = !1)),
                            "depthStencil"in e && ("boolean" == typeof e.depthStencil ? s = c = e.depthStencil : (A = e.depthStencil,
                            c = s = !1))) : i = o = 1;
                            var T = null
                              , M = null
                              , S = null
                              , C = null;
                            if (Array.isArray(a))
                                T = a.map(u);
                            else if (a)
                                T = [u(a)];
                            else
                                for (T = Array(m),
                                a = 0; a < m; ++a)
                                    T[a] = f(i, o, h, p, y);
                            for (i = i || T[0].width,
                            o = o || T[0].height,
                            b ? M = u(b) : s && !c && (M = f(i, o, k, "depth", "uint32")),
                            w ? S = u(w) : c && !s && (S = f(i, o, !1, "stencil", "uint8")),
                            A ? C = u(A) : !b && !w && c && s && (C = f(i, o, k, "depth stencil", "depth stencil")),
                            s = null,
                            a = 0; a < T.length; ++a)
                                l(T[a]),
                                T[a] && T[a].texture && (c = be[T[a].texture._texture.format] * xe[T[a].texture._texture.type],
                                null === s && (s = c));
                            return l(M),
                            l(S),
                            l(C),
                            g(n),
                            n.width = i,
                            n.height = o,
                            n.colorAttachments = T,
                            n.depthAttachment = M,
                            n.stencilAttachment = S,
                            n.depthStencilAttachment = C,
                            r.color = T.map(d),
                            r.depth = d(M),
                            r.stencil = d(S),
                            r.depthStencil = d(C),
                            r.width = n.width,
                            r.height = n.height,
                            v(n),
                            r
                        }
                        var n = new p;
                        return i.framebufferCount++,
                        r(e, t),
                        B(r, {
                            resize: function(e, t) {
                                var a = Math.max(0 | e, 1)
                                  , i = Math.max(0 | t || a, 1);
                                if (a === n.width && i === n.height)
                                    return r;
                                for (var o = n.colorAttachments, s = 0; s < o.length; ++s)
                                    h(o[s], a, i);
                                return h(n.depthAttachment, a, i),
                                h(n.stencilAttachment, a, i),
                                h(n.depthStencilAttachment, a, i),
                                n.width = r.width = a,
                                n.height = r.height = i,
                                v(n),
                                r
                            },
                            _reglType: "framebuffer",
                            _framebuffer: n,
                            destroy: function() {
                                y(n),
                                g(n)
                            },
                            use: function(e) {
                                b.setFBO({
                                    framebuffer: r
                                }, e)
                            }
                        })
                    }
                    var b = {
                        cur: null,
                        next: null,
                        dirty: !1,
                        setFBO: null
                    }
                      , x = ["rgba"]
                      , _ = ["rgba4", "rgb565", "rgb5 a1"];
                    t.ext_srgb && _.push("srgba"),
                    t.ext_color_buffer_half_float && _.push("rgba16f", "rgb16f"),
                    t.webgl_color_buffer_float && _.push("rgba32f");
                    var w = ["uint8"];
                    t.oes_texture_half_float && w.push("half float", "float16"),
                    t.oes_texture_float && w.push("float", "float32");
                    var A = 0
                      , k = {};
                    return B(b, {
                        getFramebuffer: function(e) {
                            return "function" == typeof e && "framebuffer" === e._reglType && (e = e._framebuffer)instanceof p ? e : null
                        },
                        create: m,
                        createCube: function(e) {
                            function t(e) {
                                var a, i = {
                                    color: null
                                }, o = 0, s = null;
                                a = "rgba";
                                var l = "uint8"
                                  , c = 1;
                                if ("number" == typeof e ? o = 0 | e : e ? ("shape"in e ? o = e.shape[0] : ("radius"in e && (o = 0 | e.radius),
                                "width"in e ? o = 0 | e.width : "height"in e && (o = 0 | e.height)),
                                ("color"in e || "colors"in e) && (s = e.color || e.colors,
                                Array.isArray(s)),
                                s || ("colorCount"in e && (c = 0 | e.colorCount),
                                "colorType"in e && (l = e.colorType),
                                "colorFormat"in e && (a = e.colorFormat)),
                                "depth"in e && (i.depth = e.depth),
                                "stencil"in e && (i.stencil = e.stencil),
                                "depthStencil"in e && (i.depthStencil = e.depthStencil)) : o = 1,
                                s)
                                    if (Array.isArray(s))
                                        for (e = [],
                                        a = 0; a < s.length; ++a)
                                            e[a] = s[a];
                                    else
                                        e = [s];
                                else
                                    for (e = Array(c),
                                    s = {
                                        radius: o,
                                        format: a,
                                        type: l
                                    },
                                    a = 0; a < c; ++a)
                                        e[a] = n.createCube(s);
                                for (i.color = Array(e.length),
                                a = 0; a < e.length; ++a)
                                    c = e[a],
                                    o = o || c.width,
                                    i.color[a] = {
                                        target: 34069,
                                        data: e[a]
                                    };
                                for (a = 0; 6 > a; ++a) {
                                    for (c = 0; c < e.length; ++c)
                                        i.color[c].target = 34069 + a;
                                    0 < a && (i.depth = r[0].depth,
                                    i.stencil = r[0].stencil,
                                    i.depthStencil = r[0].depthStencil),
                                    r[a] ? r[a](i) : r[a] = m(i)
                                }
                                return B(t, {
                                    width: o,
                                    height: o,
                                    color: e
                                })
                            }
                            var r = Array(6);
                            return t(e),
                            B(t, {
                                faces: r,
                                resize: function(e) {
                                    var n = 0 | e;
                                    if (n === t.width)
                                        return t;
                                    var a = t.color;
                                    for (e = 0; e < a.length; ++e)
                                        a[e].resize(n);
                                    for (e = 0; 6 > e; ++e)
                                        r[e].resize(n);
                                    return t.width = t.height = n,
                                    t
                                },
                                _reglType: "framebufferCube",
                                destroy: function() {
                                    r.forEach((function(e) {
                                        e.destroy()
                                    }
                                    ))
                                }
                            })
                        },
                        clear: function() {
                            Z(k).forEach(y)
                        },
                        restore: function() {
                            b.cur = null,
                            b.next = null,
                            b.dirty = !0,
                            Z(k).forEach((function(t) {
                                t.framebuffer = e.createFramebuffer(),
                                v(t)
                            }
                            ))
                        }
                    })
                }
                function M() {
                    this.w = this.z = this.y = this.x = this.state = 0,
                    this.buffer = null,
                    this.size = 0,
                    this.normalized = !1,
                    this.type = 5126,
                    this.divisor = this.stride = this.offset = 0
                }
                function S(e, t, r, n, a) {
                    function i() {
                        this.id = ++c,
                        this.attributes = [];
                        var e = t.oes_vertex_array_object;
                        this.vao = e ? e.createVertexArrayOES() : null,
                        u[this.id] = this,
                        this.buffers = []
                    }
                    var o = r.maxAttributes
                      , s = Array(o);
                    for (r = 0; r < o; ++r)
                        s[r] = new M;
                    var c = 0
                      , u = {}
                      , f = {
                        Record: M,
                        scope: {},
                        state: s,
                        currentVAO: null,
                        targetVAO: null,
                        restore: t.oes_vertex_array_object ? function() {
                            t.oes_vertex_array_object && Z(u).forEach((function(e) {
                                e.refresh()
                            }
                            ))
                        }
                        : function() {}
                        ,
                        createVAO: function(e) {
                            function t(e) {
                                var n = {}
                                  , i = r.attributes;
                                i.length = e.length;
                                for (var o = 0; o < e.length; ++o) {
                                    var s, c = e[o], u = i[o] = new M, f = c.data || c;
                                    if (Array.isArray(f) || G(f) || l(f))
                                        r.buffers[o] && (s = r.buffers[o],
                                        G(f) && s._buffer.byteLength >= f.byteLength ? s.subdata(f) : (s.destroy(),
                                        r.buffers[o] = null)),
                                        r.buffers[o] || (s = r.buffers[o] = a.create(c, 34962, !1, !0)),
                                        u.buffer = a.getBuffer(s),
                                        u.size = 0 | u.buffer.dimension,
                                        u.normalized = !1,
                                        u.type = u.buffer.dtype,
                                        u.offset = 0,
                                        u.stride = 0,
                                        u.divisor = 0,
                                        u.state = 1,
                                        n[o] = 1;
                                    else
                                        a.getBuffer(c) ? (u.buffer = a.getBuffer(c),
                                        u.size = 0 | u.buffer.dimension,
                                        u.normalized = !1,
                                        u.type = u.buffer.dtype,
                                        u.offset = 0,
                                        u.stride = 0,
                                        u.divisor = 0,
                                        u.state = 1) : a.getBuffer(c.buffer) ? (u.buffer = a.getBuffer(c.buffer),
                                        u.size = 0 | (+c.size || u.buffer.dimension),
                                        u.normalized = !!c.normalized || !1,
                                        u.type = "type"in c ? Q[c.type] : u.buffer.dtype,
                                        u.offset = 0 | (c.offset || 0),
                                        u.stride = 0 | (c.stride || 0),
                                        u.divisor = 0 | (c.divisor || 0),
                                        u.state = 1) : "x"in c && (u.x = +c.x || 0,
                                        u.y = +c.y || 0,
                                        u.z = +c.z || 0,
                                        u.w = +c.w || 0,
                                        u.state = 2)
                                }
                                for (e = 0; e < r.buffers.length; ++e)
                                    !n[e] && r.buffers[e] && (r.buffers[e].destroy(),
                                    r.buffers[e] = null);
                                return r.refresh(),
                                t
                            }
                            var r = new i;
                            return n.vaoCount += 1,
                            t.destroy = function() {
                                for (var e = 0; e < r.buffers.length; ++e)
                                    r.buffers[e] && r.buffers[e].destroy();
                                r.buffers.length = 0,
                                r.destroy()
                            }
                            ,
                            t._vao = r,
                            t._reglType = "vao",
                            t(e)
                        },
                        getVAO: function(e) {
                            return "function" == typeof e && e._vao ? e._vao : null
                        },
                        destroyBuffer: function(t) {
                            for (var r = 0; r < s.length; ++r) {
                                var n = s[r];
                                n.buffer === t && (e.disableVertexAttribArray(r),
                                n.buffer = null)
                            }
                        },
                        setVAO: t.oes_vertex_array_object ? function(e) {
                            if (e !== f.currentVAO) {
                                var r = t.oes_vertex_array_object;
                                e ? r.bindVertexArrayOES(e.vao) : r.bindVertexArrayOES(null),
                                f.currentVAO = e
                            }
                        }
                        : function(r) {
                            if (r !== f.currentVAO) {
                                if (r)
                                    r.bindAttrs();
                                else
                                    for (var n = t.angle_instanced_arrays, a = 0; a < s.length; ++a) {
                                        var i = s[a];
                                        i.buffer ? (e.enableVertexAttribArray(a),
                                        e.vertexAttribPointer(a, i.size, i.type, i.normalized, i.stride, i.offfset),
                                        n && i.divisor && n.vertexAttribDivisorANGLE(a, i.divisor)) : (e.disableVertexAttribArray(a),
                                        e.vertexAttrib4f(a, i.x, i.y, i.z, i.w))
                                    }
                                f.currentVAO = r
                            }
                        }
                        ,
                        clear: t.oes_vertex_array_object ? function() {
                            Z(u).forEach((function(e) {
                                e.destroy()
                            }
                            ))
                        }
                        : function() {}
                    };
                    return i.prototype.bindAttrs = function() {
                        for (var r = t.angle_instanced_arrays, n = this.attributes, a = 0; a < n.length; ++a) {
                            var i = n[a];
                            i.buffer ? (e.enableVertexAttribArray(a),
                            e.bindBuffer(34962, i.buffer.buffer),
                            e.vertexAttribPointer(a, i.size, i.type, i.normalized, i.stride, i.offset),
                            r && i.divisor && r.vertexAttribDivisorANGLE(a, i.divisor)) : (e.disableVertexAttribArray(a),
                            e.vertexAttrib4f(a, i.x, i.y, i.z, i.w))
                        }
                        for (r = n.length; r < o; ++r)
                            e.disableVertexAttribArray(r)
                    }
                    ,
                    i.prototype.refresh = function() {
                        var e = t.oes_vertex_array_object;
                        e && (e.bindVertexArrayOES(this.vao),
                        this.bindAttrs(),
                        f.currentVAO = this)
                    }
                    ,
                    i.prototype.destroy = function() {
                        if (this.vao) {
                            var e = t.oes_vertex_array_object;
                            this === f.currentVAO && (f.currentVAO = null,
                            e.bindVertexArrayOES(null)),
                            e.deleteVertexArrayOES(this.vao),
                            this.vao = null
                        }
                        u[this.id] && (delete u[this.id],
                        --n.vaoCount)
                    }
                    ,
                    f
                }
                function C(e, t, r, n) {
                    function a(e, t, r, n) {
                        this.name = e,
                        this.id = t,
                        this.location = r,
                        this.info = n
                    }
                    function i(e, t) {
                        for (var r = 0; r < e.length; ++r)
                            if (e[r].id === t.id)
                                return void (e[r].location = t.location);
                        e.push(t)
                    }
                    function o(r, n, a) {
                        if (!(o = (a = 35632 === r ? c : u)[n])) {
                            var i = t.str(n)
                              , o = e.createShader(r);
                            e.shaderSource(o, i),
                            e.compileShader(o),
                            a[n] = o
                        }
                        return o
                    }
                    function s(e, t) {
                        this.id = h++,
                        this.fragId = e,
                        this.vertId = t,
                        this.program = null,
                        this.uniforms = [],
                        this.attributes = [],
                        this.refCount = 1,
                        n.profile && (this.stats = {
                            uniformsCount: 0,
                            attributesCount: 0
                        })
                    }
                    function l(r, s, l) {
                        var c;
                        c = o(35632, r.fragId);
                        var u = o(35633, r.vertId);
                        if (s = r.program = e.createProgram(),
                        e.attachShader(s, c),
                        e.attachShader(s, u),
                        l)
                            for (c = 0; c < l.length; ++c)
                                u = l[c],
                                e.bindAttribLocation(s, u[0], u[1]);
                        e.linkProgram(s),
                        u = e.getProgramParameter(s, 35718),
                        n.profile && (r.stats.uniformsCount = u);
                        var f = r.uniforms;
                        for (c = 0; c < u; ++c)
                            if (l = e.getActiveUniform(s, c))
                                if (1 < l.size)
                                    for (var d = 0; d < l.size; ++d) {
                                        var h = l.name.replace("[0]", "[" + d + "]");
                                        i(f, new a(h,t.id(h),e.getUniformLocation(s, h),l))
                                    }
                                else
                                    i(f, new a(l.name,t.id(l.name),e.getUniformLocation(s, l.name),l));
                        for (u = e.getProgramParameter(s, 35721),
                        n.profile && (r.stats.attributesCount = u),
                        r = r.attributes,
                        c = 0; c < u; ++c)
                            (l = e.getActiveAttrib(s, c)) && i(r, new a(l.name,t.id(l.name),e.getAttribLocation(s, l.name),l))
                    }
                    var c = {}
                      , u = {}
                      , f = {}
                      , d = []
                      , h = 0;
                    return n.profile && (r.getMaxUniformsCount = function() {
                        var e = 0;
                        return d.forEach((function(t) {
                            t.stats.uniformsCount > e && (e = t.stats.uniformsCount)
                        }
                        )),
                        e
                    }
                    ,
                    r.getMaxAttributesCount = function() {
                        var e = 0;
                        return d.forEach((function(t) {
                            t.stats.attributesCount > e && (e = t.stats.attributesCount)
                        }
                        )),
                        e
                    }
                    ),
                    {
                        clear: function() {
                            var t = e.deleteShader.bind(e);
                            Z(c).forEach(t),
                            c = {},
                            Z(u).forEach(t),
                            u = {},
                            d.forEach((function(t) {
                                e.deleteProgram(t.program)
                            }
                            )),
                            d.length = 0,
                            f = {},
                            r.shaderCount = 0
                        },
                        program: function(t, n, a, i) {
                            var o = f[n];
                            o || (o = f[n] = {});
                            var h = o[t];
                            if (h && (h.refCount++,
                            !i))
                                return h;
                            var p = new s(n,t);
                            return r.shaderCount++,
                            l(p, a, i),
                            h || (o[t] = p),
                            d.push(p),
                            B(p, {
                                destroy: function() {
                                    if (p.refCount--,
                                    0 >= p.refCount) {
                                        e.deleteProgram(p.program);
                                        var t = d.indexOf(p);
                                        d.splice(t, 1),
                                        r.shaderCount--
                                    }
                                    0 >= o[p.vertId].refCount && (e.deleteShader(u[p.vertId]),
                                    delete u[p.vertId],
                                    delete f[p.fragId][p.vertId]),
                                    Object.keys(f[p.fragId]).length || (e.deleteShader(c[p.fragId]),
                                    delete c[p.fragId],
                                    delete f[p.fragId])
                                }
                            })
                        },
                        restore: function() {
                            c = {},
                            u = {};
                            for (var e = 0; e < d.length; ++e)
                                l(d[e], null, d[e].attributes.map((function(e) {
                                    return [e.location, e.name]
                                }
                                )))
                        },
                        shader: o,
                        frag: -1,
                        vert: -1
                    }
                }
                function O(e, t, r, n, a, i, o) {
                    function s(a) {
                        var i;
                        i = null === t.next ? 5121 : t.next.colorAttachments[0].texture._texture.type;
                        var o = 0
                          , s = 0
                          , l = n.framebufferWidth
                          , c = n.framebufferHeight
                          , u = null;
                        return G(a) ? u = a : a && (o = 0 | a.x,
                        s = 0 | a.y,
                        l = 0 | (a.width || n.framebufferWidth - o),
                        c = 0 | (a.height || n.framebufferHeight - s),
                        u = a.data || null),
                        r(),
                        a = l * c * 4,
                        u || (5121 === i ? u = new Uint8Array(a) : 5126 === i && (u = u || new Float32Array(a))),
                        e.pixelStorei(3333, 4),
                        e.readPixels(o, s, l, c, 6408, i, u),
                        u
                    }
                    return function(e) {
                        return e && "framebuffer"in e ? function(e) {
                            var r;
                            return t.setFBO({
                                framebuffer: e.framebuffer
                            }, (function() {
                                r = s(e)
                            }
                            )),
                            r
                        }(e) : s(e)
                    }
                }
                function D(e) {
                    return Array.prototype.slice.call(e)
                }
                function L(e) {
                    return D(e).join("")
                }
                function E(e) {
                    return Array.isArray(e) || G(e) || l(e)
                }
                function z(e) {
                    return e.sort((function(e, t) {
                        return "viewport" === e ? -1 : "viewport" === t ? 1 : e < t ? -1 : 1
                    }
                    ))
                }
                function F(e, t, r, n) {
                    this.thisDep = e,
                    this.contextDep = t,
                    this.propDep = r,
                    this.append = n
                }
                function P(e) {
                    return e && !(e.thisDep || e.contextDep || e.propDep)
                }
                function I(e) {
                    return new F(!1,!1,!1,e)
                }
                function N(e, t) {
                    var r = e.type;
                    if (0 === r)
                        return new F(!0,1 <= (r = e.data.length),2 <= r,t);
                    if (4 === r)
                        return new F((r = e.data).thisDep,r.contextDep,r.propDep,t);
                    if (5 === r)
                        return new F(!1,!1,!1,t);
                    if (6 === r) {
                        for (var n = r = !1, a = !1, i = 0; i < e.data.length; ++i) {
                            var o = e.data[i];
                            1 === o.type ? a = !0 : 2 === o.type ? n = !0 : 3 === o.type ? r = !0 : 0 === o.type ? (r = !0,
                            1 <= (o = o.data) && (n = !0),
                            2 <= o && (a = !0)) : 4 === o.type && (r = r || o.data.thisDep,
                            n = n || o.data.contextDep,
                            a = a || o.data.propDep)
                        }
                        return new F(r,n,a,t)
                    }
                    return new F(3 === r,2 === r,1 === r,t)
                }
                function R(e, t, r, n, a, o, s, l, c, u, f, d, h, p, g) {
                    function v(e) {
                        return e.replace(".", "_")
                    }
                    function m(e, t, r) {
                        var n = v(e);
                        ie.push(e),
                        ae[n] = ne[n] = !!r,
                        oe[n] = t
                    }
                    function b(e, t, r) {
                        var n = v(e);
                        ie.push(e),
                        Array.isArray(r) ? (ne[n] = r.slice(),
                        ae[n] = r.slice()) : ne[n] = ae[n] = r,
                        se[n] = t
                    }
                    function x() {
                        var e = function() {
                            function e() {
                                var e = []
                                  , t = [];
                                return B((function() {
                                    e.push.apply(e, D(arguments))
                                }
                                ), {
                                    def: function() {
                                        var n = "v" + r++;
                                        return t.push(n),
                                        0 < arguments.length && (e.push(n, "="),
                                        e.push.apply(e, D(arguments)),
                                        e.push(";")),
                                        n
                                    },
                                    toString: function() {
                                        return L([0 < t.length ? "var " + t.join(",") + ";" : "", L(e)])
                                    }
                                })
                            }
                            function t() {
                                function t(e, t) {
                                    n(e, t, "=", r.def(e, t), ";")
                                }
                                var r = e()
                                  , n = e()
                                  , a = r.toString
                                  , i = n.toString;
                                return B((function() {
                                    r.apply(r, D(arguments))
                                }
                                ), {
                                    def: r.def,
                                    entry: r,
                                    exit: n,
                                    save: t,
                                    set: function(e, n, a) {
                                        t(e, n),
                                        r(e, n, "=", a, ";")
                                    },
                                    toString: function() {
                                        return a() + i()
                                    }
                                })
                            }
                            var r = 0
                              , n = []
                              , a = []
                              , i = e()
                              , o = {};
                            return {
                                global: i,
                                link: function(e) {
                                    for (var t = 0; t < a.length; ++t)
                                        if (a[t] === e)
                                            return n[t];
                                    return t = "g" + r++,
                                    n.push(t),
                                    a.push(e),
                                    t
                                },
                                block: e,
                                proc: function(e, r) {
                                    function n() {
                                        var e = "a" + a.length;
                                        return a.push(e),
                                        e
                                    }
                                    var a = [];
                                    r = r || 0;
                                    for (var i = 0; i < r; ++i)
                                        n();
                                    var s = (i = t()).toString;
                                    return o[e] = B(i, {
                                        arg: n,
                                        toString: function() {
                                            return L(["function(", a.join(), "){", s(), "}"])
                                        }
                                    })
                                },
                                scope: t,
                                cond: function() {
                                    var e = L(arguments)
                                      , r = t()
                                      , n = t()
                                      , a = r.toString
                                      , i = n.toString;
                                    return B(r, {
                                        then: function() {
                                            return r.apply(r, D(arguments)),
                                            this
                                        },
                                        else: function() {
                                            return n.apply(n, D(arguments)),
                                            this
                                        },
                                        toString: function() {
                                            var t = i();
                                            return t && (t = "else{" + t + "}"),
                                            L(["if(", e, "){", a(), "}", t])
                                        }
                                    })
                                },
                                compile: function() {
                                    var e = ['"use strict";', i, "return {"];
                                    Object.keys(o).forEach((function(t) {
                                        e.push('"', t, '":', o[t].toString(), ",")
                                    }
                                    )),
                                    e.push("}");
                                    var t = L(e).replace(/;/g, ";\n").replace(/}/g, "}\n").replace(/{/g, "{\n");
                                    return Function.apply(null, n.concat(t)).apply(null, a)
                                }
                            }
                        }()
                          , r = e.link
                          , n = e.global;
                        e.id = ue++,
                        e.batchId = "0";
                        var a = r(le)
                          , i = e.shared = {
                            props: "a0"
                        };
                        Object.keys(le).forEach((function(e) {
                            i[e] = n.def(a, ".", e)
                        }
                        ));
                        var o = e.next = {}
                          , s = e.current = {};
                        Object.keys(se).forEach((function(e) {
                            Array.isArray(ne[e]) && (o[e] = n.def(i.next, ".", e),
                            s[e] = n.def(i.current, ".", e))
                        }
                        ));
                        var l = e.constants = {};
                        Object.keys(ce).forEach((function(e) {
                            l[e] = n.def(JSON.stringify(ce[e]))
                        }
                        )),
                        e.invoke = function(t, n) {
                            switch (n.type) {
                            case 0:
                                var a = ["this", i.context, i.props, e.batchId];
                                return t.def(r(n.data), ".call(", a.slice(0, Math.max(n.data.length + 1, 4)), ")");
                            case 1:
                                return t.def(i.props, n.data);
                            case 2:
                                return t.def(i.context, n.data);
                            case 3:
                                return t.def("this", n.data);
                            case 4:
                                return n.data.append(e, t),
                                n.data.ref;
                            case 5:
                                return n.data.toString();
                            case 6:
                                return n.data.map((function(r) {
                                    return e.invoke(t, r)
                                }
                                ))
                            }
                        }
                        ,
                        e.attribCache = {};
                        var c = {};
                        return e.scopeAttrib = function(e) {
                            if ((e = t.id(e))in c)
                                return c[e];
                            var n = u.scope[e];
                            return n || (n = u.scope[e] = new $),
                            c[e] = r(n)
                        }
                        ,
                        e
                    }
                    function _(e, t) {
                        var r = e.static
                          , n = e.dynamic;
                        if ("framebuffer"in r) {
                            var a = r.framebuffer;
                            return a ? (a = l.getFramebuffer(a),
                            I((function(e, t) {
                                var r = e.link(a)
                                  , n = e.shared;
                                return t.set(n.framebuffer, ".next", r),
                                n = n.context,
                                t.set(n, ".framebufferWidth", r + ".width"),
                                t.set(n, ".framebufferHeight", r + ".height"),
                                r
                            }
                            ))) : I((function(e, t) {
                                var r = e.shared;
                                return t.set(r.framebuffer, ".next", "null"),
                                r = r.context,
                                t.set(r, ".framebufferWidth", r + ".drawingBufferWidth"),
                                t.set(r, ".framebufferHeight", r + ".drawingBufferHeight"),
                                "null"
                            }
                            ))
                        }
                        if ("framebuffer"in n) {
                            var i = n.framebuffer;
                            return N(i, (function(e, t) {
                                var r = e.invoke(t, i)
                                  , n = e.shared
                                  , a = n.framebuffer;
                                r = t.def(a, ".getFramebuffer(", r, ")");
                                return t.set(a, ".next", r),
                                n = n.context,
                                t.set(n, ".framebufferWidth", r + "?" + r + ".width:" + n + ".drawingBufferWidth"),
                                t.set(n, ".framebufferHeight", r + "?" + r + ".height:" + n + ".drawingBufferHeight"),
                                r
                            }
                            ))
                        }
                        return null
                    }
                    function w(e, r, n) {
                        function a(e) {
                            if (e in i) {
                                var r = t.id(i[e]);
                                return (e = I((function() {
                                    return r
                                }
                                ))).id = r,
                                e
                            }
                            if (e in o) {
                                var n = o[e];
                                return N(n, (function(e, t) {
                                    var r = e.invoke(t, n);
                                    return t.def(e.shared.strings, ".id(", r, ")")
                                }
                                ))
                            }
                            return null
                        }
                        var i = e.static
                          , o = e.dynamic
                          , s = a("frag")
                          , l = a("vert")
                          , c = null;
                        return P(s) && P(l) ? (c = f.program(l.id, s.id, null, n),
                        e = I((function(e, t) {
                            return e.link(c)
                        }
                        ))) : e = new F(s && s.thisDep || l && l.thisDep,s && s.contextDep || l && l.contextDep,s && s.propDep || l && l.propDep,(function(e, t) {
                            var r, n, a = e.shared.shader;
                            return r = s ? s.append(e, t) : t.def(a, ".", "frag"),
                            n = l ? l.append(e, t) : t.def(a, ".", "vert"),
                            t.def(a + ".program(" + n + "," + r + ")")
                        }
                        )),
                        {
                            frag: s,
                            vert: l,
                            progVar: e,
                            program: c
                        }
                    }
                    function A(e, t) {
                        function r(e, t) {
                            if (e in n) {
                                var r = 0 | n[e];
                                return I((function(e, n) {
                                    return t && (e.OFFSET = r),
                                    r
                                }
                                ))
                            }
                            if (e in a) {
                                var o = a[e];
                                return N(o, (function(e, r) {
                                    var n = e.invoke(r, o);
                                    return t && (e.OFFSET = n),
                                    n
                                }
                                ))
                            }
                            return t && i ? I((function(e, t) {
                                return e.OFFSET = "0",
                                0
                            }
                            )) : null
                        }
                        var n = e.static
                          , a = e.dynamic
                          , i = function() {
                            if ("elements"in n) {
                                var e = n.elements;
                                E(e) ? e = o.getElements(o.create(e, !0)) : e && (e = o.getElements(e));
                                var t = I((function(t, r) {
                                    if (e) {
                                        var n = t.link(e);
                                        return t.ELEMENTS = n
                                    }
                                    return t.ELEMENTS = null
                                }
                                ));
                                return t.value = e,
                                t
                            }
                            if ("elements"in a) {
                                var r = a.elements;
                                return N(r, (function(e, t) {
                                    var n = (a = e.shared).isBufferArgs
                                      , a = a.elements
                                      , i = e.invoke(t, r)
                                      , o = t.def("null");
                                    n = t.def(n, "(", i, ")"),
                                    i = e.cond(n).then(o, "=", a, ".createStream(", i, ");").else(o, "=", a, ".getElements(", i, ");");
                                    return t.entry(i),
                                    t.exit(e.cond(n).then(a, ".destroyStream(", o, ");")),
                                    e.ELEMENTS = o
                                }
                                ))
                            }
                            return null
                        }()
                          , s = r("offset", !0);
                        return {
                            elements: i,
                            primitive: function() {
                                if ("primitive"in n) {
                                    var e = n.primitive;
                                    return I((function(t, r) {
                                        return re[e]
                                    }
                                    ))
                                }
                                if ("primitive"in a) {
                                    var t = a.primitive;
                                    return N(t, (function(e, r) {
                                        var n = e.constants.primTypes
                                          , a = e.invoke(r, t);
                                        return r.def(n, "[", a, "]")
                                    }
                                    ))
                                }
                                return i ? P(i) ? i.value ? I((function(e, t) {
                                    return t.def(e.ELEMENTS, ".primType")
                                }
                                )) : I((function() {
                                    return 4
                                }
                                )) : new F(i.thisDep,i.contextDep,i.propDep,(function(e, t) {
                                    var r = e.ELEMENTS;
                                    return t.def(r, "?", r, ".primType:", 4)
                                }
                                )) : null
                            }(),
                            count: function() {
                                if ("count"in n) {
                                    var e = 0 | n.count;
                                    return I((function() {
                                        return e
                                    }
                                    ))
                                }
                                if ("count"in a) {
                                    var t = a.count;
                                    return N(t, (function(e, r) {
                                        return e.invoke(r, t)
                                    }
                                    ))
                                }
                                return i ? P(i) ? i ? s ? new F(s.thisDep,s.contextDep,s.propDep,(function(e, t) {
                                    return t.def(e.ELEMENTS, ".vertCount-", e.OFFSET)
                                }
                                )) : I((function(e, t) {
                                    return t.def(e.ELEMENTS, ".vertCount")
                                }
                                )) : I((function() {
                                    return -1
                                }
                                )) : new F(i.thisDep || s.thisDep,i.contextDep || s.contextDep,i.propDep || s.propDep,(function(e, t) {
                                    var r = e.ELEMENTS;
                                    return e.OFFSET ? t.def(r, "?", r, ".vertCount-", e.OFFSET, ":-1") : t.def(r, "?", r, ".vertCount:-1")
                                }
                                )) : null
                            }(),
                            instances: r("instances", !1),
                            offset: s
                        }
                    }
                    function k(e, r) {
                        var n = e.static
                          , i = e.dynamic
                          , o = {};
                        return Object.keys(n).forEach((function(e) {
                            var r = n[e]
                              , i = t.id(e)
                              , s = new $;
                            if (E(r))
                                s.state = 1,
                                s.buffer = a.getBuffer(a.create(r, 34962, !1, !0)),
                                s.type = 0;
                            else if (c = a.getBuffer(r))
                                s.state = 1,
                                s.buffer = c,
                                s.type = 0;
                            else if ("constant"in r) {
                                var l = r.constant;
                                s.buffer = "null",
                                s.state = 2,
                                "number" == typeof l ? s.x = l : _e.forEach((function(e, t) {
                                    t < l.length && (s[e] = l[t])
                                }
                                ))
                            } else {
                                var c = E(r.buffer) ? a.getBuffer(a.create(r.buffer, 34962, !1, !0)) : a.getBuffer(r.buffer)
                                  , u = 0 | r.offset
                                  , f = 0 | r.stride
                                  , d = 0 | r.size
                                  , h = !!r.normalized
                                  , p = 0;
                                "type"in r && (p = Q[r.type]),
                                r = 0 | r.divisor,
                                s.buffer = c,
                                s.state = 1,
                                s.size = d,
                                s.normalized = h,
                                s.type = p || c.dtype,
                                s.offset = u,
                                s.stride = f,
                                s.divisor = r
                            }
                            o[e] = I((function(e, t) {
                                var r = e.attribCache;
                                if (i in r)
                                    return r[i];
                                var n = {
                                    isStream: !1
                                };
                                return Object.keys(s).forEach((function(e) {
                                    n[e] = s[e]
                                }
                                )),
                                s.buffer && (n.buffer = e.link(s.buffer),
                                n.type = n.type || n.buffer + ".dtype"),
                                r[i] = n
                            }
                            ))
                        }
                        )),
                        Object.keys(i).forEach((function(e) {
                            var t = i[e];
                            o[e] = N(t, (function(e, r) {
                                function n(e) {
                                    r(l[e], "=", a, ".", e, "|0;")
                                }
                                var a = e.invoke(r, t)
                                  , i = e.shared
                                  , o = e.constants
                                  , s = i.isBufferArgs
                                  , l = (i = i.buffer,
                                {
                                    isStream: r.def(!1)
                                })
                                  , c = new $;
                                c.state = 1,
                                Object.keys(c).forEach((function(e) {
                                    l[e] = r.def("" + c[e])
                                }
                                ));
                                var u = l.buffer
                                  , f = l.type;
                                return r("if(", s, "(", a, ")){", l.isStream, "=true;", u, "=", i, ".createStream(", 34962, ",", a, ");", f, "=", u, ".dtype;", "}else{", u, "=", i, ".getBuffer(", a, ");", "if(", u, "){", f, "=", u, ".dtype;", '}else if("constant" in ', a, "){", l.state, "=", 2, ";", "if(typeof " + a + '.constant === "number"){', l[_e[0]], "=", a, ".constant;", _e.slice(1).map((function(e) {
                                    return l[e]
                                }
                                )).join("="), "=0;", "}else{", _e.map((function(e, t) {
                                    return l[e] + "=" + a + ".constant.length>" + t + "?" + a + ".constant[" + t + "]:0;"
                                }
                                )).join(""), "}}else{", "if(", s, "(", a, ".buffer)){", u, "=", i, ".createStream(", 34962, ",", a, ".buffer);", "}else{", u, "=", i, ".getBuffer(", a, ".buffer);", "}", f, '="type" in ', a, "?", o.glTypes, "[", a, ".type]:", u, ".dtype;", l.normalized, "=!!", a, ".normalized;"),
                                n("size"),
                                n("offset"),
                                n("stride"),
                                n("divisor"),
                                r("}}"),
                                r.exit("if(", l.isStream, "){", i, ".destroyStream(", u, ");", "}"),
                                l
                            }
                            ))
                        }
                        )),
                        o
                    }
                    function T(e, t, n, a, o) {
                        function s(e) {
                            var t = c[e];
                            t && (d[e] = t)
                        }
                        var l = function(e, t) {
                            if ("string" == typeof (r = e.static).frag && "string" == typeof r.vert) {
                                if (0 < Object.keys(t.dynamic).length)
                                    return null;
                                var r = t.static
                                  , n = Object.keys(r);
                                if (0 < n.length && "number" == typeof r[n[0]]) {
                                    for (var a = [], i = 0; i < n.length; ++i)
                                        a.push([0 | r[n[i]], n[i]]);
                                    return a
                                }
                            }
                            return null
                        }(e, t)
                          , c = function(e, t, r) {
                            function n(e) {
                                if (e in a) {
                                    var r = a[e];
                                    e = !0;
                                    var n, o, s = 0 | r.x, l = 0 | r.y;
                                    return "width"in r ? n = 0 | r.width : e = !1,
                                    "height"in r ? o = 0 | r.height : e = !1,
                                    new F(!e && t && t.thisDep,!e && t && t.contextDep,!e && t && t.propDep,(function(e, t) {
                                        var a = e.shared.context
                                          , i = n;
                                        "width"in r || (i = t.def(a, ".", "framebufferWidth", "-", s));
                                        var c = o;
                                        return "height"in r || (c = t.def(a, ".", "framebufferHeight", "-", l)),
                                        [s, l, i, c]
                                    }
                                    ))
                                }
                                if (e in i) {
                                    var c = i[e];
                                    return e = N(c, (function(e, t) {
                                        var r = e.invoke(t, c)
                                          , n = e.shared.context
                                          , a = t.def(r, ".x|0")
                                          , i = t.def(r, ".y|0");
                                        return [a, i, t.def('"width" in ', r, "?", r, ".width|0:", "(", n, ".", "framebufferWidth", "-", a, ")"), r = t.def('"height" in ', r, "?", r, ".height|0:", "(", n, ".", "framebufferHeight", "-", i, ")")]
                                    }
                                    )),
                                    t && (e.thisDep = e.thisDep || t.thisDep,
                                    e.contextDep = e.contextDep || t.contextDep,
                                    e.propDep = e.propDep || t.propDep),
                                    e
                                }
                                return t ? new F(t.thisDep,t.contextDep,t.propDep,(function(e, t) {
                                    var r = e.shared.context;
                                    return [0, 0, t.def(r, ".", "framebufferWidth"), t.def(r, ".", "framebufferHeight")]
                                }
                                )) : null
                            }
                            var a = e.static
                              , i = e.dynamic;
                            if (e = n("viewport")) {
                                var o = e;
                                e = new F(e.thisDep,e.contextDep,e.propDep,(function(e, t) {
                                    var r = o.append(e, t)
                                      , n = e.shared.context;
                                    return t.set(n, ".viewportWidth", r[2]),
                                    t.set(n, ".viewportHeight", r[3]),
                                    r
                                }
                                ))
                            }
                            return {
                                viewport: e,
                                scissor_box: n("scissor.box")
                            }
                        }(e, p = _(e))
                          , f = A(e)
                          , d = function(e, t) {
                            var r = e.static
                              , n = e.dynamic
                              , a = {};
                            return ie.forEach((function(e) {
                                function t(t, i) {
                                    if (e in r) {
                                        var s = t(r[e]);
                                        a[o] = I((function() {
                                            return s
                                        }
                                        ))
                                    } else if (e in n) {
                                        var l = n[e];
                                        a[o] = N(l, (function(e, t) {
                                            return i(e, t, e.invoke(t, l))
                                        }
                                        ))
                                    }
                                }
                                var o = v(e);
                                switch (e) {
                                case "cull.enable":
                                case "blend.enable":
                                case "dither":
                                case "stencil.enable":
                                case "depth.enable":
                                case "scissor.enable":
                                case "polygonOffset.enable":
                                case "sample.alpha":
                                case "sample.enable":
                                case "depth.mask":
                                    return t((function(e) {
                                        return e
                                    }
                                    ), (function(e, t, r) {
                                        return r
                                    }
                                    ));
                                case "depth.func":
                                    return t((function(e) {
                                        return ke[e]
                                    }
                                    ), (function(e, t, r) {
                                        return t.def(e.constants.compareFuncs, "[", r, "]")
                                    }
                                    ));
                                case "depth.range":
                                    return t((function(e) {
                                        return e
                                    }
                                    ), (function(e, t, r) {
                                        return [t.def("+", r, "[0]"), t = t.def("+", r, "[1]")]
                                    }
                                    ));
                                case "blend.func":
                                    return t((function(e) {
                                        return [Ae["srcRGB"in e ? e.srcRGB : e.src], Ae["dstRGB"in e ? e.dstRGB : e.dst], Ae["srcAlpha"in e ? e.srcAlpha : e.src], Ae["dstAlpha"in e ? e.dstAlpha : e.dst]]
                                    }
                                    ), (function(e, t, r) {
                                        function n(e, n) {
                                            return t.def('"', e, n, '" in ', r, "?", r, ".", e, n, ":", r, ".", e)
                                        }
                                        e = e.constants.blendFuncs;
                                        var a = n("src", "RGB")
                                          , i = n("dst", "RGB")
                                          , o = (a = t.def(e, "[", a, "]"),
                                        t.def(e, "[", n("src", "Alpha"), "]"));
                                        return [a, i = t.def(e, "[", i, "]"), o, e = t.def(e, "[", n("dst", "Alpha"), "]")]
                                    }
                                    ));
                                case "blend.equation":
                                    return t((function(e) {
                                        return "string" == typeof e ? [K[e], K[e]] : "object" == typeof e ? [K[e.rgb], K[e.alpha]] : void 0
                                    }
                                    ), (function(e, t, r) {
                                        var n = e.constants.blendEquations
                                          , a = t.def()
                                          , i = t.def();
                                        return (e = e.cond("typeof ", r, '==="string"')).then(a, "=", i, "=", n, "[", r, "];"),
                                        e.else(a, "=", n, "[", r, ".rgb];", i, "=", n, "[", r, ".alpha];"),
                                        t(e),
                                        [a, i]
                                    }
                                    ));
                                case "blend.color":
                                    return t((function(e) {
                                        return i(4, (function(t) {
                                            return +e[t]
                                        }
                                        ))
                                    }
                                    ), (function(e, t, r) {
                                        return i(4, (function(e) {
                                            return t.def("+", r, "[", e, "]")
                                        }
                                        ))
                                    }
                                    ));
                                case "stencil.mask":
                                    return t((function(e) {
                                        return 0 | e
                                    }
                                    ), (function(e, t, r) {
                                        return t.def(r, "|0")
                                    }
                                    ));
                                case "stencil.func":
                                    return t((function(e) {
                                        return [ke[e.cmp || "keep"], e.ref || 0, "mask"in e ? e.mask : -1]
                                    }
                                    ), (function(e, t, r) {
                                        return [e = t.def('"cmp" in ', r, "?", e.constants.compareFuncs, "[", r, ".cmp]", ":", 7680), t.def(r, ".ref|0"), t = t.def('"mask" in ', r, "?", r, ".mask|0:-1")]
                                    }
                                    ));
                                case "stencil.opFront":
                                case "stencil.opBack":
                                    return t((function(t) {
                                        return ["stencil.opBack" === e ? 1029 : 1028, Te[t.fail || "keep"], Te[t.zfail || "keep"], Te[t.zpass || "keep"]]
                                    }
                                    ), (function(t, r, n) {
                                        function a(e) {
                                            return r.def('"', e, '" in ', n, "?", i, "[", n, ".", e, "]:", 7680)
                                        }
                                        var i = t.constants.stencilOps;
                                        return ["stencil.opBack" === e ? 1029 : 1028, a("fail"), a("zfail"), a("zpass")]
                                    }
                                    ));
                                case "polygonOffset.offset":
                                    return t((function(e) {
                                        return [0 | e.factor, 0 | e.units]
                                    }
                                    ), (function(e, t, r) {
                                        return [t.def(r, ".factor|0"), t = t.def(r, ".units|0")]
                                    }
                                    ));
                                case "cull.face":
                                    return t((function(e) {
                                        var t = 0;
                                        return "front" === e ? t = 1028 : "back" === e && (t = 1029),
                                        t
                                    }
                                    ), (function(e, t, r) {
                                        return t.def(r, '==="front"?', 1028, ":", 1029)
                                    }
                                    ));
                                case "lineWidth":
                                    return t((function(e) {
                                        return e
                                    }
                                    ), (function(e, t, r) {
                                        return r
                                    }
                                    ));
                                case "frontFace":
                                    return t((function(e) {
                                        return Me[e]
                                    }
                                    ), (function(e, t, r) {
                                        return t.def(r + '==="cw"?2304:2305')
                                    }
                                    ));
                                case "colorMask":
                                    return t((function(e) {
                                        return e.map((function(e) {
                                            return !!e
                                        }
                                        ))
                                    }
                                    ), (function(e, t, r) {
                                        return i(4, (function(e) {
                                            return "!!" + r + "[" + e + "]"
                                        }
                                        ))
                                    }
                                    ));
                                case "sample.coverage":
                                    return t((function(e) {
                                        return ["value"in e ? e.value : 1, !!e.invert]
                                    }
                                    ), (function(e, t, r) {
                                        return [t.def('"value" in ', r, "?+", r, ".value:1"), t = t.def("!!", r, ".invert")]
                                    }
                                    ))
                                }
                            }
                            )),
                            a
                        }(e)
                          , h = w(e, 0, l);
                        s("viewport"),
                        s(v("scissor.box"));
                        var p, g = 0 < Object.keys(d).length;
                        if ((p = {
                            framebuffer: p,
                            draw: f,
                            shader: h,
                            state: d,
                            dirty: g,
                            scopeVAO: null,
                            drawVAO: null,
                            useVAO: !1,
                            attributes: {}
                        }).profile = function(e) {
                            var t, r = e.static;
                            if (e = e.dynamic,
                            "profile"in r) {
                                var n = !!r.profile;
                                (t = I((function(e, t) {
                                    return n
                                }
                                ))).enable = n
                            } else if ("profile"in e) {
                                var a = e.profile;
                                t = N(a, (function(e, t) {
                                    return e.invoke(t, a)
                                }
                                ))
                            }
                            return t
                        }(e),
                        p.uniforms = function(e, t) {
                            var r = e.static
                              , n = e.dynamic
                              , a = {};
                            return Object.keys(r).forEach((function(e) {
                                var t, n = r[e];
                                if ("number" == typeof n || "boolean" == typeof n)
                                    t = I((function() {
                                        return n
                                    }
                                    ));
                                else if ("function" == typeof n) {
                                    var o = n._reglType;
                                    "texture2d" === o || "textureCube" === o ? t = I((function(e) {
                                        return e.link(n)
                                    }
                                    )) : "framebuffer" !== o && "framebufferCube" !== o || (t = I((function(e) {
                                        return e.link(n.color[0])
                                    }
                                    )))
                                } else
                                    y(n) && (t = I((function(e) {
                                        return e.global.def("[", i(n.length, (function(e) {
                                            return n[e]
                                        }
                                        )), "]")
                                    }
                                    )));
                                t.value = n,
                                a[e] = t
                            }
                            )),
                            Object.keys(n).forEach((function(e) {
                                var t = n[e];
                                a[e] = N(t, (function(e, r) {
                                    return e.invoke(r, t)
                                }
                                ))
                            }
                            )),
                            a
                        }(n),
                        p.drawVAO = p.scopeVAO = function(e, t) {
                            var r = e.static
                              , n = e.dynamic;
                            if ("vao"in r) {
                                var a = r.vao;
                                return null !== a && null === u.getVAO(a) && (a = u.createVAO(a)),
                                I((function(e) {
                                    return e.link(u.getVAO(a))
                                }
                                ))
                            }
                            if ("vao"in n) {
                                var i = n.vao;
                                return N(i, (function(e, t) {
                                    var r = e.invoke(t, i);
                                    return t.def(e.shared.vao + ".getVAO(" + r + ")")
                                }
                                ))
                            }
                            return null
                        }(e),
                        !p.drawVAO && h.program && !l && r.angle_instanced_arrays) {
                            var m = !0;
                            if (e = h.program.attributes.map((function(e) {
                                return e = t.static[e],
                                m = m && !!e,
                                e
                            }
                            )),
                            m && 0 < e.length) {
                                var b = u.getVAO(u.createVAO(e));
                                p.drawVAO = new F(null,null,null,(function(e, t) {
                                    return e.link(b)
                                }
                                )),
                                p.useVAO = !0
                            }
                        }
                        return l ? p.useVAO = !0 : p.attributes = k(t),
                        p.context = function(e) {
                            var t = e.static
                              , r = e.dynamic
                              , n = {};
                            return Object.keys(t).forEach((function(e) {
                                var r = t[e];
                                n[e] = I((function(e, t) {
                                    return "number" == typeof r || "boolean" == typeof r ? "" + r : e.link(r)
                                }
                                ))
                            }
                            )),
                            Object.keys(r).forEach((function(e) {
                                var t = r[e];
                                n[e] = N(t, (function(e, r) {
                                    return e.invoke(r, t)
                                }
                                ))
                            }
                            )),
                            n
                        }(a),
                        p
                    }
                    function M(e, t, r) {
                        var n = e.shared.context
                          , a = e.scope();
                        Object.keys(r).forEach((function(i) {
                            t.save(n, "." + i);
                            var o = r[i].append(e, t);
                            Array.isArray(o) ? a(n, ".", i, "=[", o.join(), "];") : a(n, ".", i, "=", o, ";")
                        }
                        )),
                        t(a)
                    }
                    function S(e, t, r, n) {
                        var a, i = (s = e.shared).gl, o = s.framebuffer;
                        te && (a = t.def(s.extensions, ".webgl_draw_buffers"));
                        var s = (l = e.constants).drawBuffer
                          , l = l.backBuffer;
                        e = r ? r.append(e, t) : t.def(o, ".next"),
                        n || t("if(", e, "!==", o, ".cur){"),
                        t("if(", e, "){", i, ".bindFramebuffer(", 36160, ",", e, ".framebuffer);"),
                        te && t(a, ".drawBuffersWEBGL(", s, "[", e, ".colorAttachments.length]);"),
                        t("}else{", i, ".bindFramebuffer(", 36160, ",null);"),
                        te && t(a, ".drawBuffersWEBGL(", l, ");"),
                        t("}", o, ".cur=", e, ";"),
                        n || t("}")
                    }
                    function C(e, t, r) {
                        var n = e.shared
                          , a = n.gl
                          , o = e.current
                          , s = e.next
                          , l = n.current
                          , c = n.next
                          , u = e.cond(l, ".dirty");
                        ie.forEach((function(t) {
                            var n, f;
                            if (!((t = v(t))in r.state))
                                if (t in s) {
                                    n = s[t],
                                    f = o[t];
                                    var d = i(ne[t].length, (function(e) {
                                        return u.def(n, "[", e, "]")
                                    }
                                    ));
                                    u(e.cond(d.map((function(e, t) {
                                        return e + "!==" + f + "[" + t + "]"
                                    }
                                    )).join("||")).then(a, ".", se[t], "(", d, ");", d.map((function(e, t) {
                                        return f + "[" + t + "]=" + e
                                    }
                                    )).join(";"), ";"))
                                } else
                                    n = u.def(c, ".", t),
                                    d = e.cond(n, "!==", l, ".", t),
                                    u(d),
                                    t in oe ? d(e.cond(n).then(a, ".enable(", oe[t], ");").else(a, ".disable(", oe[t], ");"), l, ".", t, "=", n, ";") : d(a, ".", se[t], "(", n, ");", l, ".", t, "=", n, ";")
                        }
                        )),
                        0 === Object.keys(r.state).length && u(l, ".dirty=false;"),
                        t(u)
                    }
                    function O(e, t, r, n) {
                        var a = e.shared
                          , i = e.current
                          , o = a.current
                          , s = a.gl;
                        z(Object.keys(r)).forEach((function(a) {
                            var l = r[a];
                            if (!n || n(l)) {
                                var c = l.append(e, t);
                                if (oe[a]) {
                                    var u = oe[a];
                                    P(l) ? t(s, c ? ".enable(" : ".disable(", u, ");") : t(e.cond(c).then(s, ".enable(", u, ");").else(s, ".disable(", u, ");")),
                                    t(o, ".", a, "=", c, ";")
                                } else if (y(c)) {
                                    var f = i[a];
                                    t(s, ".", se[a], "(", c, ");", c.map((function(e, t) {
                                        return f + "[" + t + "]=" + e
                                    }
                                    )).join(";"), ";")
                                } else
                                    t(s, ".", se[a], "(", c, ");", o, ".", a, "=", c, ";")
                            }
                        }
                        ))
                    }
                    function R(e, t) {
                        ee && (e.instancing = t.def(e.shared.extensions, ".angle_instanced_arrays"))
                    }
                    function j(e, t, r, n, a) {
                        function i() {
                            return "undefined" == typeof performance ? "Date.now()" : "performance.now()"
                        }
                        function o(e) {
                            e(c = t.def(), "=", i(), ";"),
                            "string" == typeof a ? e(d, ".count+=", a, ";") : e(d, ".count++;"),
                            p && (n ? e(u = t.def(), "=", g, ".getNumPendingQueries();") : e(g, ".beginQuery(", d, ");"))
                        }
                        function s(e) {
                            e(d, ".cpuTime+=", i(), "-", c, ";"),
                            p && (n ? e(g, ".pushScopeStats(", u, ",", g, ".getNumPendingQueries(),", d, ");") : e(g, ".endQuery();"))
                        }
                        function l(e) {
                            var r = t.def(h, ".profile");
                            t(h, ".profile=", e, ";"),
                            t.exit(h, ".profile=", r, ";")
                        }
                        var c, u, f = e.shared, d = e.stats, h = f.current, g = f.timer;
                        if (r = r.profile) {
                            if (P(r))
                                return void (r.enable ? (o(t),
                                s(t.exit),
                                l("true")) : l("false"));
                            l(r = r.append(e, t))
                        } else
                            r = t.def(h, ".profile");
                        o(f = e.block()),
                        t("if(", r, "){", f, "}"),
                        s(e = e.block()),
                        t.exit("if(", r, "){", e, "}")
                    }
                    function H(e, t, r, n, a) {
                        function i(r, n, a) {
                            function i() {
                                t("if(!", u, ".buffer){", l, ".enableVertexAttribArray(", c, ");}");
                                var r, i = a.type;
                                r = a.size ? t.def(a.size, "||", n) : n,
                                t("if(", u, ".type!==", i, "||", u, ".size!==", r, "||", h.map((function(e) {
                                    return u + "." + e + "!==" + a[e]
                                }
                                )).join("||"), "){", l, ".bindBuffer(", 34962, ",", f, ".buffer);", l, ".vertexAttribPointer(", [c, r, i, a.normalized, a.stride, a.offset], ");", u, ".type=", i, ";", u, ".size=", r, ";", h.map((function(e) {
                                    return u + "." + e + "=" + a[e] + ";"
                                }
                                )).join(""), "}"),
                                ee && (i = a.divisor,
                                t("if(", u, ".divisor!==", i, "){", e.instancing, ".vertexAttribDivisorANGLE(", [c, i], ");", u, ".divisor=", i, ";}"))
                            }
                            function s() {
                                t("if(", u, ".buffer){", l, ".disableVertexAttribArray(", c, ");", u, ".buffer=null;", "}if(", _e.map((function(e, t) {
                                    return u + "." + e + "!==" + d[t]
                                }
                                )).join("||"), "){", l, ".vertexAttrib4f(", c, ",", d, ");", _e.map((function(e, t) {
                                    return u + "." + e + "=" + d[t] + ";"
                                }
                                )).join(""), "}")
                            }
                            var l = o.gl
                              , c = t.def(r, ".location")
                              , u = t.def(o.attributes, "[", c, "]");
                            r = a.state;
                            var f = a.buffer
                              , d = [a.x, a.y, a.z, a.w]
                              , h = ["buffer", "normalized", "offset", "stride"];
                            1 === r ? i() : 2 === r ? s() : (t("if(", r, "===", 1, "){"),
                            i(),
                            t("}else{"),
                            s(),
                            t("}"))
                        }
                        var o = e.shared;
                        n.forEach((function(n) {
                            var o, s = n.name, l = r.attributes[s];
                            if (l) {
                                if (!a(l))
                                    return;
                                o = l.append(e, t)
                            } else {
                                if (!a(Se))
                                    return;
                                var c = e.scopeAttrib(s);
                                o = {},
                                Object.keys(new $).forEach((function(e) {
                                    o[e] = t.def(c, ".", e)
                                }
                                ))
                            }
                            i(e.link(n), function(e) {
                                switch (e) {
                                case 35664:
                                case 35667:
                                case 35671:
                                    return 2;
                                case 35665:
                                case 35668:
                                case 35672:
                                    return 3;
                                case 35666:
                                case 35669:
                                case 35673:
                                    return 4;
                                default:
                                    return 1
                                }
                            }(n.info.type), o)
                        }
                        ))
                    }
                    function Y(e, r, n, a, o) {
                        for (var s, l = e.shared, c = l.gl, u = 0; u < a.length; ++u) {
                            var f, d = (g = a[u]).name, h = g.info.type, p = n.uniforms[d], g = e.link(g) + ".location";
                            if (p) {
                                if (!o(p))
                                    continue;
                                if (P(p)) {
                                    if (d = p.value,
                                    35678 === h || 35680 === h)
                                        r(c, ".uniform1i(", g, ",", (h = e.link(d._texture || d.color[0]._texture)) + ".bind());"),
                                        r.exit(h, ".unbind();");
                                    else if (35674 === h || 35675 === h || 35676 === h)
                                        p = 2,
                                        35675 === h ? p = 3 : 35676 === h && (p = 4),
                                        r(c, ".uniformMatrix", p, "fv(", g, ",false,", d = e.global.def("new Float32Array([" + Array.prototype.slice.call(d) + "])"), ");");
                                    else {
                                        switch (h) {
                                        case 5126:
                                            s = "1f";
                                            break;
                                        case 35664:
                                            s = "2f";
                                            break;
                                        case 35665:
                                            s = "3f";
                                            break;
                                        case 35666:
                                            s = "4f";
                                            break;
                                        case 35670:
                                        case 5124:
                                            s = "1i";
                                            break;
                                        case 35671:
                                        case 35667:
                                            s = "2i";
                                            break;
                                        case 35672:
                                        case 35668:
                                            s = "3i";
                                            break;
                                        case 35673:
                                            s = "4i";
                                            break;
                                        case 35669:
                                            s = "4i"
                                        }
                                        r(c, ".uniform", s, "(", g, ",", y(d) ? Array.prototype.slice.call(d) : d, ");")
                                    }
                                    continue
                                }
                                f = p.append(e, r)
                            } else {
                                if (!o(Se))
                                    continue;
                                f = r.def(l.uniforms, "[", t.id(d), "]")
                            }
                            switch (35678 === h ? r("if(", f, "&&", f, '._reglType==="framebuffer"){', f, "=", f, ".color[0];", "}") : 35680 === h && r("if(", f, "&&", f, '._reglType==="framebufferCube"){', f, "=", f, ".color[0];", "}"),
                            d = 1,
                            h) {
                            case 35678:
                            case 35680:
                                h = r.def(f, "._texture"),
                                r(c, ".uniform1i(", g, ",", h, ".bind());"),
                                r.exit(h, ".unbind();");
                                continue;
                            case 5124:
                            case 35670:
                                s = "1i";
                                break;
                            case 35667:
                            case 35671:
                                s = "2i",
                                d = 2;
                                break;
                            case 35668:
                            case 35672:
                                s = "3i",
                                d = 3;
                                break;
                            case 35669:
                            case 35673:
                                s = "4i",
                                d = 4;
                                break;
                            case 5126:
                                s = "1f";
                                break;
                            case 35664:
                                s = "2f",
                                d = 2;
                                break;
                            case 35665:
                                s = "3f",
                                d = 3;
                                break;
                            case 35666:
                                s = "4f",
                                d = 4;
                                break;
                            case 35674:
                                s = "Matrix2fv";
                                break;
                            case 35675:
                                s = "Matrix3fv";
                                break;
                            case 35676:
                                s = "Matrix4fv"
                            }
                            if (r(c, ".uniform", s, "(", g, ","),
                            "M" === s.charAt(0)) {
                                g = Math.pow(h - 35674 + 2, 2);
                                var v = e.global.def("new Float32Array(", g, ")");
                                Array.isArray(f) ? r("false,(", i(g, (function(e) {
                                    return v + "[" + e + "]=" + f[e]
                                }
                                )), ",", v, ")") : r("false,(Array.isArray(", f, ")||", f, " instanceof Float32Array)?", f, ":(", i(g, (function(e) {
                                    return v + "[" + e + "]=" + f + "[" + e + "]"
                                }
                                )), ",", v, ")")
                            } else
                                r(1 < d ? i(d, (function(e) {
                                    return Array.isArray(f) ? f[e] : f + "[" + e + "]"
                                }
                                )) : f);
                            r(");")
                        }
                    }
                    function V(e, t, r, n) {
                        function a(a) {
                            var i = d[a];
                            return i ? i.contextDep && n.contextDynamic || i.propDep ? i.append(e, r) : i.append(e, t) : t.def(f, ".", a)
                        }
                        function i() {
                            function e() {
                                r(l, ".drawElementsInstancedANGLE(", [p, y, v, g + "<<((" + v + "-5121)>>1)", s], ");")
                            }
                            function t() {
                                r(l, ".drawArraysInstancedANGLE(", [p, g, y, s], ");")
                            }
                            h ? m ? e() : (r("if(", h, "){"),
                            e(),
                            r("}else{"),
                            t(),
                            r("}")) : t()
                        }
                        function o() {
                            function e() {
                                r(u + ".drawElements(" + [p, y, v, g + "<<((" + v + "-5121)>>1)"] + ");")
                            }
                            function t() {
                                r(u + ".drawArrays(" + [p, g, y] + ");")
                            }
                            h ? m ? e() : (r("if(", h, "){"),
                            e(),
                            r("}else{"),
                            t(),
                            r("}")) : t()
                        }
                        var s, l, c = e.shared, u = c.gl, f = c.draw, d = n.draw, h = function() {
                            var a = d.elements
                              , i = t;
                            return a ? ((a.contextDep && n.contextDynamic || a.propDep) && (i = r),
                            a = a.append(e, i)) : a = i.def(f, ".", "elements"),
                            a && i("if(" + a + ")" + u + ".bindBuffer(34963," + a + ".buffer.buffer);"),
                            a
                        }(), p = a("primitive"), g = a("offset"), y = function() {
                            var a = d.count
                              , i = t;
                            return a ? ((a.contextDep && n.contextDynamic || a.propDep) && (i = r),
                            a = a.append(e, i)) : a = i.def(f, ".", "count"),
                            a
                        }();
                        if ("number" == typeof y) {
                            if (0 === y)
                                return
                        } else
                            r("if(", y, "){"),
                            r.exit("}");
                        ee && (s = a("instances"),
                        l = e.instancing);
                        var v = h + ".type"
                          , m = d.elements && P(d.elements);
                        ee && ("number" != typeof s || 0 <= s) ? "string" == typeof s ? (r("if(", s, ">0){"),
                        i(),
                        r("}else if(", s, "<0){"),
                        o(),
                        r("}")) : i() : o()
                    }
                    function q(e, t, r, n, a) {
                        return a = (t = x()).proc("body", a),
                        ee && (t.instancing = a.def(t.shared.extensions, ".angle_instanced_arrays")),
                        e(t, a, r, n),
                        t.compile().body
                    }
                    function W(e, t, r, n) {
                        R(e, t),
                        r.useVAO ? r.drawVAO ? t(e.shared.vao, ".setVAO(", r.drawVAO.append(e, t), ");") : t(e.shared.vao, ".setVAO(", e.shared.vao, ".targetVAO);") : (t(e.shared.vao, ".setVAO(null);"),
                        H(e, t, r, n.attributes, (function() {
                            return !0
                        }
                        ))),
                        Y(e, t, r, n.uniforms, (function() {
                            return !0
                        }
                        )),
                        V(e, t, t, r)
                    }
                    function G(e, t, r, n) {
                        function a() {
                            return !0
                        }
                        e.batchId = "a1",
                        R(e, t),
                        H(e, t, r, n.attributes, a),
                        Y(e, t, r, n.uniforms, a),
                        V(e, t, t, r)
                    }
                    function Z(e, t, r, n) {
                        function a(e) {
                            return e.contextDep && o || e.propDep
                        }
                        function i(e) {
                            return !a(e)
                        }
                        R(e, t);
                        var o = r.contextDep
                          , s = t.def()
                          , l = t.def();
                        e.shared.props = l,
                        e.batchId = s;
                        var c = e.scope()
                          , u = e.scope();
                        t(c.entry, "for(", s, "=0;", s, "<", "a1", ";++", s, "){", l, "=", "a0", "[", s, "];", u, "}", c.exit),
                        r.needsContext && M(e, u, r.context),
                        r.needsFramebuffer && S(e, u, r.framebuffer),
                        O(e, u, r.state, a),
                        r.profile && a(r.profile) && j(e, u, r, !1, !0),
                        n ? (r.useVAO ? r.drawVAO ? a(r.drawVAO) ? u(e.shared.vao, ".setVAO(", r.drawVAO.append(e, u), ");") : c(e.shared.vao, ".setVAO(", r.drawVAO.append(e, c), ");") : c(e.shared.vao, ".setVAO(", e.shared.vao, ".targetVAO);") : (c(e.shared.vao, ".setVAO(null);"),
                        H(e, c, r, n.attributes, i),
                        H(e, u, r, n.attributes, a)),
                        Y(e, c, r, n.uniforms, i),
                        Y(e, u, r, n.uniforms, a),
                        V(e, c, u, r)) : (t = e.global.def("{}"),
                        n = r.shader.progVar.append(e, u),
                        l = u.def(n, ".id"),
                        c = u.def(t, "[", l, "]"),
                        u(e.shared.gl, ".useProgram(", n, ".program);", "if(!", c, "){", c, "=", t, "[", l, "]=", e.link((function(t) {
                            return q(G, e, r, t, 2)
                        }
                        )), "(", n, ");}", c, ".call(this,a0[", s, "],", s, ");"))
                    }
                    function J(e, r) {
                        function n(t) {
                            var n = r.shader[t];
                            n && a.set(i.shader, "." + t, n.append(e, a))
                        }
                        var a = e.proc("scope", 3);
                        e.batchId = "a2";
                        var i = e.shared
                          , o = i.current;
                        M(e, a, r.context),
                        r.framebuffer && r.framebuffer.append(e, a),
                        z(Object.keys(r.state)).forEach((function(t) {
                            var n = r.state[t].append(e, a);
                            y(n) ? n.forEach((function(r, n) {
                                a.set(e.next[t], "[" + n + "]", r)
                            }
                            )) : a.set(i.next, "." + t, n)
                        }
                        )),
                        j(e, a, r, !0, !0),
                        ["elements", "offset", "count", "instances", "primitive"].forEach((function(t) {
                            var n = r.draw[t];
                            n && a.set(i.draw, "." + t, "" + n.append(e, a))
                        }
                        )),
                        Object.keys(r.uniforms).forEach((function(n) {
                            var o = r.uniforms[n].append(e, a);
                            Array.isArray(o) && (o = "[" + o.join() + "]"),
                            a.set(i.uniforms, "[" + t.id(n) + "]", o)
                        }
                        )),
                        Object.keys(r.attributes).forEach((function(t) {
                            var n = r.attributes[t].append(e, a)
                              , i = e.scopeAttrib(t);
                            Object.keys(new $).forEach((function(e) {
                                a.set(i, "." + e, n[e])
                            }
                            ))
                        }
                        )),
                        r.scopeVAO && a.set(i.vao, ".targetVAO", r.scopeVAO.append(e, a)),
                        n("vert"),
                        n("frag"),
                        0 < Object.keys(r.state).length && (a(o, ".dirty=true;"),
                        a.exit(o, ".dirty=true;")),
                        a("a1(", e.shared.context, ",a0,", e.batchId, ");")
                    }
                    function X(e, t, r) {
                        var n = t.static[r];
                        if (n && function(e) {
                            if ("object" == typeof e && !y(e)) {
                                for (var t = Object.keys(e), r = 0; r < t.length; ++r)
                                    if (U.isDynamic(e[t[r]]))
                                        return !0;
                                return !1
                            }
                        }(n)) {
                            var a = e.global
                              , i = Object.keys(n)
                              , o = !1
                              , s = !1
                              , l = !1
                              , c = e.global.def("{}");
                            i.forEach((function(t) {
                                var r = n[t];
                                if (U.isDynamic(r))
                                    "function" == typeof r && (r = n[t] = U.unbox(r)),
                                    t = N(r, null),
                                    o = o || t.thisDep,
                                    l = l || t.propDep,
                                    s = s || t.contextDep;
                                else {
                                    switch (a(c, ".", t, "="),
                                    typeof r) {
                                    case "number":
                                        a(r);
                                        break;
                                    case "string":
                                        a('"', r, '"');
                                        break;
                                    case "object":
                                        Array.isArray(r) && a("[", r.join(), "]");
                                        break;
                                    default:
                                        a(e.link(r))
                                    }
                                    a(";")
                                }
                            }
                            )),
                            t.dynamic[r] = new U.DynamicVariable(4,{
                                thisDep: o,
                                contextDep: s,
                                propDep: l,
                                ref: c,
                                append: function(e, t) {
                                    i.forEach((function(r) {
                                        var a = n[r];
                                        U.isDynamic(a) && (a = e.invoke(t, a),
                                        t(c, ".", r, "=", a, ";"))
                                    }
                                    ))
                                }
                            }),
                            delete t.static[r]
                        }
                    }
                    var $ = u.Record
                      , K = {
                        add: 32774,
                        subtract: 32778,
                        "reverse subtract": 32779
                    };
                    r.ext_blend_minmax && (K.min = 32775,
                    K.max = 32776);
                    var ee = r.angle_instanced_arrays
                      , te = r.webgl_draw_buffers
                      , ne = {
                        dirty: !0,
                        profile: g.profile
                    }
                      , ae = {}
                      , ie = []
                      , oe = {}
                      , se = {};
                    m("dither", 3024),
                    m("blend.enable", 3042),
                    b("blend.color", "blendColor", [0, 0, 0, 0]),
                    b("blend.equation", "blendEquationSeparate", [32774, 32774]),
                    b("blend.func", "blendFuncSeparate", [1, 0, 1, 0]),
                    m("depth.enable", 2929, !0),
                    b("depth.func", "depthFunc", 513),
                    b("depth.range", "depthRange", [0, 1]),
                    b("depth.mask", "depthMask", !0),
                    b("colorMask", "colorMask", [!0, !0, !0, !0]),
                    m("cull.enable", 2884),
                    b("cull.face", "cullFace", 1029),
                    b("frontFace", "frontFace", 2305),
                    b("lineWidth", "lineWidth", 1),
                    m("polygonOffset.enable", 32823),
                    b("polygonOffset.offset", "polygonOffset", [0, 0]),
                    m("sample.alpha", 32926),
                    m("sample.enable", 32928),
                    b("sample.coverage", "sampleCoverage", [1, !1]),
                    m("stencil.enable", 2960),
                    b("stencil.mask", "stencilMask", -1),
                    b("stencil.func", "stencilFunc", [519, 0, -1]),
                    b("stencil.opFront", "stencilOpSeparate", [1028, 7680, 7680, 7680]),
                    b("stencil.opBack", "stencilOpSeparate", [1029, 7680, 7680, 7680]),
                    m("scissor.enable", 3089),
                    b("scissor.box", "scissor", [0, 0, e.drawingBufferWidth, e.drawingBufferHeight]),
                    b("viewport", "viewport", [0, 0, e.drawingBufferWidth, e.drawingBufferHeight]);
                    var le = {
                        gl: e,
                        context: h,
                        strings: t,
                        next: ae,
                        current: ne,
                        draw: d,
                        elements: o,
                        buffer: a,
                        shader: f,
                        attributes: u.state,
                        vao: u,
                        uniforms: c,
                        framebuffer: l,
                        extensions: r,
                        timer: p,
                        isBufferArgs: E
                    }
                      , ce = {
                        primTypes: re,
                        compareFuncs: ke,
                        blendFuncs: Ae,
                        blendEquations: K,
                        stencilOps: Te,
                        glTypes: Q,
                        orientationType: Me
                    };
                    te && (ce.backBuffer = [1029],
                    ce.drawBuffer = i(n.maxDrawbuffers, (function(e) {
                        return 0 === e ? [0] : i(e, (function(e) {
                            return 36064 + e
                        }
                        ))
                    }
                    )));
                    var ue = 0;
                    return {
                        next: ae,
                        current: ne,
                        procs: function() {
                            var e = x()
                              , t = e.proc("poll")
                              , a = e.proc("refresh")
                              , o = e.block();
                            t(o),
                            a(o);
                            var s, l = e.shared, c = l.gl, u = l.next, f = l.current;
                            o(f, ".dirty=false;"),
                            S(e, t),
                            S(e, a, null, !0),
                            ee && (s = e.link(ee)),
                            r.oes_vertex_array_object && a(e.link(r.oes_vertex_array_object), ".bindVertexArrayOES(null);");
                            for (var d = 0; d < n.maxAttributes; ++d) {
                                var h = a.def(l.attributes, "[", d, "]")
                                  , p = e.cond(h, ".buffer");
                                p.then(c, ".enableVertexAttribArray(", d, ");", c, ".bindBuffer(", 34962, ",", h, ".buffer.buffer);", c, ".vertexAttribPointer(", d, ",", h, ".size,", h, ".type,", h, ".normalized,", h, ".stride,", h, ".offset);").else(c, ".disableVertexAttribArray(", d, ");", c, ".vertexAttrib4f(", d, ",", h, ".x,", h, ".y,", h, ".z,", h, ".w);", h, ".buffer=null;"),
                                a(p),
                                ee && a(s, ".vertexAttribDivisorANGLE(", d, ",", h, ".divisor);")
                            }
                            return a(e.shared.vao, ".currentVAO=null;", e.shared.vao, ".setVAO(", e.shared.vao, ".targetVAO);"),
                            Object.keys(oe).forEach((function(r) {
                                var n = oe[r]
                                  , i = o.def(u, ".", r)
                                  , s = e.block();
                                s("if(", i, "){", c, ".enable(", n, ")}else{", c, ".disable(", n, ")}", f, ".", r, "=", i, ";"),
                                a(s),
                                t("if(", i, "!==", f, ".", r, "){", s, "}")
                            }
                            )),
                            Object.keys(se).forEach((function(r) {
                                var n, s, l = se[r], d = ne[r], h = e.block();
                                h(c, ".", l, "("),
                                y(d) ? (l = d.length,
                                n = e.global.def(u, ".", r),
                                s = e.global.def(f, ".", r),
                                h(i(l, (function(e) {
                                    return n + "[" + e + "]"
                                }
                                )), ");", i(l, (function(e) {
                                    return s + "[" + e + "]=" + n + "[" + e + "];"
                                }
                                )).join("")),
                                t("if(", i(l, (function(e) {
                                    return n + "[" + e + "]!==" + s + "[" + e + "]"
                                }
                                )).join("||"), "){", h, "}")) : (n = o.def(u, ".", r),
                                s = o.def(f, ".", r),
                                h(n, ");", f, ".", r, "=", n, ";"),
                                t("if(", n, "!==", s, "){", h, "}")),
                                a(h)
                            }
                            )),
                            e.compile()
                        }(),
                        compile: function(e, t, r, n, a) {
                            var i = x();
                            i.stats = i.link(a),
                            Object.keys(t.static).forEach((function(e) {
                                X(i, t, e)
                            }
                            )),
                            we.forEach((function(t) {
                                X(i, e, t)
                            }
                            ));
                            var o = T(e, t, r, n);
                            return function(e, t) {
                                var r = e.proc("draw", 1);
                                R(e, r),
                                M(e, r, t.context),
                                S(e, r, t.framebuffer),
                                C(e, r, t),
                                O(e, r, t.state),
                                j(e, r, t, !1, !0);
                                var n = t.shader.progVar.append(e, r);
                                if (r(e.shared.gl, ".useProgram(", n, ".program);"),
                                t.shader.program)
                                    W(e, r, t, t.shader.program);
                                else {
                                    r(e.shared.vao, ".setVAO(null);");
                                    var a = e.global.def("{}")
                                      , i = r.def(n, ".id")
                                      , o = r.def(a, "[", i, "]");
                                    r(e.cond(o).then(o, ".call(this,a0);").else(o, "=", a, "[", i, "]=", e.link((function(r) {
                                        return q(W, e, t, r, 1)
                                    }
                                    )), "(", n, ");", o, ".call(this,a0);"))
                                }
                                0 < Object.keys(t.state).length && r(e.shared.current, ".dirty=true;")
                            }(i, o),
                            J(i, o),
                            function(e, t) {
                                function r(e) {
                                    return e.contextDep && a || e.propDep
                                }
                                var n = e.proc("batch", 2);
                                e.batchId = "0",
                                R(e, n);
                                var a = !1
                                  , i = !0;
                                Object.keys(t.context).forEach((function(e) {
                                    a = a || t.context[e].propDep
                                }
                                )),
                                a || (M(e, n, t.context),
                                i = !1);
                                var o = !1;
                                if ((s = t.framebuffer) ? (s.propDep ? a = o = !0 : s.contextDep && a && (o = !0),
                                o || S(e, n, s)) : S(e, n, null),
                                t.state.viewport && t.state.viewport.propDep && (a = !0),
                                C(e, n, t),
                                O(e, n, t.state, (function(e) {
                                    return !r(e)
                                }
                                )),
                                t.profile && r(t.profile) || j(e, n, t, !1, "a1"),
                                t.contextDep = a,
                                t.needsContext = i,
                                t.needsFramebuffer = o,
                                (i = t.shader.progVar).contextDep && a || i.propDep)
                                    Z(e, n, t, null);
                                else if (i = i.append(e, n),
                                n(e.shared.gl, ".useProgram(", i, ".program);"),
                                t.shader.program)
                                    Z(e, n, t, t.shader.program);
                                else {
                                    n(e.shared.vao, ".setVAO(null);");
                                    var s = e.global.def("{}")
                                      , l = (o = n.def(i, ".id"),
                                    n.def(s, "[", o, "]"));
                                    n(e.cond(l).then(l, ".call(this,a0,a1);").else(l, "=", s, "[", o, "]=", e.link((function(r) {
                                        return q(Z, e, t, r, 2)
                                    }
                                    )), "(", i, ");", l, ".call(this,a0,a1);"))
                                }
                                0 < Object.keys(t.state).length && n(e.shared.current, ".dirty=true;")
                            }(i, o),
                            B(i.compile(), {
                                destroy: function() {
                                    o.shader.program.destroy()
                                }
                            })
                        }
                    }
                }
                function j(e, t) {
                    for (var r = 0; r < e.length; ++r)
                        if (e[r] === t)
                            return r;
                    return -1
                }
                var B = function(e, t) {
                    for (var r = Object.keys(t), n = 0; n < r.length; ++n)
                        e[r[n]] = t[r[n]];
                    return e
                }
                  , H = 0
                  , U = {
                    DynamicVariable: e,
                    define: function(r, n) {
                        return new e(r,t(n + ""))
                    },
                    isDynamic: function(t) {
                        return "function" == typeof t && !t._reglType || t instanceof e
                    },
                    unbox: function t(r, n) {
                        return "function" == typeof r ? new e(0,r) : "number" == typeof r || "boolean" == typeof r ? new e(5,r) : Array.isArray(r) ? new e(6,r.map((function(e, r) {
                            return t(e, n + "[" + r + "]")
                        }
                        ))) : r instanceof e ? r : void 0
                    },
                    accessor: t
                }
                  , Y = {
                    next: "function" == typeof requestAnimationFrame ? function(e) {
                        return requestAnimationFrame(e)
                    }
                    : function(e) {
                        return setTimeout(e, 16)
                    }
                    ,
                    cancel: "function" == typeof cancelAnimationFrame ? function(e) {
                        return cancelAnimationFrame(e)
                    }
                    : clearTimeout
                }
                  , V = "undefined" != typeof performance && performance.now ? function() {
                    return performance.now()
                }
                : function() {
                    return +new Date
                }
                  , q = s();
                q.zero = s();
                var W = function(e, t) {
                    var r = 1;
                    t.ext_texture_filter_anisotropic && (r = e.getParameter(34047));
                    var n = 1
                      , a = 1;
                    t.webgl_draw_buffers && (n = e.getParameter(34852),
                    a = e.getParameter(36063));
                    var i = !!t.oes_texture_float;
                    if (i) {
                        i = e.createTexture(),
                        e.bindTexture(3553, i),
                        e.texImage2D(3553, 0, 6408, 1, 1, 0, 6408, 5126, null);
                        var o = e.createFramebuffer();
                        if (e.bindFramebuffer(36160, o),
                        e.framebufferTexture2D(36160, 36064, 3553, i, 0),
                        e.bindTexture(3553, null),
                        36053 !== e.checkFramebufferStatus(36160))
                            i = !1;
                        else {
                            e.viewport(0, 0, 1, 1),
                            e.clearColor(1, 0, 0, 1),
                            e.clear(16384);
                            var s = q.allocType(5126, 4);
                            e.readPixels(0, 0, 1, 1, 6408, 5126, s),
                            e.getError() ? i = !1 : (e.deleteFramebuffer(o),
                            e.deleteTexture(i),
                            i = 1 === s[0]),
                            q.freeType(s)
                        }
                    }
                    return s = !0,
                    "undefined" != typeof navigator && (/MSIE/.test(navigator.userAgent) || /Trident\//.test(navigator.appVersion) || /Edge/.test(navigator.userAgent)) || (s = e.createTexture(),
                    o = q.allocType(5121, 36),
                    e.activeTexture(33984),
                    e.bindTexture(34067, s),
                    e.texImage2D(34069, 0, 6408, 3, 3, 0, 6408, 5121, o),
                    q.freeType(o),
                    e.bindTexture(34067, null),
                    e.deleteTexture(s),
                    s = !e.getError()),
                    {
                        colorBits: [e.getParameter(3410), e.getParameter(3411), e.getParameter(3412), e.getParameter(3413)],
                        depthBits: e.getParameter(3414),
                        stencilBits: e.getParameter(3415),
                        subpixelBits: e.getParameter(3408),
                        extensions: Object.keys(t).filter((function(e) {
                            return !!t[e]
                        }
                        )),
                        maxAnisotropic: r,
                        maxDrawbuffers: n,
                        maxColorAttachments: a,
                        pointSizeDims: e.getParameter(33901),
                        lineWidthDims: e.getParameter(33902),
                        maxViewportDims: e.getParameter(3386),
                        maxCombinedTextureUnits: e.getParameter(35661),
                        maxCubeMapSize: e.getParameter(34076),
                        maxRenderbufferSize: e.getParameter(34024),
                        maxTextureUnits: e.getParameter(34930),
                        maxTextureSize: e.getParameter(3379),
                        maxAttributes: e.getParameter(34921),
                        maxVertexUniforms: e.getParameter(36347),
                        maxVertexTextureUnits: e.getParameter(35660),
                        maxVaryingVectors: e.getParameter(36348),
                        maxFragmentUniforms: e.getParameter(36349),
                        glsl: e.getParameter(35724),
                        renderer: e.getParameter(7937),
                        vendor: e.getParameter(7936),
                        version: e.getParameter(7938),
                        readFloat: i,
                        npotTextureCube: s
                    }
                }
                  , G = function(e) {
                    return e instanceof Uint8Array || e instanceof Uint16Array || e instanceof Uint32Array || e instanceof Int8Array || e instanceof Int16Array || e instanceof Int32Array || e instanceof Float32Array || e instanceof Float64Array || e instanceof Uint8ClampedArray
                }
                  , Z = function(e) {
                    return Object.keys(e).map((function(t) {
                        return e[t]
                    }
                    ))
                }
                  , J = {
                    shape: function(e) {
                        for (var t = []; e.length; e = e[0])
                            t.push(e.length);
                        return t
                    },
                    flatten: function(e, t, r, n) {
                        var a = 1;
                        if (t.length)
                            for (var i = 0; i < t.length; ++i)
                                a *= t[i];
                        else
                            a = 0;
                        switch (r = n || q.allocType(r, a),
                        t.length) {
                        case 0:
                            break;
                        case 1:
                            for (n = t[0],
                            t = 0; t < n; ++t)
                                r[t] = e[t];
                            break;
                        case 2:
                            for (n = t[0],
                            t = t[1],
                            i = a = 0; i < n; ++i)
                                for (var o = e[i], s = 0; s < t; ++s)
                                    r[a++] = o[s];
                            break;
                        case 3:
                            c(e, t[0], t[1], t[2], r, 0);
                            break;
                        default:
                            !function e(t, r, n, a, i) {
                                for (var o = 1, s = n + 1; s < r.length; ++s)
                                    o *= r[s];
                                var l = r[n];
                                if (4 == r.length - n) {
                                    var u = r[n + 1]
                                      , f = r[n + 2];
                                    for (r = r[n + 3],
                                    s = 0; s < l; ++s)
                                        c(t[s], u, f, r, a, i),
                                        i += o
                                } else
                                    for (s = 0; s < l; ++s)
                                        e(t[s], r, n + 1, a, i),
                                        i += o
                            }(e, t, 0, r, 0)
                        }
                        return r
                    }
                }
                  , X = {
                    "[object Int8Array]": 5120,
                    "[object Int16Array]": 5122,
                    "[object Int32Array]": 5124,
                    "[object Uint8Array]": 5121,
                    "[object Uint8ClampedArray]": 5121,
                    "[object Uint16Array]": 5123,
                    "[object Uint32Array]": 5125,
                    "[object Float32Array]": 5126,
                    "[object Float64Array]": 5121,
                    "[object ArrayBuffer]": 5121
                }
                  , Q = {
                    int8: 5120,
                    int16: 5122,
                    int32: 5124,
                    uint8: 5121,
                    uint16: 5123,
                    uint32: 5125,
                    float: 5126,
                    float32: 5126
                }
                  , $ = {
                    dynamic: 35048,
                    stream: 35040,
                    static: 35044
                }
                  , K = J.flatten
                  , ee = J.shape
                  , te = [];
                te[5120] = 1,
                te[5122] = 2,
                te[5124] = 4,
                te[5121] = 1,
                te[5123] = 2,
                te[5125] = 4,
                te[5126] = 4;
                var re = {
                    points: 0,
                    point: 0,
                    lines: 1,
                    line: 1,
                    triangles: 4,
                    triangle: 4,
                    "line loop": 2,
                    "line strip": 3,
                    "triangle strip": 5,
                    "triangle fan": 6
                }
                  , ne = new Float32Array(1)
                  , ae = new Uint32Array(ne.buffer)
                  , ie = [9984, 9986, 9985, 9987]
                  , oe = [0, 6409, 6410, 6407, 6408]
                  , se = {};
                se[6409] = se[6406] = se[6402] = 1,
                se[34041] = se[6410] = 2,
                se[6407] = se[35904] = 3,
                se[6408] = se[35906] = 4;
                var le = v("HTMLCanvasElement")
                  , ce = v("OffscreenCanvas")
                  , ue = v("CanvasRenderingContext2D")
                  , fe = v("ImageBitmap")
                  , de = v("HTMLImageElement")
                  , he = v("HTMLVideoElement")
                  , pe = Object.keys(X).concat([le, ce, ue, fe, de, he])
                  , ge = [];
                ge[5121] = 1,
                ge[5126] = 4,
                ge[36193] = 2,
                ge[5123] = 2,
                ge[5125] = 4;
                var ye = [];
                ye[32854] = 2,
                ye[32855] = 2,
                ye[36194] = 2,
                ye[34041] = 4,
                ye[33776] = .5,
                ye[33777] = .5,
                ye[33778] = 1,
                ye[33779] = 1,
                ye[35986] = .5,
                ye[35987] = 1,
                ye[34798] = 1,
                ye[35840] = .5,
                ye[35841] = .25,
                ye[35842] = .5,
                ye[35843] = .25,
                ye[36196] = .5;
                var ve = [];
                ve[32854] = 2,
                ve[32855] = 2,
                ve[36194] = 2,
                ve[33189] = 2,
                ve[36168] = 1,
                ve[34041] = 4,
                ve[35907] = 4,
                ve[34836] = 16,
                ve[34842] = 8,
                ve[34843] = 6;
                var me = function(e, t, r, n, a) {
                    function i(e) {
                        this.id = c++,
                        this.refCount = 1,
                        this.renderbuffer = e,
                        this.format = 32854,
                        this.height = this.width = 0,
                        a.profile && (this.stats = {
                            size: 0
                        })
                    }
                    function o(t) {
                        var r = t.renderbuffer;
                        e.bindRenderbuffer(36161, null),
                        e.deleteRenderbuffer(r),
                        t.renderbuffer = null,
                        t.refCount = 0,
                        delete u[t.id],
                        n.renderbufferCount--
                    }
                    var s = {
                        rgba4: 32854,
                        rgb565: 36194,
                        "rgb5 a1": 32855,
                        depth: 33189,
                        stencil: 36168,
                        "depth stencil": 34041
                    };
                    t.ext_srgb && (s.srgba = 35907),
                    t.ext_color_buffer_half_float && (s.rgba16f = 34842,
                    s.rgb16f = 34843),
                    t.webgl_color_buffer_float && (s.rgba32f = 34836);
                    var l = [];
                    Object.keys(s).forEach((function(e) {
                        l[s[e]] = e
                    }
                    ));
                    var c = 0
                      , u = {};
                    return i.prototype.decRef = function() {
                        0 >= --this.refCount && o(this)
                    }
                    ,
                    a.profile && (n.getTotalRenderbufferSize = function() {
                        var e = 0;
                        return Object.keys(u).forEach((function(t) {
                            e += u[t].stats.size
                        }
                        )),
                        e
                    }
                    ),
                    {
                        create: function(t, r) {
                            function o(t, r) {
                                var n = 0
                                  , i = 0
                                  , u = 32854;
                                if ("object" == typeof t && t ? ("shape"in t ? (n = 0 | (i = t.shape)[0],
                                i = 0 | i[1]) : ("radius"in t && (n = i = 0 | t.radius),
                                "width"in t && (n = 0 | t.width),
                                "height"in t && (i = 0 | t.height)),
                                "format"in t && (u = s[t.format])) : "number" == typeof t ? (n = 0 | t,
                                i = "number" == typeof r ? 0 | r : n) : t || (n = i = 1),
                                n !== c.width || i !== c.height || u !== c.format)
                                    return o.width = c.width = n,
                                    o.height = c.height = i,
                                    c.format = u,
                                    e.bindRenderbuffer(36161, c.renderbuffer),
                                    e.renderbufferStorage(36161, u, n, i),
                                    a.profile && (c.stats.size = ve[c.format] * c.width * c.height),
                                    o.format = l[c.format],
                                    o
                            }
                            var c = new i(e.createRenderbuffer());
                            return u[c.id] = c,
                            n.renderbufferCount++,
                            o(t, r),
                            o.resize = function(t, r) {
                                var n = 0 | t
                                  , i = 0 | r || n;
                                return n === c.width && i === c.height || (o.width = c.width = n,
                                o.height = c.height = i,
                                e.bindRenderbuffer(36161, c.renderbuffer),
                                e.renderbufferStorage(36161, c.format, n, i),
                                a.profile && (c.stats.size = ve[c.format] * c.width * c.height)),
                                o
                            }
                            ,
                            o._reglType = "renderbuffer",
                            o._renderbuffer = c,
                            a.profile && (o.stats = c.stats),
                            o.destroy = function() {
                                c.decRef()
                            }
                            ,
                            o
                        },
                        clear: function() {
                            Z(u).forEach(o)
                        },
                        restore: function() {
                            Z(u).forEach((function(t) {
                                t.renderbuffer = e.createRenderbuffer(),
                                e.bindRenderbuffer(36161, t.renderbuffer),
                                e.renderbufferStorage(36161, t.format, t.width, t.height)
                            }
                            )),
                            e.bindRenderbuffer(36161, null)
                        }
                    }
                }
                  , be = [];
                be[6408] = 4,
                be[6407] = 3;
                var xe = [];
                xe[5121] = 1,
                xe[5126] = 4,
                xe[36193] = 2;
                var _e = ["x", "y", "z", "w"]
                  , we = "blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" ")
                  , Ae = {
                    0: 0,
                    1: 1,
                    zero: 0,
                    one: 1,
                    "src color": 768,
                    "one minus src color": 769,
                    "src alpha": 770,
                    "one minus src alpha": 771,
                    "dst color": 774,
                    "one minus dst color": 775,
                    "dst alpha": 772,
                    "one minus dst alpha": 773,
                    "constant color": 32769,
                    "one minus constant color": 32770,
                    "constant alpha": 32771,
                    "one minus constant alpha": 32772,
                    "src alpha saturate": 776
                }
                  , ke = {
                    never: 512,
                    less: 513,
                    "<": 513,
                    equal: 514,
                    "=": 514,
                    "==": 514,
                    "===": 514,
                    lequal: 515,
                    "<=": 515,
                    greater: 516,
                    ">": 516,
                    notequal: 517,
                    "!=": 517,
                    "!==": 517,
                    gequal: 518,
                    ">=": 518,
                    always: 519
                }
                  , Te = {
                    0: 0,
                    zero: 0,
                    keep: 7680,
                    replace: 7681,
                    increment: 7682,
                    decrement: 7683,
                    "increment wrap": 34055,
                    "decrement wrap": 34056,
                    invert: 5386
                }
                  , Me = {
                    cw: 2304,
                    ccw: 2305
                }
                  , Se = new F(!1,!1,!1,(function() {}
                ));
                return function(e) {
                    function t() {
                        if (0 === X.length)
                            w && w.update(),
                            ee = null;
                        else {
                            ee = Y.next(t),
                            f();
                            for (var e = X.length - 1; 0 <= e; --e) {
                                var r = X[e];
                                r && r(L, null, 0)
                            }
                            y.flush(),
                            w && w.update()
                        }
                    }
                    function r() {
                        !ee && 0 < X.length && (ee = Y.next(t))
                    }
                    function n() {
                        ee && (Y.cancel(t),
                        ee = null)
                    }
                    function i(e) {
                        e.preventDefault(),
                        n(),
                        Q.forEach((function(e) {
                            e()
                        }
                        ))
                    }
                    function o(e) {
                        y.getError(),
                        m.restore(),
                        I.restore(),
                        z.restore(),
                        N.restore(),
                        H.restore(),
                        q.restore(),
                        F.restore(),
                        w && w.restore(),
                        G.procs.refresh(),
                        r(),
                        $.forEach((function(e) {
                            e()
                        }
                        ))
                    }
                    function s(e) {
                        function t(e, t) {
                            var r = {}
                              , n = {};
                            return Object.keys(e).forEach((function(a) {
                                var i = e[a];
                                if (U.isDynamic(i))
                                    n[a] = U.unbox(i, a);
                                else {
                                    if (t && Array.isArray(i))
                                        for (var o = 0; o < i.length; ++o)
                                            if (U.isDynamic(i[o]))
                                                return void (n[a] = U.unbox(i, a));
                                    r[a] = i
                                }
                            }
                            )),
                            {
                                dynamic: n,
                                static: r
                            }
                        }
                        var r = t(e.context || {}, !0)
                          , n = t(e.uniforms || {}, !0)
                          , a = t(e.attributes || {}, !1);
                        e = t(function(e) {
                            function t(e) {
                                if (e in r) {
                                    var t = r[e];
                                    delete r[e],
                                    Object.keys(t).forEach((function(n) {
                                        r[e + "." + n] = t[n]
                                    }
                                    ))
                                }
                            }
                            var r = B({}, e);
                            return delete r.uniforms,
                            delete r.attributes,
                            delete r.context,
                            delete r.vao,
                            "stencil"in r && r.stencil.op && (r.stencil.opBack = r.stencil.opFront = r.stencil.op,
                            delete r.stencil.op),
                            t("blend"),
                            t("depth"),
                            t("cull"),
                            t("stencil"),
                            t("polygonOffset"),
                            t("scissor"),
                            t("sample"),
                            "vao"in e && (r.vao = e.vao),
                            r
                        }(e), !1);
                        var i = {
                            gpuTime: 0,
                            cpuTime: 0,
                            count: 0
                        }
                          , o = G.compile(e, a, n, r, i)
                          , s = o.draw
                          , l = o.batch
                          , c = o.scope
                          , u = [];
                        return B((function(e, t) {
                            var r;
                            if ("function" == typeof e)
                                return c.call(this, null, e, 0);
                            if ("function" == typeof t)
                                if ("number" == typeof e)
                                    for (r = 0; r < e; ++r)
                                        c.call(this, null, t, r);
                                else {
                                    if (!Array.isArray(e))
                                        return c.call(this, e, t, 0);
                                    for (r = 0; r < e.length; ++r)
                                        c.call(this, e[r], t, r)
                                }
                            else if ("number" == typeof e) {
                                if (0 < e)
                                    return l.call(this, function(e) {
                                        for (; u.length < e; )
                                            u.push(null);
                                        return u
                                    }(0 | e), 0 | e)
                            } else {
                                if (!Array.isArray(e))
                                    return s.call(this, e);
                                if (e.length)
                                    return l.call(this, e, e.length)
                            }
                        }
                        ), {
                            stats: i,
                            destroy: function() {
                                o.destroy()
                            }
                        })
                    }
                    function l(e, t) {
                        var r = 0;
                        G.procs.poll();
                        var n = t.color;
                        n && (y.clearColor(+n[0] || 0, +n[1] || 0, +n[2] || 0, +n[3] || 0),
                        r |= 16384),
                        "depth"in t && (y.clearDepth(+t.depth),
                        r |= 256),
                        "stencil"in t && (y.clearStencil(0 | t.stencil),
                        r |= 1024),
                        y.clear(r)
                    }
                    function c(e) {
                        return X.push(e),
                        r(),
                        {
                            cancel: function() {
                                var t = j(X, e);
                                X[t] = function e() {
                                    var t = j(X, e);
                                    X[t] = X[X.length - 1],
                                    --X.length,
                                    0 >= X.length && n()
                                }
                            }
                        }
                    }
                    function u() {
                        var e = Z.viewport
                          , t = Z.scissor_box;
                        e[0] = e[1] = t[0] = t[1] = 0,
                        L.viewportWidth = L.framebufferWidth = L.drawingBufferWidth = e[2] = t[2] = y.drawingBufferWidth,
                        L.viewportHeight = L.framebufferHeight = L.drawingBufferHeight = e[3] = t[3] = y.drawingBufferHeight
                    }
                    function f() {
                        L.tick += 1,
                        L.time = g(),
                        u(),
                        G.procs.poll()
                    }
                    function d() {
                        N.refresh(),
                        u(),
                        G.procs.refresh(),
                        w && w.update()
                    }
                    function g() {
                        return (V() - A) / 1e3
                    }
                    if (!(e = a(e)))
                        return null;
                    var y = e.gl
                      , v = y.getContextAttributes();
                    y.isContextLost();
                    var m = function(e, t) {
                        function r(t) {
                            var r;
                            t = t.toLowerCase();
                            try {
                                r = n[t] = e.getExtension(t)
                            } catch (e) {}
                            return !!r
                        }
                        for (var n = {}, a = 0; a < t.extensions.length; ++a) {
                            var i = t.extensions[a];
                            if (!r(i))
                                return t.onDestroy(),
                                t.onDone('"' + i + '" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),
                                null
                        }
                        return t.optionalExtensions.forEach(r),
                        {
                            extensions: n,
                            restore: function() {
                                Object.keys(n).forEach((function(e) {
                                    if (n[e] && !r(e))
                                        throw Error("(regl): error restoring extension " + e)
                                }
                                ))
                            }
                        }
                    }(y, e);
                    if (!m)
                        return null;
                    var b = function() {
                        var e = {
                            "": 0
                        }
                          , t = [""];
                        return {
                            id: function(r) {
                                var n = e[r];
                                return n || (n = e[r] = t.length,
                                t.push(r),
                                n)
                            },
                            str: function(e) {
                                return t[e]
                            }
                        }
                    }()
                      , x = {
                        vaoCount: 0,
                        bufferCount: 0,
                        elementsCount: 0,
                        framebufferCount: 0,
                        shaderCount: 0,
                        textureCount: 0,
                        cubeCount: 0,
                        renderbufferCount: 0,
                        maxTextureUnits: 0
                    }
                      , _ = m.extensions
                      , w = function(e, t) {
                        function r() {
                            this.endQueryIndex = this.startQueryIndex = -1,
                            this.sum = 0,
                            this.stats = null
                        }
                        function n(e, t, n) {
                            var a = o.pop() || new r;
                            a.startQueryIndex = e,
                            a.endQueryIndex = t,
                            a.sum = 0,
                            a.stats = n,
                            s.push(a)
                        }
                        if (!t.ext_disjoint_timer_query)
                            return null;
                        var a = []
                          , i = []
                          , o = []
                          , s = []
                          , l = []
                          , c = [];
                        return {
                            beginQuery: function(e) {
                                var r = a.pop() || t.ext_disjoint_timer_query.createQueryEXT();
                                t.ext_disjoint_timer_query.beginQueryEXT(35007, r),
                                i.push(r),
                                n(i.length - 1, i.length, e)
                            },
                            endQuery: function() {
                                t.ext_disjoint_timer_query.endQueryEXT(35007)
                            },
                            pushScopeStats: n,
                            update: function() {
                                var e, r;
                                if (0 !== (e = i.length)) {
                                    c.length = Math.max(c.length, e + 1),
                                    l.length = Math.max(l.length, e + 1),
                                    l[0] = 0;
                                    var n = c[0] = 0;
                                    for (r = e = 0; r < i.length; ++r) {
                                        var u = i[r];
                                        t.ext_disjoint_timer_query.getQueryObjectEXT(u, 34919) ? (n += t.ext_disjoint_timer_query.getQueryObjectEXT(u, 34918),
                                        a.push(u)) : i[e++] = u,
                                        l[r + 1] = n,
                                        c[r + 1] = e
                                    }
                                    for (i.length = e,
                                    r = e = 0; r < s.length; ++r) {
                                        var f = (n = s[r]).startQueryIndex;
                                        u = n.endQueryIndex;
                                        n.sum += l[u] - l[f],
                                        f = c[f],
                                        (u = c[u]) === f ? (n.stats.gpuTime += n.sum / 1e6,
                                        o.push(n)) : (n.startQueryIndex = f,
                                        n.endQueryIndex = u,
                                        s[e++] = n)
                                    }
                                    s.length = e
                                }
                            },
                            getNumPendingQueries: function() {
                                return i.length
                            },
                            clear: function() {
                                a.push.apply(a, i);
                                for (var e = 0; e < a.length; e++)
                                    t.ext_disjoint_timer_query.deleteQueryEXT(a[e]);
                                i.length = 0,
                                a.length = 0
                            },
                            restore: function() {
                                i.length = 0,
                                a.length = 0
                            }
                        }
                    }(0, _)
                      , A = V()
                      , M = y.drawingBufferWidth
                      , D = y.drawingBufferHeight
                      , L = {
                        tick: 0,
                        time: 0,
                        viewportWidth: M,
                        viewportHeight: D,
                        framebufferWidth: M,
                        framebufferHeight: D,
                        drawingBufferWidth: M,
                        drawingBufferHeight: D,
                        pixelRatio: e.pixelRatio
                    }
                      , E = W(y, _)
                      , z = h(y, x, e, (function(e) {
                        return F.destroyBuffer(e)
                    }
                    ))
                      , F = S(y, _, E, x, z)
                      , P = p(y, _, z, x)
                      , I = C(y, b, x, e)
                      , N = k(y, _, E, (function() {
                        G.procs.poll()
                    }
                    ), L, x, e)
                      , H = me(y, _, 0, x, e)
                      , q = T(y, _, E, N, H, x)
                      , G = R(y, b, _, E, z, P, 0, q, {}, F, I, {
                        elements: null,
                        primitive: 4,
                        count: -1,
                        offset: 0,
                        instances: -1
                    }, L, w, e)
                      , Z = (b = O(y, q, G.procs.poll, L),
                    G.next)
                      , J = y.canvas
                      , X = []
                      , Q = []
                      , $ = []
                      , K = [e.onDestroy]
                      , ee = null;
                    J && (J.addEventListener("webglcontextlost", i, !1),
                    J.addEventListener("webglcontextrestored", o, !1));
                    var te = q.setFBO = s({
                        framebuffer: U.define.call(null, 1, "framebuffer")
                    });
                    return d(),
                    v = B(s, {
                        clear: function(e) {
                            if ("framebuffer"in e)
                                if (e.framebuffer && "framebufferCube" === e.framebuffer_reglType)
                                    for (var t = 0; 6 > t; ++t)
                                        te(B({
                                            framebuffer: e.framebuffer.faces[t]
                                        }, e), l);
                                else
                                    te(e, l);
                            else
                                l(0, e)
                        },
                        prop: U.define.bind(null, 1),
                        context: U.define.bind(null, 2),
                        this: U.define.bind(null, 3),
                        draw: s({}),
                        buffer: function(e) {
                            return z.create(e, 34962, !1, !1)
                        },
                        elements: function(e) {
                            return P.create(e, !1)
                        },
                        texture: N.create2D,
                        cube: N.createCube,
                        renderbuffer: H.create,
                        framebuffer: q.create,
                        framebufferCube: q.createCube,
                        vao: F.createVAO,
                        attributes: v,
                        frame: c,
                        on: function(e, t) {
                            var r;
                            switch (e) {
                            case "frame":
                                return c(t);
                            case "lost":
                                r = Q;
                                break;
                            case "restore":
                                r = $;
                                break;
                            case "destroy":
                                r = K
                            }
                            return r.push(t),
                            {
                                cancel: function() {
                                    for (var e = 0; e < r.length; ++e)
                                        if (r[e] === t) {
                                            r[e] = r[r.length - 1],
                                            r.pop();
                                            break
                                        }
                                }
                            }
                        },
                        limits: E,
                        hasExtension: function(e) {
                            return 0 <= E.extensions.indexOf(e.toLowerCase())
                        },
                        read: b,
                        destroy: function() {
                            X.length = 0,
                            n(),
                            J && (J.removeEventListener("webglcontextlost", i),
                            J.removeEventListener("webglcontextrestored", o)),
                            I.clear(),
                            q.clear(),
                            H.clear(),
                            N.clear(),
                            P.clear(),
                            z.clear(),
                            F.clear(),
                            w && w.clear(),
                            K.forEach((function(e) {
                                e()
                            }
                            ))
                        },
                        _gl: y,
                        _refresh: d,
                        poll: function() {
                            f(),
                            w && w.update()
                        },
                        now: g,
                        stats: x
                    }),
                    e.onDone(null, v),
                    v
                }
            }
            ))
        }
        , {}],
        178: [function(e, t, r) {
            "use strict";
            var n = e("parenthesis");
            t.exports = function(e, t, r) {
                if (null == e)
                    throw Error("First argument should be a string");
                if (null == t)
                    throw Error("Separator should be a string or a RegExp");
                r ? ("string" == typeof r || Array.isArray(r)) && (r = {
                    ignore: r
                }) : r = {},
                null == r.escape && (r.escape = !0),
                null == r.ignore ? r.ignore = ["[]", "()", "{}", "<>", '""', "''", "``", "\u201c\u201d", "\xab\xbb"] : ("string" == typeof r.ignore && (r.ignore = [r.ignore]),
                r.ignore = r.ignore.map((function(e) {
                    return 1 === e.length && (e += e),
                    e
                }
                )));
                var a = n.parse(e, {
                    flat: !0,
                    brackets: r.ignore
                })
                  , i = a[0].split(t);
                if (r.escape) {
                    for (var o = [], s = 0; s < i.length; s++) {
                        var l = i[s]
                          , c = i[s + 1];
                        "\\" === l[l.length - 1] && "\\" !== l[l.length - 2] ? (o.push(l + t + c),
                        s++) : o.push(l)
                    }
                    i = o
                }
                for (s = 0; s < i.length; s++)
                    a[0] = i[s],
                    i[s] = n.stringify(a, {
                        flat: !0
                    });
                return i
            }
        }
        , {
            parenthesis: 160
        }],
        179: [function(e, t, r) {
            "use strict";
            Object.defineProperty(r, "__esModule", {
                value: !0
            });
            var n = function(e, t) {
                if (Array.isArray(e))
                    return e;
                if (Symbol.iterator in Object(e))
                    return function(e, t) {
                        var r = []
                          , n = !0
                          , a = !1
                          , i = void 0;
                        try {
                            for (var o, s = e[Symbol.iterator](); !(n = (o = s.next()).done) && (r.push(o.value),
                            !t || r.length !== t); n = !0)
                                ;
                        } catch (e) {
                            a = !0,
                            i = e
                        } finally {
                            try {
                                !n && s.return && s.return()
                            } finally {
                                if (a)
                                    throw i
                            }
                        }
                        return r
                    }(e, t);
                throw new TypeError("Invalid attempt to destructure non-iterable instance")
            }
              , a = 2 * Math.PI
              , i = function(e, t, r, n, a, i, o) {
                var s = e.x
                  , l = e.y;
                return {
                    x: n * (s *= t) - a * (l *= r) + i,
                    y: a * s + n * l + o
                }
            }
              , o = function(e, t) {
                var r = 1.5707963267948966 === t ? .551915024494 : -1.5707963267948966 === t ? -.551915024494 : 4 / 3 * Math.tan(t / 4)
                  , n = Math.cos(e)
                  , a = Math.sin(e)
                  , i = Math.cos(e + t)
                  , o = Math.sin(e + t);
                return [{
                    x: n - a * r,
                    y: a + n * r
                }, {
                    x: i + o * r,
                    y: o - i * r
                }, {
                    x: i,
                    y: o
                }]
            }
              , s = function(e, t, r, n) {
                var a = e * r + t * n;
                return a > 1 && (a = 1),
                a < -1 && (a = -1),
                (e * n - t * r < 0 ? -1 : 1) * Math.acos(a)
            };
            r.default = function(e) {
                var t = e.px
                  , r = e.py
                  , l = e.cx
                  , c = e.cy
                  , u = e.rx
                  , f = e.ry
                  , d = e.xAxisRotation
                  , h = void 0 === d ? 0 : d
                  , p = e.largeArcFlag
                  , g = void 0 === p ? 0 : p
                  , y = e.sweepFlag
                  , v = void 0 === y ? 0 : y
                  , m = [];
                if (0 === u || 0 === f)
                    return [];
                var b = Math.sin(h * a / 360)
                  , x = Math.cos(h * a / 360)
                  , _ = x * (t - l) / 2 + b * (r - c) / 2
                  , w = -b * (t - l) / 2 + x * (r - c) / 2;
                if (0 === _ && 0 === w)
                    return [];
                u = Math.abs(u),
                f = Math.abs(f);
                var A = Math.pow(_, 2) / Math.pow(u, 2) + Math.pow(w, 2) / Math.pow(f, 2);
                A > 1 && (u *= Math.sqrt(A),
                f *= Math.sqrt(A));
                var k = function(e, t, r, n, i, o, l, c, u, f, d, h) {
                    var p = Math.pow(i, 2)
                      , g = Math.pow(o, 2)
                      , y = Math.pow(d, 2)
                      , v = Math.pow(h, 2)
                      , m = p * g - p * v - g * y;
                    m < 0 && (m = 0),
                    m /= p * v + g * y;
                    var b = (m = Math.sqrt(m) * (l === c ? -1 : 1)) * i / o * h
                      , x = m * -o / i * d
                      , _ = f * b - u * x + (e + r) / 2
                      , w = u * b + f * x + (t + n) / 2
                      , A = (d - b) / i
                      , k = (h - x) / o
                      , T = (-d - b) / i
                      , M = (-h - x) / o
                      , S = s(1, 0, A, k)
                      , C = s(A, k, T, M);
                    return 0 === c && C > 0 && (C -= a),
                    1 === c && C < 0 && (C += a),
                    [_, w, S, C]
                }(t, r, l, c, u, f, g, v, b, x, _, w)
                  , T = n(k, 4)
                  , M = T[0]
                  , S = T[1]
                  , C = T[2]
                  , O = T[3]
                  , D = Math.abs(O) / (a / 4);
                Math.abs(1 - D) < 1e-7 && (D = 1);
                var L = Math.max(Math.ceil(D), 1);
                O /= L;
                for (var E = 0; E < L; E++)
                    m.push(o(C, O)),
                    C += O;
                return m.map((function(e) {
                    var t = i(e[0], u, f, x, b, M, S)
                      , r = t.x
                      , n = t.y
                      , a = i(e[1], u, f, x, b, M, S)
                      , o = a.x
                      , s = a.y
                      , l = i(e[2], u, f, x, b, M, S);
                    return {
                        x1: r,
                        y1: n,
                        x2: o,
                        y2: s,
                        x: l.x,
                        y: l.y
                    }
                }
                ))
            }
            ,
            t.exports = r.default
        }
        , {}],
        180: [function(e, t, r) {
            "use strict";
            var n = e("parse-svg-path")
              , a = e("abs-svg-path")
              , i = e("normalize-svg-path")
              , o = e("is-svg-path");
            t.exports = function(e) {
                Array.isArray(e) && 1 === e.length && "string" == typeof e[0] && (e = e[0]);
                if ("string" == typeof e) {
                    if (!o(e))
                        throw Error("String is not an SVG path.");
                    e = n(e)
                }
                if (!Array.isArray(e))
                    throw Error("Argument should be a string or an array of path segments.");
                if (e = a(e),
                !(e = i(e)).length)
                    return [0, 0, 0, 0];
                for (var t = [1 / 0, 1 / 0, -1 / 0, -1 / 0], r = 0, s = e.length; r < s; r++)
                    for (var l = e[r].slice(1), c = 0; c < l.length; c += 2)
                        l[c + 0] < t[0] && (t[0] = l[c + 0]),
                        l[c + 1] < t[1] && (t[1] = l[c + 1]),
                        l[c + 0] > t[2] && (t[2] = l[c + 0]),
                        l[c + 1] > t[3] && (t[3] = l[c + 1]);
                return t
            }
        }
        , {
            "abs-svg-path": 9,
            "is-svg-path": 154,
            "normalize-svg-path": 181,
            "parse-svg-path": 162
        }],
        181: [function(e, t, r) {
            "use strict";
            t.exports = function(e) {
                for (var t, r = [], o = 0, s = 0, l = 0, c = 0, u = null, f = null, d = 0, h = 0, p = 0, g = e.length; p < g; p++) {
                    var y = e[p]
                      , v = y[0];
                    switch (v) {
                    case "M":
                        l = y[1],
                        c = y[2];
                        break;
                    case "A":
                        var m = n({
                            px: d,
                            py: h,
                            cx: y[6],
                            cy: y[7],
                            rx: y[1],
                            ry: y[2],
                            xAxisRotation: y[3],
                            largeArcFlag: y[4],
                            sweepFlag: y[5]
                        });
                        if (!m.length)
                            continue;
                        for (var b, x = 0; x < m.length; x++)
                            b = m[x],
                            y = ["C", b.x1, b.y1, b.x2, b.y2, b.x, b.y],
                            x < m.length - 1 && r.push(y);
                        break;
                    case "S":
                        var _ = d
                          , w = h;
                        "C" != t && "S" != t || (_ += _ - o,
                        w += w - s),
                        y = ["C", _, w, y[1], y[2], y[3], y[4]];
                        break;
                    case "T":
                        "Q" == t || "T" == t ? (u = 2 * d - u,
                        f = 2 * h - f) : (u = d,
                        f = h),
                        y = i(d, h, u, f, y[1], y[2]);
                        break;
                    case "Q":
                        u = y[1],
                        f = y[2],
                        y = i(d, h, y[1], y[2], y[3], y[4]);
                        break;
                    case "L":
                        y = a(d, h, y[1], y[2]);
                        break;
                    case "H":
                        y = a(d, h, y[1], h);
                        break;
                    case "V":
                        y = a(d, h, d, y[1]);
                        break;
                    case "Z":
                        y = a(d, h, l, c)
                    }
                    t = v,
                    d = y[y.length - 2],
                    h = y[y.length - 1],
                    y.length > 4 ? (o = y[y.length - 4],
                    s = y[y.length - 3]) : (o = d,
                    s = h),
                    r.push(y)
                }
                return r
            }
            ;
            var n = e("svg-arc-to-cubic-bezier");
            function a(e, t, r, n) {
                return ["C", e, t, r, n, r, n]
            }
            function i(e, t, r, n, a, i) {
                return ["C", e / 3 + 2 / 3 * r, t / 3 + 2 / 3 * n, a / 3 + 2 / 3 * r, i / 3 + 2 / 3 * n, a, i]
            }
        }
        , {
            "svg-arc-to-cubic-bezier": 179
        }],
        182: [function(e, t, r) {
            "use strict";
            var n, a = e("svg-path-bounds"), i = e("parse-svg-path"), o = e("draw-svg-path"), s = e("is-svg-path"), l = e("bitmap-sdf"), c = document.createElement("canvas"), u = c.getContext("2d");
            t.exports = function(e, t) {
                if (!s(e))
                    throw Error("Argument should be valid svg path string");
                t || (t = {});
                var r, f;
                t.shape ? (r = t.shape[0],
                f = t.shape[1]) : (r = c.width = t.w || t.width || 200,
                f = c.height = t.h || t.height || 200);
                var d = Math.min(r, f)
                  , h = t.stroke || 0
                  , p = t.viewbox || t.viewBox || a(e)
                  , g = [r / (p[2] - p[0]), f / (p[3] - p[1])]
                  , y = Math.min(g[0] || 0, g[1] || 0) / 2;
                u.fillStyle = "black",
                u.fillRect(0, 0, r, f),
                u.fillStyle = "white",
                h && ("number" != typeof h && (h = 1),
                u.strokeStyle = h > 0 ? "white" : "black",
                u.lineWidth = Math.abs(h));
                if (u.translate(.5 * r, .5 * f),
                u.scale(y, y),
                function() {
                    if (null != n)
                        return n;
                    var e = document.createElement("canvas").getContext("2d");
                    if (e.canvas.width = e.canvas.height = 1,
                    !window.Path2D)
                        return n = !1;
                    var t = new Path2D("M0,0h1v1h-1v-1Z");
                    e.fillStyle = "black",
                    e.fill(t);
                    var r = e.getImageData(0, 0, 1, 1);
                    return n = r && r.data && 255 === r.data[3]
                }()) {
                    var v = new Path2D(e);
                    u.fill(v),
                    h && u.stroke(v)
                } else {
                    var m = i(e);
                    o(u, m),
                    u.fill(),
                    h && u.stroke()
                }
                return u.setTransform(1, 0, 0, 1, 0, 0),
                l(u, {
                    cutoff: null != t.cutoff ? t.cutoff : .5,
                    radius: null != t.radius ? t.radius : .5 * d
                })
            }
        }
        , {
            "bitmap-sdf": 16,
            "draw-svg-path": 43,
            "is-svg-path": 154,
            "parse-svg-path": 162,
            "svg-path-bounds": 180
        }],
        183: [function(e, t, r) {
            (function(t, n) {
                (function() {
                    var a = e("process/browser.js").nextTick
                      , i = Function.prototype.apply
                      , o = Array.prototype.slice
                      , s = {}
                      , l = 0;
                    function c(e, t) {
                        this._id = e,
                        this._clearFn = t
                    }
                    r.setTimeout = function() {
                        return new c(i.call(setTimeout, window, arguments),clearTimeout)
                    }
                    ,
                    r.setInterval = function() {
                        return new c(i.call(setInterval, window, arguments),clearInterval)
                    }
                    ,
                    r.clearTimeout = r.clearInterval = function(e) {
                        e.close()
                    }
                    ,
                    c.prototype.unref = c.prototype.ref = function() {}
                    ,
                    c.prototype.close = function() {
                        this._clearFn.call(window, this._id)
                    }
                    ,
                    r.enroll = function(e, t) {
                        clearTimeout(e._idleTimeoutId),
                        e._idleTimeout = t
                    }
                    ,
                    r.unenroll = function(e) {
                        clearTimeout(e._idleTimeoutId),
                        e._idleTimeout = -1
                    }
                    ,
                    r._unrefActive = r.active = function(e) {
                        clearTimeout(e._idleTimeoutId);
                        var t = e._idleTimeout;
                        t >= 0 && (e._idleTimeoutId = setTimeout((function() {
                            e._onTimeout && e._onTimeout()
                        }
                        ), t))
                    }
                    ,
                    r.setImmediate = "function" == typeof t ? t : function(e) {
                        var t = l++
                          , n = !(arguments.length < 2) && o.call(arguments, 1);
                        return s[t] = !0,
                        a((function() {
                            s[t] && (n ? e.apply(null, n) : e.call(null),
                            r.clearImmediate(t))
                        }
                        )),
                        t
                    }
                    ,
                    r.clearImmediate = "function" == typeof n ? n : function(e) {
                        delete s[e]
                    }
                }
                ).call(this)
            }
            ).call(this, e("timers").setImmediate, e("timers").clearImmediate)
        }
        , {
            "process/browser.js": 173,
            timers: 183
        }],
        184: [function(e, t, r) {
            !function(e) {
                var r = /^\s+/
                  , n = /\s+$/
                  , a = 0
                  , i = e.round
                  , o = e.min
                  , s = e.max
                  , l = e.random;
                function c(t, l) {
                    if (l = l || {},
                    (t = t || "")instanceof c)
                        return t;
                    if (!(this instanceof c))
                        return new c(t,l);
                    var u = function(t) {
                        var a = {
                            r: 0,
                            g: 0,
                            b: 0
                        }
                          , i = 1
                          , l = null
                          , c = null
                          , u = null
                          , f = !1
                          , d = !1;
                        "string" == typeof t && (t = function(e) {
                            e = e.replace(r, "").replace(n, "").toLowerCase();
                            var t, a = !1;
                            if (S[e])
                                e = S[e],
                                a = !0;
                            else if ("transparent" == e)
                                return {
                                    r: 0,
                                    g: 0,
                                    b: 0,
                                    a: 0,
                                    format: "name"
                                };
                            if (t = B.rgb.exec(e))
                                return {
                                    r: t[1],
                                    g: t[2],
                                    b: t[3]
                                };
                            if (t = B.rgba.exec(e))
                                return {
                                    r: t[1],
                                    g: t[2],
                                    b: t[3],
                                    a: t[4]
                                };
                            if (t = B.hsl.exec(e))
                                return {
                                    h: t[1],
                                    s: t[2],
                                    l: t[3]
                                };
                            if (t = B.hsla.exec(e))
                                return {
                                    h: t[1],
                                    s: t[2],
                                    l: t[3],
                                    a: t[4]
                                };
                            if (t = B.hsv.exec(e))
                                return {
                                    h: t[1],
                                    s: t[2],
                                    v: t[3]
                                };
                            if (t = B.hsva.exec(e))
                                return {
                                    h: t[1],
                                    s: t[2],
                                    v: t[3],
                                    a: t[4]
                                };
                            if (t = B.hex8.exec(e))
                                return {
                                    r: E(t[1]),
                                    g: E(t[2]),
                                    b: E(t[3]),
                                    a: I(t[4]),
                                    format: a ? "name" : "hex8"
                                };
                            if (t = B.hex6.exec(e))
                                return {
                                    r: E(t[1]),
                                    g: E(t[2]),
                                    b: E(t[3]),
                                    format: a ? "name" : "hex"
                                };
                            if (t = B.hex4.exec(e))
                                return {
                                    r: E(t[1] + "" + t[1]),
                                    g: E(t[2] + "" + t[2]),
                                    b: E(t[3] + "" + t[3]),
                                    a: I(t[4] + "" + t[4]),
                                    format: a ? "name" : "hex8"
                                };
                            if (t = B.hex3.exec(e))
                                return {
                                    r: E(t[1] + "" + t[1]),
                                    g: E(t[2] + "" + t[2]),
                                    b: E(t[3] + "" + t[3]),
                                    format: a ? "name" : "hex"
                                };
                            return !1
                        }(t));
                        "object" == typeof t && (H(t.r) && H(t.g) && H(t.b) ? (h = t.r,
                        p = t.g,
                        g = t.b,
                        a = {
                            r: 255 * D(h, 255),
                            g: 255 * D(p, 255),
                            b: 255 * D(g, 255)
                        },
                        f = !0,
                        d = "%" === String(t.r).substr(-1) ? "prgb" : "rgb") : H(t.h) && H(t.s) && H(t.v) ? (l = F(t.s),
                        c = F(t.v),
                        a = function(t, r, n) {
                            t = 6 * D(t, 360),
                            r = D(r, 100),
                            n = D(n, 100);
                            var a = e.floor(t)
                              , i = t - a
                              , o = n * (1 - r)
                              , s = n * (1 - i * r)
                              , l = n * (1 - (1 - i) * r)
                              , c = a % 6;
                            return {
                                r: 255 * [n, s, o, o, l, n][c],
                                g: 255 * [l, n, n, s, o, o][c],
                                b: 255 * [o, o, l, n, n, s][c]
                            }
                        }(t.h, l, c),
                        f = !0,
                        d = "hsv") : H(t.h) && H(t.s) && H(t.l) && (l = F(t.s),
                        u = F(t.l),
                        a = function(e, t, r) {
                            var n, a, i;
                            function o(e, t, r) {
                                return r < 0 && (r += 1),
                                r > 1 && (r -= 1),
                                r < 1 / 6 ? e + 6 * (t - e) * r : r < .5 ? t : r < 2 / 3 ? e + (t - e) * (2 / 3 - r) * 6 : e
                            }
                            if (e = D(e, 360),
                            t = D(t, 100),
                            r = D(r, 100),
                            0 === t)
                                n = a = i = r;
                            else {
                                var s = r < .5 ? r * (1 + t) : r + t - r * t
                                  , l = 2 * r - s;
                                n = o(l, s, e + 1 / 3),
                                a = o(l, s, e),
                                i = o(l, s, e - 1 / 3)
                            }
                            return {
                                r: 255 * n,
                                g: 255 * a,
                                b: 255 * i
                            }
                        }(t.h, l, u),
                        f = !0,
                        d = "hsl"),
                        t.hasOwnProperty("a") && (i = t.a));
                        var h, p, g;
                        return i = O(i),
                        {
                            ok: f,
                            format: t.format || d,
                            r: o(255, s(a.r, 0)),
                            g: o(255, s(a.g, 0)),
                            b: o(255, s(a.b, 0)),
                            a: i
                        }
                    }(t);
                    this._originalInput = t,
                    this._r = u.r,
                    this._g = u.g,
                    this._b = u.b,
                    this._a = u.a,
                    this._roundA = i(100 * this._a) / 100,
                    this._format = l.format || u.format,
                    this._gradientType = l.gradientType,
                    this._r < 1 && (this._r = i(this._r)),
                    this._g < 1 && (this._g = i(this._g)),
                    this._b < 1 && (this._b = i(this._b)),
                    this._ok = u.ok,
                    this._tc_id = a++
                }
                function u(e, t, r) {
                    e = D(e, 255),
                    t = D(t, 255),
                    r = D(r, 255);
                    var n, a, i = s(e, t, r), l = o(e, t, r), c = (i + l) / 2;
                    if (i == l)
                        n = a = 0;
                    else {
                        var u = i - l;
                        switch (a = c > .5 ? u / (2 - i - l) : u / (i + l),
                        i) {
                        case e:
                            n = (t - r) / u + (t < r ? 6 : 0);
                            break;
                        case t:
                            n = (r - e) / u + 2;
                            break;
                        case r:
                            n = (e - t) / u + 4
                        }
                        n /= 6
                    }
                    return {
                        h: n,
                        s: a,
                        l: c
                    }
                }
                function f(e, t, r) {
                    e = D(e, 255),
                    t = D(t, 255),
                    r = D(r, 255);
                    var n, a, i = s(e, t, r), l = o(e, t, r), c = i, u = i - l;
                    if (a = 0 === i ? 0 : u / i,
                    i == l)
                        n = 0;
                    else {
                        switch (i) {
                        case e:
                            n = (t - r) / u + (t < r ? 6 : 0);
                            break;
                        case t:
                            n = (r - e) / u + 2;
                            break;
                        case r:
                            n = (e - t) / u + 4
                        }
                        n /= 6
                    }
                    return {
                        h: n,
                        s: a,
                        v: c
                    }
                }
                function d(e, t, r, n) {
                    var a = [z(i(e).toString(16)), z(i(t).toString(16)), z(i(r).toString(16))];
                    return n && a[0].charAt(0) == a[0].charAt(1) && a[1].charAt(0) == a[1].charAt(1) && a[2].charAt(0) == a[2].charAt(1) ? a[0].charAt(0) + a[1].charAt(0) + a[2].charAt(0) : a.join("")
                }
                function h(e, t, r, n) {
                    return [z(P(n)), z(i(e).toString(16)), z(i(t).toString(16)), z(i(r).toString(16))].join("")
                }
                function p(e, t) {
                    t = 0 === t ? 0 : t || 10;
                    var r = c(e).toHsl();
                    return r.s -= t / 100,
                    r.s = L(r.s),
                    c(r)
                }
                function g(e, t) {
                    t = 0 === t ? 0 : t || 10;
                    var r = c(e).toHsl();
                    return r.s += t / 100,
                    r.s = L(r.s),
                    c(r)
                }
                function y(e) {
                    return c(e).desaturate(100)
                }
                function v(e, t) {
                    t = 0 === t ? 0 : t || 10;
                    var r = c(e).toHsl();
                    return r.l += t / 100,
                    r.l = L(r.l),
                    c(r)
                }
                function m(e, t) {
                    t = 0 === t ? 0 : t || 10;
                    var r = c(e).toRgb();
                    return r.r = s(0, o(255, r.r - i(-t / 100 * 255))),
                    r.g = s(0, o(255, r.g - i(-t / 100 * 255))),
                    r.b = s(0, o(255, r.b - i(-t / 100 * 255))),
                    c(r)
                }
                function b(e, t) {
                    t = 0 === t ? 0 : t || 10;
                    var r = c(e).toHsl();
                    return r.l -= t / 100,
                    r.l = L(r.l),
                    c(r)
                }
                function x(e, t) {
                    var r = c(e).toHsl()
                      , n = (r.h + t) % 360;
                    return r.h = n < 0 ? 360 + n : n,
                    c(r)
                }
                function _(e) {
                    var t = c(e).toHsl();
                    return t.h = (t.h + 180) % 360,
                    c(t)
                }
                function w(e) {
                    var t = c(e).toHsl()
                      , r = t.h;
                    return [c(e), c({
                        h: (r + 120) % 360,
                        s: t.s,
                        l: t.l
                    }), c({
                        h: (r + 240) % 360,
                        s: t.s,
                        l: t.l
                    })]
                }
                function A(e) {
                    var t = c(e).toHsl()
                      , r = t.h;
                    return [c(e), c({
                        h: (r + 90) % 360,
                        s: t.s,
                        l: t.l
                    }), c({
                        h: (r + 180) % 360,
                        s: t.s,
                        l: t.l
                    }), c({
                        h: (r + 270) % 360,
                        s: t.s,
                        l: t.l
                    })]
                }
                function k(e) {
                    var t = c(e).toHsl()
                      , r = t.h;
                    return [c(e), c({
                        h: (r + 72) % 360,
                        s: t.s,
                        l: t.l
                    }), c({
                        h: (r + 216) % 360,
                        s: t.s,
                        l: t.l
                    })]
                }
                function T(e, t, r) {
                    t = t || 6,
                    r = r || 30;
                    var n = c(e).toHsl()
                      , a = 360 / r
                      , i = [c(e)];
                    for (n.h = (n.h - (a * t >> 1) + 720) % 360; --t; )
                        n.h = (n.h + a) % 360,
                        i.push(c(n));
                    return i
                }
                function M(e, t) {
                    t = t || 6;
                    for (var r = c(e).toHsv(), n = r.h, a = r.s, i = r.v, o = [], s = 1 / t; t--; )
                        o.push(c({
                            h: n,
                            s: a,
                            v: i
                        })),
                        i = (i + s) % 1;
                    return o
                }
                c.prototype = {
                    isDark: function() {
                        return this.getBrightness() < 128
                    },
                    isLight: function() {
                        return !this.isDark()
                    },
                    isValid: function() {
                        return this._ok
                    },
                    getOriginalInput: function() {
                        return this._originalInput
                    },
                    getFormat: function() {
                        return this._format
                    },
                    getAlpha: function() {
                        return this._a
                    },
                    getBrightness: function() {
                        var e = this.toRgb();
                        return (299 * e.r + 587 * e.g + 114 * e.b) / 1e3
                    },
                    getLuminance: function() {
                        var t, r, n, a = this.toRgb();
                        return t = a.r / 255,
                        r = a.g / 255,
                        n = a.b / 255,
                        .2126 * (t <= .03928 ? t / 12.92 : e.pow((t + .055) / 1.055, 2.4)) + .7152 * (r <= .03928 ? r / 12.92 : e.pow((r + .055) / 1.055, 2.4)) + .0722 * (n <= .03928 ? n / 12.92 : e.pow((n + .055) / 1.055, 2.4))
                    },
                    setAlpha: function(e) {
                        return this._a = O(e),
                        this._roundA = i(100 * this._a) / 100,
                        this
                    },
                    toHsv: function() {
                        var e = f(this._r, this._g, this._b);
                        return {
                            h: 360 * e.h,
                            s: e.s,
                            v: e.v,
                            a: this._a
                        }
                    },
                    toHsvString: function() {
                        var e = f(this._r, this._g, this._b)
                          , t = i(360 * e.h)
                          , r = i(100 * e.s)
                          , n = i(100 * e.v);
                        return 1 == this._a ? "hsv(" + t + ", " + r + "%, " + n + "%)" : "hsva(" + t + ", " + r + "%, " + n + "%, " + this._roundA + ")"
                    },
                    toHsl: function() {
                        var e = u(this._r, this._g, this._b);
                        return {
                            h: 360 * e.h,
                            s: e.s,
                            l: e.l,
                            a: this._a
                        }
                    },
                    toHslString: function() {
                        var e = u(this._r, this._g, this._b)
                          , t = i(360 * e.h)
                          , r = i(100 * e.s)
                          , n = i(100 * e.l);
                        return 1 == this._a ? "hsl(" + t + ", " + r + "%, " + n + "%)" : "hsla(" + t + ", " + r + "%, " + n + "%, " + this._roundA + ")"
                    },
                    toHex: function(e) {
                        return d(this._r, this._g, this._b, e)
                    },
                    toHexString: function(e) {
                        return "#" + this.toHex(e)
                    },
                    toHex8: function(e) {
                        return function(e, t, r, n, a) {
                            var o = [z(i(e).toString(16)), z(i(t).toString(16)), z(i(r).toString(16)), z(P(n))];
                            if (a && o[0].charAt(0) == o[0].charAt(1) && o[1].charAt(0) == o[1].charAt(1) && o[2].charAt(0) == o[2].charAt(1) && o[3].charAt(0) == o[3].charAt(1))
                                return o[0].charAt(0) + o[1].charAt(0) + o[2].charAt(0) + o[3].charAt(0);
                            return o.join("")
                        }(this._r, this._g, this._b, this._a, e)
                    },
                    toHex8String: function(e) {
                        return "#" + this.toHex8(e)
                    },
                    toRgb: function() {
                        return {
                            r: i(this._r),
                            g: i(this._g),
                            b: i(this._b),
                            a: this._a
                        }
                    },
                    toRgbString: function() {
                        return 1 == this._a ? "rgb(" + i(this._r) + ", " + i(this._g) + ", " + i(this._b) + ")" : "rgba(" + i(this._r) + ", " + i(this._g) + ", " + i(this._b) + ", " + this._roundA + ")"
                    },
                    toPercentageRgb: function() {
                        return {
                            r: i(100 * D(this._r, 255)) + "%",
                            g: i(100 * D(this._g, 255)) + "%",
                            b: i(100 * D(this._b, 255)) + "%",
                            a: this._a
                        }
                    },
                    toPercentageRgbString: function() {
                        return 1 == this._a ? "rgb(" + i(100 * D(this._r, 255)) + "%, " + i(100 * D(this._g, 255)) + "%, " + i(100 * D(this._b, 255)) + "%)" : "rgba(" + i(100 * D(this._r, 255)) + "%, " + i(100 * D(this._g, 255)) + "%, " + i(100 * D(this._b, 255)) + "%, " + this._roundA + ")"
                    },
                    toName: function() {
                        return 0 === this._a ? "transparent" : !(this._a < 1) && (C[d(this._r, this._g, this._b, !0)] || !1)
                    },
                    toFilter: function(e) {
                        var t = "#" + h(this._r, this._g, this._b, this._a)
                          , r = t
                          , n = this._gradientType ? "GradientType = 1, " : "";
                        if (e) {
                            var a = c(e);
                            r = "#" + h(a._r, a._g, a._b, a._a)
                        }
                        return "progid:DXImageTransform.Microsoft.gradient(" + n + "startColorstr=" + t + ",endColorstr=" + r + ")"
                    },
                    toString: function(e) {
                        var t = !!e;
                        e = e || this._format;
                        var r = !1
                          , n = this._a < 1 && this._a >= 0;
                        return t || !n || "hex" !== e && "hex6" !== e && "hex3" !== e && "hex4" !== e && "hex8" !== e && "name" !== e ? ("rgb" === e && (r = this.toRgbString()),
                        "prgb" === e && (r = this.toPercentageRgbString()),
                        "hex" !== e && "hex6" !== e || (r = this.toHexString()),
                        "hex3" === e && (r = this.toHexString(!0)),
                        "hex4" === e && (r = this.toHex8String(!0)),
                        "hex8" === e && (r = this.toHex8String()),
                        "name" === e && (r = this.toName()),
                        "hsl" === e && (r = this.toHslString()),
                        "hsv" === e && (r = this.toHsvString()),
                        r || this.toHexString()) : "name" === e && 0 === this._a ? this.toName() : this.toRgbString()
                    },
                    clone: function() {
                        return c(this.toString())
                    },
                    _applyModification: function(e, t) {
                        var r = e.apply(null, [this].concat([].slice.call(t)));
                        return this._r = r._r,
                        this._g = r._g,
                        this._b = r._b,
                        this.setAlpha(r._a),
                        this
                    },
                    lighten: function() {
                        return this._applyModification(v, arguments)
                    },
                    brighten: function() {
                        return this._applyModification(m, arguments)
                    },
                    darken: function() {
                        return this._applyModification(b, arguments)
                    },
                    desaturate: function() {
                        return this._applyModification(p, arguments)
                    },
                    saturate: function() {
                        return this._applyModification(g, arguments)
                    },
                    greyscale: function() {
                        return this._applyModification(y, arguments)
                    },
                    spin: function() {
                        return this._applyModification(x, arguments)
                    },
                    _applyCombination: function(e, t) {
                        return e.apply(null, [this].concat([].slice.call(t)))
                    },
                    analogous: function() {
                        return this._applyCombination(T, arguments)
                    },
                    complement: function() {
                        return this._applyCombination(_, arguments)
                    },
                    monochromatic: function() {
                        return this._applyCombination(M, arguments)
                    },
                    splitcomplement: function() {
                        return this._applyCombination(k, arguments)
                    },
                    triad: function() {
                        return this._applyCombination(w, arguments)
                    },
                    tetrad: function() {
                        return this._applyCombination(A, arguments)
                    }
                },
                c.fromRatio = function(e, t) {
                    if ("object" == typeof e) {
                        var r = {};
                        for (var n in e)
                            e.hasOwnProperty(n) && (r[n] = "a" === n ? e[n] : F(e[n]));
                        e = r
                    }
                    return c(e, t)
                }
                ,
                c.equals = function(e, t) {
                    return !(!e || !t) && c(e).toRgbString() == c(t).toRgbString()
                }
                ,
                c.random = function() {
                    return c.fromRatio({
                        r: l(),
                        g: l(),
                        b: l()
                    })
                }
                ,
                c.mix = function(e, t, r) {
                    r = 0 === r ? 0 : r || 50;
                    var n = c(e).toRgb()
                      , a = c(t).toRgb()
                      , i = r / 100;
                    return c({
                        r: (a.r - n.r) * i + n.r,
                        g: (a.g - n.g) * i + n.g,
                        b: (a.b - n.b) * i + n.b,
                        a: (a.a - n.a) * i + n.a
                    })
                }
                ,
                c.readability = function(t, r) {
                    var n = c(t)
                      , a = c(r);
                    return (e.max(n.getLuminance(), a.getLuminance()) + .05) / (e.min(n.getLuminance(), a.getLuminance()) + .05)
                }
                ,
                c.isReadable = function(e, t, r) {
                    var n, a, i = c.readability(e, t);
                    switch (a = !1,
                    (n = function(e) {
                        var t, r;
                        t = ((e = e || {
                            level: "AA",
                            size: "small"
                        }).level || "AA").toUpperCase(),
                        r = (e.size || "small").toLowerCase(),
                        "AA" !== t && "AAA" !== t && (t = "AA");
                        "small" !== r && "large" !== r && (r = "small");
                        return {
                            level: t,
                            size: r
                        }
                    }(r)).level + n.size) {
                    case "AAsmall":
                    case "AAAlarge":
                        a = i >= 4.5;
                        break;
                    case "AAlarge":
                        a = i >= 3;
                        break;
                    case "AAAsmall":
                        a = i >= 7
                    }
                    return a
                }
                ,
                c.mostReadable = function(e, t, r) {
                    var n, a, i, o, s = null, l = 0;
                    a = (r = r || {}).includeFallbackColors,
                    i = r.level,
                    o = r.size;
                    for (var u = 0; u < t.length; u++)
                        (n = c.readability(e, t[u])) > l && (l = n,
                        s = c(t[u]));
                    return c.isReadable(e, s, {
                        level: i,
                        size: o
                    }) || !a ? s : (r.includeFallbackColors = !1,
                    c.mostReadable(e, ["#fff", "#000"], r))
                }
                ;
                var S = c.names = {
                    aliceblue: "f0f8ff",
                    antiquewhite: "faebd7",
                    aqua: "0ff",
                    aquamarine: "7fffd4",
                    azure: "f0ffff",
                    beige: "f5f5dc",
                    bisque: "ffe4c4",
                    black: "000",
                    blanchedalmond: "ffebcd",
                    blue: "00f",
                    blueviolet: "8a2be2",
                    brown: "a52a2a",
                    burlywood: "deb887",
                    burntsienna: "ea7e5d",
                    cadetblue: "5f9ea0",
                    chartreuse: "7fff00",
                    chocolate: "d2691e",
                    coral: "ff7f50",
                    cornflowerblue: "6495ed",
                    cornsilk: "fff8dc",
                    crimson: "dc143c",
                    cyan: "0ff",
                    darkblue: "00008b",
                    darkcyan: "008b8b",
                    darkgoldenrod: "b8860b",
                    darkgray: "a9a9a9",
                    darkgreen: "006400",
                    darkgrey: "a9a9a9",
                    darkkhaki: "bdb76b",
                    darkmagenta: "8b008b",
                    darkolivegreen: "556b2f",
                    darkorange: "ff8c00",
                    darkorchid: "9932cc",
                    darkred: "8b0000",
                    darksalmon: "e9967a",
                    darkseagreen: "8fbc8f",
                    darkslateblue: "483d8b",
                    darkslategray: "2f4f4f",
                    darkslategrey: "2f4f4f",
                    darkturquoise: "00ced1",
                    darkviolet: "9400d3",
                    deeppink: "ff1493",
                    deepskyblue: "00bfff",
                    dimgray: "696969",
                    dimgrey: "696969",
                    dodgerblue: "1e90ff",
                    firebrick: "b22222",
                    floralwhite: "fffaf0",
                    forestgreen: "228b22",
                    fuchsia: "f0f",
                    gainsboro: "dcdcdc",
                    ghostwhite: "f8f8ff",
                    gold: "ffd700",
                    goldenrod: "daa520",
                    gray: "808080",
                    green: "008000",
                    greenyellow: "adff2f",
                    grey: "808080",
                    honeydew: "f0fff0",
                    hotpink: "ff69b4",
                    indianred: "cd5c5c",
                    indigo: "4b0082",
                    ivory: "fffff0",
                    khaki: "f0e68c",
                    lavender: "e6e6fa",
                    lavenderblush: "fff0f5",
                    lawngreen: "7cfc00",
                    lemonchiffon: "fffacd",
                    lightblue: "add8e6",
                    lightcoral: "f08080",
                    lightcyan: "e0ffff",
                    lightgoldenrodyellow: "fafad2",
                    lightgray: "d3d3d3",
                    lightgreen: "90ee90",
                    lightgrey: "d3d3d3",
                    lightpink: "ffb6c1",
                    lightsalmon: "ffa07a",
                    lightseagreen: "20b2aa",
                    lightskyblue: "87cefa",
                    lightslategray: "789",
                    lightslategrey: "789",
                    lightsteelblue: "b0c4de",
                    lightyellow: "ffffe0",
                    lime: "0f0",
                    limegreen: "32cd32",
                    linen: "faf0e6",
                    magenta: "f0f",
                    maroon: "800000",
                    mediumaquamarine: "66cdaa",
                    mediumblue: "0000cd",
                    mediumorchid: "ba55d3",
                    mediumpurple: "9370db",
                    mediumseagreen: "3cb371",
                    mediumslateblue: "7b68ee",
                    mediumspringgreen: "00fa9a",
                    mediumturquoise: "48d1cc",
                    mediumvioletred: "c71585",
                    midnightblue: "191970",
                    mintcream: "f5fffa",
                    mistyrose: "ffe4e1",
                    moccasin: "ffe4b5",
                    navajowhite: "ffdead",
                    navy: "000080",
                    oldlace: "fdf5e6",
                    olive: "808000",
                    olivedrab: "6b8e23",
                    orange: "ffa500",
                    orangered: "ff4500",
                    orchid: "da70d6",
                    palegoldenrod: "eee8aa",
                    palegreen: "98fb98",
                    paleturquoise: "afeeee",
                    palevioletred: "db7093",
                    papayawhip: "ffefd5",
                    peachpuff: "ffdab9",
                    peru: "cd853f",
                    pink: "ffc0cb",
                    plum: "dda0dd",
                    powderblue: "b0e0e6",
                    purple: "800080",
                    rebeccapurple: "663399",
                    red: "f00",
                    rosybrown: "bc8f8f",
                    royalblue: "4169e1",
                    saddlebrown: "8b4513",
                    salmon: "fa8072",
                    sandybrown: "f4a460",
                    seagreen: "2e8b57",
                    seashell: "fff5ee",
                    sienna: "a0522d",
                    silver: "c0c0c0",
                    skyblue: "87ceeb",
                    slateblue: "6a5acd",
                    slategray: "708090",
                    slategrey: "708090",
                    snow: "fffafa",
                    springgreen: "00ff7f",
                    steelblue: "4682b4",
                    tan: "d2b48c",
                    teal: "008080",
                    thistle: "d8bfd8",
                    tomato: "ff6347",
                    turquoise: "40e0d0",
                    violet: "ee82ee",
                    wheat: "f5deb3",
                    white: "fff",
                    whitesmoke: "f5f5f5",
                    yellow: "ff0",
                    yellowgreen: "9acd32"
                }
                  , C = c.hexNames = function(e) {
                    var t = {};
                    for (var r in e)
                        e.hasOwnProperty(r) && (t[e[r]] = r);
                    return t
                }(S);
                function O(e) {
                    return e = parseFloat(e),
                    (isNaN(e) || e < 0 || e > 1) && (e = 1),
                    e
                }
                function D(t, r) {
                    (function(e) {
                        return "string" == typeof e && -1 != e.indexOf(".") && 1 === parseFloat(e)
                    }
                    )(t) && (t = "100%");
                    var n = function(e) {
                        return "string" == typeof e && -1 != e.indexOf("%")
                    }(t);
                    return t = o(r, s(0, parseFloat(t))),
                    n && (t = parseInt(t * r, 10) / 100),
                    e.abs(t - r) < 1e-6 ? 1 : t % r / parseFloat(r)
                }
                function L(e) {
                    return o(1, s(0, e))
                }
                function E(e) {
                    return parseInt(e, 16)
                }
                function z(e) {
                    return 1 == e.length ? "0" + e : "" + e
                }
                function F(e) {
                    return e <= 1 && (e = 100 * e + "%"),
                    e
                }
                function P(t) {
                    return e.round(255 * parseFloat(t)).toString(16)
                }
                function I(e) {
                    return E(e) / 255
                }
                var N, R, j, B = (R = "[\\s|\\(]+(" + (N = "(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)") + ")[,|\\s]+(" + N + ")[,|\\s]+(" + N + ")\\s*\\)?",
                j = "[\\s|\\(]+(" + N + ")[,|\\s]+(" + N + ")[,|\\s]+(" + N + ")[,|\\s]+(" + N + ")\\s*\\)?",
                {
                    CSS_UNIT: new RegExp(N),
                    rgb: new RegExp("rgb" + R),
                    rgba: new RegExp("rgba" + j),
                    hsl: new RegExp("hsl" + R),
                    hsla: new RegExp("hsla" + j),
                    hsv: new RegExp("hsv" + R),
                    hsva: new RegExp("hsva" + j),
                    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
                    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
                    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
                    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/
                });
                function H(e) {
                    return !!B.CSS_UNIT.exec(e)
                }
                void 0 !== t && t.exports ? t.exports = c : window.tinycolor = c
            }(Math)
        }
        , {}],
        185: [function(e, t, r) {
            "use strict";
            t.exports = a,
            t.exports.float32 = t.exports.float = a,
            t.exports.fract32 = t.exports.fract = function(e) {
                if (e.length) {
                    for (var t = a(e), r = 0, n = t.length; r < n; r++)
                        t[r] = e[r] - t[r];
                    return t
                }
                return a(e - a(e))
            }
            ;
            var n = new Float32Array(1);
            function a(e) {
                if (e.length) {
                    if (e instanceof Float32Array)
                        return e;
                    var t = new Float32Array(e);
                    return t.set(e),
                    t
                }
                return n[0] = e,
                n[0]
            }
        }
        , {}],
        186: [function(e, t, r) {
            "use strict";
            var n = e("parse-unit");
            t.exports = i;
            function a(e, t) {
                var r = n(getComputedStyle(e).getPropertyValue(t));
                return r[0] * i(r[1], e)
            }
            function i(e, t) {
                switch (t = t || document.body,
                e = (e || "px").trim().toLowerCase(),
                t !== window && t !== document || (t = document.body),
                e) {
                case "%":
                    return t.clientHeight / 100;
                case "ch":
                case "ex":
                    return function(e, t) {
                        var r = document.createElement("div");
                        r.style["font-size"] = "128" + e,
                        t.appendChild(r);
                        var n = a(r, "font-size") / 128;
                        return t.removeChild(r),
                        n
                    }(e, t);
                case "em":
                    return a(t, "font-size");
                case "rem":
                    return a(document.body, "font-size");
                case "vw":
                    return window.innerWidth / 100;
                case "vh":
                    return window.innerHeight / 100;
                case "vmin":
                    return Math.min(window.innerWidth, window.innerHeight) / 100;
                case "vmax":
                    return Math.max(window.innerWidth, window.innerHeight) / 100;
                case "in":
                    return 96;
                case "cm":
                    return 96 / 2.54;
                case "mm":
                    return 96 / 25.4;
                case "pt":
                    return 96 / 72;
                case "pc":
                    return 16
                }
                return 1
            }
        }
        , {
            "parse-unit": 163
        }],
        187: [function(e, t, r) {
            "use strict";
            var n = e("../prototype/is");
            t.exports = function(e) {
                if ("function" != typeof e)
                    return !1;
                if (!hasOwnProperty.call(e, "length"))
                    return !1;
                try {
                    if ("number" != typeof e.length)
                        return !1;
                    if ("function" != typeof e.call)
                        return !1;
                    if ("function" != typeof e.apply)
                        return !1
                } catch (e) {
                    return !1
                }
                return !n(e)
            }
        }
        , {
            "../prototype/is": 194
        }],
        188: [function(e, t, r) {
            "use strict";
            var n = e("../value/is")
              , a = e("../object/is")
              , i = e("../string/coerce")
              , o = e("./to-short-string")
              , s = function(e, t) {
                return e.replace("%v", o(t))
            };
            t.exports = function(e, t, r) {
                if (!a(r))
                    throw new TypeError(s(t, e));
                if (!n(e)) {
                    if ("default"in r)
                        return r.default;
                    if (r.isOptional)
                        return null
                }
                var o = i(r.errorMessage);
                throw n(o) || (o = t),
                new TypeError(s(o, e))
            }
        }
        , {
            "../object/is": 191,
            "../string/coerce": 195,
            "../value/is": 197,
            "./to-short-string": 190
        }],
        189: [function(e, t, r) {
            "use strict";
            t.exports = function(e) {
                try {
                    return e.toString()
                } catch (t) {
                    try {
                        return String(e)
                    } catch (e) {
                        return null
                    }
                }
            }
        }
        , {}],
        190: [function(e, t, r) {
            "use strict";
            var n = e("./safe-to-string")
              , a = /[\n\r\u2028\u2029]/g;
            t.exports = function(e) {
                var t = n(e);
                return null === t ? "<Non-coercible to string value>" : (t.length > 100 && (t = t.slice(0, 99) + "\u2026"),
                t = t.replace(a, (function(e) {
                    switch (e) {
                    case "\n":
                        return "\\n";
                    case "\r":
                        return "\\r";
                    case "\u2028":
                        return "\\u2028";
                    case "\u2029":
                        return "\\u2029";
                    default:
                        throw new Error("Unexpected character")
                    }
                }
                )))
            }
        }
        , {
            "./safe-to-string": 189
        }],
        191: [function(e, t, r) {
            "use strict";
            var n = e("../value/is")
              , a = {
                object: !0,
                function: !0,
                undefined: !0
            };
            t.exports = function(e) {
                return !!n(e) && hasOwnProperty.call(a, typeof e)
            }
        }
        , {
            "../value/is": 197
        }],
        192: [function(e, t, r) {
            "use strict";
            var n = e("../lib/resolve-exception")
              , a = e("./is");
            t.exports = function(e) {
                return a(e) ? e : n(e, "%v is not a plain function", arguments[1])
            }
        }
        , {
            "../lib/resolve-exception": 188,
            "./is": 193
        }],
        193: [function(e, t, r) {
            "use strict";
            var n = e("../function/is")
              , a = /^\s*class[\s{/}]/
              , i = Function.prototype.toString;
            t.exports = function(e) {
                return !!n(e) && !a.test(i.call(e))
            }
        }
        , {
            "../function/is": 187
        }],
        194: [function(e, t, r) {
            "use strict";
            var n = e("../object/is");
            t.exports = function(e) {
                if (!n(e))
                    return !1;
                try {
                    return !!e.constructor && e.constructor.prototype === e
                } catch (e) {
                    return !1
                }
            }
        }
        , {
            "../object/is": 191
        }],
        195: [function(e, t, r) {
            "use strict";
            var n = e("../value/is")
              , a = e("../object/is")
              , i = Object.prototype.toString;
            t.exports = function(e) {
                if (!n(e))
                    return null;
                if (a(e)) {
                    var t = e.toString;
                    if ("function" != typeof t)
                        return null;
                    if (t === i)
                        return null
                }
                try {
                    return "" + e
                } catch (e) {
                    return null
                }
            }
        }
        , {
            "../object/is": 191,
            "../value/is": 197
        }],
        196: [function(e, t, r) {
            "use strict";
            var n = e("../lib/resolve-exception")
              , a = e("./is");
            t.exports = function(e) {
                return a(e) ? e : n(e, "Cannot use %v", arguments[1])
            }
        }
        , {
            "../lib/resolve-exception": 188,
            "./is": 197
        }],
        197: [function(e, t, r) {
            "use strict";
            t.exports = function(e) {
                return null != e
            }
        }
        , {}],
        198: [function(e, t, r) {
            (function(t) {
                (function() {
                    "use strict";
                    var n = e("bit-twiddle")
                      , a = e("dup")
                      , i = e("buffer").Buffer;
                    t.__TYPEDARRAY_POOL || (t.__TYPEDARRAY_POOL = {
                        UINT8: a([32, 0]),
                        UINT16: a([32, 0]),
                        UINT32: a([32, 0]),
                        BIGUINT64: a([32, 0]),
                        INT8: a([32, 0]),
                        INT16: a([32, 0]),
                        INT32: a([32, 0]),
                        BIGINT64: a([32, 0]),
                        FLOAT: a([32, 0]),
                        DOUBLE: a([32, 0]),
                        DATA: a([32, 0]),
                        UINT8C: a([32, 0]),
                        BUFFER: a([32, 0])
                    });
                    var o = "undefined" != typeof Uint8ClampedArray
                      , s = "undefined" != typeof BigUint64Array
                      , l = "undefined" != typeof BigInt64Array
                      , c = t.__TYPEDARRAY_POOL;
                    c.UINT8C || (c.UINT8C = a([32, 0])),
                    c.BIGUINT64 || (c.BIGUINT64 = a([32, 0])),
                    c.BIGINT64 || (c.BIGINT64 = a([32, 0])),
                    c.BUFFER || (c.BUFFER = a([32, 0]));
                    var u = c.DATA
                      , f = c.BUFFER;
                    function d(e) {
                        if (e) {
                            var t = e.length || e.byteLength
                              , r = n.log2(t);
                            u[r].push(e)
                        }
                    }
                    function h(e) {
                        e = n.nextPow2(e);
                        var t = n.log2(e)
                          , r = u[t];
                        return r.length > 0 ? r.pop() : new ArrayBuffer(e)
                    }
                    function p(e) {
                        return new Uint8Array(h(e),0,e)
                    }
                    function g(e) {
                        return new Uint16Array(h(2 * e),0,e)
                    }
                    function y(e) {
                        return new Uint32Array(h(4 * e),0,e)
                    }
                    function v(e) {
                        return new Int8Array(h(e),0,e)
                    }
                    function m(e) {
                        return new Int16Array(h(2 * e),0,e)
                    }
                    function b(e) {
                        return new Int32Array(h(4 * e),0,e)
                    }
                    function x(e) {
                        return new Float32Array(h(4 * e),0,e)
                    }
                    function _(e) {
                        return new Float64Array(h(8 * e),0,e)
                    }
                    function w(e) {
                        return o ? new Uint8ClampedArray(h(e),0,e) : p(e)
                    }
                    function A(e) {
                        return s ? new BigUint64Array(h(8 * e),0,e) : null
                    }
                    function k(e) {
                        return l ? new BigInt64Array(h(8 * e),0,e) : null
                    }
                    function T(e) {
                        return new DataView(h(e),0,e)
                    }
                    function M(e) {
                        e = n.nextPow2(e);
                        var t = n.log2(e)
                          , r = f[t];
                        return r.length > 0 ? r.pop() : new i(e)
                    }
                    r.free = function(e) {
                        if (i.isBuffer(e))
                            f[n.log2(e.length)].push(e);
                        else {
                            if ("[object ArrayBuffer]" !== Object.prototype.toString.call(e) && (e = e.buffer),
                            !e)
                                return;
                            var t = e.length || e.byteLength
                              , r = 0 | n.log2(t);
                            u[r].push(e)
                        }
                    }
                    ,
                    r.freeUint8 = r.freeUint16 = r.freeUint32 = r.freeBigUint64 = r.freeInt8 = r.freeInt16 = r.freeInt32 = r.freeBigInt64 = r.freeFloat32 = r.freeFloat = r.freeFloat64 = r.freeDouble = r.freeUint8Clamped = r.freeDataView = function(e) {
                        d(e.buffer)
                    }
                    ,
                    r.freeArrayBuffer = d,
                    r.freeBuffer = function(e) {
                        f[n.log2(e.length)].push(e)
                    }
                    ,
                    r.malloc = function(e, t) {
                        if (void 0 === t || "arraybuffer" === t)
                            return h(e);
                        switch (t) {
                        case "uint8":
                            return p(e);
                        case "uint16":
                            return g(e);
                        case "uint32":
                            return y(e);
                        case "int8":
                            return v(e);
                        case "int16":
                            return m(e);
                        case "int32":
                            return b(e);
                        case "float":
                        case "float32":
                            return x(e);
                        case "double":
                        case "float64":
                            return _(e);
                        case "uint8_clamped":
                            return w(e);
                        case "bigint64":
                            return k(e);
                        case "biguint64":
                            return A(e);
                        case "buffer":
                            return M(e);
                        case "data":
                        case "dataview":
                            return T(e);
                        default:
                            return null
                        }
                        return null
                    }
                    ,
                    r.mallocArrayBuffer = h,
                    r.mallocUint8 = p,
                    r.mallocUint16 = g,
                    r.mallocUint32 = y,
                    r.mallocInt8 = v,
                    r.mallocInt16 = m,
                    r.mallocInt32 = b,
                    r.mallocFloat32 = r.mallocFloat = x,
                    r.mallocFloat64 = r.mallocDouble = _,
                    r.mallocUint8Clamped = w,
                    r.mallocBigUint64 = A,
                    r.mallocBigInt64 = k,
                    r.mallocDataView = T,
                    r.mallocBuffer = M,
                    r.clearCache = function() {
                        for (var e = 0; e < 32; ++e)
                            c.UINT8[e].length = 0,
                            c.UINT16[e].length = 0,
                            c.UINT32[e].length = 0,
                            c.INT8[e].length = 0,
                            c.INT16[e].length = 0,
                            c.INT32[e].length = 0,
                            c.FLOAT[e].length = 0,
                            c.DOUBLE[e].length = 0,
                            c.BIGUINT64[e].length = 0,
                            c.BIGINT64[e].length = 0,
                            c.UINT8C[e].length = 0,
                            u[e].length = 0,
                            f[e].length = 0
                    }
                }
                ).call(this)
            }
            ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }
        , {
            "bit-twiddle": 15,
            buffer: 17,
            dup: 45
        }],
        199: [function(e, t, r) {
            var n = /[\'\"]/;
            t.exports = function(e) {
                return e ? (n.test(e.charAt(0)) && (e = e.substr(1)),
                n.test(e.charAt(e.length - 1)) && (e = e.substr(0, e.length - 1)),
                e) : ""
            }
        }
        , {}],
        200: [function(e, t, r) {
            "use strict";
            t.exports = function(e, t, r) {
                Array.isArray(r) || (r = [].slice.call(arguments, 2));
                for (var n = 0, a = r.length; n < a; n++) {
                    var i = r[n];
                    for (var o in i)
                        if ((void 0 === t[o] || Array.isArray(t[o]) || e[o] !== t[o]) && o in t) {
                            var s;
                            if (!0 === i[o])
                                s = t[o];
                            else {
                                if (!1 === i[o])
                                    continue;
                                if ("function" == typeof i[o] && void 0 === (s = i[o](t[o], e, t)))
                                    continue
                            }
                            e[o] = s
                        }
                }
                return e
            }
        }
        , {}],
        201: [function(e, t, r) {
            var n = e("../main")
              , a = e("object-assign")
              , i = n.instance();
            function o(e) {
                this.local = this.regionalOptions[e || ""] || this.regionalOptions[""]
            }
            o.prototype = new n.baseCalendar,
            a(o.prototype, {
                name: "Chinese",
                jdEpoch: 1721425.5,
                hasYearZero: !1,
                minMonth: 0,
                firstMonth: 0,
                minDay: 1,
                regionalOptions: {
                    "": {
                        name: "Chinese",
                        epochs: ["BEC", "EC"],
                        monthNumbers: function(e, t) {
                            if ("string" == typeof e) {
                                var r = e.match(l);
                                return r ? r[0] : ""
                            }
                            var n = this._validateYear(e)
                              , a = e.month()
                              , i = "" + this.toChineseMonth(n, a);
                            return t && i.length < 2 && (i = "0" + i),
                            this.isIntercalaryMonth(n, a) && (i += "i"),
                            i
                        },
                        monthNames: function(e) {
                            if ("string" == typeof e) {
                                var t = e.match(c);
                                return t ? t[0] : ""
                            }
                            var r = this._validateYear(e)
                              , n = e.month()
                              , a = ["\u4e00\u6708", "\u4e8c\u6708", "\u4e09\u6708", "\u56db\u6708", "\u4e94\u6708", "\u516d\u6708", "\u4e03\u6708", "\u516b\u6708", "\u4e5d\u6708", "\u5341\u6708", "\u5341\u4e00\u6708", "\u5341\u4e8c\u6708"][this.toChineseMonth(r, n) - 1];
                            return this.isIntercalaryMonth(r, n) && (a = "\u95f0" + a),
                            a
                        },
                        monthNamesShort: function(e) {
                            if ("string" == typeof e) {
                                var t = e.match(u);
                                return t ? t[0] : ""
                            }
                            var r = this._validateYear(e)
                              , n = e.month()
                              , a = ["\u4e00", "\u4e8c", "\u4e09", "\u56db", "\u4e94", "\u516d", "\u4e03", "\u516b", "\u4e5d", "\u5341", "\u5341\u4e00", "\u5341\u4e8c"][this.toChineseMonth(r, n) - 1];
                            return this.isIntercalaryMonth(r, n) && (a = "\u95f0" + a),
                            a
                        },
                        parseMonth: function(e, t) {
                            e = this._validateYear(e);
                            var r, n = parseInt(t);
                            if (isNaN(n))
                                "\u95f0" === t[0] && (r = !0,
                                t = t.substring(1)),
                                "\u6708" === t[t.length - 1] && (t = t.substring(0, t.length - 1)),
                                n = 1 + ["\u4e00", "\u4e8c", "\u4e09", "\u56db", "\u4e94", "\u516d", "\u4e03", "\u516b", "\u4e5d", "\u5341", "\u5341\u4e00", "\u5341\u4e8c"].indexOf(t);
                            else {
                                var a = t[t.length - 1];
                                r = "i" === a || "I" === a
                            }
                            return this.toMonthIndex(e, n, r)
                        },
                        dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                        dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                        dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                        digits: null,
                        dateFormat: "yyyy/mm/dd",
                        firstDay: 1,
                        isRTL: !1
                    }
                },
                _validateYear: function(e, t) {
                    if (e.year && (e = e.year()),
                    "number" != typeof e || e < 1888 || e > 2111)
                        throw t.replace(/\{0\}/, this.local.name);
                    return e
                },
                toMonthIndex: function(e, t, r) {
                    var a = this.intercalaryMonth(e);
                    if (r && t !== a || t < 1 || t > 12)
                        throw n.local.invalidMonth.replace(/\{0\}/, this.local.name);
                    return a ? !r && t <= a ? t - 1 : t : t - 1
                },
                toChineseMonth: function(e, t) {
                    e.year && (t = (e = e.year()).month());
                    var r = this.intercalaryMonth(e);
                    if (t < 0 || t > (r ? 12 : 11))
                        throw n.local.invalidMonth.replace(/\{0\}/, this.local.name);
                    return r ? t < r ? t + 1 : t : t + 1
                },
                intercalaryMonth: function(e) {
                    return e = this._validateYear(e),
                    f[e - f[0]] >> 13
                },
                isIntercalaryMonth: function(e, t) {
                    e.year && (t = (e = e.year()).month());
                    var r = this.intercalaryMonth(e);
                    return !!r && r === t
                },
                leapYear: function(e) {
                    return 0 !== this.intercalaryMonth(e)
                },
                weekOfYear: function(e, t, r) {
                    var a, o = this._validateYear(e, n.local.invalidyear), s = d[o - d[0]], l = s >> 9 & 4095, c = s >> 5 & 15, u = 31 & s;
                    (a = i.newDate(l, c, u)).add(4 - (a.dayOfWeek() || 7), "d");
                    var f = this.toJD(e, t, r) - a.toJD();
                    return 1 + Math.floor(f / 7)
                },
                monthsInYear: function(e) {
                    return this.leapYear(e) ? 13 : 12
                },
                daysInMonth: function(e, t) {
                    e.year && (t = e.month(),
                    e = e.year()),
                    e = this._validateYear(e);
                    var r = f[e - f[0]];
                    if (t > (r >> 13 ? 12 : 11))
                        throw n.local.invalidMonth.replace(/\{0\}/, this.local.name);
                    return r & 1 << 12 - t ? 30 : 29
                },
                weekDay: function(e, t, r) {
                    return (this.dayOfWeek(e, t, r) || 7) < 6
                },
                toJD: function(e, t, r) {
                    var a = this._validate(e, s, r, n.local.invalidDate);
                    e = this._validateYear(a.year()),
                    t = a.month(),
                    r = a.day();
                    var o = this.isIntercalaryMonth(e, t)
                      , s = this.toChineseMonth(e, t)
                      , l = function(e, t, r, n, a) {
                        var i, o, s;
                        if ("object" == typeof e)
                            o = e,
                            i = t || {};
                        else {
                            var l;
                            if (!("number" == typeof e && e >= 1888 && e <= 2111))
                                throw new Error("Lunar year outside range 1888-2111");
                            if (!("number" == typeof t && t >= 1 && t <= 12))
                                throw new Error("Lunar month outside range 1 - 12");
                            if (!("number" == typeof r && r >= 1 && r <= 30))
                                throw new Error("Lunar day outside range 1 - 30");
                            "object" == typeof n ? (l = !1,
                            i = n) : (l = !!n,
                            i = a || {}),
                            o = {
                                year: e,
                                month: t,
                                day: r,
                                isIntercalary: l
                            }
                        }
                        s = o.day - 1;
                        var c, u = f[o.year - f[0]], h = u >> 13;
                        c = h && (o.month > h || o.isIntercalary) ? o.month : o.month - 1;
                        for (var p = 0; p < c; p++) {
                            s += u & 1 << 12 - p ? 30 : 29
                        }
                        var g = d[o.year - d[0]]
                          , y = new Date(g >> 9 & 4095,(g >> 5 & 15) - 1,(31 & g) + s);
                        return i.year = y.getFullYear(),
                        i.month = 1 + y.getMonth(),
                        i.day = y.getDate(),
                        i
                    }(e, s, r, o);
                    return i.toJD(l.year, l.month, l.day)
                },
                fromJD: function(e) {
                    var t = i.fromJD(e)
                      , r = function(e, t, r, n) {
                        var a, i;
                        if ("object" == typeof e)
                            a = e,
                            i = t || {};
                        else {
                            if (!("number" == typeof e && e >= 1888 && e <= 2111))
                                throw new Error("Solar year outside range 1888-2111");
                            if (!("number" == typeof t && t >= 1 && t <= 12))
                                throw new Error("Solar month outside range 1 - 12");
                            if (!("number" == typeof r && r >= 1 && r <= 31))
                                throw new Error("Solar day outside range 1 - 31");
                            a = {
                                year: e,
                                month: t,
                                day: r
                            },
                            i = n || {}
                        }
                        var o = d[a.year - d[0]]
                          , s = a.year << 9 | a.month << 5 | a.day;
                        i.year = s >= o ? a.year : a.year - 1,
                        o = d[i.year - d[0]];
                        var l, c = new Date(o >> 9 & 4095,(o >> 5 & 15) - 1,31 & o), u = new Date(a.year,a.month - 1,a.day);
                        l = Math.round((u - c) / 864e5);
                        var h, p = f[i.year - f[0]];
                        for (h = 0; h < 13; h++) {
                            var g = p & 1 << 12 - h ? 30 : 29;
                            if (l < g)
                                break;
                            l -= g
                        }
                        var y = p >> 13;
                        !y || h < y ? (i.isIntercalary = !1,
                        i.month = 1 + h) : h === y ? (i.isIntercalary = !0,
                        i.month = h) : (i.isIntercalary = !1,
                        i.month = h);
                        return i.day = 1 + l,
                        i
                    }(t.year(), t.month(), t.day())
                      , n = this.toMonthIndex(r.year, r.month, r.isIntercalary);
                    return this.newDate(r.year, n, r.day)
                },
                fromString: function(e) {
                    var t = e.match(s)
                      , r = this._validateYear(+t[1])
                      , n = +t[2]
                      , a = !!t[3]
                      , i = this.toMonthIndex(r, n, a)
                      , o = +t[4];
                    return this.newDate(r, i, o)
                },
                add: function(e, t, r) {
                    var n = e.year()
                      , a = e.month()
                      , i = this.isIntercalaryMonth(n, a)
                      , s = this.toChineseMonth(n, a)
                      , l = Object.getPrototypeOf(o.prototype).add.call(this, e, t, r);
                    if ("y" === r) {
                        var c = l.year()
                          , u = l.month()
                          , f = this.isIntercalaryMonth(c, s)
                          , d = i && f ? this.toMonthIndex(c, s, !0) : this.toMonthIndex(c, s, !1);
                        d !== u && l.month(d)
                    }
                    return l
                }
            });
            var s = /^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m
              , l = /^\d?\d[iI]?/m
              , c = /^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m
              , u = /^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;
            n.calendars.chinese = o;
            var f = [1887, 5780, 5802, 19157, 2742, 50359, 1198, 2646, 46378, 7466, 3412, 30122, 5482, 67949, 2396, 5294, 43597, 6732, 6954, 36181, 2772, 4954, 18781, 2396, 54427, 5274, 6730, 47781, 5800, 6868, 21210, 4790, 59703, 2350, 5270, 46667, 3402, 3496, 38325, 1388, 4782, 18735, 2350, 52374, 6804, 7498, 44457, 2906, 1388, 29294, 4700, 63789, 6442, 6804, 56138, 5802, 2772, 38235, 1210, 4698, 22827, 5418, 63125, 3476, 5802, 43701, 2484, 5302, 27223, 2646, 70954, 7466, 3412, 54698, 5482, 2412, 38062, 5294, 2636, 32038, 6954, 60245, 2772, 4826, 43357, 2394, 5274, 39501, 6730, 72357, 5800, 5844, 53978, 4790, 2358, 38039, 5270, 87627, 3402, 3496, 54708, 5484, 4782, 43311, 2350, 3222, 27978, 7498, 68965, 2904, 5484, 45677, 4700, 6444, 39573, 6804, 6986, 19285, 2772, 62811, 1210, 4698, 47403, 5418, 5780, 38570, 5546, 76469, 2420, 5302, 51799, 2646, 5414, 36501, 3412, 5546, 18869, 2412, 54446, 5276, 6732, 48422, 6822, 2900, 28010, 4826, 92509, 2394, 5274, 55883, 6730, 6820, 47956, 5812, 2778, 18779, 2358, 62615, 5270, 5450, 46757, 3492, 5556, 27318, 4718, 67887, 2350, 3222, 52554, 7498, 3428, 38252, 5468, 4700, 31022, 6444, 64149, 6804, 6986, 43861, 2772, 5338, 35421, 2650, 70955, 5418, 5780, 54954, 5546, 2740, 38074, 5302, 2646, 29991, 3366, 61011, 3412, 5546, 43445, 2412, 5294, 35406, 6732, 72998, 6820, 6996, 52586, 2778, 2396, 38045, 5274, 6698, 23333, 6820, 64338, 5812, 2746, 43355, 2358, 5270, 39499, 5450, 79525, 3492, 5548]
              , d = [1887, 966732, 967231, 967733, 968265, 968766, 969297, 969798, 970298, 970829, 971330, 971830, 972362, 972863, 973395, 973896, 974397, 974928, 975428, 975929, 976461, 976962, 977462, 977994, 978494, 979026, 979526, 980026, 980558, 981059, 981559, 982091, 982593, 983124, 983624, 984124, 984656, 985157, 985656, 986189, 986690, 987191, 987722, 988222, 988753, 989254, 989754, 990286, 990788, 991288, 991819, 992319, 992851, 993352, 993851, 994383, 994885, 995385, 995917, 996418, 996918, 997450, 997949, 998481, 998982, 999483, 1000014, 1000515, 1001016, 1001548, 1002047, 1002578, 1003080, 1003580, 1004111, 1004613, 1005113, 1005645, 1006146, 1006645, 1007177, 1007678, 1008209, 1008710, 1009211, 1009743, 1010243, 1010743, 1011275, 1011775, 1012306, 1012807, 1013308, 1013840, 1014341, 1014841, 1015373, 1015874, 1016404, 1016905, 1017405, 1017937, 1018438, 1018939, 1019471, 1019972, 1020471, 1021002, 1021503, 1022035, 1022535, 1023036, 1023568, 1024069, 1024568, 1025100, 1025601, 1026102, 1026633, 1027133, 1027666, 1028167, 1028666, 1029198, 1029699, 1030199, 1030730, 1031231, 1031763, 1032264, 1032764, 1033296, 1033797, 1034297, 1034828, 1035329, 1035830, 1036362, 1036861, 1037393, 1037894, 1038394, 1038925, 1039427, 1039927, 1040459, 1040959, 1041491, 1041992, 1042492, 1043023, 1043524, 1044024, 1044556, 1045057, 1045558, 1046090, 1046590, 1047121, 1047622, 1048122, 1048654, 1049154, 1049655, 1050187, 1050689, 1051219, 1051720, 1052220, 1052751, 1053252, 1053752, 1054284, 1054786, 1055285, 1055817, 1056317, 1056849, 1057349, 1057850, 1058382, 1058883, 1059383, 1059915, 1060415, 1060947, 1061447, 1061947, 1062479, 1062981, 1063480, 1064012, 1064514, 1065014, 1065545, 1066045, 1066577, 1067078, 1067578, 1068110, 1068611, 1069112, 1069642, 1070142, 1070674, 1071175, 1071675, 1072207, 1072709, 1073209, 1073740, 1074241, 1074741, 1075273, 1075773, 1076305, 1076807, 1077308, 1077839, 1078340, 1078840, 1079372, 1079871, 1080403, 1080904]
        }
        , {
            "../main": 215,
            "object-assign": 159
        }],
        202: [function(e, t, r) {
            var n = e("../main")
              , a = e("object-assign");
            function i(e) {
                this.local = this.regionalOptions[e || ""] || this.regionalOptions[""]
            }
            i.prototype = new n.baseCalendar,
            a(i.prototype, {
                name: "Coptic",
                jdEpoch: 1825029.5,
                daysPerMonth: [30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 5],
                hasYearZero: !1,
                minMonth: 1,
                firstMonth: 1,
                minDay: 1,
                regionalOptions: {
                    "": {
                        name: "Coptic",
                        epochs: ["BAM", "AM"],
                        monthNames: ["Thout", "Paopi", "Hathor", "Koiak", "Tobi", "Meshir", "Paremhat", "Paremoude", "Pashons", "Paoni", "Epip", "Mesori", "Pi Kogi Enavot"],
                        monthNamesShort: ["Tho", "Pao", "Hath", "Koi", "Tob", "Mesh", "Pat", "Pad", "Pash", "Pao", "Epi", "Meso", "PiK"],
                        dayNames: ["Tkyriaka", "Pesnau", "Pshoment", "Peftoou", "Ptiou", "Psoou", "Psabbaton"],
                        dayNamesShort: ["Tky", "Pes", "Psh", "Pef", "Pti", "Pso", "Psa"],
                        dayNamesMin: ["Tk", "Pes", "Psh", "Pef", "Pt", "Pso", "Psa"],
                        digits: null,
                        dateFormat: "dd/mm/yyyy",
                        firstDay: 0,
                        isRTL: !1
                    }
                },
                leapYear: function(e) {
                    var t = this._validate(e, this.minMonth, this.minDay, n.local.invalidYear);
                    return (e = t.year() + (t.year() < 0 ? 1 : 0)) % 4 == 3 || e % 4 == -1
                },
                monthsInYear: function(e) {
                    return this._validate(e, this.minMonth, this.minDay, n.local.invalidYear || n.regionalOptions[""].invalidYear),
                    13
                },
                weekOfYear: function(e, t, r) {
                    var n = this.newDate(e, t, r);
                    return n.add(-n.dayOfWeek(), "d"),
                    Math.floor((n.dayOfYear() - 1) / 7) + 1
                },
                daysInMonth: function(e, t) {
                    var r = this._validate(e, t, this.minDay, n.local.invalidMonth);
                    return this.daysPerMonth[r.month() - 1] + (13 === r.month() && this.leapYear(r.year()) ? 1 : 0)
                },
                weekDay: function(e, t, r) {
                    return (this.dayOfWeek(e, t, r) || 7) < 6
                },
                toJD: function(e, t, r) {
                    var a = this._validate(e, t, r, n.local.invalidDate);
                    return (e = a.year()) < 0 && e++,
                    a.day() + 30 * (a.month() - 1) + 365 * (e - 1) + Math.floor(e / 4) + this.jdEpoch - 1
                },
                fromJD: function(e) {
                    var t = Math.floor(e) + .5 - this.jdEpoch
                      , r = Math.floor((t - Math.floor((t + 366) / 1461)) / 365) + 1;
                    r <= 0 && r--,
                    t = Math.floor(e) + .5 - this.newDate(r, 1, 1).toJD();
                    var n = Math.floor(t / 30) + 1
                      , a = t - 30 * (n - 1) + 1;
                    return this.newDate(r, n, a)
                }
            }),
            n.calendars.coptic = i
        }
        , {
            "../main": 215,
            "object-assign": 159
        }],
        203: [function(e, t, r) {
            var n = e("../main")
              , a = e("object-assign");
            function i(e) {
                this.local = this.regionalOptions[e || ""] || this.regionalOptions[""]
            }
            i.prototype = new n.baseCalendar,
            a(i.prototype, {
                name: "Discworld",
                jdEpoch: 1721425.5,
                daysPerMonth: [16, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32],
                hasYearZero: !1,
                minMonth: 1,
                firstMonth: 1,
                minDay: 1,
                regionalOptions: {
                    "": {
                        name: "Discworld",
                        epochs: ["BUC", "UC"],
                        monthNames: ["Ick", "Offle", "February", "March", "April", "May", "June", "Grune", "August", "Spune", "Sektober", "Ember", "December"],
                        monthNamesShort: ["Ick", "Off", "Feb", "Mar", "Apr", "May", "Jun", "Gru", "Aug", "Spu", "Sek", "Emb", "Dec"],
                        dayNames: ["Sunday", "Octeday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                        dayNamesShort: ["Sun", "Oct", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                        dayNamesMin: ["Su", "Oc", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                        digits: null,
                        dateFormat: "yyyy/mm/dd",
                        firstDay: 2,
                        isRTL: !1
                    }
                },
                leapYear: function(e) {
                    return this._validate(e, this.minMonth, this.minDay, n.local.invalidYear),
                    !1
                },
                monthsInYear: function(e) {
                    return this._validate(e, this.minMonth, this.minDay, n.local.invalidYear),
                    13
                },
                daysInYear: function(e) {
                    return this._validate(e, this.minMonth, this.minDay, n.local.invalidYear),
                    400
                },
                weekOfYear: function(e, t, r) {
                    var n = this.newDate(e, t, r);
                    return n.add(-n.dayOfWeek(), "d"),
                    Math.floor((n.dayOfYear() - 1) / 8) + 1
                },
                daysInMonth: function(e, t) {
                    var r = this._validate(e, t, this.minDay, n.local.invalidMonth);
                    return this.daysPerMonth[r.month() - 1]
                },
                daysInWeek: function() {
                    return 8
                },
                dayOfWeek: function(e, t, r) {
                    return (this._validate(e, t, r, n.local.invalidDate).day() + 1) % 8
                },
                weekDay: function(e, t, r) {
                    var n = this.dayOfWeek(e, t, r);
                    return n >= 2 && n <= 6
                },
                extraInfo: function(e, t, r) {
                    var a = this._validate(e, t, r, n.local.invalidDate);
                    return {
                        century: o[Math.floor((a.year() - 1) / 100) + 1] || ""
                    }
                },
                toJD: function(e, t, r) {
                    var a = this._validate(e, t, r, n.local.invalidDate);
                    return e = a.year() + (a.year() < 0 ? 1 : 0),
                    t = a.month(),
                    (r = a.day()) + (t > 1 ? 16 : 0) + (t > 2 ? 32 * (t - 2) : 0) + 400 * (e - 1) + this.jdEpoch - 1
                },
                fromJD: function(e) {
                    e = Math.floor(e + .5) - Math.floor(this.jdEpoch) - 1;
                    var t = Math.floor(e / 400) + 1;
                    e -= 400 * (t - 1),
                    e += e > 15 ? 16 : 0;
                    var r = Math.floor(e / 32) + 1
                      , n = e - 32 * (r - 1) + 1;
                    return this.newDate(t <= 0 ? t - 1 : t, r, n)
                }
            });
            var o = {
                20: "Fruitbat",
                21: "Anchovy"
            };
            n.calendars.discworld = i
        }
        , {
            "../main": 215,
            "object-assign": 159
        }],
        204: [function(e, t, r) {
            var n = e("../main")
              , a = e("object-assign");
            function i(e) {
                this.local = this.regionalOptions[e || ""] || this.regionalOptions[""]
            }
            i.prototype = new n.baseCalendar,
            a(i.prototype, {
                name: "Ethiopian",
                jdEpoch: 1724220.5,
                daysPerMonth: [30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 5],
                hasYearZero: !1,
                minMonth: 1,
                firstMonth: 1,
                minDay: 1,
                regionalOptions: {
                    "": {
                        name: "Ethiopian",
                        epochs: ["BEE", "EE"],
                        monthNames: ["Meskerem", "Tikemet", "Hidar", "Tahesas", "Tir", "Yekatit", "Megabit", "Miazia", "Genbot", "Sene", "Hamle", "Nehase", "Pagume"],
                        monthNamesShort: ["Mes", "Tik", "Hid", "Tah", "Tir", "Yek", "Meg", "Mia", "Gen", "Sen", "Ham", "Neh", "Pag"],
                        dayNames: ["Ehud", "Segno", "Maksegno", "Irob", "Hamus", "Arb", "Kidame"],
                        dayNamesShort: ["Ehu", "Seg", "Mak", "Iro", "Ham", "Arb", "Kid"],
                        dayNamesMin: ["Eh", "Se", "Ma", "Ir", "Ha", "Ar", "Ki"],
                        digits: null,
                        dateFormat: "dd/mm/yyyy",
                        firstDay: 0,
                        isRTL: !1
                    }
                },
                leapYear: function(e) {
                    var t = this._validate(e, this.minMonth, this.minDay, n.local.invalidYear);
                    return (e = t.year() + (t.year() < 0 ? 1 : 0)) % 4 == 3 || e % 4 == -1
                },
                monthsInYear: function(e) {
                    return this._validate(e, this.minMonth, this.minDay, n.local.invalidYear || n.regionalOptions[""].invalidYear),
                    13
                },
                weekOfYear: function(e, t, r) {
                    var n = this.newDate(e, t, r);
                    return n.add(-n.dayOfWeek(), "d"),
                    Math.floor((n.dayOfYear() - 1) / 7) + 1
                },
                daysInMonth: function(e, t) {
                    var r = this._validate(e, t, this.minDay, n.local.invalidMonth);
                    return this.daysPerMonth[r.month() - 1] + (13 === r.month() && this.leapYear(r.year()) ? 1 : 0)
                },
                weekDay: function(e, t, r) {
                    return (this.dayOfWeek(e, t, r) || 7) < 6
                },
                toJD: function(e, t, r) {
                    var a = this._validate(e, t, r, n.local.invalidDate);
                    return (e = a.year()) < 0 && e++,
                    a.day() + 30 * (a.month() - 1) + 365 * (e - 1) + Math.floor(e / 4) + this.jdEpoch - 1
                },
                fromJD: function(e) {
                    var t = Math.floor(e) + .5 - this.jdEpoch
                      , r = Math.floor((t - Math.floor((t + 366) / 1461)) / 365) + 1;
                    r <= 0 && r--,
                    t = Math.floor(e) + .5 - this.newDate(r, 1, 1).toJD();
                    var n = Math.floor(t / 30) + 1
                      , a = t - 30 * (n - 1) + 1;
                    return this.newDate(r, n, a)
                }
            }),
            n.calendars.ethiopian = i
        }
        , {
            "../main": 215,
            "object-assign": 159
        }],
        205: [function(e, t, r) {
            var n = e("../main")
              , a = e("object-assign");
            function i(e) {
                this.local = this.regionalOptions[e || ""] || this.regionalOptions[""]
            }
            function o(e, t) {
                return e - t * Math.floor(e / t)
            }
            i.prototype = new n.baseCalendar,
            a(i.prototype, {
                name: "Hebrew",
                jdEpoch: 347995.5,
                daysPerMonth: [30, 29, 30, 29, 30, 29, 30, 29, 30, 29, 30, 29, 29],
                hasYearZero: !1,
                minMonth: 1,
                firstMonth: 7,
                minDay: 1,
                regionalOptions: {
                    "": {
                        name: "Hebrew",
                        epochs: ["BAM", "AM"],
                        monthNames: ["Nisan", "Iyar", "Sivan", "Tammuz", "Av", "Elul", "Tishrei", "Cheshvan", "Kislev", "Tevet", "Shevat", "Adar", "Adar II"],
                        monthNamesShort: ["Nis", "Iya", "Siv", "Tam", "Av", "Elu", "Tis", "Che", "Kis", "Tev", "She", "Ada", "Ad2"],
                        dayNames: ["Yom Rishon", "Yom Sheni", "Yom Shlishi", "Yom Revi'i", "Yom Chamishi", "Yom Shishi", "Yom Shabbat"],
                        dayNamesShort: ["Ris", "She", "Shl", "Rev", "Cha", "Shi", "Sha"],
                        dayNamesMin: ["Ri", "She", "Shl", "Re", "Ch", "Shi", "Sha"],
                        digits: null,
                        dateFormat: "dd/mm/yyyy",
                        firstDay: 0,
                        isRTL: !1
                    }
                },
                leapYear: function(e) {
                    var t = this._validate(e, this.minMonth, this.minDay, n.local.invalidYear);
                    return this._leapYear(t.year())
                },
                _leapYear: function(e) {
                    return o(7 * (e = e < 0 ? e + 1 : e) + 1, 19) < 7
                },
                monthsInYear: function(e) {
                    return this._validate(e, this.minMonth, this.minDay, n.local.invalidYear),
                    this._leapYear(e.year ? e.year() : e) ? 13 : 12
                },
                weekOfYear: function(e, t, r) {
                    var n = this.newDate(e, t, r);
                    return n.add(-n.dayOfWeek(), "d"),
                    Math.floor((n.dayOfYear() - 1) / 7) + 1
                },
                daysInYear: function(e) {
                    return e = this._validate(e, this.minMonth, this.minDay, n.local.invalidYear).year(),
                    this.toJD(-1 === e ? 1 : e + 1, 7, 1) - this.toJD(e, 7, 1)
                },
                daysInMonth: function(e, t) {
                    return e.year && (t = e.month(),
                    e = e.year()),
                    this._validate(e, t, this.minDay, n.local.invalidMonth),
                    12 === t && this.leapYear(e) || 8 === t && 5 === o(this.daysInYear(e), 10) ? 30 : 9 === t && 3 === o(this.daysInYear(e), 10) ? 29 : this.daysPerMonth[t - 1]
                },
                weekDay: function(e, t, r) {
                    return 6 !== this.dayOfWeek(e, t, r)
                },
                extraInfo: function(e, t, r) {
                    var a = this._validate(e, t, r, n.local.invalidDate);
                    return {
                        yearType: (this.leapYear(a) ? "embolismic" : "common") + " " + ["deficient", "regular", "complete"][this.daysInYear(a) % 10 - 3]
                    }
                },
                toJD: function(e, t, r) {
                    var a = this._validate(e, t, r, n.local.invalidDate);
                    e = a.year(),
                    t = a.month(),
                    r = a.day();
                    var i = e <= 0 ? e + 1 : e
                      , o = this.jdEpoch + this._delay1(i) + this._delay2(i) + r + 1;
                    if (t < 7) {
                        for (var s = 7; s <= this.monthsInYear(e); s++)
                            o += this.daysInMonth(e, s);
                        for (s = 1; s < t; s++)
                            o += this.daysInMonth(e, s)
                    } else
                        for (s = 7; s < t; s++)
                            o += this.daysInMonth(e, s);
                    return o
                },
                _delay1: function(e) {
                    var t = Math.floor((235 * e - 234) / 19)
                      , r = 12084 + 13753 * t
                      , n = 29 * t + Math.floor(r / 25920);
                    return o(3 * (n + 1), 7) < 3 && n++,
                    n
                },
                _delay2: function(e) {
                    var t = this._delay1(e - 1)
                      , r = this._delay1(e);
                    return this._delay1(e + 1) - r == 356 ? 2 : r - t == 382 ? 1 : 0
                },
                fromJD: function(e) {
                    e = Math.floor(e) + .5;
                    for (var t = Math.floor(98496 * (e - this.jdEpoch) / 35975351) - 1; e >= this.toJD(-1 === t ? 1 : t + 1, 7, 1); )
                        t++;
                    for (var r = e < this.toJD(t, 1, 1) ? 7 : 1; e > this.toJD(t, r, this.daysInMonth(t, r)); )
                        r++;
                    var n = e - this.toJD(t, r, 1) + 1;
                    return this.newDate(t, r, n)
                }
            }),
            n.calendars.hebrew = i
        }
        , {
            "../main": 215,
            "object-assign": 159
        }],
        206: [function(e, t, r) {
            var n = e("../main")
              , a = e("object-assign");
            function i(e) {
                this.local = this.regionalOptions[e || ""] || this.regionalOptions[""]
            }
            i.prototype = new n.baseCalendar,
            a(i.prototype, {
                name: "Islamic",
                jdEpoch: 1948439.5,
                daysPerMonth: [30, 29, 30, 29, 30, 29, 30, 29, 30, 29, 30, 29],
                hasYearZero: !1,
                minMonth: 1,
                firstMonth: 1,
                minDay: 1,
                regionalOptions: {
                    "": {
                        name: "Islamic",
                        epochs: ["BH", "AH"],
                        monthNames: ["Muharram", "Safar", "Rabi' al-awwal", "Rabi' al-thani", "Jumada al-awwal", "Jumada al-thani", "Rajab", "Sha'aban", "Ramadan", "Shawwal", "Dhu al-Qi'dah", "Dhu al-Hijjah"],
                        monthNamesShort: ["Muh", "Saf", "Rab1", "Rab2", "Jum1", "Jum2", "Raj", "Sha'", "Ram", "Shaw", "DhuQ", "DhuH"],
                        dayNames: ["Yawm al-ahad", "Yawm al-ithnayn", "Yawm ath-thulaathaa'", "Yawm al-arbi'aa'", "Yawm al-kham\u012bs", "Yawm al-jum'a", "Yawm as-sabt"],
                        dayNamesShort: ["Aha", "Ith", "Thu", "Arb", "Kha", "Jum", "Sab"],
                        dayNamesMin: ["Ah", "It", "Th", "Ar", "Kh", "Ju", "Sa"],
                        digits: null,
                        dateFormat: "yyyy/mm/dd",
                        firstDay: 6,
                        isRTL: !1
                    }
                },
                leapYear: function(e) {
                    return (11 * this._validate(e, this.minMonth, this.minDay, n.local.invalidYear).year() + 14) % 30 < 11
                },
                weekOfYear: function(e, t, r) {
                    var n = this.newDate(e, t, r);
                    return n.add(-n.dayOfWeek(), "d"),
                    Math.floor((n.dayOfYear() - 1) / 7) + 1
                },
                daysInYear: function(e) {
                    return this.leapYear(e) ? 355 : 354
                },
                daysInMonth: function(e, t) {
                    var r = this._validate(e, t, this.minDay, n.local.invalidMonth);
                    return this.daysPerMonth[r.month() - 1] + (12 === r.month() && this.leapYear(r.year()) ? 1 : 0)
                },
                weekDay: function(e, t, r) {
                    return 5 !== this.dayOfWeek(e, t, r)
                },
                toJD: function(e, t, r) {
                    var a = this._validate(e, t, r, n.local.invalidDate);
                    return e = a.year(),
                    t = a.month(),
                    e = e <= 0 ? e + 1 : e,
                    (r = a.day()) + Math.ceil(29.5 * (t - 1)) + 354 * (e - 1) + Math.floor((3 + 11 * e) / 30) + this.jdEpoch - 1
                },
                fromJD: function(e) {
                    e = Math.floor(e) + .5;
                    var t = Math.floor((30 * (e - this.jdEpoch) + 10646) / 10631);
                    t = t <= 0 ? t - 1 : t;
                    var r = Math.min(12, Math.ceil((e - 29 - this.toJD(t, 1, 1)) / 29.5) + 1)
                      , n = e - this.toJD(t, r, 1) + 1;
                    return this.newDate(t, r, n)
                }
            }),
            n.calendars.islamic = i
        }
        , {
            "../main": 215,
            "object-assign": 159
        }],
        207: [function(e, t, r) {
            var n = e("../main")
              , a = e("object-assign");
            function i(e) {
                this.local = this.regionalOptions[e || ""] || this.regionalOptions[""]
            }
            i.prototype = new n.baseCalendar,
            a(i.prototype, {
                name: "Julian",
                jdEpoch: 1721423.5,
                daysPerMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
                hasYearZero: !1,
                minMonth: 1,
                firstMonth: 1,
                minDay: 1,
                regionalOptions: {
                    "": {
                        name: "Julian",
                        epochs: ["BC", "AD"],
                        monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                        monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                        dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                        dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                        dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                        digits: null,
                        dateFormat: "mm/dd/yyyy",
                        firstDay: 0,
                        isRTL: !1
                    }
                },
                leapYear: function(e) {
                    var t = this._validate(e, this.minMonth, this.minDay, n.local.invalidYear);
                    return (e = t.year() < 0 ? t.year() + 1 : t.year()) % 4 == 0
                },
                weekOfYear: function(e, t, r) {
                    var n = this.newDate(e, t, r);
                    return n.add(4 - (n.dayOfWeek() || 7), "d"),
                    Math.floor((n.dayOfYear() - 1) / 7) + 1
                },
                daysInMonth: function(e, t) {
                    var r = this._validate(e, t, this.minDay, n.local.invalidMonth);
                    return this.daysPerMonth[r.month() - 1] + (2 === r.month() && this.leapYear(r.year()) ? 1 : 0)
                },
                weekDay: function(e, t, r) {
                    return (this.dayOfWeek(e, t, r) || 7) < 6
                },
                toJD: function(e, t, r) {
                    var a = this._validate(e, t, r, n.local.invalidDate);
                    return e = a.year(),
                    t = a.month(),
                    r = a.day(),
                    e < 0 && e++,
                    t <= 2 && (e--,
                    t += 12),
                    Math.floor(365.25 * (e + 4716)) + Math.floor(30.6001 * (t + 1)) + r - 1524.5
                },
                fromJD: function(e) {
                    var t = Math.floor(e + .5) + 1524
                      , r = Math.floor((t - 122.1) / 365.25)
                      , n = Math.floor(365.25 * r)
                      , a = Math.floor((t - n) / 30.6001)
                      , i = a - Math.floor(a < 14 ? 1 : 13)
                      , o = r - Math.floor(i > 2 ? 4716 : 4715)
                      , s = t - n - Math.floor(30.6001 * a);
                    return o <= 0 && o--,
                    this.newDate(o, i, s)
                }
            }),
            n.calendars.julian = i
        }
        , {
            "../main": 215,
            "object-assign": 159
        }],
        208: [function(e, t, r) {
            var n = e("../main")
              , a = e("object-assign");
            function i(e) {
                this.local = this.regionalOptions[e || ""] || this.regionalOptions[""]
            }
            function o(e, t) {
                return e - t * Math.floor(e / t)
            }
            function s(e, t) {
                return o(e - 1, t) + 1
            }
            i.prototype = new n.baseCalendar,
            a(i.prototype, {
                name: "Mayan",
                jdEpoch: 584282.5,
                hasYearZero: !0,
                minMonth: 0,
                firstMonth: 0,
                minDay: 0,
                regionalOptions: {
                    "": {
                        name: "Mayan",
                        epochs: ["", ""],
                        monthNames: ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17"],
                        monthNamesShort: ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17"],
                        dayNames: ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19"],
                        dayNamesShort: ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19"],
                        dayNamesMin: ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19"],
                        digits: null,
                        dateFormat: "YYYY.m.d",
                        firstDay: 0,
                        isRTL: !1,
                        haabMonths: ["Pop", "Uo", "Zip", "Zotz", "Tzec", "Xul", "Yaxkin", "Mol", "Chen", "Yax", "Zac", "Ceh", "Mac", "Kankin", "Muan", "Pax", "Kayab", "Cumku", "Uayeb"],
                        tzolkinMonths: ["Imix", "Ik", "Akbal", "Kan", "Chicchan", "Cimi", "Manik", "Lamat", "Muluc", "Oc", "Chuen", "Eb", "Ben", "Ix", "Men", "Cib", "Caban", "Etznab", "Cauac", "Ahau"]
                    }
                },
                leapYear: function(e) {
                    return this._validate(e, this.minMonth, this.minDay, n.local.invalidYear),
                    !1
                },
                formatYear: function(e) {
                    e = this._validate(e, this.minMonth, this.minDay, n.local.invalidYear).year();
                    var t = Math.floor(e / 400);
                    return e %= 400,
                    e += e < 0 ? 400 : 0,
                    t + "." + Math.floor(e / 20) + "." + e % 20
                },
                forYear: function(e) {
                    if ((e = e.split(".")).length < 3)
                        throw "Invalid Mayan year";
                    for (var t = 0, r = 0; r < e.length; r++) {
                        var n = parseInt(e[r], 10);
                        if (Math.abs(n) > 19 || r > 0 && n < 0)
                            throw "Invalid Mayan year";
                        t = 20 * t + n
                    }
                    return t
                },
                monthsInYear: function(e) {
                    return this._validate(e, this.minMonth, this.minDay, n.local.invalidYear),
                    18
                },
                weekOfYear: function(e, t, r) {
                    return this._validate(e, t, r, n.local.invalidDate),
                    0
                },
                daysInYear: function(e) {
                    return this._validate(e, this.minMonth, this.minDay, n.local.invalidYear),
                    360
                },
                daysInMonth: function(e, t) {
                    return this._validate(e, t, this.minDay, n.local.invalidMonth),
                    20
                },
                daysInWeek: function() {
                    return 5
                },
                dayOfWeek: function(e, t, r) {
                    return this._validate(e, t, r, n.local.invalidDate).day()
                },
                weekDay: function(e, t, r) {
                    return this._validate(e, t, r, n.local.invalidDate),
                    !0
                },
                extraInfo: function(e, t, r) {
                    var a = this._validate(e, t, r, n.local.invalidDate).toJD()
                      , i = this._toHaab(a)
                      , o = this._toTzolkin(a);
                    return {
                        haabMonthName: this.local.haabMonths[i[0] - 1],
                        haabMonth: i[0],
                        haabDay: i[1],
                        tzolkinDayName: this.local.tzolkinMonths[o[0] - 1],
                        tzolkinDay: o[0],
                        tzolkinTrecena: o[1]
                    }
                },
                _toHaab: function(e) {
                    var t = o((e -= this.jdEpoch) + 8 + 340, 365);
                    return [Math.floor(t / 20) + 1, o(t, 20)]
                },
                _toTzolkin: function(e) {
                    return [s((e -= this.jdEpoch) + 20, 20), s(e + 4, 13)]
                },
                toJD: function(e, t, r) {
                    var a = this._validate(e, t, r, n.local.invalidDate);
                    return a.day() + 20 * a.month() + 360 * a.year() + this.jdEpoch
                },
                fromJD: function(e) {
                    e = Math.floor(e) + .5 - this.jdEpoch;
                    var t = Math.floor(e / 360);
                    e %= 360,
                    e += e < 0 ? 360 : 0;
                    var r = Math.floor(e / 20)
                      , n = e % 20;
                    return this.newDate(t, r, n)
                }
            }),
            n.calendars.mayan = i
        }
        , {
            "../main": 215,
            "object-assign": 159
        }],
        209: [function(e, t, r) {
            var n = e("../main")
              , a = e("object-assign");
            function i(e) {
                this.local = this.regionalOptions[e || ""] || this.regionalOptions[""]
            }
            i.prototype = new n.baseCalendar;
            var o = n.instance("gregorian");
            a(i.prototype, {
                name: "Nanakshahi",
                jdEpoch: 2257673.5,
                daysPerMonth: [31, 31, 31, 31, 31, 30, 30, 30, 30, 30, 30, 30],
                hasYearZero: !1,
                minMonth: 1,
                firstMonth: 1,
                minDay: 1,
                regionalOptions: {
                    "": {
                        name: "Nanakshahi",
                        epochs: ["BN", "AN"],
                        monthNames: ["Chet", "Vaisakh", "Jeth", "Harh", "Sawan", "Bhadon", "Assu", "Katak", "Maghar", "Poh", "Magh", "Phagun"],
                        monthNamesShort: ["Che", "Vai", "Jet", "Har", "Saw", "Bha", "Ass", "Kat", "Mgr", "Poh", "Mgh", "Pha"],
                        dayNames: ["Somvaar", "Mangalvar", "Budhvaar", "Veervaar", "Shukarvaar", "Sanicharvaar", "Etvaar"],
                        dayNamesShort: ["Som", "Mangal", "Budh", "Veer", "Shukar", "Sanichar", "Et"],
                        dayNamesMin: ["So", "Ma", "Bu", "Ve", "Sh", "Sa", "Et"],
                        digits: null,
                        dateFormat: "dd-mm-yyyy",
                        firstDay: 0,
                        isRTL: !1
                    }
                },
                leapYear: function(e) {
                    var t = this._validate(e, this.minMonth, this.minDay, n.local.invalidYear || n.regionalOptions[""].invalidYear);
                    return o.leapYear(t.year() + (t.year() < 1 ? 1 : 0) + 1469)
                },
                weekOfYear: function(e, t, r) {
                    var n = this.newDate(e, t, r);
                    return n.add(1 - (n.dayOfWeek() || 7), "d"),
                    Math.floor((n.dayOfYear() - 1) / 7) + 1
                },
                daysInMonth: function(e, t) {
                    var r = this._validate(e, t, this.minDay, n.local.invalidMonth);
                    return this.daysPerMonth[r.month() - 1] + (12 === r.month() && this.leapYear(r.year()) ? 1 : 0)
                },
                weekDay: function(e, t, r) {
                    return (this.dayOfWeek(e, t, r) || 7) < 6
                },
                toJD: function(e, t, r) {
                    var a = this._validate(e, t, r, n.local.invalidMonth);
                    (e = a.year()) < 0 && e++;
                    for (var i = a.day(), s = 1; s < a.month(); s++)
                        i += this.daysPerMonth[s - 1];
                    return i + o.toJD(e + 1468, 3, 13)
                },
                fromJD: function(e) {
                    e = Math.floor(e + .5);
                    for (var t = Math.floor((e - (this.jdEpoch - 1)) / 366); e >= this.toJD(t + 1, 1, 1); )
                        t++;
                    for (var r = e - Math.floor(this.toJD(t, 1, 1) + .5) + 1, n = 1; r > this.daysInMonth(t, n); )
                        r -= this.daysInMonth(t, n),
                        n++;
                    return this.newDate(t, n, r)
                }
            }),
            n.calendars.nanakshahi = i
        }
        , {
            "../main": 215,
            "object-assign": 159
        }],
        210: [function(e, t, r) {
            var n = e("../main")
              , a = e("object-assign");
            function i(e) {
                this.local = this.regionalOptions[e || ""] || this.regionalOptions[""]
            }
            i.prototype = new n.baseCalendar,
            a(i.prototype, {
                name: "Nepali",
                jdEpoch: 1700709.5,
                daysPerMonth: [31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],
                hasYearZero: !1,
                minMonth: 1,
                firstMonth: 1,
                minDay: 1,
                daysPerYear: 365,
                regionalOptions: {
                    "": {
                        name: "Nepali",
                        epochs: ["BBS", "ABS"],
                        monthNames: ["Baisakh", "Jestha", "Ashadh", "Shrawan", "Bhadra", "Ashwin", "Kartik", "Mangsir", "Paush", "Mangh", "Falgun", "Chaitra"],
                        monthNamesShort: ["Bai", "Je", "As", "Shra", "Bha", "Ash", "Kar", "Mang", "Pau", "Ma", "Fal", "Chai"],
                        dayNames: ["Aaitabaar", "Sombaar", "Manglbaar", "Budhabaar", "Bihibaar", "Shukrabaar", "Shanibaar"],
                        dayNamesShort: ["Aaita", "Som", "Mangl", "Budha", "Bihi", "Shukra", "Shani"],
                        dayNamesMin: ["Aai", "So", "Man", "Bu", "Bi", "Shu", "Sha"],
                        digits: null,
                        dateFormat: "dd/mm/yyyy",
                        firstDay: 1,
                        isRTL: !1
                    }
                },
                leapYear: function(e) {
                    return this.daysInYear(e) !== this.daysPerYear
                },
                weekOfYear: function(e, t, r) {
                    var n = this.newDate(e, t, r);
                    return n.add(-n.dayOfWeek(), "d"),
                    Math.floor((n.dayOfYear() - 1) / 7) + 1
                },
                daysInYear: function(e) {
                    if (e = this._validate(e, this.minMonth, this.minDay, n.local.invalidYear).year(),
                    void 0 === this.NEPALI_CALENDAR_DATA[e])
                        return this.daysPerYear;
                    for (var t = 0, r = this.minMonth; r <= 12; r++)
                        t += this.NEPALI_CALENDAR_DATA[e][r];
                    return t
                },
                daysInMonth: function(e, t) {
                    return e.year && (t = e.month(),
                    e = e.year()),
                    this._validate(e, t, this.minDay, n.local.invalidMonth),
                    void 0 === this.NEPALI_CALENDAR_DATA[e] ? this.daysPerMonth[t - 1] : this.NEPALI_CALENDAR_DATA[e][t]
                },
                weekDay: function(e, t, r) {
                    return 6 !== this.dayOfWeek(e, t, r)
                },
                toJD: function(e, t, r) {
                    var a = this._validate(e, t, r, n.local.invalidDate);
                    e = a.year(),
                    t = a.month(),
                    r = a.day();
                    var i = n.instance()
                      , o = 0
                      , s = t
                      , l = e;
                    this._createMissingCalendarData(e);
                    var c = e - (s > 9 || 9 === s && r >= this.NEPALI_CALENDAR_DATA[l][0] ? 56 : 57);
                    for (9 !== t && (o = r,
                    s--); 9 !== s; )
                        s <= 0 && (s = 12,
                        l--),
                        o += this.NEPALI_CALENDAR_DATA[l][s],
                        s--;
                    return 9 === t ? (o += r - this.NEPALI_CALENDAR_DATA[l][0]) < 0 && (o += i.daysInYear(c)) : o += this.NEPALI_CALENDAR_DATA[l][9] - this.NEPALI_CALENDAR_DATA[l][0],
                    i.newDate(c, 1, 1).add(o, "d").toJD()
                },
                fromJD: function(e) {
                    var t = n.instance().fromJD(e)
                      , r = t.year()
                      , a = t.dayOfYear()
                      , i = r + 56;
                    this._createMissingCalendarData(i);
                    for (var o = 9, s = this.NEPALI_CALENDAR_DATA[i][0], l = this.NEPALI_CALENDAR_DATA[i][o] - s + 1; a > l; )
                        ++o > 12 && (o = 1,
                        i++),
                        l += this.NEPALI_CALENDAR_DATA[i][o];
                    var c = this.NEPALI_CALENDAR_DATA[i][o] - (l - a);
                    return this.newDate(i, o, c)
                },
                _createMissingCalendarData: function(e) {
                    var t = this.daysPerMonth.slice(0);
                    t.unshift(17);
                    for (var r = e - 1; r < e + 2; r++)
                        void 0 === this.NEPALI_CALENDAR_DATA[r] && (this.NEPALI_CALENDAR_DATA[r] = t)
                },
                NEPALI_CALENDAR_DATA: {
                    1970: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    1971: [18, 31, 31, 32, 31, 32, 30, 30, 29, 30, 29, 30, 30],
                    1972: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30],
                    1973: [19, 30, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],
                    1974: [19, 31, 31, 32, 30, 31, 31, 30, 29, 30, 29, 30, 30],
                    1975: [18, 31, 31, 32, 32, 30, 31, 30, 29, 30, 29, 30, 30],
                    1976: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],
                    1977: [18, 31, 32, 31, 32, 31, 31, 29, 30, 29, 30, 29, 31],
                    1978: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    1979: [18, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],
                    1980: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],
                    1981: [18, 31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30],
                    1982: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    1983: [18, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],
                    1984: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],
                    1985: [18, 31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30],
                    1986: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    1987: [18, 31, 32, 31, 32, 31, 30, 30, 29, 30, 29, 30, 30],
                    1988: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],
                    1989: [18, 31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30],
                    1990: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    1991: [18, 31, 32, 31, 32, 31, 30, 30, 29, 30, 29, 30, 30],
                    1992: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],
                    1993: [18, 31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30],
                    1994: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    1995: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30],
                    1996: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],
                    1997: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    1998: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    1999: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],
                    2e3: [17, 30, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],
                    2001: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    2002: [18, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],
                    2003: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],
                    2004: [17, 30, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],
                    2005: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    2006: [18, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],
                    2007: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],
                    2008: [17, 31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 29, 31],
                    2009: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    2010: [18, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],
                    2011: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],
                    2012: [17, 31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30],
                    2013: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    2014: [18, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],
                    2015: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],
                    2016: [17, 31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30],
                    2017: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    2018: [18, 31, 32, 31, 32, 31, 30, 30, 29, 30, 29, 30, 30],
                    2019: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],
                    2020: [17, 31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30],
                    2021: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    2022: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30],
                    2023: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],
                    2024: [17, 31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30],
                    2025: [18, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    2026: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],
                    2027: [17, 30, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],
                    2028: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    2029: [18, 31, 31, 32, 31, 32, 30, 30, 29, 30, 29, 30, 30],
                    2030: [17, 31, 32, 31, 32, 31, 30, 30, 30, 30, 30, 30, 31],
                    2031: [17, 31, 32, 31, 32, 31, 31, 31, 31, 31, 31, 31, 31],
                    2032: [17, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32],
                    2033: [18, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],
                    2034: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],
                    2035: [17, 30, 32, 31, 32, 31, 31, 29, 30, 30, 29, 29, 31],
                    2036: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    2037: [18, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],
                    2038: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],
                    2039: [17, 31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30],
                    2040: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    2041: [18, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],
                    2042: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],
                    2043: [17, 31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30],
                    2044: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    2045: [18, 31, 32, 31, 32, 31, 30, 30, 29, 30, 29, 30, 30],
                    2046: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],
                    2047: [17, 31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30],
                    2048: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    2049: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30],
                    2050: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],
                    2051: [17, 31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30],
                    2052: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    2053: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30],
                    2054: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],
                    2055: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 30, 29, 30],
                    2056: [17, 31, 31, 32, 31, 32, 30, 30, 29, 30, 29, 30, 30],
                    2057: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],
                    2058: [17, 30, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],
                    2059: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    2060: [17, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],
                    2061: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],
                    2062: [17, 30, 32, 31, 32, 31, 31, 29, 30, 29, 30, 29, 31],
                    2063: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    2064: [17, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],
                    2065: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],
                    2066: [17, 31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 29, 31],
                    2067: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    2068: [17, 31, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],
                    2069: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],
                    2070: [17, 31, 31, 31, 32, 31, 31, 29, 30, 30, 29, 30, 30],
                    2071: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    2072: [17, 31, 32, 31, 32, 31, 30, 30, 29, 30, 29, 30, 30],
                    2073: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 31],
                    2074: [17, 31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30],
                    2075: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    2076: [16, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30],
                    2077: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],
                    2078: [17, 31, 31, 31, 32, 31, 31, 30, 29, 30, 29, 30, 30],
                    2079: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
                    2080: [16, 31, 32, 31, 32, 31, 30, 30, 30, 29, 29, 30, 30],
                    2081: [17, 31, 31, 32, 32, 31, 30, 30, 30, 29, 30, 30, 30],
                    2082: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 30, 30],
                    2083: [17, 31, 31, 32, 31, 31, 30, 30, 30, 29, 30, 30, 30],
                    2084: [17, 31, 31, 32, 31, 31, 30, 30, 30, 29, 30, 30, 30],
                    2085: [17, 31, 32, 31, 32, 31, 31, 30, 30, 29, 30, 30, 30],
                    2086: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 30, 30],
                    2087: [16, 31, 31, 32, 31, 31, 31, 30, 30, 29, 30, 30, 30],
                    2088: [16, 30, 31, 32, 32, 30, 31, 30, 30, 29, 30, 30, 30],
                    2089: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 30, 30],
                    2090: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 30, 30],
                    2091: [16, 31, 31, 32, 31, 31, 31, 30, 30, 29, 30, 30, 30],
                    2092: [16, 31, 31, 32, 32, 31, 30, 30, 30, 29, 30, 30, 30],
                    2093: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 30, 30],
                    2094: [17, 31, 31, 32, 31, 31, 30, 30, 30, 29, 30, 30, 30],
                    2095: [17, 31, 31, 32, 31, 31, 31, 30, 29, 30, 30, 30, 30],
                    2096: [17, 30, 31, 32, 32, 31, 30, 30, 29, 30, 29, 30, 30],
                    2097: [17, 31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 30, 30],
                    2098: [17, 31, 31, 32, 31, 31, 31, 29, 30, 29, 30, 30, 31],
                    2099: [17, 31, 31, 32, 31, 31, 31, 30, 29, 29, 30, 30, 30],
                    2100: [17, 31, 32, 31, 32, 30, 31, 30, 29, 30, 29, 30, 30]
                }
            }),
            n.calendars.nepali = i
        }
        , {
            "../main": 215,
            "object-assign": 159
        }],
        211: [function(e, t, r) {
            var n = e("../main")
              , a = e("object-assign");
            function i(e) {
                this.local = this.regionalOptions[e || ""] || this.regionalOptions[""]
            }
            function o(e, t) {
                return e - t * Math.floor(e / t)
            }
            i.prototype = new n.baseCalendar,
            a(i.prototype, {
                name: "Persian",
                jdEpoch: 1948320.5,
                daysPerMonth: [31, 31, 31, 31, 31, 31, 30, 30, 30, 30, 30, 29],
                hasYearZero: !1,
                minMonth: 1,
                firstMonth: 1,
                minDay: 1,
                regionalOptions: {
                    "": {
                        name: "Persian",
                        epochs: ["BP", "AP"],
                        monthNames: ["Farvardin", "Ordibehesht", "Khordad", "Tir", "Mordad", "Shahrivar", "Mehr", "Aban", "Azar", "Day", "Bahman", "Esfand"],
                        monthNamesShort: ["Far", "Ord", "Kho", "Tir", "Mor", "Sha", "Meh", "Aba", "Aza", "Day", "Bah", "Esf"],
                        dayNames: ["Yekshambe", "Doshambe", "Seshambe", "Ch\xe6harshambe", "Panjshambe", "Jom'e", "Shambe"],
                        dayNamesShort: ["Yek", "Do", "Se", "Ch\xe6", "Panj", "Jom", "Sha"],
                        dayNamesMin: ["Ye", "Do", "Se", "Ch", "Pa", "Jo", "Sh"],
                        digits: null,
                        dateFormat: "yyyy/mm/dd",
                        firstDay: 6,
                        isRTL: !1
                    }
                },
                leapYear: function(e) {
                    var t = this._validate(e, this.minMonth, this.minDay, n.local.invalidYear);
                    return 682 * ((t.year() - (t.year() > 0 ? 474 : 473)) % 2820 + 474 + 38) % 2816 < 682
                },
                weekOfYear: function(e, t, r) {
                    var n = this.newDate(e, t, r);
                    return n.add(-(n.dayOfWeek() + 1) % 7, "d"),
                    Math.floor((n.dayOfYear() - 1) / 7) + 1
                },
                daysInMonth: function(e, t) {
                    var r = this._validate(e, t, this.minDay, n.local.invalidMonth);
                    return this.daysPerMonth[r.month() - 1] + (12 === r.month() && this.leapYear(r.year()) ? 1 : 0)
                },
                weekDay: function(e, t, r) {
                    return 5 !== this.dayOfWeek(e, t, r)
                },
                toJD: function(e, t, r) {
                    var a = this._validate(e, t, r, n.local.invalidDate);
                    e = a.year(),
                    t = a.month(),
                    r = a.day();
                    var i = e - (e >= 0 ? 474 : 473)
                      , s = 474 + o(i, 2820);
                    return r + (t <= 7 ? 31 * (t - 1) : 30 * (t - 1) + 6) + Math.floor((682 * s - 110) / 2816) + 365 * (s - 1) + 1029983 * Math.floor(i / 2820) + this.jdEpoch - 1
                },
                fromJD: function(e) {
                    var t = (e = Math.floor(e) + .5) - this.toJD(475, 1, 1)
                      , r = Math.floor(t / 1029983)
                      , n = o(t, 1029983)
                      , a = 2820;
                    if (1029982 !== n) {
                        var i = Math.floor(n / 366)
                          , s = o(n, 366);
                        a = Math.floor((2134 * i + 2816 * s + 2815) / 1028522) + i + 1
                    }
                    var l = a + 2820 * r + 474;
                    l = l <= 0 ? l - 1 : l;
                    var c = e - this.toJD(l, 1, 1) + 1
                      , u = c <= 186 ? Math.ceil(c / 31) : Math.ceil((c - 6) / 30)
                      , f = e - this.toJD(l, u, 1) + 1;
                    return this.newDate(l, u, f)
                }
            }),
            n.calendars.persian = i,
            n.calendars.jalali = i
        }
        , {
            "../main": 215,
            "object-assign": 159
        }],
        212: [function(e, t, r) {
            var n = e("../main")
              , a = e("object-assign")
              , i = n.instance();
            function o(e) {
                this.local = this.regionalOptions[e || ""] || this.regionalOptions[""]
            }
            o.prototype = new n.baseCalendar,
            a(o.prototype, {
                name: "Taiwan",
                jdEpoch: 2419402.5,
                yearsOffset: 1911,
                daysPerMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
                hasYearZero: !1,
                minMonth: 1,
                firstMonth: 1,
                minDay: 1,
                regionalOptions: {
                    "": {
                        name: "Taiwan",
                        epochs: ["BROC", "ROC"],
                        monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                        monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                        dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                        dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                        dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                        digits: null,
                        dateFormat: "yyyy/mm/dd",
                        firstDay: 1,
                        isRTL: !1
                    }
                },
                leapYear: function(e) {
                    var t = this._validate(e, this.minMonth, this.minDay, n.local.invalidYear);
                    e = this._t2gYear(t.year());
                    return i.leapYear(e)
                },
                weekOfYear: function(e, t, r) {
                    var a = this._validate(e, this.minMonth, this.minDay, n.local.invalidYear);
                    e = this._t2gYear(a.year());
                    return i.weekOfYear(e, a.month(), a.day())
                },
                daysInMonth: function(e, t) {
                    var r = this._validate(e, t, this.minDay, n.local.invalidMonth);
                    return this.daysPerMonth[r.month() - 1] + (2 === r.month() && this.leapYear(r.year()) ? 1 : 0)
                },
                weekDay: function(e, t, r) {
                    return (this.dayOfWeek(e, t, r) || 7) < 6
                },
                toJD: function(e, t, r) {
                    var a = this._validate(e, t, r, n.local.invalidDate);
                    e = this._t2gYear(a.year());
                    return i.toJD(e, a.month(), a.day())
                },
                fromJD: function(e) {
                    var t = i.fromJD(e)
                      , r = this._g2tYear(t.year());
                    return this.newDate(r, t.month(), t.day())
                },
                _t2gYear: function(e) {
                    return e + this.yearsOffset + (e >= -this.yearsOffset && e <= -1 ? 1 : 0)
                },
                _g2tYear: function(e) {
                    return e - this.yearsOffset - (e >= 1 && e <= this.yearsOffset ? 1 : 0)
                }
            }),
            n.calendars.taiwan = o
        }
        , {
            "../main": 215,
            "object-assign": 159
        }],
        213: [function(e, t, r) {
            var n = e("../main")
              , a = e("object-assign")
              , i = n.instance();
            function o(e) {
                this.local = this.regionalOptions[e || ""] || this.regionalOptions[""]
            }
            o.prototype = new n.baseCalendar,
            a(o.prototype, {
                name: "Thai",
                jdEpoch: 1523098.5,
                yearsOffset: 543,
                daysPerMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
                hasYearZero: !1,
                minMonth: 1,
                firstMonth: 1,
                minDay: 1,
                regionalOptions: {
                    "": {
                        name: "Thai",
                        epochs: ["BBE", "BE"],
                        monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                        monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                        dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                        dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                        dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                        digits: null,
                        dateFormat: "dd/mm/yyyy",
                        firstDay: 0,
                        isRTL: !1
                    }
                },
                leapYear: function(e) {
                    var t = this._validate(e, this.minMonth, this.minDay, n.local.invalidYear);
                    e = this._t2gYear(t.year());
                    return i.leapYear(e)
                },
                weekOfYear: function(e, t, r) {
                    var a = this._validate(e, this.minMonth, this.minDay, n.local.invalidYear);
                    e = this._t2gYear(a.year());
                    return i.weekOfYear(e, a.month(), a.day())
                },
                daysInMonth: function(e, t) {
                    var r = this._validate(e, t, this.minDay, n.local.invalidMonth);
                    return this.daysPerMonth[r.month() - 1] + (2 === r.month() && this.leapYear(r.year()) ? 1 : 0)
                },
                weekDay: function(e, t, r) {
                    return (this.dayOfWeek(e, t, r) || 7) < 6
                },
                toJD: function(e, t, r) {
                    var a = this._validate(e, t, r, n.local.invalidDate);
                    e = this._t2gYear(a.year());
                    return i.toJD(e, a.month(), a.day())
                },
                fromJD: function(e) {
                    var t = i.fromJD(e)
                      , r = this._g2tYear(t.year());
                    return this.newDate(r, t.month(), t.day())
                },
                _t2gYear: function(e) {
                    return e - this.yearsOffset - (e >= 1 && e <= this.yearsOffset ? 1 : 0)
                },
                _g2tYear: function(e) {
                    return e + this.yearsOffset + (e >= -this.yearsOffset && e <= -1 ? 1 : 0)
                }
            }),
            n.calendars.thai = o
        }
        , {
            "../main": 215,
            "object-assign": 159
        }],
        214: [function(e, t, r) {
            var n = e("../main")
              , a = e("object-assign");
            function i(e) {
                this.local = this.regionalOptions[e || ""] || this.regionalOptions[""]
            }
            i.prototype = new n.baseCalendar,
            a(i.prototype, {
                name: "UmmAlQura",
                hasYearZero: !1,
                minMonth: 1,
                firstMonth: 1,
                minDay: 1,
                regionalOptions: {
                    "": {
                        name: "Umm al-Qura",
                        epochs: ["BH", "AH"],
                        monthNames: ["Al-Muharram", "Safar", "Rabi' al-awwal", "Rabi' Al-Thani", "Jumada Al-Awwal", "Jumada Al-Thani", "Rajab", "Sha'aban", "Ramadan", "Shawwal", "Dhu al-Qi'dah", "Dhu al-Hijjah"],
                        monthNamesShort: ["Muh", "Saf", "Rab1", "Rab2", "Jum1", "Jum2", "Raj", "Sha'", "Ram", "Shaw", "DhuQ", "DhuH"],
                        dayNames: ["Yawm al-Ahad", "Yawm al-Ithnain", "Yawm al-Thal\u0101th\u0101\u2019", "Yawm al-Arba\u2018\u0101\u2019", "Yawm al-Kham\u012bs", "Yawm al-Jum\u2018a", "Yawm al-Sabt"],
                        dayNamesMin: ["Ah", "Ith", "Th", "Ar", "Kh", "Ju", "Sa"],
                        digits: null,
                        dateFormat: "yyyy/mm/dd",
                        firstDay: 6,
                        isRTL: !0
                    }
                },
                leapYear: function(e) {
                    var t = this._validate(e, this.minMonth, this.minDay, n.local.invalidYear);
                    return 355 === this.daysInYear(t.year())
                },
                weekOfYear: function(e, t, r) {
                    var n = this.newDate(e, t, r);
                    return n.add(-n.dayOfWeek(), "d"),
                    Math.floor((n.dayOfYear() - 1) / 7) + 1
                },
                daysInYear: function(e) {
                    for (var t = 0, r = 1; r <= 12; r++)
                        t += this.daysInMonth(e, r);
                    return t
                },
                daysInMonth: function(e, t) {
                    for (var r = this._validate(e, t, this.minDay, n.local.invalidMonth).toJD() - 24e5 + .5, a = 0, i = 0; i < o.length; i++) {
                        if (o[i] > r)
                            return o[a] - o[a - 1];
                        a++
                    }
                    return 30
                },
                weekDay: function(e, t, r) {
                    return 5 !== this.dayOfWeek(e, t, r)
                },
                toJD: function(e, t, r) {
                    var a = this._validate(e, t, r, n.local.invalidDate)
                      , i = 12 * (a.year() - 1) + a.month() - 15292;
                    return a.day() + o[i - 1] - 1 + 24e5 - .5
                },
                fromJD: function(e) {
                    for (var t = e - 24e5 + .5, r = 0, n = 0; n < o.length && !(o[n] > t); n++)
                        r++;
                    var a = r + 15292
                      , i = Math.floor((a - 1) / 12)
                      , s = i + 1
                      , l = a - 12 * i
                      , c = t - o[r - 1] + 1;
                    return this.newDate(s, l, c)
                },
                isValid: function(e, t, r) {
                    var a = n.baseCalendar.prototype.isValid.apply(this, arguments);
                    return a && (a = (e = null != e.year ? e.year : e) >= 1276 && e <= 1500),
                    a
                },
                _validate: function(e, t, r, a) {
                    var i = n.baseCalendar.prototype._validate.apply(this, arguments);
                    if (i.year < 1276 || i.year > 1500)
                        throw a.replace(/\{0\}/, this.local.name);
                    return i
                }
            }),
            n.calendars.ummalqura = i;
            var o = [20, 50, 79, 109, 138, 168, 197, 227, 256, 286, 315, 345, 374, 404, 433, 463, 492, 522, 551, 581, 611, 641, 670, 700, 729, 759, 788, 818, 847, 877, 906, 936, 965, 995, 1024, 1054, 1083, 1113, 1142, 1172, 1201, 1231, 1260, 1290, 1320, 1350, 1379, 1409, 1438, 1468, 1497, 1527, 1556, 1586, 1615, 1645, 1674, 1704, 1733, 1763, 1792, 1822, 1851, 1881, 1910, 1940, 1969, 1999, 2028, 2058, 2087, 2117, 2146, 2176, 2205, 2235, 2264, 2294, 2323, 2353, 2383, 2413, 2442, 2472, 2501, 2531, 2560, 2590, 2619, 2649, 2678, 2708, 2737, 2767, 2796, 2826, 2855, 2885, 2914, 2944, 2973, 3003, 3032, 3062, 3091, 3121, 3150, 3180, 3209, 3239, 3268, 3298, 3327, 3357, 3386, 3416, 3446, 3476, 3505, 3535, 3564, 3594, 3623, 3653, 3682, 3712, 3741, 3771, 3800, 3830, 3859, 3889, 3918, 3948, 3977, 4007, 4036, 4066, 4095, 4125, 4155, 4185, 4214, 4244, 4273, 4303, 4332, 4362, 4391, 4421, 4450, 4480, 4509, 4539, 4568, 4598, 4627, 4657, 4686, 4716, 4745, 4775, 4804, 4834, 4863, 4893, 4922, 4952, 4981, 5011, 5040, 5070, 5099, 5129, 5158, 5188, 5218, 5248, 5277, 5307, 5336, 5366, 5395, 5425, 5454, 5484, 5513, 5543, 5572, 5602, 5631, 5661, 5690, 5720, 5749, 5779, 5808, 5838, 5867, 5897, 5926, 5956, 5985, 6015, 6044, 6074, 6103, 6133, 6162, 6192, 6221, 6251, 6281, 6311, 6340, 6370, 6399, 6429, 6458, 6488, 6517, 6547, 6576, 6606, 6635, 6665, 6694, 6724, 6753, 6783, 6812, 6842, 6871, 6901, 6930, 6960, 6989, 7019, 7048, 7078, 7107, 7137, 7166, 7196, 7225, 7255, 7284, 7314, 7344, 7374, 7403, 7433, 7462, 7492, 7521, 7551, 7580, 7610, 7639, 7669, 7698, 7728, 7757, 7787, 7816, 7846, 7875, 7905, 7934, 7964, 7993, 8023, 8053, 8083, 8112, 8142, 8171, 8201, 8230, 8260, 8289, 8319, 8348, 8378, 8407, 8437, 8466, 8496, 8525, 8555, 8584, 8614, 8643, 8673, 8702, 8732, 8761, 8791, 8821, 8850, 8880, 8909, 8938, 8968, 8997, 9027, 9056, 9086, 9115, 9145, 9175, 9205, 9234, 9264, 9293, 9322, 9352, 9381, 9410, 9440, 9470, 9499, 9529, 9559, 9589, 9618, 9648, 9677, 9706, 9736, 9765, 9794, 9824, 9853, 9883, 9913, 9943, 9972, 10002, 10032, 10061, 10090, 10120, 10149, 10178, 10208, 10237, 10267, 10297, 10326, 10356, 10386, 10415, 10445, 10474, 10504, 10533, 10562, 10592, 10621, 10651, 10680, 10710, 10740, 10770, 10799, 10829, 10858, 10888, 10917, 10947, 10976, 11005, 11035, 11064, 11094, 11124, 11153, 11183, 11213, 11242, 11272, 11301, 11331, 11360, 11389, 11419, 11448, 11478, 11507, 11537, 11567, 11596, 11626, 11655, 11685, 11715, 11744, 11774, 11803, 11832, 11862, 11891, 11921, 11950, 11980, 12010, 12039, 12069, 12099, 12128, 12158, 12187, 12216, 12246, 12275, 12304, 12334, 12364, 12393, 12423, 12453, 12483, 12512, 12542, 12571, 12600, 12630, 12659, 12688, 12718, 12747, 12777, 12807, 12837, 12866, 12896, 12926, 12955, 12984, 13014, 13043, 13072, 13102, 13131, 13161, 13191, 13220, 13250, 13280, 13310, 13339, 13368, 13398, 13427, 13456, 13486, 13515, 13545, 13574, 13604, 13634, 13664, 13693, 13723, 13752, 13782, 13811, 13840, 13870, 13899, 13929, 13958, 13988, 14018, 14047, 14077, 14107, 14136, 14166, 14195, 14224, 14254, 14283, 14313, 14342, 14372, 14401, 14431, 14461, 14490, 14520, 14550, 14579, 14609, 14638, 14667, 14697, 14726, 14756, 14785, 14815, 14844, 14874, 14904, 14933, 14963, 14993, 15021, 15051, 15081, 15110, 15140, 15169, 15199, 15228, 15258, 15287, 15317, 15347, 15377, 15406, 15436, 15465, 15494, 15524, 15553, 15582, 15612, 15641, 15671, 15701, 15731, 15760, 15790, 15820, 15849, 15878, 15908, 15937, 15966, 15996, 16025, 16055, 16085, 16114, 16144, 16174, 16204, 16233, 16262, 16292, 16321, 16350, 16380, 16409, 16439, 16468, 16498, 16528, 16558, 16587, 16617, 16646, 16676, 16705, 16734, 16764, 16793, 16823, 16852, 16882, 16912, 16941, 16971, 17001, 17030, 17060, 17089, 17118, 17148, 17177, 17207, 17236, 17266, 17295, 17325, 17355, 17384, 17414, 17444, 17473, 17502, 17532, 17561, 17591, 17620, 17650, 17679, 17709, 17738, 17768, 17798, 17827, 17857, 17886, 17916, 17945, 17975, 18004, 18034, 18063, 18093, 18122, 18152, 18181, 18211, 18241, 18270, 18300, 18330, 18359, 18388, 18418, 18447, 18476, 18506, 18535, 18565, 18595, 18625, 18654, 18684, 18714, 18743, 18772, 18802, 18831, 18860, 18890, 18919, 18949, 18979, 19008, 19038, 19068, 19098, 19127, 19156, 19186, 19215, 19244, 19274, 19303, 19333, 19362, 19392, 19422, 19452, 19481, 19511, 19540, 19570, 19599, 19628, 19658, 19687, 19717, 19746, 19776, 19806, 19836, 19865, 19895, 19924, 19954, 19983, 20012, 20042, 20071, 20101, 20130, 20160, 20190, 20219, 20249, 20279, 20308, 20338, 20367, 20396, 20426, 20455, 20485, 20514, 20544, 20573, 20603, 20633, 20662, 20692, 20721, 20751, 20780, 20810, 20839, 20869, 20898, 20928, 20957, 20987, 21016, 21046, 21076, 21105, 21135, 21164, 21194, 21223, 21253, 21282, 21312, 21341, 21371, 21400, 21430, 21459, 21489, 21519, 21548, 21578, 21607, 21637, 21666, 21696, 21725, 21754, 21784, 21813, 21843, 21873, 21902, 21932, 21962, 21991, 22021, 22050, 22080, 22109, 22138, 22168, 22197, 22227, 22256, 22286, 22316, 22346, 22375, 22405, 22434, 22464, 22493, 22522, 22552, 22581, 22611, 22640, 22670, 22700, 22730, 22759, 22789, 22818, 22848, 22877, 22906, 22936, 22965, 22994, 23024, 23054, 23083, 23113, 23143, 23173, 23202, 23232, 23261, 23290, 23320, 23349, 23379, 23408, 23438, 23467, 23497, 23527, 23556, 23586, 23616, 23645, 23674, 23704, 23733, 23763, 23792, 23822, 23851, 23881, 23910, 23940, 23970, 23999, 24029, 24058, 24088, 24117, 24147, 24176, 24206, 24235, 24265, 24294, 24324, 24353, 24383, 24413, 24442, 24472, 24501, 24531, 24560, 24590, 24619, 24648, 24678, 24707, 24737, 24767, 24796, 24826, 24856, 24885, 24915, 24944, 24974, 25003, 25032, 25062, 25091, 25121, 25150, 25180, 25210, 25240, 25269, 25299, 25328, 25358, 25387, 25416, 25446, 25475, 25505, 25534, 25564, 25594, 25624, 25653, 25683, 25712, 25742, 25771, 25800, 25830, 25859, 25888, 25918, 25948, 25977, 26007, 26037, 26067, 26096, 26126, 26155, 26184, 26214, 26243, 26272, 26302, 26332, 26361, 26391, 26421, 26451, 26480, 26510, 26539, 26568, 26598, 26627, 26656, 26686, 26715, 26745, 26775, 26805, 26834, 26864, 26893, 26923, 26952, 26982, 27011, 27041, 27070, 27099, 27129, 27159, 27188, 27218, 27248, 27277, 27307, 27336, 27366, 27395, 27425, 27454, 27484, 27513, 27542, 27572, 27602, 27631, 27661, 27691, 27720, 27750, 27779, 27809, 27838, 27868, 27897, 27926, 27956, 27985, 28015, 28045, 28074, 28104, 28134, 28163, 28193, 28222, 28252, 28281, 28310, 28340, 28369, 28399, 28428, 28458, 28488, 28517, 28547, 28577, 28607, 28636, 28665, 28695, 28724, 28754, 28783, 28813, 28843, 28872, 28901, 28931, 28960, 28990, 29019, 29049, 29078, 29108, 29137, 29167, 29196, 29226, 29255, 29285, 29315, 29345, 29375, 29404, 29434, 29463, 29492, 29522, 29551, 29580, 29610, 29640, 29669, 29699, 29729, 29759, 29788, 29818, 29847, 29876, 29906, 29935, 29964, 29994, 30023, 30053, 30082, 30112, 30141, 30171, 30200, 30230, 30259, 30289, 30318, 30348, 30378, 30408, 30437, 30467, 30496, 30526, 30555, 30585, 30614, 30644, 30673, 30703, 30732, 30762, 30791, 30821, 30850, 30880, 30909, 30939, 30968, 30998, 31027, 31057, 31086, 31116, 31145, 31175, 31204, 31234, 31263, 31293, 31322, 31352, 31381, 31411, 31441, 31471, 31500, 31530, 31559, 31589, 31618, 31648, 31676, 31706, 31736, 31766, 31795, 31825, 31854, 31884, 31913, 31943, 31972, 32002, 32031, 32061, 32090, 32120, 32150, 32180, 32209, 32239, 32268, 32298, 32327, 32357, 32386, 32416, 32445, 32475, 32504, 32534, 32563, 32593, 32622, 32652, 32681, 32711, 32740, 32770, 32799, 32829, 32858, 32888, 32917, 32947, 32976, 33006, 33035, 33065, 33094, 33124, 33153, 33183, 33213, 33243, 33272, 33302, 33331, 33361, 33390, 33420, 33450, 33479, 33509, 33539, 33568, 33598, 33627, 33657, 33686, 33716, 33745, 33775, 33804, 33834, 33863, 33893, 33922, 33952, 33981, 34011, 34040, 34069, 34099, 34128, 34158, 34187, 34217, 34247, 34277, 34306, 34336, 34365, 34395, 34424, 34454, 34483, 34512, 34542, 34571, 34601, 34631, 34660, 34690, 34719, 34749, 34778, 34808, 34837, 34867, 34896, 34926, 34955, 34985, 35015, 35044, 35074, 35103, 35133, 35162, 35192, 35222, 35251, 35280, 35310, 35340, 35370, 35399, 35429, 35458, 35488, 35517, 35547, 35576, 35605, 35635, 35665, 35694, 35723, 35753, 35782, 35811, 35841, 35871, 35901, 35930, 35960, 35989, 36019, 36048, 36078, 36107, 36136, 36166, 36195, 36225, 36254, 36284, 36314, 36343, 36373, 36403, 36433, 36462, 36492, 36521, 36551, 36580, 36610, 36639, 36669, 36698, 36728, 36757, 36786, 36816, 36845, 36875, 36904, 36934, 36963, 36993, 37022, 37052, 37081, 37111, 37141, 37170, 37200, 37229, 37259, 37288, 37318, 37347, 37377, 37406, 37436, 37465, 37495, 37524, 37554, 37584, 37613, 37643, 37672, 37701, 37731, 37760, 37790, 37819, 37849, 37878, 37908, 37938, 37967, 37997, 38027, 38056, 38085, 38115, 38144, 38174, 38203, 38233, 38262, 38292, 38322, 38351, 38381, 38410, 38440, 38469, 38499, 38528, 38558, 38587, 38617, 38646, 38676, 38705, 38735, 38764, 38794, 38823, 38853, 38882, 38912, 38941, 38971, 39001, 39030, 39059, 39089, 39118, 39148, 39178, 39208, 39237, 39267, 39297, 39326, 39355, 39385, 39414, 39444, 39473, 39503, 39532, 39562, 39592, 39621, 39650, 39680, 39709, 39739, 39768, 39798, 39827, 39857, 39886, 39916, 39946, 39975, 40005, 40035, 40064, 40094, 40123, 40153, 40182, 40212, 40241, 40271, 40300, 40330, 40359, 40389, 40418, 40448, 40477, 40507, 40536, 40566, 40595, 40625, 40655, 40685, 40714, 40744, 40773, 40803, 40832, 40862, 40892, 40921, 40951, 40980, 41009, 41039, 41068, 41098, 41127, 41157, 41186, 41216, 41245, 41275, 41304, 41334, 41364, 41393, 41422, 41452, 41481, 41511, 41540, 41570, 41599, 41629, 41658, 41688, 41718, 41748, 41777, 41807, 41836, 41865, 41894, 41924, 41953, 41983, 42012, 42042, 42072, 42102, 42131, 42161, 42190, 42220, 42249, 42279, 42308, 42337, 42367, 42397, 42426, 42456, 42485, 42515, 42545, 42574, 42604, 42633, 42662, 42692, 42721, 42751, 42780, 42810, 42839, 42869, 42899, 42929, 42958, 42988, 43017, 43046, 43076, 43105, 43135, 43164, 43194, 43223, 43253, 43283, 43312, 43342, 43371, 43401, 43430, 43460, 43489, 43519, 43548, 43578, 43607, 43637, 43666, 43696, 43726, 43755, 43785, 43814, 43844, 43873, 43903, 43932, 43962, 43991, 44021, 44050, 44080, 44109, 44139, 44169, 44198, 44228, 44258, 44287, 44317, 44346, 44375, 44405, 44434, 44464, 44493, 44523, 44553, 44582, 44612, 44641, 44671, 44700, 44730, 44759, 44788, 44818, 44847, 44877, 44906, 44936, 44966, 44996, 45025, 45055, 45084, 45114, 45143, 45172, 45202, 45231, 45261, 45290, 45320, 45350, 45380, 45409, 45439, 45468, 45498, 45527, 45556, 45586, 45615, 45644, 45674, 45704, 45733, 45763, 45793, 45823, 45852, 45882, 45911, 45940, 45970, 45999, 46028, 46058, 46088, 46117, 46147, 46177, 46206, 46236, 46265, 46295, 46324, 46354, 46383, 46413, 46442, 46472, 46501, 46531, 46560, 46590, 46620, 46649, 46679, 46708, 46738, 46767, 46797, 46826, 46856, 46885, 46915, 46944, 46974, 47003, 47033, 47063, 47092, 47122, 47151, 47181, 47210, 47240, 47269, 47298, 47328, 47357, 47387, 47417, 47446, 47476, 47506, 47535, 47565, 47594, 47624, 47653, 47682, 47712, 47741, 47771, 47800, 47830, 47860, 47890, 47919, 47949, 47978, 48008, 48037, 48066, 48096, 48125, 48155, 48184, 48214, 48244, 48273, 48303, 48333, 48362, 48392, 48421, 48450, 48480, 48509, 48538, 48568, 48598, 48627, 48657, 48687, 48717, 48746, 48776, 48805, 48834, 48864, 48893, 48922, 48952, 48982, 49011, 49041, 49071, 49100, 49130, 49160, 49189, 49218, 49248, 49277, 49306, 49336, 49365, 49395, 49425, 49455, 49484, 49514, 49543, 49573, 49602, 49632, 49661, 49690, 49720, 49749, 49779, 49809, 49838, 49868, 49898, 49927, 49957, 49986, 50016, 50045, 50075, 50104, 50133, 50163, 50192, 50222, 50252, 50281, 50311, 50340, 50370, 50400, 50429, 50459, 50488, 50518, 50547, 50576, 50606, 50635, 50665, 50694, 50724, 50754, 50784, 50813, 50843, 50872, 50902, 50931, 50960, 50990, 51019, 51049, 51078, 51108, 51138, 51167, 51197, 51227, 51256, 51286, 51315, 51345, 51374, 51403, 51433, 51462, 51492, 51522, 51552, 51582, 51611, 51641, 51670, 51699, 51729, 51758, 51787, 51816, 51846, 51876, 51906, 51936, 51965, 51995, 52025, 52054, 52083, 52113, 52142, 52171, 52200, 52230, 52260, 52290, 52319, 52349, 52379, 52408, 52438, 52467, 52497, 52526, 52555, 52585, 52614, 52644, 52673, 52703, 52733, 52762, 52792, 52822, 52851, 52881, 52910, 52939, 52969, 52998, 53028, 53057, 53087, 53116, 53146, 53176, 53205, 53235, 53264, 53294, 53324, 53353, 53383, 53412, 53441, 53471, 53500, 53530, 53559, 53589, 53619, 53648, 53678, 53708, 53737, 53767, 53796, 53825, 53855, 53884, 53913, 53943, 53973, 54003, 54032, 54062, 54092, 54121, 54151, 54180, 54209, 54239, 54268, 54297, 54327, 54357, 54387, 54416, 54446, 54476, 54505, 54535, 54564, 54593, 54623, 54652, 54681, 54711, 54741, 54770, 54800, 54830, 54859, 54889, 54919, 54948, 54977, 55007, 55036, 55066, 55095, 55125, 55154, 55184, 55213, 55243, 55273, 55302, 55332, 55361, 55391, 55420, 55450, 55479, 55508, 55538, 55567, 55597, 55627, 55657, 55686, 55716, 55745, 55775, 55804, 55834, 55863, 55892, 55922, 55951, 55981, 56011, 56040, 56070, 56100, 56129, 56159, 56188, 56218, 56247, 56276, 56306, 56335, 56365, 56394, 56424, 56454, 56483, 56513, 56543, 56572, 56601, 56631, 56660, 56690, 56719, 56749, 56778, 56808, 56837, 56867, 56897, 56926, 56956, 56985, 57015, 57044, 57074, 57103, 57133, 57162, 57192, 57221, 57251, 57280, 57310, 57340, 57369, 57399, 57429, 57458, 57487, 57517, 57546, 57576, 57605, 57634, 57664, 57694, 57723, 57753, 57783, 57813, 57842, 57871, 57901, 57930, 57959, 57989, 58018, 58048, 58077, 58107, 58137, 58167, 58196, 58226, 58255, 58285, 58314, 58343, 58373, 58402, 58432, 58461, 58491, 58521, 58551, 58580, 58610, 58639, 58669, 58698, 58727, 58757, 58786, 58816, 58845, 58875, 58905, 58934, 58964, 58994, 59023, 59053, 59082, 59111, 59141, 59170, 59200, 59229, 59259, 59288, 59318, 59348, 59377, 59407, 59436, 59466, 59495, 59525, 59554, 59584, 59613, 59643, 59672, 59702, 59731, 59761, 59791, 59820, 59850, 59879, 59909, 59939, 59968, 59997, 60027, 60056, 60086, 60115, 60145, 60174, 60204, 60234, 60264, 60293, 60323, 60352, 60381, 60411, 60440, 60469, 60499, 60528, 60558, 60588, 60618, 60648, 60677, 60707, 60736, 60765, 60795, 60824, 60853, 60883, 60912, 60942, 60972, 61002, 61031, 61061, 61090, 61120, 61149, 61179, 61208, 61237, 61267, 61296, 61326, 61356, 61385, 61415, 61445, 61474, 61504, 61533, 61563, 61592, 61621, 61651, 61680, 61710, 61739, 61769, 61799, 61828, 61858, 61888, 61917, 61947, 61976, 62006, 62035, 62064, 62094, 62123, 62153, 62182, 62212, 62242, 62271, 62301, 62331, 62360, 62390, 62419, 62448, 62478, 62507, 62537, 62566, 62596, 62625, 62655, 62685, 62715, 62744, 62774, 62803, 62832, 62862, 62891, 62921, 62950, 62980, 63009, 63039, 63069, 63099, 63128, 63157, 63187, 63216, 63246, 63275, 63305, 63334, 63363, 63393, 63423, 63453, 63482, 63512, 63541, 63571, 63600, 63630, 63659, 63689, 63718, 63747, 63777, 63807, 63836, 63866, 63895, 63925, 63955, 63984, 64014, 64043, 64073, 64102, 64131, 64161, 64190, 64220, 64249, 64279, 64309, 64339, 64368, 64398, 64427, 64457, 64486, 64515, 64545, 64574, 64603, 64633, 64663, 64692, 64722, 64752, 64782, 64811, 64841, 64870, 64899, 64929, 64958, 64987, 65017, 65047, 65076, 65106, 65136, 65166, 65195, 65225, 65254, 65283, 65313, 65342, 65371, 65401, 65431, 65460, 65490, 65520, 65549, 65579, 65608, 65638, 65667, 65697, 65726, 65755, 65785, 65815, 65844, 65874, 65903, 65933, 65963, 65992, 66022, 66051, 66081, 66110, 66140, 66169, 66199, 66228, 66258, 66287, 66317, 66346, 66376, 66405, 66435, 66465, 66494, 66524, 66553, 66583, 66612, 66641, 66671, 66700, 66730, 66760, 66789, 66819, 66849, 66878, 66908, 66937, 66967, 66996, 67025, 67055, 67084, 67114, 67143, 67173, 67203, 67233, 67262, 67292, 67321, 67351, 67380, 67409, 67439, 67468, 67497, 67527, 67557, 67587, 67617, 67646, 67676, 67705, 67735, 67764, 67793, 67823, 67852, 67882, 67911, 67941, 67971, 68e3, 68030, 68060, 68089, 68119, 68148, 68177, 68207, 68236, 68266, 68295, 68325, 68354, 68384, 68414, 68443, 68473, 68502, 68532, 68561, 68591, 68620, 68650, 68679, 68708, 68738, 68768, 68797, 68827, 68857, 68886, 68916, 68946, 68975, 69004, 69034, 69063, 69092, 69122, 69152, 69181, 69211, 69240, 69270, 69300, 69330, 69359, 69388, 69418, 69447, 69476, 69506, 69535, 69565, 69595, 69624, 69654, 69684, 69713, 69743, 69772, 69802, 69831, 69861, 69890, 69919, 69949, 69978, 70008, 70038, 70067, 70097, 70126, 70156, 70186, 70215, 70245, 70274, 70303, 70333, 70362, 70392, 70421, 70451, 70481, 70510, 70540, 70570, 70599, 70629, 70658, 70687, 70717, 70746, 70776, 70805, 70835, 70864, 70894, 70924, 70954, 70983, 71013, 71042, 71071, 71101, 71130, 71159, 71189, 71218, 71248, 71278, 71308, 71337, 71367, 71397, 71426, 71455, 71485, 71514, 71543, 71573, 71602, 71632, 71662, 71691, 71721, 71751, 71781, 71810, 71839, 71869, 71898, 71927, 71957, 71986, 72016, 72046, 72075, 72105, 72135, 72164, 72194, 72223, 72253, 72282, 72311, 72341, 72370, 72400, 72429, 72459, 72489, 72518, 72548, 72577, 72607, 72637, 72666, 72695, 72725, 72754, 72784, 72813, 72843, 72872, 72902, 72931, 72961, 72991, 73020, 73050, 73080, 73109, 73139, 73168, 73197, 73227, 73256, 73286, 73315, 73345, 73375, 73404, 73434, 73464, 73493, 73523, 73552, 73581, 73611, 73640, 73669, 73699, 73729, 73758, 73788, 73818, 73848, 73877, 73907, 73936, 73965, 73995, 74024, 74053, 74083, 74113, 74142, 74172, 74202, 74231, 74261, 74291, 74320, 74349, 74379, 74408, 74437, 74467, 74497, 74526, 74556, 74586, 74615, 74645, 74675, 74704, 74733, 74763, 74792, 74822, 74851, 74881, 74910, 74940, 74969, 74999, 75029, 75058, 75088, 75117, 75147, 75176, 75206, 75235, 75264, 75294, 75323, 75353, 75383, 75412, 75442, 75472, 75501, 75531, 75560, 75590, 75619, 75648, 75678, 75707, 75737, 75766, 75796, 75826, 75856, 75885, 75915, 75944, 75974, 76003, 76032, 76062, 76091, 76121, 76150, 76180, 76210, 76239, 76269, 76299, 76328, 76358, 76387, 76416, 76446, 76475, 76505, 76534, 76564, 76593, 76623, 76653, 76682, 76712, 76741, 76771, 76801, 76830, 76859, 76889, 76918, 76948, 76977, 77007, 77036, 77066, 77096, 77125, 77155, 77185, 77214, 77243, 77273, 77302, 77332, 77361, 77390, 77420, 77450, 77479, 77509, 77539, 77569, 77598, 77627, 77657, 77686, 77715, 77745, 77774, 77804, 77833, 77863, 77893, 77923, 77952, 77982, 78011, 78041, 78070, 78099, 78129, 78158, 78188, 78217, 78247, 78277, 78307, 78336, 78366, 78395, 78425, 78454, 78483, 78513, 78542, 78572, 78601, 78631, 78661, 78690, 78720, 78750, 78779, 78808, 78838, 78867, 78897, 78926, 78956, 78985, 79015, 79044, 79074, 79104, 79133, 79163, 79192, 79222, 79251, 79281, 79310, 79340, 79369, 79399, 79428, 79458, 79487, 79517, 79546, 79576, 79606, 79635, 79665, 79695, 79724, 79753, 79783, 79812, 79841, 79871, 79900, 79930, 79960, 79990]
        }
        , {
            "../main": 215,
            "object-assign": 159
        }],
        215: [function(e, t, r) {
            var n = e("object-assign");
            function a() {
                this.regionalOptions = [],
                this.regionalOptions[""] = {
                    invalidCalendar: "Calendar {0} not found",
                    invalidDate: "Invalid {0} date",
                    invalidMonth: "Invalid {0} month",
                    invalidYear: "Invalid {0} year",
                    differentCalendars: "Cannot mix {0} and {1} dates"
                },
                this.local = this.regionalOptions[""],
                this.calendars = {},
                this._localCals = {}
            }
            function i(e, t, r, n) {
                if (this._calendar = e,
                this._year = t,
                this._month = r,
                this._day = n,
                0 === this._calendar._validateLevel && !this._calendar.isValid(this._year, this._month, this._day))
                    throw (c.local.invalidDate || c.regionalOptions[""].invalidDate).replace(/\{0\}/, this._calendar.local.name)
            }
            function o(e, t) {
                return "000000".substring(0, t - (e = "" + e).length) + e
            }
            function s() {
                this.shortYearCutoff = "+10"
            }
            function l(e) {
                this.local = this.regionalOptions[e] || this.regionalOptions[""]
            }
            n(a.prototype, {
                instance: function(e, t) {
                    e = (e || "gregorian").toLowerCase(),
                    t = t || "";
                    var r = this._localCals[e + "-" + t];
                    if (!r && this.calendars[e] && (r = new this.calendars[e](t),
                    this._localCals[e + "-" + t] = r),
                    !r)
                        throw (this.local.invalidCalendar || this.regionalOptions[""].invalidCalendar).replace(/\{0\}/, e);
                    return r
                },
                newDate: function(e, t, r, n, a) {
                    return (n = (null != e && e.year ? e.calendar() : "string" == typeof n ? this.instance(n, a) : n) || this.instance()).newDate(e, t, r)
                },
                substituteDigits: function(e) {
                    return function(t) {
                        return (t + "").replace(/[0-9]/g, (function(t) {
                            return e[t]
                        }
                        ))
                    }
                },
                substituteChineseDigits: function(e, t) {
                    return function(r) {
                        for (var n = "", a = 0; r > 0; ) {
                            var i = r % 10;
                            n = (0 === i ? "" : e[i] + t[a]) + n,
                            a++,
                            r = Math.floor(r / 10)
                        }
                        return 0 === n.indexOf(e[1] + t[1]) && (n = n.substr(1)),
                        n || e[0]
                    }
                }
            }),
            n(i.prototype, {
                newDate: function(e, t, r) {
                    return this._calendar.newDate(null == e ? this : e, t, r)
                },
                year: function(e) {
                    return 0 === arguments.length ? this._year : this.set(e, "y")
                },
                month: function(e) {
                    return 0 === arguments.length ? this._month : this.set(e, "m")
                },
                day: function(e) {
                    return 0 === arguments.length ? this._day : this.set(e, "d")
                },
                date: function(e, t, r) {
                    if (!this._calendar.isValid(e, t, r))
                        throw (c.local.invalidDate || c.regionalOptions[""].invalidDate).replace(/\{0\}/, this._calendar.local.name);
                    return this._year = e,
                    this._month = t,
                    this._day = r,
                    this
                },
                leapYear: function() {
                    return this._calendar.leapYear(this)
                },
                epoch: function() {
                    return this._calendar.epoch(this)
                },
                formatYear: function() {
                    return this._calendar.formatYear(this)
                },
                monthOfYear: function() {
                    return this._calendar.monthOfYear(this)
                },
                weekOfYear: function() {
                    return this._calendar.weekOfYear(this)
                },
                daysInYear: function() {
                    return this._calendar.daysInYear(this)
                },
                dayOfYear: function() {
                    return this._calendar.dayOfYear(this)
                },
                daysInMonth: function() {
                    return this._calendar.daysInMonth(this)
                },
                dayOfWeek: function() {
                    return this._calendar.dayOfWeek(this)
                },
                weekDay: function() {
                    return this._calendar.weekDay(this)
                },
                extraInfo: function() {
                    return this._calendar.extraInfo(this)
                },
                add: function(e, t) {
                    return this._calendar.add(this, e, t)
                },
                set: function(e, t) {
                    return this._calendar.set(this, e, t)
                },
                compareTo: function(e) {
                    if (this._calendar.name !== e._calendar.name)
                        throw (c.local.differentCalendars || c.regionalOptions[""].differentCalendars).replace(/\{0\}/, this._calendar.local.name).replace(/\{1\}/, e._calendar.local.name);
                    var t = this._year !== e._year ? this._year - e._year : this._month !== e._month ? this.monthOfYear() - e.monthOfYear() : this._day - e._day;
                    return 0 === t ? 0 : t < 0 ? -1 : 1
                },
                calendar: function() {
                    return this._calendar
                },
                toJD: function() {
                    return this._calendar.toJD(this)
                },
                fromJD: function(e) {
                    return this._calendar.fromJD(e)
                },
                toJSDate: function() {
                    return this._calendar.toJSDate(this)
                },
                fromJSDate: function(e) {
                    return this._calendar.fromJSDate(e)
                },
                toString: function() {
                    return (this.year() < 0 ? "-" : "") + o(Math.abs(this.year()), 4) + "-" + o(this.month(), 2) + "-" + o(this.day(), 2)
                }
            }),
            n(s.prototype, {
                _validateLevel: 0,
                newDate: function(e, t, r) {
                    return null == e ? this.today() : (e.year && (this._validate(e, t, r, c.local.invalidDate || c.regionalOptions[""].invalidDate),
                    r = e.day(),
                    t = e.month(),
                    e = e.year()),
                    new i(this,e,t,r))
                },
                today: function() {
                    return this.fromJSDate(new Date)
                },
                epoch: function(e) {
                    return this._validate(e, this.minMonth, this.minDay, c.local.invalidYear || c.regionalOptions[""].invalidYear).year() < 0 ? this.local.epochs[0] : this.local.epochs[1]
                },
                formatYear: function(e) {
                    var t = this._validate(e, this.minMonth, this.minDay, c.local.invalidYear || c.regionalOptions[""].invalidYear);
                    return (t.year() < 0 ? "-" : "") + o(Math.abs(t.year()), 4)
                },
                monthsInYear: function(e) {
                    return this._validate(e, this.minMonth, this.minDay, c.local.invalidYear || c.regionalOptions[""].invalidYear),
                    12
                },
                monthOfYear: function(e, t) {
                    var r = this._validate(e, t, this.minDay, c.local.invalidMonth || c.regionalOptions[""].invalidMonth);
                    return (r.month() + this.monthsInYear(r) - this.firstMonth) % this.monthsInYear(r) + this.minMonth
                },
                fromMonthOfYear: function(e, t) {
                    var r = (t + this.firstMonth - 2 * this.minMonth) % this.monthsInYear(e) + this.minMonth;
                    return this._validate(e, r, this.minDay, c.local.invalidMonth || c.regionalOptions[""].invalidMonth),
                    r
                },
                daysInYear: function(e) {
                    var t = this._validate(e, this.minMonth, this.minDay, c.local.invalidYear || c.regionalOptions[""].invalidYear);
                    return this.leapYear(t) ? 366 : 365
                },
                dayOfYear: function(e, t, r) {
                    var n = this._validate(e, t, r, c.local.invalidDate || c.regionalOptions[""].invalidDate);
                    return n.toJD() - this.newDate(n.year(), this.fromMonthOfYear(n.year(), this.minMonth), this.minDay).toJD() + 1
                },
                daysInWeek: function() {
                    return 7
                },
                dayOfWeek: function(e, t, r) {
                    var n = this._validate(e, t, r, c.local.invalidDate || c.regionalOptions[""].invalidDate);
                    return (Math.floor(this.toJD(n)) + 2) % this.daysInWeek()
                },
                extraInfo: function(e, t, r) {
                    return this._validate(e, t, r, c.local.invalidDate || c.regionalOptions[""].invalidDate),
                    {}
                },
                add: function(e, t, r) {
                    return this._validate(e, this.minMonth, this.minDay, c.local.invalidDate || c.regionalOptions[""].invalidDate),
                    this._correctAdd(e, this._add(e, t, r), t, r)
                },
                _add: function(e, t, r) {
                    if (this._validateLevel++,
                    "d" === r || "w" === r) {
                        var n = e.toJD() + t * ("w" === r ? this.daysInWeek() : 1)
                          , a = e.calendar().fromJD(n);
                        return this._validateLevel--,
                        [a.year(), a.month(), a.day()]
                    }
                    try {
                        var i = e.year() + ("y" === r ? t : 0)
                          , o = e.monthOfYear() + ("m" === r ? t : 0);
                        a = e.day();
                        "y" === r ? (e.month() !== this.fromMonthOfYear(i, o) && (o = this.newDate(i, e.month(), this.minDay).monthOfYear()),
                        o = Math.min(o, this.monthsInYear(i)),
                        a = Math.min(a, this.daysInMonth(i, this.fromMonthOfYear(i, o)))) : "m" === r && (!function(e) {
                            for (; o < e.minMonth; )
                                i--,
                                o += e.monthsInYear(i);
                            for (var t = e.monthsInYear(i); o > t - 1 + e.minMonth; )
                                i++,
                                o -= t,
                                t = e.monthsInYear(i)
                        }(this),
                        a = Math.min(a, this.daysInMonth(i, this.fromMonthOfYear(i, o))));
                        var s = [i, this.fromMonthOfYear(i, o), a];
                        return this._validateLevel--,
                        s
                    } catch (e) {
                        throw this._validateLevel--,
                        e
                    }
                },
                _correctAdd: function(e, t, r, n) {
                    if (!(this.hasYearZero || "y" !== n && "m" !== n || 0 !== t[0] && e.year() > 0 == t[0] > 0)) {
                        var a = {
                            y: [1, 1, "y"],
                            m: [1, this.monthsInYear(-1), "m"],
                            w: [this.daysInWeek(), this.daysInYear(-1), "d"],
                            d: [1, this.daysInYear(-1), "d"]
                        }[n]
                          , i = r < 0 ? -1 : 1;
                        t = this._add(e, r * a[0] + i * a[1], a[2])
                    }
                    return e.date(t[0], t[1], t[2])
                },
                set: function(e, t, r) {
                    this._validate(e, this.minMonth, this.minDay, c.local.invalidDate || c.regionalOptions[""].invalidDate);
                    var n = "y" === r ? t : e.year()
                      , a = "m" === r ? t : e.month()
                      , i = "d" === r ? t : e.day();
                    return "y" !== r && "m" !== r || (i = Math.min(i, this.daysInMonth(n, a))),
                    e.date(n, a, i)
                },
                isValid: function(e, t, r) {
                    this._validateLevel++;
                    var n = this.hasYearZero || 0 !== e;
                    if (n) {
                        var a = this.newDate(e, t, this.minDay);
                        n = t >= this.minMonth && t - this.minMonth < this.monthsInYear(a) && r >= this.minDay && r - this.minDay < this.daysInMonth(a)
                    }
                    return this._validateLevel--,
                    n
                },
                toJSDate: function(e, t, r) {
                    var n = this._validate(e, t, r, c.local.invalidDate || c.regionalOptions[""].invalidDate);
                    return c.instance().fromJD(this.toJD(n)).toJSDate()
                },
                fromJSDate: function(e) {
                    return this.fromJD(c.instance().fromJSDate(e).toJD())
                },
                _validate: function(e, t, r, n) {
                    if (e.year) {
                        if (0 === this._validateLevel && this.name !== e.calendar().name)
                            throw (c.local.differentCalendars || c.regionalOptions[""].differentCalendars).replace(/\{0\}/, this.local.name).replace(/\{1\}/, e.calendar().local.name);
                        return e
                    }
                    try {
                        if (this._validateLevel++,
                        1 === this._validateLevel && !this.isValid(e, t, r))
                            throw n.replace(/\{0\}/, this.local.name);
                        var a = this.newDate(e, t, r);
                        return this._validateLevel--,
                        a
                    } catch (e) {
                        throw this._validateLevel--,
                        e
                    }
                }
            }),
            l.prototype = new s,
            n(l.prototype, {
                name: "Gregorian",
                jdEpoch: 1721425.5,
                daysPerMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
                hasYearZero: !1,
                minMonth: 1,
                firstMonth: 1,
                minDay: 1,
                regionalOptions: {
                    "": {
                        name: "Gregorian",
                        epochs: ["BCE", "CE"],
                        monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                        monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                        dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                        dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                        dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                        digits: null,
                        dateFormat: "mm/dd/yyyy",
                        firstDay: 0,
                        isRTL: !1
                    }
                },
                leapYear: function(e) {
                    var t = this._validate(e, this.minMonth, this.minDay, c.local.invalidYear || c.regionalOptions[""].invalidYear);
                    return (e = t.year() + (t.year() < 0 ? 1 : 0)) % 4 == 0 && (e % 100 != 0 || e % 400 == 0)
                },
                weekOfYear: function(e, t, r) {
                    var n = this.newDate(e, t, r);
                    return n.add(4 - (n.dayOfWeek() || 7), "d"),
                    Math.floor((n.dayOfYear() - 1) / 7) + 1
                },
                daysInMonth: function(e, t) {
                    var r = this._validate(e, t, this.minDay, c.local.invalidMonth || c.regionalOptions[""].invalidMonth);
                    return this.daysPerMonth[r.month() - 1] + (2 === r.month() && this.leapYear(r.year()) ? 1 : 0)
                },
                weekDay: function(e, t, r) {
                    return (this.dayOfWeek(e, t, r) || 7) < 6
                },
                toJD: function(e, t, r) {
                    var n = this._validate(e, t, r, c.local.invalidDate || c.regionalOptions[""].invalidDate);
                    e = n.year(),
                    t = n.month(),
                    r = n.day(),
                    e < 0 && e++,
                    t < 3 && (t += 12,
                    e--);
                    var a = Math.floor(e / 100)
                      , i = 2 - a + Math.floor(a / 4);
                    return Math.floor(365.25 * (e + 4716)) + Math.floor(30.6001 * (t + 1)) + r + i - 1524.5
                },
                fromJD: function(e) {
                    var t = Math.floor(e + .5)
                      , r = Math.floor((t - 1867216.25) / 36524.25)
                      , n = (r = t + 1 + r - Math.floor(r / 4)) + 1524
                      , a = Math.floor((n - 122.1) / 365.25)
                      , i = Math.floor(365.25 * a)
                      , o = Math.floor((n - i) / 30.6001)
                      , s = n - i - Math.floor(30.6001 * o)
                      , l = o - (o > 13.5 ? 13 : 1)
                      , c = a - (l > 2.5 ? 4716 : 4715);
                    return c <= 0 && c--,
                    this.newDate(c, l, s)
                },
                toJSDate: function(e, t, r) {
                    var n = this._validate(e, t, r, c.local.invalidDate || c.regionalOptions[""].invalidDate)
                      , a = new Date(n.year(),n.month() - 1,n.day());
                    return a.setHours(0),
                    a.setMinutes(0),
                    a.setSeconds(0),
                    a.setMilliseconds(0),
                    a.setHours(a.getHours() > 12 ? a.getHours() + 2 : 0),
                    a
                },
                fromJSDate: function(e) {
                    return this.newDate(e.getFullYear(), e.getMonth() + 1, e.getDate())
                }
            });
            var c = t.exports = new a;
            c.cdate = i,
            c.baseCalendar = s,
            c.calendars.gregorian = l
        }
        , {
            "object-assign": 159
        }],
        216: [function(e, t, r) {
            var n = e("object-assign")
              , a = e("./main");
            n(a.regionalOptions[""], {
                invalidArguments: "Invalid arguments",
                invalidFormat: "Cannot format a date from another calendar",
                missingNumberAt: "Missing number at position {0}",
                unknownNameAt: "Unknown name at position {0}",
                unexpectedLiteralAt: "Unexpected literal at position {0}",
                unexpectedText: "Additional text found at end"
            }),
            a.local = a.regionalOptions[""],
            n(a.cdate.prototype, {
                formatDate: function(e, t) {
                    return "string" != typeof e && (t = e,
                    e = ""),
                    this._calendar.formatDate(e || "", this, t)
                }
            }),
            n(a.baseCalendar.prototype, {
                UNIX_EPOCH: a.instance().newDate(1970, 1, 1).toJD(),
                SECS_PER_DAY: 86400,
                TICKS_EPOCH: a.instance().jdEpoch,
                TICKS_PER_DAY: 864e9,
                ATOM: "yyyy-mm-dd",
                COOKIE: "D, dd M yyyy",
                FULL: "DD, MM d, yyyy",
                ISO_8601: "yyyy-mm-dd",
                JULIAN: "J",
                RFC_822: "D, d M yy",
                RFC_850: "DD, dd-M-yy",
                RFC_1036: "D, d M yy",
                RFC_1123: "D, d M yyyy",
                RFC_2822: "D, d M yyyy",
                RSS: "D, d M yy",
                TICKS: "!",
                TIMESTAMP: "@",
                W3C: "yyyy-mm-dd",
                formatDate: function(e, t, r) {
                    if ("string" != typeof e && (r = t,
                    t = e,
                    e = ""),
                    !t)
                        return "";
                    if (t.calendar() !== this)
                        throw a.local.invalidFormat || a.regionalOptions[""].invalidFormat;
                    e = e || this.local.dateFormat;
                    for (var n, i, o, s, l = (r = r || {}).dayNamesShort || this.local.dayNamesShort, c = r.dayNames || this.local.dayNames, u = r.monthNumbers || this.local.monthNumbers, f = r.monthNamesShort || this.local.monthNamesShort, d = r.monthNames || this.local.monthNames, h = (r.calculateWeek || this.local.calculateWeek,
                    function(t, r) {
                        for (var n = 1; w + n < e.length && e.charAt(w + n) === t; )
                            n++;
                        return w += n - 1,
                        Math.floor(n / (r || 1)) > 1
                    }
                    ), p = function(e, t, r, n) {
                        var a = "" + t;
                        if (h(e, n))
                            for (; a.length < r; )
                                a = "0" + a;
                        return a
                    }, g = this, y = function(e) {
                        return "function" == typeof u ? u.call(g, e, h("m")) : b(p("m", e.month(), 2))
                    }, v = function(e, t) {
                        return t ? "function" == typeof d ? d.call(g, e) : d[e.month() - g.minMonth] : "function" == typeof f ? f.call(g, e) : f[e.month() - g.minMonth]
                    }, m = this.local.digits, b = function(e) {
                        return r.localNumbers && m ? m(e) : e
                    }, x = "", _ = !1, w = 0; w < e.length; w++)
                        if (_)
                            "'" !== e.charAt(w) || h("'") ? x += e.charAt(w) : _ = !1;
                        else
                            switch (e.charAt(w)) {
                            case "d":
                                x += b(p("d", t.day(), 2));
                                break;
                            case "D":
                                x += (n = "D",
                                i = t.dayOfWeek(),
                                o = l,
                                s = c,
                                h(n) ? s[i] : o[i]);
                                break;
                            case "o":
                                x += p("o", t.dayOfYear(), 3);
                                break;
                            case "w":
                                x += p("w", t.weekOfYear(), 2);
                                break;
                            case "m":
                                x += y(t);
                                break;
                            case "M":
                                x += v(t, h("M"));
                                break;
                            case "y":
                                x += h("y", 2) ? t.year() : (t.year() % 100 < 10 ? "0" : "") + t.year() % 100;
                                break;
                            case "Y":
                                h("Y", 2),
                                x += t.formatYear();
                                break;
                            case "J":
                                x += t.toJD();
                                break;
                            case "@":
                                x += (t.toJD() - this.UNIX_EPOCH) * this.SECS_PER_DAY;
                                break;
                            case "!":
                                x += (t.toJD() - this.TICKS_EPOCH) * this.TICKS_PER_DAY;
                                break;
                            case "'":
                                h("'") ? x += "'" : _ = !0;
                                break;
                            default:
                                x += e.charAt(w)
                            }
                    return x
                },
                parseDate: function(e, t, r) {
                    if (null == t)
                        throw a.local.invalidArguments || a.regionalOptions[""].invalidArguments;
                    if ("" === (t = "object" == typeof t ? t.toString() : t + ""))
                        return null;
                    e = e || this.local.dateFormat;
                    var n = (r = r || {}).shortYearCutoff || this.shortYearCutoff;
                    n = "string" != typeof n ? n : this.today().year() % 100 + parseInt(n, 10);
                    for (var i = r.dayNamesShort || this.local.dayNamesShort, o = r.dayNames || this.local.dayNames, s = r.parseMonth || this.local.parseMonth, l = r.monthNumbers || this.local.monthNumbers, c = r.monthNamesShort || this.local.monthNamesShort, u = r.monthNames || this.local.monthNames, f = -1, d = -1, h = -1, p = -1, g = -1, y = !1, v = !1, m = function(t, r) {
                        for (var n = 1; M + n < e.length && e.charAt(M + n) === t; )
                            n++;
                        return M += n - 1,
                        Math.floor(n / (r || 1)) > 1
                    }, b = function(e, r) {
                        var n = m(e, r)
                          , i = [2, 3, n ? 4 : 2, n ? 4 : 2, 10, 11, 20]["oyYJ@!".indexOf(e) + 1]
                          , o = new RegExp("^-?\\d{1," + i + "}")
                          , s = t.substring(T).match(o);
                        if (!s)
                            throw (a.local.missingNumberAt || a.regionalOptions[""].missingNumberAt).replace(/\{0\}/, T);
                        return T += s[0].length,
                        parseInt(s[0], 10)
                    }, x = this, _ = function() {
                        if ("function" == typeof l) {
                            m("m");
                            var e = l.call(x, t.substring(T));
                            return T += e.length,
                            e
                        }
                        return b("m")
                    }, w = function(e, r, n, i) {
                        for (var o = m(e, i) ? n : r, s = 0; s < o.length; s++)
                            if (t.substr(T, o[s].length).toLowerCase() === o[s].toLowerCase())
                                return T += o[s].length,
                                s + x.minMonth;
                        throw (a.local.unknownNameAt || a.regionalOptions[""].unknownNameAt).replace(/\{0\}/, T)
                    }, A = function() {
                        if ("function" == typeof u) {
                            var e = m("M") ? u.call(x, t.substring(T)) : c.call(x, t.substring(T));
                            return T += e.length,
                            e
                        }
                        return w("M", c, u)
                    }, k = function() {
                        if (t.charAt(T) !== e.charAt(M))
                            throw (a.local.unexpectedLiteralAt || a.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/, T);
                        T++
                    }, T = 0, M = 0; M < e.length; M++)
                        if (v)
                            "'" !== e.charAt(M) || m("'") ? k() : v = !1;
                        else
                            switch (e.charAt(M)) {
                            case "d":
                                p = b("d");
                                break;
                            case "D":
                                w("D", i, o);
                                break;
                            case "o":
                                g = b("o");
                                break;
                            case "w":
                                b("w");
                                break;
                            case "m":
                                h = _();
                                break;
                            case "M":
                                h = A();
                                break;
                            case "y":
                                var S = M;
                                y = !m("y", 2),
                                M = S,
                                d = b("y", 2);
                                break;
                            case "Y":
                                d = b("Y", 2);
                                break;
                            case "J":
                                f = b("J") + .5,
                                "." === t.charAt(T) && (T++,
                                b("J"));
                                break;
                            case "@":
                                f = b("@") / this.SECS_PER_DAY + this.UNIX_EPOCH;
                                break;
                            case "!":
                                f = b("!") / this.TICKS_PER_DAY + this.TICKS_EPOCH;
                                break;
                            case "*":
                                T = t.length;
                                break;
                            case "'":
                                m("'") ? k() : v = !0;
                                break;
                            default:
                                k()
                            }
                    if (T < t.length)
                        throw a.local.unexpectedText || a.regionalOptions[""].unexpectedText;
                    if (-1 === d ? d = this.today().year() : d < 100 && y && (d += -1 === n ? 1900 : this.today().year() - this.today().year() % 100 - (d <= n ? 0 : 100)),
                    "string" == typeof h && (h = s.call(this, d, h)),
                    g > -1) {
                        h = 1,
                        p = g;
                        for (var C = this.daysInMonth(d, h); p > C; C = this.daysInMonth(d, h))
                            h++,
                            p -= C
                    }
                    return f > -1 ? this.fromJD(f) : this.newDate(d, h, p)
                },
                determineDate: function(e, t, r, n, a) {
                    r && "object" != typeof r && (a = n,
                    n = r,
                    r = null),
                    "string" != typeof n && (a = n,
                    n = "");
                    var i = this;
                    return t = t ? t.newDate() : null,
                    e = null == e ? t : "string" == typeof e ? function(e) {
                        try {
                            return i.parseDate(n, e, a)
                        } catch (e) {}
                        for (var t = ((e = e.toLowerCase()).match(/^c/) && r ? r.newDate() : null) || i.today(), o = /([+-]?[0-9]+)\s*(d|w|m|y)?/g, s = o.exec(e); s; )
                            t.add(parseInt(s[1], 10), s[2] || "d"),
                            s = o.exec(e);
                        return t
                    }(e) : "number" == typeof e ? isNaN(e) || e === 1 / 0 || e === -1 / 0 ? t : i.today().add(e, "d") : i.newDate(e)
                }
            })
        }
        , {
            "./main": 215,
            "object-assign": 159
        }],
        217: [function(e, t, r) {
            "use strict";
            t.exports = [{
                path: "",
                backoff: 0
            }, {
                path: "M-2.4,-3V3L0.6,0Z",
                backoff: .6
            }, {
                path: "M-3.7,-2.5V2.5L1.3,0Z",
                backoff: 1.3
            }, {
                path: "M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",
                backoff: 1.55
            }, {
                path: "M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",
                backoff: 1.6
            }, {
                path: "M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",
                backoff: 2
            }, {
                path: "M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",
                backoff: 0,
                noRotate: !0
            }, {
                path: "M2,2V-2H-2V2Z",
                backoff: 0,
                noRotate: !0
            }]
        }
        , {}],
        218: [function(e, t, r) {
            "use strict";
            var n = e("./arrow_paths")
              , a = e("../../plots/font_attributes")
              , i = e("../../plots/cartesian/constants")
              , o = e("../../plot_api/plot_template").templatedArray;
            e("../../constants/axis_placeable_objects");
            t.exports = o("annotation", {
                visible: {
                    valType: "boolean",
                    dflt: !0,
                    editType: "calc+arraydraw"
                },
                text: {
                    valType: "string",
                    editType: "calc+arraydraw"
                },
                textangle: {
                    valType: "angle",
                    dflt: 0,
                    editType: "calc+arraydraw"
                },
                font: a({
                    editType: "calc+arraydraw",
                    colorEditType: "arraydraw"
                }),
                width: {
                    valType: "number",
                    min: 1,
                    dflt: null,
                    editType: "calc+arraydraw"
                },
                height: {
                    valType: "number",
                    min: 1,
                    dflt: null,
                    editType: "calc+arraydraw"
                },
                opacity: {
                    valType: "number",
                    min: 0,
                    max: 1,
                    dflt: 1,
                    editType: "arraydraw"
                },
                align: {
                    valType: "enumerated",
                    values: ["left", "center", "right"],
                    dflt: "center",
                    editType: "arraydraw"
                },
                valign: {
                    valType: "enumerated",
                    values: ["top", "middle", "bottom"],
                    dflt: "middle",
                    editType: "arraydraw"
                },
                bgcolor: {
                    valType: "color",
                    dflt: "rgba(0,0,0,0)",
                    editType: "arraydraw"
                },
                bordercolor: {
                    valType: "color",
                    dflt: "rgba(0,0,0,0)",
                    editType: "arraydraw"
                },
                borderpad: {
                    valType: "number",
                    min: 0,
                    dflt: 1,
                    editType: "calc+arraydraw"
                },
                borderwidth: {
                    valType: "number",
                    min: 0,
                    dflt: 1,
                    editType: "calc+arraydraw"
                },
                showarrow: {
                    valType: "boolean",
                    dflt: !0,
                    editType: "calc+arraydraw"
                },
                arrowcolor: {
                    valType: "color",
                    editType: "arraydraw"
                },
                arrowhead: {
                    valType: "integer",
                    min: 0,
                    max: n.length,
                    dflt: 1,
                    editType: "arraydraw"
                },
                startarrowhead: {
                    valType: "integer",
                    min: 0,
                    max: n.length,
                    dflt: 1,
                    editType: "arraydraw"
                },
                arrowside: {
                    valType: "flaglist",
                    flags: ["end", "start"],
                    extras: ["none"],
                    dflt: "end",
                    editType: "arraydraw"
                },
                arrowsize: {
                    valType: "number",
                    min: .3,
                    dflt: 1,
                    editType: "calc+arraydraw"
                },
                startarrowsize: {
                    valType: "number",
                    min: .3,
                    dflt: 1,
                    editType: "calc+arraydraw"
                },
                arrowwidth: {
                    valType: "number",
                    min: .1,
                    editType: "calc+arraydraw"
                },
                standoff: {
                    valType: "number",
                    min: 0,
                    dflt: 0,
                    editType: "calc+arraydraw"
                },
                startstandoff: {
                    valType: "number",
                    min: 0,
                    dflt: 0,
                    editType: "calc+arraydraw"
                },
                ax: {
                    valType: "any",
                    editType: "calc+arraydraw"
                },
                ay: {
                    valType: "any",
                    editType: "calc+arraydraw"
                },
                axref: {
                    valType: "enumerated",
                    dflt: "pixel",
                    values: ["pixel", i.idRegex.x.toString()],
                    editType: "calc"
                },
                ayref: {
                    valType: "enumerated",
                    dflt: "pixel",
                    values: ["pixel", i.idRegex.y.toString()],
                    editType: "calc"
                },
                xref: {
                    valType: "enumerated",
                    values: ["paper", i.idRegex.x.toString()],
                    editType: "calc"
                },
                x: {
                    valType: "any",
                    editType: "calc+arraydraw"
                },
                xanchor: {
                    valType: "enumerated",
                    values: ["auto", "left", "center", "right"],
                    dflt: "auto",
                    editType: "calc+arraydraw"
                },
                xshift: {
                    valType: "number",
                    dflt: 0,
                    editType: "calc+arraydraw"
                },
                yref: {
                    valType: "enumerated",
                    values: ["paper", i.idRegex.y.toString()],
                    editType: "calc"
                },
                y: {
                    valType: "any",
                    editType: "calc+arraydraw"
                },
                yanchor: {
                    valType: "enumerated",
                    values: ["auto", "top", "middle", "bottom"],
                    dflt: "auto",
                    editType: "calc+arraydraw"
                },
                yshift: {
                    valType: "number",
                    dflt: 0,
                    editType: "calc+arraydraw"
                },
                clicktoshow: {
                    valType: "enumerated",
                    values: [!1, "onoff", "onout"],
                    dflt: !1,
                    editType: "arraydraw"
                },
                xclick: {
                    valType: "any",
                    editType: "arraydraw"
                },
                yclick: {
                    valType: "any",
                    editType: "arraydraw"
                },
                hovertext: {
                    valType: "string",
                    editType: "arraydraw"
                },
                hoverlabel: {
                    bgcolor: {
                        valType: "color",
                        editType: "arraydraw"
                    },
                    bordercolor: {
                        valType: "color",
                        editType: "arraydraw"
                    },
                    font: a({
                        editType: "arraydraw"
                    }),
                    editType: "arraydraw"
                },
                captureevents: {
                    valType: "boolean",
                    editType: "arraydraw"
                },
                editType: "calc",
                _deprecated: {
                    ref: {
                        valType: "string",
                        editType: "calc"
                    }
                }
            })
        }
        , {
            "../../constants/axis_placeable_objects": 341,
            "../../plot_api/plot_template": 403,
            "../../plots/cartesian/constants": 421,
            "../../plots/font_attributes": 443,
            "./arrow_paths": 217
        }],
        219: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../plots/cartesian/axes")
              , i = e("./draw").draw;
            function o(e) {
                var t = e._fullLayout;
                n.filterVisible(t.annotations).forEach((function(t) {
                    var r = a.getFromId(e, t.xref)
                      , n = a.getFromId(e, t.yref)
                      , i = a.getRefType(t.xref)
                      , o = a.getRefType(t.yref);
                    t._extremes = {},
                    "range" === i && s(t, r),
                    "range" === o && s(t, n)
                }
                ))
            }
            function s(e, t) {
                var r, n = t._id, i = n.charAt(0), o = e[i], s = e["a" + i], l = e[i + "ref"], c = e["a" + i + "ref"], u = e["_" + i + "padplus"], f = e["_" + i + "padminus"], d = {
                    x: 1,
                    y: -1
                }[i] * e[i + "shift"], h = 3 * e.arrowsize * e.arrowwidth || 0, p = h + d, g = h - d, y = 3 * e.startarrowsize * e.arrowwidth || 0, v = y + d, m = y - d;
                if (c === l) {
                    var b = a.findExtremes(t, [t.r2c(o)], {
                        ppadplus: p,
                        ppadminus: g
                    })
                      , x = a.findExtremes(t, [t.r2c(s)], {
                        ppadplus: Math.max(u, v),
                        ppadminus: Math.max(f, m)
                    });
                    r = {
                        min: [b.min[0], x.min[0]],
                        max: [b.max[0], x.max[0]]
                    }
                } else
                    v = s ? v + s : v,
                    m = s ? m - s : m,
                    r = a.findExtremes(t, [t.r2c(o)], {
                        ppadplus: Math.max(u, p, v),
                        ppadminus: Math.max(f, g, m)
                    });
                e._extremes[n] = r
            }
            t.exports = function(e) {
                var t = e._fullLayout;
                if (n.filterVisible(t.annotations).length && e._fullData.length)
                    return n.syncOrAsync([i, o], e)
            }
        }
        , {
            "../../lib": 365,
            "../../plots/cartesian/axes": 414,
            "./draw": 224
        }],
        220: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../registry")
              , i = e("../../plot_api/plot_template").arrayEditor;
            function o(e, t) {
                var r, n, a, i, o, l, c, u = e._fullLayout.annotations, f = [], d = [], h = [], p = (t || []).length;
                for (r = 0; r < u.length; r++)
                    if (i = (a = u[r]).clicktoshow) {
                        for (n = 0; n < p; n++)
                            if (l = (o = t[n]).xaxis,
                            c = o.yaxis,
                            l._id === a.xref && c._id === a.yref && l.d2r(o.x) === s(a._xclick, l) && c.d2r(o.y) === s(a._yclick, c)) {
                                (a.visible ? "onout" === i ? d : h : f).push(r);
                                break
                            }
                        n === p && a.visible && "onout" === i && d.push(r)
                    }
                return {
                    on: f,
                    off: d,
                    explicitOff: h
                }
            }
            function s(e, t) {
                return "log" === t.type ? t.l2r(e) : t.d2r(e)
            }
            t.exports = {
                hasClickToShow: function(e, t) {
                    var r = o(e, t);
                    return r.on.length > 0 || r.explicitOff.length > 0
                },
                onClick: function(e, t) {
                    var r, s, l = o(e, t), c = l.on, u = l.off.concat(l.explicitOff), f = {}, d = e._fullLayout.annotations;
                    if (!c.length && !u.length)
                        return;
                    for (r = 0; r < c.length; r++)
                        (s = i(e.layout, "annotations", d[c[r]])).modifyItem("visible", !0),
                        n.extendFlat(f, s.getUpdateObj());
                    for (r = 0; r < u.length; r++)
                        (s = i(e.layout, "annotations", d[u[r]])).modifyItem("visible", !1),
                        n.extendFlat(f, s.getUpdateObj());
                    return a.call("update", e, {}, f)
                }
            }
        }
        , {
            "../../lib": 365,
            "../../plot_api/plot_template": 403,
            "../../registry": 451
        }],
        221: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../color");
            t.exports = function(e, t, r, i) {
                i("opacity");
                var o = i("bgcolor")
                  , s = i("bordercolor")
                  , l = a.opacity(s);
                i("borderpad");
                var c = i("borderwidth")
                  , u = i("showarrow");
                if (i("text", u ? " " : r._dfltTitle.annotation),
                i("textangle"),
                n.coerceFont(i, "font", r.font),
                i("width"),
                i("align"),
                i("height") && i("valign"),
                u) {
                    var f, d, h = i("arrowside");
                    -1 !== h.indexOf("end") && (f = i("arrowhead"),
                    d = i("arrowsize")),
                    -1 !== h.indexOf("start") && (i("startarrowhead", f),
                    i("startarrowsize", d)),
                    i("arrowcolor", l ? t.bordercolor : a.defaultLine),
                    i("arrowwidth", 2 * (l && c || 1)),
                    i("standoff"),
                    i("startstandoff")
                }
                var p = i("hovertext")
                  , g = r.hoverlabel || {};
                if (p) {
                    var y = i("hoverlabel.bgcolor", g.bgcolor || (a.opacity(o) ? a.rgb(o) : a.defaultLine))
                      , v = i("hoverlabel.bordercolor", g.bordercolor || a.contrast(y));
                    n.coerceFont(i, "hoverlabel.font", {
                        family: g.font.family,
                        size: g.font.size,
                        color: g.font.color || v
                    })
                }
                i("captureevents", !!p)
            }
        }
        , {
            "../../lib": 365,
            "../color": 235
        }],
        222: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("../../lib/to_log_range");
            t.exports = function(e, t, r, i) {
                t = t || {};
                var o = "log" === r && "linear" === t.type
                  , s = "linear" === r && "log" === t.type;
                if (o || s)
                    for (var l, c, u = e._fullLayout.annotations, f = t._id.charAt(0), d = 0; d < u.length; d++)
                        l = u[d],
                        c = "annotations[" + d + "].",
                        l[f + "ref"] === t._id && h(f),
                        l["a" + f + "ref"] === t._id && h("a" + f);
                function h(e) {
                    var r = l[e]
                      , s = null;
                    s = o ? a(r, t.range) : Math.pow(10, r),
                    n(s) || (s = null),
                    i(c + e, s)
                }
            }
        }
        , {
            "../../lib/to_log_range": 392,
            "fast-isnumeric": 107
        }],
        223: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../plots/cartesian/axes")
              , i = e("../../plots/array_container_defaults")
              , o = e("./common_defaults")
              , s = e("./attributes");
            function l(e, t, r) {
                function i(r, a) {
                    return n.coerce(e, t, s, r, a)
                }
                var l = i("visible")
                  , c = i("clicktoshow");
                if (l || c) {
                    o(e, t, r, i);
                    for (var u = t.showarrow, f = ["x", "y"], d = [-10, -30], h = {
                        _fullLayout: r
                    }, p = 0; p < 2; p++) {
                        var g = f[p]
                          , y = a.coerceRef(e, t, h, g, "", "paper");
                        if ("paper" !== y)
                            a.getFromId(h, y)._annIndices.push(t._index);
                        if (a.coercePosition(t, h, i, y, g, .5),
                        u) {
                            var v = "a" + g
                              , m = a.coerceRef(e, t, h, v, "pixel", ["pixel", "paper"]);
                            "pixel" !== m && m !== y && (m = t[v] = "pixel");
                            var b = "pixel" === m ? d[p] : .4;
                            a.coercePosition(t, h, i, m, v, b)
                        }
                        i(g + "anchor"),
                        i(g + "shift")
                    }
                    if (n.noneOrAll(e, t, ["x", "y"]),
                    u && n.noneOrAll(e, t, ["ax", "ay"]),
                    c) {
                        var x = i("xclick")
                          , _ = i("yclick");
                        t._xclick = void 0 === x ? t.x : a.cleanPosition(x, h, t.xref),
                        t._yclick = void 0 === _ ? t.y : a.cleanPosition(_, h, t.yref)
                    }
                }
            }
            t.exports = function(e, t) {
                i(e, t, {
                    name: "annotations",
                    handleItemDefaults: l
                })
            }
        }
        , {
            "../../lib": 365,
            "../../plots/array_container_defaults": 409,
            "../../plots/cartesian/axes": 414,
            "./attributes": 218,
            "./common_defaults": 221
        }],
        224: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../../registry")
              , i = e("../../plots/plots")
              , o = e("../../lib")
              , s = o.strTranslate
              , l = e("../../plots/cartesian/axes")
              , c = e("../color")
              , u = e("../drawing")
              , f = e("../fx")
              , d = e("../../lib/svg_text_utils")
              , h = e("../../lib/setcursor")
              , p = e("../dragelement")
              , g = e("../../plot_api/plot_template").arrayEditor
              , y = e("./draw_arrow_head");
            function v(e, t) {
                var r = e._fullLayout.annotations[t] || {}
                  , n = l.getFromId(e, r.xref)
                  , a = l.getFromId(e, r.yref);
                n && n.setScale(),
                a && a.setScale(),
                b(e, r, t, !1, n, a)
            }
            function m(e, t, r, n, a) {
                var i = a[r]
                  , o = a[r + "ref"]
                  , s = -1 !== r.indexOf("y")
                  , c = "domain" === l.getRefType(o)
                  , u = s ? n.h : n.w;
                return e ? c ? i + (s ? -t : t) / e._length : e.p2r(e.r2p(i) + t) : i + (s ? -t : t) / u
            }
            function b(e, t, r, i, v, b) {
                var x, _, w = e._fullLayout, A = e._fullLayout._size, k = e._context.edits;
                i ? (x = "annotation-" + i,
                _ = i + ".annotations") : (x = "annotation",
                _ = "annotations");
                var T = g(e.layout, _, t)
                  , M = T.modifyBase
                  , S = T.modifyItem
                  , C = T.getUpdateObj;
                w._infolayer.selectAll("." + x + '[data-index="' + r + '"]').remove();
                var O = "clip" + w._uid + "_ann" + r;
                if (t._input && !1 !== t.visible) {
                    var D = {
                        x: {},
                        y: {}
                    }
                      , L = +t.textangle || 0
                      , E = w._infolayer.append("g").classed(x, !0).attr("data-index", String(r)).style("opacity", t.opacity)
                      , z = E.append("g").classed("annotation-text-g", !0)
                      , F = k[t.showarrow ? "annotationTail" : "annotationPosition"]
                      , P = t.captureevents || k.annotationText || F
                      , I = z.append("g").style("pointer-events", P ? "all" : null).call(h, "pointer").on("click", (function() {
                        e._dragging = !1,
                        e.emit("plotly_clickannotation", W(n.event))
                    }
                    ));
                    t.hovertext && I.on("mouseover", (function() {
                        var r = t.hoverlabel
                          , n = r.font
                          , a = this.getBoundingClientRect()
                          , i = e.getBoundingClientRect();
                        f.loneHover({
                            x0: a.left - i.left,
                            x1: a.right - i.left,
                            y: (a.top + a.bottom) / 2 - i.top,
                            text: t.hovertext,
                            color: r.bgcolor,
                            borderColor: r.bordercolor,
                            fontFamily: n.family,
                            fontSize: n.size,
                            fontColor: n.color
                        }, {
                            container: w._hoverlayer.node(),
                            outerContainer: w._paper.node(),
                            gd: e
                        })
                    }
                    )).on("mouseout", (function() {
                        f.loneUnhover(w._hoverlayer.node())
                    }
                    ));
                    var N = t.borderwidth
                      , R = t.borderpad
                      , j = N + R
                      , B = I.append("rect").attr("class", "bg").style("stroke-width", N + "px").call(c.stroke, t.bordercolor).call(c.fill, t.bgcolor)
                      , H = t.width || t.height
                      , U = w._topclips.selectAll("#" + O).data(H ? [0] : []);
                    U.enter().append("clipPath").classed("annclip", !0).attr("id", O).append("rect"),
                    U.exit().remove();
                    var Y = t.font
                      , V = w._meta ? o.templateString(t.text, w._meta) : t.text
                      , q = I.append("text").classed("annotation-text", !0).text(V);
                    k.annotationText ? q.call(d.makeEditable, {
                        delegate: I,
                        gd: e
                    }).call(G).on("edit", (function(r) {
                        t.text = r,
                        this.call(G),
                        S("text", r),
                        v && v.autorange && M(v._name + ".autorange", !0),
                        b && b.autorange && M(b._name + ".autorange", !0),
                        a.call("_guiRelayout", e, C())
                    }
                    )) : q.call(G)
                } else
                    n.selectAll("#" + O).remove();
                function W(e) {
                    var n = {
                        index: r,
                        annotation: t._input,
                        fullAnnotation: t,
                        event: e
                    };
                    return i && (n.subplotId = i),
                    n
                }
                function G(r) {
                    return r.call(u.font, Y).attr({
                        "text-anchor": {
                            left: "start",
                            right: "end"
                        }[t.align] || "middle"
                    }),
                    d.convertToTspans(r, e, Z),
                    r
                }
                function Z() {
                    var r = q.selectAll("a");
                    1 === r.size() && r.text() === q.text() && I.insert("a", ":first-child").attr({
                        "xlink:xlink:href": r.attr("xlink:href"),
                        "xlink:xlink:show": r.attr("xlink:show")
                    }).style({
                        cursor: "pointer"
                    }).node().appendChild(B.node());
                    var n = I.select(".annotation-text-math-group")
                      , f = !n.empty()
                      , g = u.bBox((f ? n : q).node())
                      , x = g.width
                      , _ = g.height
                      , T = t.width || x
                      , P = t.height || _
                      , R = Math.round(T + 2 * j)
                      , Y = Math.round(P + 2 * j);
                    function V(e, t) {
                        return "auto" === t && (t = e < 1 / 3 ? "left" : e > 2 / 3 ? "right" : "center"),
                        {
                            center: 0,
                            middle: 0,
                            left: .5,
                            bottom: -.5,
                            right: -.5,
                            top: .5
                        }[t]
                    }
                    for (var G = !1, Z = ["x", "y"], J = 0; J < Z.length; J++) {
                        var X, Q, $, K, ee, te = Z[J], re = t[te + "ref"] || te, ne = t["a" + te + "ref"], ae = {
                            x: v,
                            y: b
                        }[te], ie = (L + ("x" === te ? 0 : -90)) * Math.PI / 180, oe = R * Math.cos(ie), se = Y * Math.sin(ie), le = Math.abs(oe) + Math.abs(se), ce = t[te + "anchor"], ue = t[te + "shift"] * ("x" === te ? 1 : -1), fe = D[te], de = l.getRefType(re);
                        if (ae && "domain" !== de) {
                            var he = ae.r2fraction(t[te]);
                            (he < 0 || he > 1) && (ne === re ? ((he = ae.r2fraction(t["a" + te])) < 0 || he > 1) && (G = !0) : G = !0),
                            X = ae._offset + ae.r2p(t[te]),
                            K = .5
                        } else {
                            var pe = "domain" === de;
                            "x" === te ? ($ = t[te],
                            X = pe ? ae._offset + ae._length * $ : X = A.l + A.w * $) : ($ = 1 - t[te],
                            X = pe ? ae._offset + ae._length * $ : X = A.t + A.h * $),
                            K = t.showarrow ? .5 : $
                        }
                        if (t.showarrow) {
                            fe.head = X;
                            var ge = t["a" + te];
                            if (ee = oe * V(.5, t.xanchor) - se * V(.5, t.yanchor),
                            ne === re) {
                                var ye = l.getRefType(ne);
                                "domain" === ye ? ("y" === te && (ge = 1 - ge),
                                fe.tail = ae._offset + ae._length * ge) : "paper" === ye ? "y" === te ? (ge = 1 - ge,
                                fe.tail = A.t + A.h * ge) : fe.tail = A.l + A.w * ge : fe.tail = ae._offset + ae.r2p(ge),
                                Q = ee
                            } else
                                fe.tail = X + ge,
                                Q = ee + ge;
                            fe.text = fe.tail + ee;
                            var ve = w["x" === te ? "width" : "height"];
                            if ("paper" === re && (fe.head = o.constrain(fe.head, 1, ve - 1)),
                            "pixel" === ne) {
                                var me = -Math.max(fe.tail - 3, fe.text)
                                  , be = Math.min(fe.tail + 3, fe.text) - ve;
                                me > 0 ? (fe.tail += me,
                                fe.text += me) : be > 0 && (fe.tail -= be,
                                fe.text -= be)
                            }
                            fe.tail += ue,
                            fe.head += ue
                        } else
                            Q = ee = le * V(K, ce),
                            fe.text = X + ee;
                        fe.text += ue,
                        ee += ue,
                        Q += ue,
                        t["_" + te + "padplus"] = le / 2 + Q,
                        t["_" + te + "padminus"] = le / 2 - Q,
                        t["_" + te + "size"] = le,
                        t["_" + te + "shift"] = ee
                    }
                    if (G)
                        I.remove();
                    else {
                        var xe = 0
                          , _e = 0;
                        if ("left" !== t.align && (xe = (T - x) * ("center" === t.align ? .5 : 1)),
                        "top" !== t.valign && (_e = (P - _) * ("middle" === t.valign ? .5 : 1)),
                        f)
                            n.select("svg").attr({
                                x: j + xe - 1,
                                y: j + _e
                            }).call(u.setClipUrl, H ? O : null, e);
                        else {
                            var we = j + _e - g.top
                              , Ae = j + xe - g.left;
                            q.call(d.positionText, Ae, we).call(u.setClipUrl, H ? O : null, e)
                        }
                        U.select("rect").call(u.setRect, j, j, T, P),
                        B.call(u.setRect, N / 2, N / 2, R - N, Y - N),
                        I.call(u.setTranslate, Math.round(D.x.text - R / 2), Math.round(D.y.text - Y / 2)),
                        z.attr({
                            transform: "rotate(" + L + "," + D.x.text + "," + D.y.text + ")"
                        });
                        var ke, Te = function(r, n) {
                            E.selectAll(".annotation-arrow-g").remove();
                            var l = D.x.head
                              , f = D.y.head
                              , d = D.x.tail + r
                              , h = D.y.tail + n
                              , g = D.x.text + r
                              , x = D.y.text + n
                              , _ = o.rotationXYMatrix(L, g, x)
                              , w = o.apply2DTransform(_)
                              , T = o.apply2DTransform2(_)
                              , O = +B.attr("width")
                              , F = +B.attr("height")
                              , P = g - .5 * O
                              , N = P + O
                              , R = x - .5 * F
                              , j = R + F
                              , H = [[P, R, P, j], [P, j, N, j], [N, j, N, R], [N, R, P, R]].map(T);
                            if (!H.reduce((function(e, t) {
                                return e ^ !!o.segmentsIntersect(l, f, l + 1e6, f + 1e6, t[0], t[1], t[2], t[3])
                            }
                            ), !1)) {
                                H.forEach((function(e) {
                                    var t = o.segmentsIntersect(d, h, l, f, e[0], e[1], e[2], e[3]);
                                    t && (d = t.x,
                                    h = t.y)
                                }
                                ));
                                var U = t.arrowwidth
                                  , Y = t.arrowcolor
                                  , V = t.arrowside
                                  , q = E.append("g").style({
                                    opacity: c.opacity(Y)
                                }).classed("annotation-arrow-g", !0)
                                  , W = q.append("path").attr("d", "M" + d + "," + h + "L" + l + "," + f).style("stroke-width", U + "px").call(c.stroke, c.rgb(Y));
                                if (y(W, V, t),
                                k.annotationPosition && W.node().parentNode && !i) {
                                    var G = l
                                      , Z = f;
                                    if (t.standoff) {
                                        var J = Math.sqrt(Math.pow(l - d, 2) + Math.pow(f - h, 2));
                                        G += t.standoff * (d - l) / J,
                                        Z += t.standoff * (h - f) / J
                                    }
                                    var X, Q, $ = q.append("path").classed("annotation-arrow", !0).classed("anndrag", !0).classed("cursor-move", !0).attr({
                                        d: "M3,3H-3V-3H3ZM0,0L" + (d - G) + "," + (h - Z),
                                        transform: s(G, Z)
                                    }).style("stroke-width", U + 6 + "px").call(c.stroke, "rgba(0,0,0,0)").call(c.fill, "rgba(0,0,0,0)");
                                    p.init({
                                        element: $.node(),
                                        gd: e,
                                        prepFn: function() {
                                            var e = u.getTranslate(I);
                                            X = e.x,
                                            Q = e.y,
                                            v && v.autorange && M(v._name + ".autorange", !0),
                                            b && b.autorange && M(b._name + ".autorange", !0)
                                        },
                                        moveFn: function(e, r) {
                                            var n = w(X, Q)
                                              , a = n[0] + e
                                              , i = n[1] + r;
                                            I.call(u.setTranslate, a, i),
                                            S("x", m(v, e, "x", A, t)),
                                            S("y", m(b, r, "y", A, t)),
                                            t.axref === t.xref && S("ax", m(v, e, "ax", A, t)),
                                            t.ayref === t.yref && S("ay", m(b, r, "ay", A, t)),
                                            q.attr("transform", s(e, r)),
                                            z.attr({
                                                transform: "rotate(" + L + "," + a + "," + i + ")"
                                            })
                                        },
                                        doneFn: function() {
                                            a.call("_guiRelayout", e, C());
                                            var t = document.querySelector(".js-notes-box-panel");
                                            t && t.redraw(t.selectedObj)
                                        }
                                    })
                                }
                            }
                        };
                        if (t.showarrow && Te(0, 0),
                        F)
                            p.init({
                                element: I.node(),
                                gd: e,
                                prepFn: function() {
                                    ke = z.attr("transform")
                                },
                                moveFn: function(e, r) {
                                    var n = "pointer";
                                    if (t.showarrow)
                                        t.axref === t.xref ? S("ax", m(v, e, "ax", A, t)) : S("ax", t.ax + e),
                                        t.ayref === t.yref ? S("ay", m(b, r, "ay", A.w, t)) : S("ay", t.ay + r),
                                        Te(e, r);
                                    else {
                                        if (i)
                                            return;
                                        var a, o;
                                        if (v)
                                            a = m(v, e, "x", A, t);
                                        else {
                                            var l = t._xsize / A.w
                                              , c = t.x + (t._xshift - t.xshift) / A.w - l / 2;
                                            a = p.align(c + e / A.w, l, 0, 1, t.xanchor)
                                        }
                                        if (b)
                                            o = m(b, r, "y", A, t);
                                        else {
                                            var u = t._ysize / A.h
                                              , f = t.y - (t._yshift + t.yshift) / A.h - u / 2;
                                            o = p.align(f - r / A.h, u, 0, 1, t.yanchor)
                                        }
                                        S("x", a),
                                        S("y", o),
                                        v && b || (n = p.getCursor(v ? .5 : a, b ? .5 : o, t.xanchor, t.yanchor))
                                    }
                                    z.attr({
                                        transform: s(e, r) + ke
                                    }),
                                    h(I, n)
                                },
                                clickFn: function(r, n) {
                                    t.captureevents && e.emit("plotly_clickannotation", W(n))
                                },
                                doneFn: function() {
                                    h(I),
                                    a.call("_guiRelayout", e, C());
                                    var t = document.querySelector(".js-notes-box-panel");
                                    t && t.redraw(t.selectedObj)
                                }
                            })
                    }
                }
            }
            t.exports = {
                draw: function(e) {
                    var t = e._fullLayout;
                    t._infolayer.selectAll(".annotation").remove();
                    for (var r = 0; r < t.annotations.length; r++)
                        t.annotations[r].visible && v(e, r);
                    return i.previousPromises(e)
                },
                drawOne: v,
                drawRaw: b
            }
        }
        , {
            "../../lib": 365,
            "../../lib/setcursor": 386,
            "../../lib/svg_text_utils": 390,
            "../../plot_api/plot_template": 403,
            "../../plots/cartesian/axes": 414,
            "../../plots/plots": 449,
            "../../registry": 451,
            "../color": 235,
            "../dragelement": 254,
            "../drawing": 257,
            "../fx": 275,
            "./draw_arrow_head": 225,
            "@plotly/d3": 6
        }],
        225: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../color")
              , i = e("./arrow_paths")
              , o = e("../../lib")
              , s = o.strScale
              , l = o.strRotate
              , c = o.strTranslate;
            t.exports = function(e, t, r) {
                var o, u, f, d, h = e.node(), p = i[r.arrowhead || 0], g = i[r.startarrowhead || 0], y = (r.arrowwidth || 1) * (r.arrowsize || 1), v = (r.arrowwidth || 1) * (r.startarrowsize || 1), m = t.indexOf("start") >= 0, b = t.indexOf("end") >= 0, x = p.backoff * y + r.standoff, _ = g.backoff * v + r.startstandoff;
                if ("line" === h.nodeName) {
                    o = {
                        x: +e.attr("x1"),
                        y: +e.attr("y1")
                    },
                    u = {
                        x: +e.attr("x2"),
                        y: +e.attr("y2")
                    };
                    var w = o.x - u.x
                      , A = o.y - u.y;
                    if (d = (f = Math.atan2(A, w)) + Math.PI,
                    x && _ && x + _ > Math.sqrt(w * w + A * A))
                        return void F();
                    if (x) {
                        if (x * x > w * w + A * A)
                            return void F();
                        var k = x * Math.cos(f)
                          , T = x * Math.sin(f);
                        u.x += k,
                        u.y += T,
                        e.attr({
                            x2: u.x,
                            y2: u.y
                        })
                    }
                    if (_) {
                        if (_ * _ > w * w + A * A)
                            return void F();
                        var M = _ * Math.cos(f)
                          , S = _ * Math.sin(f);
                        o.x -= M,
                        o.y -= S,
                        e.attr({
                            x1: o.x,
                            y1: o.y
                        })
                    }
                } else if ("path" === h.nodeName) {
                    var C = h.getTotalLength()
                      , O = "";
                    if (C < x + _)
                        return void F();
                    var D = h.getPointAtLength(0)
                      , L = h.getPointAtLength(.1);
                    f = Math.atan2(D.y - L.y, D.x - L.x),
                    o = h.getPointAtLength(Math.min(_, C)),
                    O = "0px," + _ + "px,";
                    var E = h.getPointAtLength(C)
                      , z = h.getPointAtLength(C - .1);
                    d = Math.atan2(E.y - z.y, E.x - z.x),
                    u = h.getPointAtLength(Math.max(0, C - x)),
                    O += C - (O ? _ + x : x) + "px," + C + "px",
                    e.style("stroke-dasharray", O)
                }
                function F() {
                    e.style("stroke-dasharray", "0px,100px")
                }
                function P(t, i, o, u) {
                    t.path && (t.noRotate && (o = 0),
                    n.select(h.parentNode).append("path").attr({
                        class: e.attr("class"),
                        d: t.path,
                        transform: c(i.x, i.y) + l(180 * o / Math.PI) + s(u)
                    }).style({
                        fill: a.rgb(r.arrowcolor),
                        "stroke-width": 0
                    }))
                }
                m && P(g, o, f, v),
                b && P(p, u, d, y)
            }
        }
        , {
            "../../lib": 365,
            "../color": 235,
            "./arrow_paths": 217,
            "@plotly/d3": 6
        }],
        226: [function(e, t, r) {
            "use strict";
            var n = e("./draw")
              , a = e("./click");
            t.exports = {
                moduleType: "component",
                name: "annotations",
                layoutAttributes: e("./attributes"),
                supplyLayoutDefaults: e("./defaults"),
                includeBasePlot: e("../../plots/cartesian/include_components")("annotations"),
                calcAutorange: e("./calc_autorange"),
                draw: n.draw,
                drawOne: n.drawOne,
                drawRaw: n.drawRaw,
                hasClickToShow: a.hasClickToShow,
                onClick: a.onClick,
                convertCoords: e("./convert_coords")
            }
        }
        , {
            "../../plots/cartesian/include_components": 427,
            "./attributes": 218,
            "./calc_autorange": 219,
            "./click": 220,
            "./convert_coords": 222,
            "./defaults": 223,
            "./draw": 224
        }],
        227: [function(e, t, r) {
            "use strict";
            var n = e("../annotations/attributes")
              , a = e("../../plot_api/edit_types").overrideAll
              , i = e("../../plot_api/plot_template").templatedArray;
            t.exports = a(i("annotation", {
                visible: n.visible,
                x: {
                    valType: "any"
                },
                y: {
                    valType: "any"
                },
                z: {
                    valType: "any"
                },
                ax: {
                    valType: "number"
                },
                ay: {
                    valType: "number"
                },
                xanchor: n.xanchor,
                xshift: n.xshift,
                yanchor: n.yanchor,
                yshift: n.yshift,
                text: n.text,
                textangle: n.textangle,
                font: n.font,
                width: n.width,
                height: n.height,
                opacity: n.opacity,
                align: n.align,
                valign: n.valign,
                bgcolor: n.bgcolor,
                bordercolor: n.bordercolor,
                borderpad: n.borderpad,
                borderwidth: n.borderwidth,
                showarrow: n.showarrow,
                arrowcolor: n.arrowcolor,
                arrowhead: n.arrowhead,
                startarrowhead: n.startarrowhead,
                arrowside: n.arrowside,
                arrowsize: n.arrowsize,
                startarrowsize: n.startarrowsize,
                arrowwidth: n.arrowwidth,
                standoff: n.standoff,
                startstandoff: n.startstandoff,
                hovertext: n.hovertext,
                hoverlabel: n.hoverlabel,
                captureevents: n.captureevents
            }), "calc", "from-root")
        }
        , {
            "../../plot_api/edit_types": 396,
            "../../plot_api/plot_template": 403,
            "../annotations/attributes": 218
        }],
        228: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../plots/cartesian/axes");
            function i(e, t) {
                var r = t.fullSceneLayout.domain
                  , i = t.fullLayout._size
                  , o = {
                    pdata: null,
                    type: "linear",
                    autorange: !1,
                    range: [-1 / 0, 1 / 0]
                };
                e._xa = {},
                n.extendFlat(e._xa, o),
                a.setConvert(e._xa),
                e._xa._offset = i.l + r.x[0] * i.w,
                e._xa.l2p = function() {
                    return .5 * (1 + e._pdata[0] / e._pdata[3]) * i.w * (r.x[1] - r.x[0])
                }
                ,
                e._ya = {},
                n.extendFlat(e._ya, o),
                a.setConvert(e._ya),
                e._ya._offset = i.t + (1 - r.y[1]) * i.h,
                e._ya.l2p = function() {
                    return .5 * (1 - e._pdata[1] / e._pdata[3]) * i.h * (r.y[1] - r.y[0])
                }
            }
            t.exports = function(e) {
                for (var t = e.fullSceneLayout.annotations, r = 0; r < t.length; r++)
                    i(t[r], e);
                e.fullLayout._infolayer.selectAll(".annotation-" + e.id).remove()
            }
        }
        , {
            "../../lib": 365,
            "../../plots/cartesian/axes": 414
        }],
        229: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../plots/cartesian/axes")
              , i = e("../../plots/array_container_defaults")
              , o = e("../annotations/common_defaults")
              , s = e("./attributes");
            function l(e, t, r, i) {
                function l(r, a) {
                    return n.coerce(e, t, s, r, a)
                }
                function c(e) {
                    var n = e + "axis"
                      , i = {
                        _fullLayout: {}
                    };
                    return i._fullLayout[n] = r[n],
                    a.coercePosition(t, i, l, e, e, .5)
                }
                l("visible") && (o(e, t, i.fullLayout, l),
                c("x"),
                c("y"),
                c("z"),
                n.noneOrAll(e, t, ["x", "y", "z"]),
                t.xref = "x",
                t.yref = "y",
                t.zref = "z",
                l("xanchor"),
                l("yanchor"),
                l("xshift"),
                l("yshift"),
                t.showarrow && (t.axref = "pixel",
                t.ayref = "pixel",
                l("ax", -10),
                l("ay", -30),
                n.noneOrAll(e, t, ["ax", "ay"])))
            }
            t.exports = function(e, t, r) {
                i(e, t, {
                    name: "annotations",
                    handleItemDefaults: l,
                    fullLayout: r.fullLayout
                })
            }
        }
        , {
            "../../lib": 365,
            "../../plots/array_container_defaults": 409,
            "../../plots/cartesian/axes": 414,
            "../annotations/common_defaults": 221,
            "./attributes": 227
        }],
        230: [function(e, t, r) {
            "use strict";
            var n = e("../annotations/draw").drawRaw
              , a = e("../../plots/gl3d/project")
              , i = ["x", "y", "z"];
            t.exports = function(e) {
                for (var t = e.fullSceneLayout, r = e.dataScale, o = t.annotations, s = 0; s < o.length; s++) {
                    for (var l = o[s], c = !1, u = 0; u < 3; u++) {
                        var f = i[u]
                          , d = l[f]
                          , h = t[f + "axis"].r2fraction(d);
                        if (h < 0 || h > 1) {
                            c = !0;
                            break
                        }
                    }
                    c ? e.fullLayout._infolayer.select(".annotation-" + e.id + '[data-index="' + s + '"]').remove() : (l._pdata = a(e.glplot.cameraParams, [t.xaxis.r2l(l.x) * r[0], t.yaxis.r2l(l.y) * r[1], t.zaxis.r2l(l.z) * r[2]]),
                    n(e.graphDiv, l, s, e.id, l._xa, l._ya))
                }
            }
        }
        , {
            "../../plots/gl3d/project": 446,
            "../annotations/draw": 224
        }],
        231: [function(e, t, r) {
            "use strict";
            var n = e("../../registry")
              , a = e("../../lib");
            t.exports = {
                moduleType: "component",
                name: "annotations3d",
                schema: {
                    subplots: {
                        scene: {
                            annotations: e("./attributes")
                        }
                    }
                },
                layoutAttributes: e("./attributes"),
                handleDefaults: e("./defaults"),
                includeBasePlot: function(e, t) {
                    var r = n.subplotsRegistry.gl3d;
                    if (!r)
                        return;
                    for (var i = r.attrRegex, o = Object.keys(e), s = 0; s < o.length; s++) {
                        var l = o[s];
                        i.test(l) && (e[l].annotations || []).length && (a.pushUnique(t._basePlotModules, r),
                        a.pushUnique(t._subplots.gl3d, l))
                    }
                },
                convert: e("./convert"),
                draw: e("./draw")
            }
        }
        , {
            "../../lib": 365,
            "../../registry": 451,
            "./attributes": 227,
            "./convert": 228,
            "./defaults": 229,
            "./draw": 230
        }],
        232: [function(e, t, r) {
            "use strict";
            t.exports = e("world-calendars/dist/main"),
            e("world-calendars/dist/plus"),
            e("world-calendars/dist/calendars/chinese"),
            e("world-calendars/dist/calendars/coptic"),
            e("world-calendars/dist/calendars/discworld"),
            e("world-calendars/dist/calendars/ethiopian"),
            e("world-calendars/dist/calendars/hebrew"),
            e("world-calendars/dist/calendars/islamic"),
            e("world-calendars/dist/calendars/julian"),
            e("world-calendars/dist/calendars/mayan"),
            e("world-calendars/dist/calendars/nanakshahi"),
            e("world-calendars/dist/calendars/nepali"),
            e("world-calendars/dist/calendars/persian"),
            e("world-calendars/dist/calendars/taiwan"),
            e("world-calendars/dist/calendars/thai"),
            e("world-calendars/dist/calendars/ummalqura")
        }
        , {
            "world-calendars/dist/calendars/chinese": 201,
            "world-calendars/dist/calendars/coptic": 202,
            "world-calendars/dist/calendars/discworld": 203,
            "world-calendars/dist/calendars/ethiopian": 204,
            "world-calendars/dist/calendars/hebrew": 205,
            "world-calendars/dist/calendars/islamic": 206,
            "world-calendars/dist/calendars/julian": 207,
            "world-calendars/dist/calendars/mayan": 208,
            "world-calendars/dist/calendars/nanakshahi": 209,
            "world-calendars/dist/calendars/nepali": 210,
            "world-calendars/dist/calendars/persian": 211,
            "world-calendars/dist/calendars/taiwan": 212,
            "world-calendars/dist/calendars/thai": 213,
            "world-calendars/dist/calendars/ummalqura": 214,
            "world-calendars/dist/main": 215,
            "world-calendars/dist/plus": 216
        }],
        233: [function(e, t, r) {
            "use strict";
            var n = e("./calendars")
              , a = e("../../lib")
              , i = e("../../constants/numerical")
              , o = i.EPOCHJD
              , s = i.ONEDAY
              , l = {
                valType: "enumerated",
                values: a.sortObjectKeys(n.calendars),
                editType: "calc",
                dflt: "gregorian"
            }
              , c = function(e, t, r, n) {
                var i = {};
                return i[r] = l,
                a.coerce(e, t, i, r, n)
            }
              , u = {
                d: {
                    0: "dd",
                    "-": "d"
                },
                e: {
                    0: "d",
                    "-": "d"
                },
                a: {
                    0: "D",
                    "-": "D"
                },
                A: {
                    0: "DD",
                    "-": "DD"
                },
                j: {
                    0: "oo",
                    "-": "o"
                },
                W: {
                    0: "ww",
                    "-": "w"
                },
                m: {
                    0: "mm",
                    "-": "m"
                },
                b: {
                    0: "M",
                    "-": "M"
                },
                B: {
                    0: "MM",
                    "-": "MM"
                },
                y: {
                    0: "yy",
                    "-": "yy"
                },
                Y: {
                    0: "yyyy",
                    "-": "yyyy"
                },
                U: "##",
                w: "##",
                c: {
                    0: "D M d %X yyyy",
                    "-": "D M d %X yyyy"
                },
                x: {
                    0: "mm/dd/yyyy",
                    "-": "mm/dd/yyyy"
                }
            };
            var f = {};
            function d(e) {
                var t = f[e];
                return t || (t = f[e] = n.instance(e))
            }
            function h(e) {
                return a.extendFlat({}, l, {
                    description: e
                })
            }
            function p(e) {
                return "Sets the calendar system to use with `" + e + "` date data."
            }
            var g = {
                xcalendar: h(p("x"))
            }
              , y = a.extendFlat({}, g, {
                ycalendar: h(p("y"))
            })
              , v = a.extendFlat({}, y, {
                zcalendar: h(p("z"))
            })
              , m = h(["Sets the calendar system to use for `range` and `tick0`", "if this is a date axis. This does not set the calendar for", "interpreting data on this axis, that's specified in the trace", "or via the global `layout.calendar`"].join(" "));
            t.exports = {
                moduleType: "component",
                name: "calendars",
                schema: {
                    traces: {
                        scatter: y,
                        bar: y,
                        box: y,
                        heatmap: y,
                        contour: y,
                        histogram: y,
                        histogram2d: y,
                        histogram2dcontour: y,
                        scatter3d: v,
                        surface: v,
                        mesh3d: v,
                        scattergl: y,
                        ohlc: g,
                        candlestick: g
                    },
                    layout: {
                        calendar: h(["Sets the default calendar system to use for interpreting and", "displaying dates throughout the plot."].join(" "))
                    },
                    subplots: {
                        xaxis: {
                            calendar: m
                        },
                        yaxis: {
                            calendar: m
                        },
                        scene: {
                            xaxis: {
                                calendar: m
                            },
                            yaxis: {
                                calendar: m
                            },
                            zaxis: {
                                calendar: m
                            }
                        },
                        polar: {
                            radialaxis: {
                                calendar: m
                            }
                        }
                    },
                    transforms: {
                        filter: {
                            valuecalendar: h(["WARNING: All transforms are deprecated and may be removed from the API in next major version.", "Sets the calendar system to use for `value`, if it is a date."].join(" ")),
                            targetcalendar: h(["WARNING: All transforms are deprecated and may be removed from the API in next major version.", "Sets the calendar system to use for `target`, if it is an", "array of dates. If `target` is a string (eg *x*) we use the", "corresponding trace attribute (eg `xcalendar`) if it exists,", "even if `targetcalendar` is provided."].join(" "))
                        }
                    }
                },
                layoutAttributes: l,
                handleDefaults: c,
                handleTraceDefaults: function(e, t, r, n) {
                    for (var a = 0; a < r.length; a++)
                        c(e, t, r[a] + "calendar", n.calendar)
                },
                CANONICAL_SUNDAY: {
                    chinese: "2000-01-02",
                    coptic: "2000-01-03",
                    discworld: "2000-01-03",
                    ethiopian: "2000-01-05",
                    hebrew: "5000-01-01",
                    islamic: "1000-01-02",
                    julian: "2000-01-03",
                    mayan: "5000-01-01",
                    nanakshahi: "1000-01-05",
                    nepali: "2000-01-05",
                    persian: "1000-01-01",
                    jalali: "1000-01-01",
                    taiwan: "1000-01-04",
                    thai: "2000-01-04",
                    ummalqura: "1400-01-06"
                },
                CANONICAL_TICK: {
                    chinese: "2000-01-01",
                    coptic: "2000-01-01",
                    discworld: "2000-01-01",
                    ethiopian: "2000-01-01",
                    hebrew: "5000-01-01",
                    islamic: "1000-01-01",
                    julian: "2000-01-01",
                    mayan: "5000-01-01",
                    nanakshahi: "1000-01-01",
                    nepali: "2000-01-01",
                    persian: "1000-01-01",
                    jalali: "1000-01-01",
                    taiwan: "1000-01-01",
                    thai: "2000-01-01",
                    ummalqura: "1400-01-01"
                },
                DFLTRANGE: {
                    chinese: ["2000-01-01", "2001-01-01"],
                    coptic: ["1700-01-01", "1701-01-01"],
                    discworld: ["1800-01-01", "1801-01-01"],
                    ethiopian: ["2000-01-01", "2001-01-01"],
                    hebrew: ["5700-01-01", "5701-01-01"],
                    islamic: ["1400-01-01", "1401-01-01"],
                    julian: ["2000-01-01", "2001-01-01"],
                    mayan: ["5200-01-01", "5201-01-01"],
                    nanakshahi: ["0500-01-01", "0501-01-01"],
                    nepali: ["2000-01-01", "2001-01-01"],
                    persian: ["1400-01-01", "1401-01-01"],
                    jalali: ["1400-01-01", "1401-01-01"],
                    taiwan: ["0100-01-01", "0101-01-01"],
                    thai: ["2500-01-01", "2501-01-01"],
                    ummalqura: ["1400-01-01", "1401-01-01"]
                },
                getCal: d,
                worldCalFmt: function(e, t, r) {
                    for (var n, a, i, l, c, f = Math.floor((t + .05) / s) + o, h = d(r).fromJD(f), p = 0; -1 !== (p = e.indexOf("%", p)); )
                        "0" === (n = e.charAt(p + 1)) || "-" === n || "_" === n ? (i = 3,
                        a = e.charAt(p + 2),
                        "_" === n && (n = "-")) : (a = n,
                        n = "0",
                        i = 2),
                        (l = u[a]) ? (c = "##" === l ? "##" : h.formatDate(l[n]),
                        e = e.substr(0, p) + c + e.substr(p + i),
                        p += c.length) : p += i;
                    return e
                }
            }
        }
        , {
            "../../constants/numerical": 344,
            "../../lib": 365,
            "./calendars": 232
        }],
        234: [function(e, t, r) {
            "use strict";
            r.defaults = ["#1f77b4", "#ff7f0e", "#2ca02c", "#d62728", "#9467bd", "#8c564b", "#e377c2", "#7f7f7f", "#bcbd22", "#17becf"],
            r.defaultLine = "#444",
            r.lightLine = "#eee",
            r.background = "#fff",
            r.borderLine = "#BEC8D9",
            r.lightFraction = 1e3 / 11
        }
        , {}],
        235: [function(e, t, r) {
            "use strict";
            var n = e("tinycolor2")
              , a = e("fast-isnumeric")
              , i = e("../../lib/array").isTypedArray
              , o = t.exports = {}
              , s = e("./attributes");
            o.defaults = s.defaults;
            var l = o.defaultLine = s.defaultLine;
            o.lightLine = s.lightLine;
            var c = o.background = s.background;
            function u(e) {
                if (a(e) || "string" != typeof e)
                    return e;
                var t = e.trim();
                if ("rgb" !== t.substr(0, 3))
                    return e;
                var r = t.match(/^rgba?\s*\(([^()]*)\)$/);
                if (!r)
                    return e;
                var n = r[1].trim().split(/\s*[\s,]\s*/)
                  , i = "a" === t.charAt(3) && 4 === n.length;
                if (!i && 3 !== n.length)
                    return e;
                for (var o = 0; o < n.length; o++) {
                    if (!n[o].length)
                        return e;
                    if (n[o] = Number(n[o]),
                    !(n[o] >= 0))
                        return e;
                    if (3 === o)
                        n[o] > 1 && (n[o] = 1);
                    else if (n[o] >= 1)
                        return e
                }
                var s = Math.round(255 * n[0]) + ", " + Math.round(255 * n[1]) + ", " + Math.round(255 * n[2]);
                return i ? "rgba(" + s + ", " + n[3] + ")" : "rgb(" + s + ")"
            }
            o.tinyRGB = function(e) {
                var t = e.toRgb();
                return "rgb(" + Math.round(t.r) + ", " + Math.round(t.g) + ", " + Math.round(t.b) + ")"
            }
            ,
            o.rgb = function(e) {
                return o.tinyRGB(n(e))
            }
            ,
            o.opacity = function(e) {
                return e ? n(e).getAlpha() : 0
            }
            ,
            o.addOpacity = function(e, t) {
                var r = n(e).toRgb();
                return "rgba(" + Math.round(r.r) + ", " + Math.round(r.g) + ", " + Math.round(r.b) + ", " + t + ")"
            }
            ,
            o.combine = function(e, t) {
                var r = n(e).toRgb();
                if (1 === r.a)
                    return n(e).toRgbString();
                var a = n(t || c).toRgb()
                  , i = 1 === a.a ? a : {
                    r: 255 * (1 - a.a) + a.r * a.a,
                    g: 255 * (1 - a.a) + a.g * a.a,
                    b: 255 * (1 - a.a) + a.b * a.a
                }
                  , o = {
                    r: i.r * (1 - r.a) + r.r * r.a,
                    g: i.g * (1 - r.a) + r.g * r.a,
                    b: i.b * (1 - r.a) + r.b * r.a
                };
                return n(o).toRgbString()
            }
            ,
            o.contrast = function(e, t, r) {
                var a = n(e);
                return 1 !== a.getAlpha() && (a = n(o.combine(e, c))),
                (a.isDark() ? t ? a.lighten(t) : c : r ? a.darken(r) : l).toString()
            }
            ,
            o.stroke = function(e, t) {
                var r = n(t);
                e.style({
                    stroke: o.tinyRGB(r),
                    "stroke-opacity": r.getAlpha()
                })
            }
            ,
            o.fill = function(e, t) {
                var r = n(t);
                e.style({
                    fill: o.tinyRGB(r),
                    "fill-opacity": r.getAlpha()
                })
            }
            ,
            o.clean = function(e) {
                if (e && "object" == typeof e) {
                    var t, r, n, a, s = Object.keys(e);
                    for (t = 0; t < s.length; t++)
                        if (a = e[n = s[t]],
                        "color" === n.substr(n.length - 5))
                            if (Array.isArray(a))
                                for (r = 0; r < a.length; r++)
                                    a[r] = u(a[r]);
                            else
                                e[n] = u(a);
                        else if ("colorscale" === n.substr(n.length - 10) && Array.isArray(a))
                            for (r = 0; r < a.length; r++)
                                Array.isArray(a[r]) && (a[r][1] = u(a[r][1]));
                        else if (Array.isArray(a)) {
                            var l = a[0];
                            if (!Array.isArray(l) && l && "object" == typeof l)
                                for (r = 0; r < a.length; r++)
                                    o.clean(a[r])
                        } else
                            a && "object" == typeof a && !i(a) && o.clean(a)
                }
            }
        }
        , {
            "../../lib/array": 350,
            "./attributes": 234,
            "fast-isnumeric": 107,
            tinycolor2: 184
        }],
        236: [function(e, t, r) {
            "use strict";
            var n = e("../../plots/cartesian/layout_attributes")
              , a = e("../../plots/font_attributes")
              , i = e("../../lib/extend").extendFlat
              , o = e("../../plot_api/edit_types").overrideAll;
            t.exports = o({
                thicknessmode: {
                    valType: "enumerated",
                    values: ["fraction", "pixels"],
                    dflt: "pixels"
                },
                thickness: {
                    valType: "number",
                    min: 0,
                    dflt: 30
                },
                lenmode: {
                    valType: "enumerated",
                    values: ["fraction", "pixels"],
                    dflt: "fraction"
                },
                len: {
                    valType: "number",
                    min: 0,
                    dflt: 1
                },
                x: {
                    valType: "number",
                    dflt: 1.02,
                    min: -2,
                    max: 3
                },
                xanchor: {
                    valType: "enumerated",
                    values: ["left", "center", "right"],
                    dflt: "left"
                },
                xpad: {
                    valType: "number",
                    min: 0,
                    dflt: 10
                },
                y: {
                    valType: "number",
                    dflt: .5,
                    min: -2,
                    max: 3
                },
                yanchor: {
                    valType: "enumerated",
                    values: ["top", "middle", "bottom"],
                    dflt: "middle"
                },
                ypad: {
                    valType: "number",
                    min: 0,
                    dflt: 10
                },
                outlinecolor: n.linecolor,
                outlinewidth: n.linewidth,
                bordercolor: n.linecolor,
                borderwidth: {
                    valType: "number",
                    min: 0,
                    dflt: 0
                },
                bgcolor: {
                    valType: "color",
                    dflt: "rgba(0,0,0,0)"
                },
                tickmode: n.tickmode,
                nticks: n.nticks,
                tick0: n.tick0,
                dtick: n.dtick,
                tickvals: n.tickvals,
                ticktext: n.ticktext,
                ticks: i({}, n.ticks, {
                    dflt: ""
                }),
                ticklabeloverflow: i({}, n.ticklabeloverflow, {}),
                ticklabelposition: {
                    valType: "enumerated",
                    values: ["outside", "inside", "outside top", "inside top", "outside bottom", "inside bottom"],
                    dflt: "outside"
                },
                ticklen: n.ticklen,
                tickwidth: n.tickwidth,
                tickcolor: n.tickcolor,
                showticklabels: n.showticklabels,
                tickfont: a({}),
                tickangle: n.tickangle,
                tickformat: n.tickformat,
                tickformatstops: n.tickformatstops,
                tickprefix: n.tickprefix,
                showtickprefix: n.showtickprefix,
                ticksuffix: n.ticksuffix,
                showticksuffix: n.showticksuffix,
                separatethousands: n.separatethousands,
                exponentformat: n.exponentformat,
                minexponent: n.minexponent,
                showexponent: n.showexponent,
                title: {
                    text: {
                        valType: "string"
                    },
                    font: a({}),
                    side: {
                        valType: "enumerated",
                        values: ["right", "top", "bottom"],
                        dflt: "top"
                    }
                },
                _deprecated: {
                    title: {
                        valType: "string"
                    },
                    titlefont: a({}),
                    titleside: {
                        valType: "enumerated",
                        values: ["right", "top", "bottom"],
                        dflt: "top"
                    }
                }
            }, "colorbars", "from-root")
        }
        , {
            "../../lib/extend": 358,
            "../../plot_api/edit_types": 396,
            "../../plots/cartesian/layout_attributes": 429,
            "../../plots/font_attributes": 443
        }],
        237: [function(e, t, r) {
            "use strict";
            t.exports = {
                cn: {
                    colorbar: "colorbar",
                    cbbg: "cbbg",
                    cbfill: "cbfill",
                    cbfills: "cbfills",
                    cbline: "cbline",
                    cblines: "cblines",
                    cbaxis: "cbaxis",
                    cbtitleunshift: "cbtitleunshift",
                    cbtitle: "cbtitle",
                    cboutline: "cboutline",
                    crisp: "crisp",
                    jsPlaceholder: "js-placeholder"
                }
            }
        }
        , {}],
        238: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../plot_api/plot_template")
              , i = e("../../plots/cartesian/tick_value_defaults")
              , o = e("../../plots/cartesian/tick_mark_defaults")
              , s = e("../../plots/cartesian/tick_label_defaults")
              , l = e("./attributes");
            t.exports = function(e, t, r) {
                var c = a.newContainer(t, "colorbar")
                  , u = e.colorbar || {};
                function f(e, t) {
                    return n.coerce(u, c, l, e, t)
                }
                var d = f("thicknessmode");
                f("thickness", "fraction" === d ? 30 / (r.width - r.margin.l - r.margin.r) : 30);
                var h = f("lenmode");
                f("len", "fraction" === h ? 1 : r.height - r.margin.t - r.margin.b),
                f("x"),
                f("xanchor"),
                f("xpad"),
                f("y"),
                f("yanchor"),
                f("ypad"),
                n.noneOrAll(u, c, ["x", "y"]),
                f("outlinecolor"),
                f("outlinewidth"),
                f("bordercolor"),
                f("borderwidth"),
                f("bgcolor");
                var p = f("ticklabelposition");
                f("ticklabeloverflow", -1 !== p.indexOf("inside") ? "hide past domain" : "hide past div"),
                i(u, c, f, "linear");
                var g = r.font
                  , y = {
                    outerTicks: !1,
                    font: g
                };
                -1 !== p.indexOf("inside") && (y.bgColor = "black"),
                s(u, c, f, "linear", y),
                o(u, c, f, "linear", y),
                f("title.text", r._dfltTitle.colorbar);
                var v = c.tickfont
                  , m = n.extendFlat({}, v, {
                    color: g.color,
                    size: n.bigFont(v.size)
                });
                n.coerceFont(f, "title.font", m),
                f("title.side")
            }
        }
        , {
            "../../lib": 365,
            "../../plot_api/plot_template": 403,
            "../../plots/cartesian/tick_label_defaults": 436,
            "../../plots/cartesian/tick_mark_defaults": 437,
            "../../plots/cartesian/tick_value_defaults": 438,
            "./attributes": 236
        }],
        239: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("tinycolor2")
              , i = e("../../plots/plots")
              , o = e("../../registry")
              , s = e("../../plots/cartesian/axes")
              , l = e("../dragelement")
              , c = e("../../lib")
              , u = c.strTranslate
              , f = e("../../lib/extend").extendFlat
              , d = e("../../lib/setcursor")
              , h = e("../drawing")
              , p = e("../color")
              , g = e("../titles")
              , y = e("../../lib/svg_text_utils")
              , v = e("../colorscale/helpers").flipScale
              , m = e("../../plots/cartesian/axis_defaults")
              , b = e("../../plots/cartesian/position_defaults")
              , x = e("../../plots/cartesian/layout_attributes")
              , _ = e("../../constants/alignment")
              , w = _.LINE_SPACING
              , A = _.FROM_TL
              , k = _.FROM_BR
              , T = e("./constants").cn;
            t.exports = {
                draw: function(e) {
                    var t = e._fullLayout._infolayer.selectAll("g." + T.colorbar).data(function(e) {
                        var t, r, n, a, i = e._fullLayout, o = e.calcdata, s = [];
                        function l(e) {
                            return f(e, {
                                _fillcolor: null,
                                _line: {
                                    color: null,
                                    width: null,
                                    dash: null
                                },
                                _levels: {
                                    start: null,
                                    end: null,
                                    size: null
                                },
                                _filllevels: null,
                                _fillgradient: null,
                                _zrange: null
                            })
                        }
                        function c() {
                            "function" == typeof a.calc ? a.calc(e, n, t) : (t._fillgradient = r.reversescale ? v(r.colorscale) : r.colorscale,
                            t._zrange = [r[a.min], r[a.max]])
                        }
                        for (var u = 0; u < o.length; u++) {
                            var d = o[u]
                              , h = (n = d[0].trace)._module.colorbar;
                            if (!0 === n.visible && h)
                                for (var p = Array.isArray(h), g = p ? h : [h], y = 0; y < g.length; y++) {
                                    var m = (a = g[y]).container;
                                    (r = m ? n[m] : n) && r.showscale && ((t = l(r.colorbar))._id = "cb" + n.uid + (p && m ? "-" + m : ""),
                                    t._traceIndex = n.index,
                                    t._propPrefix = (m ? m + "." : "") + "colorbar.",
                                    t._meta = n._meta,
                                    c(),
                                    s.push(t))
                                }
                        }
                        for (var b in i._colorAxes)
                            if ((r = i[b]).showscale) {
                                var x = i._colorAxes[b];
                                (t = l(r.colorbar))._id = "cb" + b,
                                t._propPrefix = b + ".colorbar.",
                                t._meta = i._meta,
                                a = {
                                    min: "cmin",
                                    max: "cmax"
                                },
                                "heatmap" !== x[0] && (n = x[1],
                                a.calc = n._module.colorbar.calc),
                                c(),
                                s.push(t)
                            }
                        return s
                    }(e), (function(e) {
                        return e._id
                    }
                    ));
                    t.enter().append("g").attr("class", (function(e) {
                        return e._id
                    }
                    )).classed(T.colorbar, !0),
                    t.each((function(t) {
                        var r = n.select(this);
                        c.ensureSingle(r, "rect", T.cbbg),
                        c.ensureSingle(r, "g", T.cbfills),
                        c.ensureSingle(r, "g", T.cblines),
                        c.ensureSingle(r, "g", T.cbaxis, (function(e) {
                            e.classed(T.crisp, !0)
                        }
                        )),
                        c.ensureSingle(r, "g", T.cbtitleunshift, (function(e) {
                            e.append("g").classed(T.cbtitle, !0)
                        }
                        )),
                        c.ensureSingle(r, "rect", T.cboutline);
                        var v = function(e, t, r) {
                            var o = r._fullLayout
                              , l = o._size
                              , d = t._fillcolor
                              , v = t._line
                              , _ = t.title
                              , M = _.side
                              , S = t._zrange || n.extent(("function" == typeof d ? d : v.color).domain())
                              , C = "function" == typeof v.color ? v.color : function() {
                                return v.color
                            }
                              , O = "function" == typeof d ? d : function() {
                                return d
                            }
                              , D = t._levels
                              , L = function(e, t, r) {
                                var n, a, i = t._levels, o = [], s = [], l = i.end + i.size / 100, c = i.size, u = 1.001 * r[0] - .001 * r[1], f = 1.001 * r[1] - .001 * r[0];
                                for (a = 0; a < 1e5 && (n = i.start + a * c,
                                !(c > 0 ? n >= l : n <= l)); a++)
                                    n > u && n < f && o.push(n);
                                if (t._fillgradient)
                                    s = [0];
                                else if ("function" == typeof t._fillcolor) {
                                    var d = t._filllevels;
                                    if (d)
                                        for (l = d.end + d.size / 100,
                                        c = d.size,
                                        a = 0; a < 1e5 && (n = d.start + a * c,
                                        !(c > 0 ? n >= l : n <= l)); a++)
                                            n > r[0] && n < r[1] && s.push(n);
                                    else
                                        (s = o.map((function(e) {
                                            return e - i.size / 2
                                        }
                                        ))).push(s[s.length - 1] + i.size)
                                } else
                                    t._fillcolor && "string" == typeof t._fillcolor && (s = [0]);
                                i.size < 0 && (o.reverse(),
                                s.reverse());
                                return {
                                    line: o,
                                    fill: s
                                }
                            }(0, t, S)
                              , E = L.fill
                              , z = L.line
                              , F = Math.round(t.thickness * ("fraction" === t.thicknessmode ? l.w : 1))
                              , P = F / l.w
                              , I = Math.round(t.len * ("fraction" === t.lenmode ? l.h : 1))
                              , N = I / l.h
                              , R = t.xpad / l.w
                              , j = (t.borderwidth + t.outlinewidth) / 2
                              , B = t.ypad / l.h
                              , H = Math.round(t.x * l.w + t.xpad)
                              , U = t.x - P * ({
                                middle: .5,
                                right: 1
                            }[t.xanchor] || 0)
                              , Y = t.y + N * (({
                                top: -.5,
                                bottom: .5
                            }[t.yanchor] || 0) - .5)
                              , V = Math.round(l.h * (1 - Y))
                              , q = V - I;
                            t._lenFrac = N,
                            t._thickFrac = P,
                            t._xLeftFrac = U,
                            t._yBottomFrac = Y;
                            var W = t._axis = function(e, t, r) {
                                var n = e._fullLayout
                                  , a = {
                                    type: "linear",
                                    range: r,
                                    tickmode: t.tickmode,
                                    nticks: t.nticks,
                                    tick0: t.tick0,
                                    dtick: t.dtick,
                                    tickvals: t.tickvals,
                                    ticktext: t.ticktext,
                                    ticks: t.ticks,
                                    ticklen: t.ticklen,
                                    tickwidth: t.tickwidth,
                                    tickcolor: t.tickcolor,
                                    showticklabels: t.showticklabels,
                                    ticklabelposition: t.ticklabelposition,
                                    ticklabeloverflow: t.ticklabeloverflow,
                                    tickfont: t.tickfont,
                                    tickangle: t.tickangle,
                                    tickformat: t.tickformat,
                                    exponentformat: t.exponentformat,
                                    minexponent: t.minexponent,
                                    separatethousands: t.separatethousands,
                                    showexponent: t.showexponent,
                                    showtickprefix: t.showtickprefix,
                                    tickprefix: t.tickprefix,
                                    showticksuffix: t.showticksuffix,
                                    ticksuffix: t.ticksuffix,
                                    title: t.title,
                                    showline: !0,
                                    anchor: "free",
                                    side: "right",
                                    position: 1
                                }
                                  , i = {
                                    type: "linear",
                                    _id: "y" + t._id
                                }
                                  , o = {
                                    letter: "y",
                                    font: n.font,
                                    noHover: !0,
                                    noTickson: !0,
                                    noTicklabelmode: !0,
                                    calendar: n.calendar
                                };
                                function s(e, t) {
                                    return c.coerce(a, i, x, e, t)
                                }
                                return m(a, i, s, o, n),
                                b(a, i, s, o),
                                i
                            }(r, t, S);
                            W.position = t.x + R + P,
                            -1 !== ["top", "bottom"].indexOf(M) && (W.title.side = M,
                            W.titlex = t.x + R,
                            W.titley = Y + ("top" === _.side ? N - B : B));
                            if (v.color && "auto" === t.tickmode) {
                                W.tickmode = "linear",
                                W.tick0 = D.start;
                                var G = D.size
                                  , Z = c.constrain((V - q) / 50, 4, 15) + 1
                                  , J = (S[1] - S[0]) / ((t.nticks || Z) * G);
                                if (J > 1) {
                                    var X = Math.pow(10, Math.floor(Math.log(J) / Math.LN10));
                                    G *= X * c.roundUp(J / X, [2, 5, 10]),
                                    (Math.abs(D.start) / D.size + 1e-6) % 1 < 2e-6 && (W.tick0 = 0)
                                }
                                W.dtick = G
                            }
                            W.domain = [Y + B, Y + N - B],
                            W.setScale(),
                            e.attr("transform", u(Math.round(l.l), Math.round(l.t)));
                            var Q, $ = e.select("." + T.cbtitleunshift).attr("transform", u(-Math.round(l.l), -Math.round(l.t))), K = e.select("." + T.cbaxis), ee = 0;
                            function te(n, a) {
                                var i = {
                                    propContainer: W,
                                    propName: t._propPrefix + "title",
                                    traceIndex: t._traceIndex,
                                    _meta: t._meta,
                                    placeholder: o._dfltTitle.colorbar,
                                    containerGroup: e.select("." + T.cbtitle)
                                }
                                  , s = "h" === n.charAt(0) ? n.substr(1) : "h" + n;
                                e.selectAll("." + s + ",." + s + "-math-group").remove(),
                                g.draw(r, n, f(i, a || {}))
                            }
                            return c.syncOrAsync([i.previousPromises, function() {
                                if (-1 !== ["top", "bottom"].indexOf(M)) {
                                    var e, r = l.l + (t.x + R) * l.w, n = W.title.font.size;
                                    e = "top" === M ? (1 - (Y + N - B)) * l.h + l.t + 3 + .75 * n : (1 - (Y + B)) * l.h + l.t - 3 - .25 * n,
                                    te(W._id + "title", {
                                        attributes: {
                                            x: r,
                                            y: e,
                                            "text-anchor": "start"
                                        }
                                    })
                                }
                            }
                            , function() {
                                if (-1 !== ["top", "bottom"].indexOf(M)) {
                                    var i = e.select("." + T.cbtitle)
                                      , o = i.select("text")
                                      , f = [-t.outlinewidth / 2, t.outlinewidth / 2]
                                      , d = i.select(".h" + W._id + "title-math-group").node()
                                      , p = 15.6;
                                    if (o.node() && (p = parseInt(o.node().style.fontSize, 10) * w),
                                    d ? (ee = h.bBox(d).height) > p && (f[1] -= (ee - p) / 2) : o.node() && !o.classed(T.jsPlaceholder) && (ee = h.bBox(o.node()).height),
                                    ee) {
                                        if (ee += 5,
                                        "top" === M)
                                            W.domain[1] -= ee / l.h,
                                            f[1] *= -1;
                                        else {
                                            W.domain[0] += ee / l.h;
                                            var g = y.lineCount(o);
                                            f[1] += (1 - g) * p
                                        }
                                        i.attr("transform", u(f[0], f[1])),
                                        W.setScale()
                                    }
                                }
                                e.selectAll("." + T.cbfills + ",." + T.cblines).attr("transform", u(0, Math.round(l.h * (1 - W.domain[1])))),
                                K.attr("transform", u(0, Math.round(-l.t)));
                                var m = e.select("." + T.cbfills).selectAll("rect." + T.cbfill).attr("style", "").data(E);
                                m.enter().append("rect").classed(T.cbfill, !0).style("stroke", "none"),
                                m.exit().remove();
                                var b = S.map(W.c2p).map(Math.round).sort((function(e, t) {
                                    return e - t
                                }
                                ));
                                m.each((function(e, i) {
                                    var o = [0 === i ? S[0] : (E[i] + E[i - 1]) / 2, i === E.length - 1 ? S[1] : (E[i] + E[i + 1]) / 2].map(W.c2p).map(Math.round);
                                    o[1] = c.constrain(o[1] + (o[1] > o[0]) ? 1 : -1, b[0], b[1]);
                                    var s = n.select(this).attr({
                                        x: H,
                                        width: Math.max(F, 2),
                                        y: n.min(o),
                                        height: Math.max(n.max(o) - n.min(o), 2)
                                    });
                                    if (t._fillgradient)
                                        h.gradient(s, r, t._id, "vertical", t._fillgradient, "fill");
                                    else {
                                        var l = O(e).replace("e-", "");
                                        s.attr("fill", a(l).toHexString())
                                    }
                                }
                                ));
                                var x = e.select("." + T.cblines).selectAll("path." + T.cbline).data(v.color && v.width ? z : []);
                                x.enter().append("path").classed(T.cbline, !0),
                                x.exit().remove(),
                                x.each((function(e) {
                                    n.select(this).attr("d", "M" + H + "," + (Math.round(W.c2p(e)) + v.width / 2 % 1) + "h" + F).call(h.lineGroupStyle, v.width, C(e), v.dash)
                                }
                                )),
                                K.selectAll("g." + W._id + "tick,path").remove();
                                var _ = H + F + (t.outlinewidth || 0) / 2 - ("outside" === t.ticks ? 1 : 0)
                                  , A = s.calcTicks(W)
                                  , k = s.getTickSigns(W)[2];
                                return s.drawTicks(r, W, {
                                    vals: "inside" === W.ticks ? s.clipEnds(W, A) : A,
                                    layer: K,
                                    path: s.makeTickPath(W, _, k),
                                    transFn: s.makeTransTickFn(W)
                                }),
                                s.drawLabels(r, W, {
                                    vals: A,
                                    layer: K,
                                    transFn: s.makeTransTickLabelFn(W),
                                    labelFns: s.makeLabelFns(W, _)
                                })
                            }
                            , function() {
                                if (-1 === ["top", "bottom"].indexOf(M)) {
                                    var e = W.title.font.size
                                      , t = W._offset + W._length / 2
                                      , a = l.l + (W.position || 0) * l.w + ("right" === W.side ? 10 + e * (W.showticklabels ? 1 : .5) : -10 - e * (W.showticklabels ? .5 : 0));
                                    te("h" + W._id + "title", {
                                        avoid: {
                                            selection: n.select(r).selectAll("g." + W._id + "tick"),
                                            side: M,
                                            offsetLeft: l.l,
                                            offsetTop: 0,
                                            maxShift: o.width
                                        },
                                        attributes: {
                                            x: a,
                                            y: t,
                                            "text-anchor": "middle"
                                        },
                                        transform: {
                                            rotate: "-90",
                                            offset: 0
                                        }
                                    })
                                }
                            }
                            , i.previousPromises, function() {
                                var n = F + t.outlinewidth / 2;
                                if (-1 === W.ticklabelposition.indexOf("inside") && (n += h.bBox(K.node()).width),
                                (Q = $.select("text")).node() && !Q.classed(T.jsPlaceholder)) {
                                    var a, o = $.select(".h" + W._id + "title-math-group").node();
                                    a = o && -1 !== ["top", "bottom"].indexOf(M) ? h.bBox(o).width : h.bBox($.node()).right - H - l.l,
                                    n = Math.max(n, a)
                                }
                                var s = 2 * t.xpad + n + t.borderwidth + t.outlinewidth / 2
                                  , c = V - q;
                                e.select("." + T.cbbg).attr({
                                    x: H - t.xpad - (t.borderwidth + t.outlinewidth) / 2,
                                    y: q - j,
                                    width: Math.max(s, 2),
                                    height: Math.max(c + 2 * j, 2)
                                }).call(p.fill, t.bgcolor).call(p.stroke, t.bordercolor).style("stroke-width", t.borderwidth),
                                e.selectAll("." + T.cboutline).attr({
                                    x: H,
                                    y: q + t.ypad + ("top" === M ? ee : 0),
                                    width: Math.max(F, 2),
                                    height: Math.max(c - 2 * t.ypad - ee, 2)
                                }).call(p.stroke, t.outlinecolor).style({
                                    fill: "none",
                                    "stroke-width": t.outlinewidth
                                });
                                var f = ({
                                    center: .5,
                                    right: 1
                                }[t.xanchor] || 0) * s;
                                e.attr("transform", u(l.l - f, l.t));
                                var d = {}
                                  , g = A[t.yanchor]
                                  , y = k[t.yanchor];
                                "pixels" === t.lenmode ? (d.y = t.y,
                                d.t = c * g,
                                d.b = c * y) : (d.t = d.b = 0,
                                d.yt = t.y + t.len * g,
                                d.yb = t.y - t.len * y);
                                var v = A[t.xanchor]
                                  , m = k[t.xanchor];
                                if ("pixels" === t.thicknessmode)
                                    d.x = t.x,
                                    d.l = s * v,
                                    d.r = s * m;
                                else {
                                    var b = s - F;
                                    d.l = b * v,
                                    d.r = b * m,
                                    d.xl = t.x - t.thickness * v,
                                    d.xr = t.x + t.thickness * m
                                }
                                i.autoMargin(r, t._id, d)
                            }
                            ], r)
                        }(r, t, e);
                        v && v.then && (e._promises || []).push(v),
                        e._context.edits.colorbarPosition && function(e, t, r) {
                            var n, a, i, s = r._fullLayout._size;
                            l.init({
                                element: e.node(),
                                gd: r,
                                prepFn: function() {
                                    n = e.attr("transform"),
                                    d(e)
                                },
                                moveFn: function(r, o) {
                                    e.attr("transform", n + u(r, o)),
                                    a = l.align(t._xLeftFrac + r / s.w, t._thickFrac, 0, 1, t.xanchor),
                                    i = l.align(t._yBottomFrac - o / s.h, t._lenFrac, 0, 1, t.yanchor);
                                    var c = l.getCursor(a, i, t.xanchor, t.yanchor);
                                    d(e, c)
                                },
                                doneFn: function() {
                                    if (d(e),
                                    void 0 !== a && void 0 !== i) {
                                        var n = {};
                                        n[t._propPrefix + "x"] = a,
                                        n[t._propPrefix + "y"] = i,
                                        void 0 !== t._traceIndex ? o.call("_guiRestyle", r, n, t._traceIndex) : o.call("_guiRelayout", r, n)
                                    }
                                }
                            })
                        }(r, t, e)
                    }
                    )),
                    t.exit().each((function(t) {
                        i.autoMargin(e, t._id)
                    }
                    )).remove(),
                    t.order()
                }
            }
        }
        , {
            "../../constants/alignment": 340,
            "../../lib": 365,
            "../../lib/extend": 358,
            "../../lib/setcursor": 386,
            "../../lib/svg_text_utils": 390,
            "../../plots/cartesian/axes": 414,
            "../../plots/cartesian/axis_defaults": 416,
            "../../plots/cartesian/layout_attributes": 429,
            "../../plots/cartesian/position_defaults": 432,
            "../../plots/plots": 449,
            "../../registry": 451,
            "../color": 235,
            "../colorscale/helpers": 246,
            "../dragelement": 254,
            "../drawing": 257,
            "../titles": 333,
            "./constants": 237,
            "@plotly/d3": 6,
            tinycolor2: 184
        }],
        240: [function(e, t, r) {
            "use strict";
            var n = e("../../lib");
            t.exports = function(e) {
                return n.isPlainObject(e.colorbar)
            }
        }
        , {
            "../../lib": 365
        }],
        241: [function(e, t, r) {
            "use strict";
            t.exports = {
                moduleType: "component",
                name: "colorbar",
                attributes: e("./attributes"),
                supplyDefaults: e("./defaults"),
                draw: e("./draw").draw,
                hasColorbar: e("./has_colorbar")
            }
        }
        , {
            "./attributes": 236,
            "./defaults": 238,
            "./draw": 239,
            "./has_colorbar": 240
        }],
        242: [function(e, t, r) {
            "use strict";
            var n = e("../colorbar/attributes")
              , a = e("../../lib/regex").counter
              , i = e("../../lib/sort_object_keys")
              , o = e("./scales.js").scales;
            i(o);
            function s(e) {
                return "`" + e + "`"
            }
            t.exports = function(e, t) {
                e = e || "";
                var r, i = (t = t || {}).cLetter || "c", l = ("onlyIfNumerical"in t ? t.onlyIfNumerical : Boolean(e),
                "noScale"in t ? t.noScale : "marker.line" === e), c = "showScaleDflt"in t ? t.showScaleDflt : "z" === i, u = "string" == typeof t.colorscaleDflt ? o[t.colorscaleDflt] : null, f = t.editTypeOverride || "", d = e ? e + "." : "";
                "colorAttr"in t ? (r = t.colorAttr,
                t.colorAttr) : s(d + (r = {
                    z: "z",
                    c: "color"
                }[i]));
                var h = i + "auto"
                  , p = i + "min"
                  , g = i + "max"
                  , y = i + "mid"
                  , v = (s(d + h),
                s(d + p),
                s(d + g),
                {});
                v[p] = v[g] = void 0;
                var m = {};
                m[h] = !1;
                var b = {};
                return "color" === r && (b.color = {
                    valType: "color",
                    arrayOk: !0,
                    editType: f || "style"
                },
                t.anim && (b.color.anim = !0)),
                b[h] = {
                    valType: "boolean",
                    dflt: !0,
                    editType: "calc",
                    impliedEdits: v
                },
                b[p] = {
                    valType: "number",
                    dflt: null,
                    editType: f || "plot",
                    impliedEdits: m
                },
                b[g] = {
                    valType: "number",
                    dflt: null,
                    editType: f || "plot",
                    impliedEdits: m
                },
                b[y] = {
                    valType: "number",
                    dflt: null,
                    editType: "calc",
                    impliedEdits: v
                },
                b.colorscale = {
                    valType: "colorscale",
                    editType: "calc",
                    dflt: u,
                    impliedEdits: {
                        autocolorscale: !1
                    }
                },
                b.autocolorscale = {
                    valType: "boolean",
                    dflt: !1 !== t.autoColorDflt,
                    editType: "calc",
                    impliedEdits: {
                        colorscale: void 0
                    }
                },
                b.reversescale = {
                    valType: "boolean",
                    dflt: !1,
                    editType: "plot"
                },
                l || (b.showscale = {
                    valType: "boolean",
                    dflt: c,
                    editType: "calc"
                },
                b.colorbar = n),
                t.noColorAxis || (b.coloraxis = {
                    valType: "subplotid",
                    regex: a("coloraxis"),
                    dflt: null,
                    editType: "calc"
                }),
                b
            }
        }
        , {
            "../../lib/regex": 382,
            "../../lib/sort_object_keys": 388,
            "../colorbar/attributes": 236,
            "./scales.js": 250
        }],
        243: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("../../lib")
              , i = e("./helpers").extractOpts;
            t.exports = function(e, t, r) {
                var o, s = e._fullLayout, l = r.vals, c = r.containerStr, u = c ? a.nestedProperty(t, c).get() : t, f = i(u), d = !1 !== f.auto, h = f.min, p = f.max, g = f.mid, y = function() {
                    return a.aggNums(Math.min, null, l)
                }, v = function() {
                    return a.aggNums(Math.max, null, l)
                };
                (void 0 === h ? h = y() : d && (h = u._colorAx && n(h) ? Math.min(h, y()) : y()),
                void 0 === p ? p = v() : d && (p = u._colorAx && n(p) ? Math.max(p, v()) : v()),
                d && void 0 !== g && (p - g > g - h ? h = g - (p - g) : p - g < g - h && (p = g + (g - h))),
                h === p && (h -= .5,
                p += .5),
                f._sync("min", h),
                f._sync("max", p),
                f.autocolorscale) && (o = h * p < 0 ? s.colorscale.diverging : h >= 0 ? s.colorscale.sequential : s.colorscale.sequentialminus,
                f._sync("colorscale", o))
            }
        }
        , {
            "../../lib": 365,
            "./helpers": 246,
            "fast-isnumeric": 107
        }],
        244: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("./helpers").hasColorscale
              , i = e("./helpers").extractOpts;
            t.exports = function(e, t) {
                function r(e, t) {
                    var r = e["_" + t];
                    void 0 !== r && (e[t] = r)
                }
                function o(e, a) {
                    var o = a.container ? n.nestedProperty(e, a.container).get() : e;
                    if (o)
                        if (o.coloraxis)
                            o._colorAx = t[o.coloraxis];
                        else {
                            var s = i(o)
                              , l = s.auto;
                            (l || void 0 === s.min) && r(o, a.min),
                            (l || void 0 === s.max) && r(o, a.max),
                            s.autocolorscale && r(o, "colorscale")
                        }
                }
                for (var s = 0; s < e.length; s++) {
                    var l = e[s]
                      , c = l._module.colorbar;
                    if (c)
                        if (Array.isArray(c))
                            for (var u = 0; u < c.length; u++)
                                o(l, c[u]);
                        else
                            o(l, c);
                    a(l, "marker.line") && o(l, {
                        container: "marker.line",
                        min: "cmin",
                        max: "cmax"
                    })
                }
                for (var f in t._colorAxes)
                    o(t[f], {
                        min: "cmin",
                        max: "cmax"
                    })
            }
        }
        , {
            "../../lib": 365,
            "./helpers": 246
        }],
        245: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("../../lib")
              , i = e("../colorbar/has_colorbar")
              , o = e("../colorbar/defaults")
              , s = e("./scales").isValid
              , l = e("../../registry").traceIs;
            function c(e, t) {
                var r = t.slice(0, t.length - 1);
                return t ? a.nestedProperty(e, r).get() || {} : e
            }
            t.exports = function e(t, r, u, f, d) {
                var h = d.prefix
                  , p = d.cLetter
                  , g = "_module"in r
                  , y = c(t, h)
                  , v = c(r, h)
                  , m = c(r._template || {}, h) || {}
                  , b = function() {
                    return delete t.coloraxis,
                    delete r.coloraxis,
                    e(t, r, u, f, d)
                };
                if (g) {
                    var x = u._colorAxes || {}
                      , _ = f(h + "coloraxis");
                    if (_) {
                        var w = l(r, "contour") && a.nestedProperty(r, "contours.coloring").get() || "heatmap"
                          , A = x[_];
                        return void (A ? (A[2].push(b),
                        A[0] !== w && (A[0] = !1,
                        a.warn(["Ignoring coloraxis:", _, "setting", "as it is linked to incompatible colorscales."].join(" ")))) : x[_] = [w, r, [b]])
                    }
                }
                var k = y[p + "min"]
                  , T = y[p + "max"]
                  , M = n(k) && n(T) && k < T;
                f(h + p + "auto", !M) ? f(h + p + "mid") : (f(h + p + "min"),
                f(h + p + "max"));
                var S, C, O = y.colorscale, D = m.colorscale;
                (void 0 !== O && (S = !s(O)),
                void 0 !== D && (S = !s(D)),
                f(h + "autocolorscale", S),
                f(h + "colorscale"),
                f(h + "reversescale"),
                "marker.line." !== h) && (h && g && (C = i(y)),
                f(h + "showscale", C) && (h && m && (v._template = m),
                o(y, v, u)))
            }
        }
        , {
            "../../lib": 365,
            "../../registry": 451,
            "../colorbar/defaults": 238,
            "../colorbar/has_colorbar": 240,
            "./scales": 250,
            "fast-isnumeric": 107
        }],
        246: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("tinycolor2")
              , i = e("fast-isnumeric")
              , o = e("../../lib")
              , s = e("../color")
              , l = e("./scales").isValid;
            var c = ["showscale", "autocolorscale", "colorscale", "reversescale", "colorbar"]
              , u = ["min", "max", "mid", "auto"];
            function f(e) {
                var t, r, n, a = e._colorAx, i = a || e, o = {};
                for (r = 0; r < c.length; r++)
                    o[n = c[r]] = i[n];
                if (a)
                    for (t = "c",
                    r = 0; r < u.length; r++)
                        o[n = u[r]] = i["c" + n];
                else {
                    var s;
                    for (r = 0; r < u.length; r++)
                        ((s = "c" + (n = u[r]))in i || (s = "z" + n)in i) && (o[n] = i[s]);
                    t = s.charAt(0)
                }
                return o._sync = function(e, r) {
                    var n = -1 !== u.indexOf(e) ? t + e : e;
                    i[n] = i["_" + n] = r
                }
                ,
                o
            }
            function d(e) {
                for (var t = f(e), r = t.min, n = t.max, a = t.reversescale ? h(t.colorscale) : t.colorscale, i = a.length, o = new Array(i), s = new Array(i), l = 0; l < i; l++) {
                    var c = a[l];
                    o[l] = r + c[0] * (n - r),
                    s[l] = c[1]
                }
                return {
                    domain: o,
                    range: s
                }
            }
            function h(e) {
                for (var t = e.length, r = new Array(t), n = t - 1, a = 0; n >= 0; n--,
                a++) {
                    var i = e[n];
                    r[a] = [1 - i[0], i[1]]
                }
                return r
            }
            function p(e, t) {
                t = t || {};
                for (var r = e.domain, o = e.range, l = o.length, c = new Array(l), u = 0; u < l; u++) {
                    var f = a(o[u]).toRgb();
                    c[u] = [f.r, f.g, f.b, f.a]
                }
                var d, h = n.scale.linear().domain(r).range(c).clamp(!0), p = t.noNumericCheck, y = t.returnArray;
                return (d = p && y ? h : p ? function(e) {
                    return g(h(e))
                }
                : y ? function(e) {
                    return i(e) ? h(e) : a(e).isValid() ? e : s.defaultLine
                }
                : function(e) {
                    return i(e) ? g(h(e)) : a(e).isValid() ? e : s.defaultLine
                }
                ).domain = h.domain,
                d.range = function() {
                    return o
                }
                ,
                d
            }
            function g(e) {
                var t = {
                    r: e[0],
                    g: e[1],
                    b: e[2],
                    a: e[3]
                };
                return a(t).toRgbString()
            }
            t.exports = {
                hasColorscale: function(e, t, r) {
                    var n = t ? o.nestedProperty(e, t).get() || {} : e
                      , a = n[r || "color"]
                      , s = !1;
                    if (o.isArrayOrTypedArray(a))
                        for (var c = 0; c < a.length; c++)
                            if (i(a[c])) {
                                s = !0;
                                break
                            }
                    return o.isPlainObject(n) && (s || !0 === n.showscale || i(n.cmin) && i(n.cmax) || l(n.colorscale) || o.isPlainObject(n.colorbar))
                },
                extractOpts: f,
                extractScale: d,
                flipScale: h,
                makeColorScaleFunc: p,
                makeColorScaleFuncFromTrace: function(e, t) {
                    return p(d(e), t)
                }
            }
        }
        , {
            "../../lib": 365,
            "../color": 235,
            "./scales": 250,
            "@plotly/d3": 6,
            "fast-isnumeric": 107,
            tinycolor2: 184
        }],
        247: [function(e, t, r) {
            "use strict";
            var n = e("./scales")
              , a = e("./helpers");
            t.exports = {
                moduleType: "component",
                name: "colorscale",
                attributes: e("./attributes"),
                layoutAttributes: e("./layout_attributes"),
                supplyLayoutDefaults: e("./layout_defaults"),
                handleDefaults: e("./defaults"),
                crossTraceDefaults: e("./cross_trace_defaults"),
                calc: e("./calc"),
                scales: n.scales,
                defaultScale: n.defaultScale,
                getScale: n.get,
                isValidScale: n.isValid,
                hasColorscale: a.hasColorscale,
                extractOpts: a.extractOpts,
                extractScale: a.extractScale,
                flipScale: a.flipScale,
                makeColorScaleFunc: a.makeColorScaleFunc,
                makeColorScaleFuncFromTrace: a.makeColorScaleFuncFromTrace
            }
        }
        , {
            "./attributes": 242,
            "./calc": 243,
            "./cross_trace_defaults": 244,
            "./defaults": 245,
            "./helpers": 246,
            "./layout_attributes": 248,
            "./layout_defaults": 249,
            "./scales": 250
        }],
        248: [function(e, t, r) {
            "use strict";
            var n = e("../../lib/extend").extendFlat
              , a = e("./attributes")
              , i = e("./scales").scales;
            t.exports = {
                editType: "calc",
                colorscale: {
                    editType: "calc",
                    sequential: {
                        valType: "colorscale",
                        dflt: i.Reds,
                        editType: "calc"
                    },
                    sequentialminus: {
                        valType: "colorscale",
                        dflt: i.Blues,
                        editType: "calc"
                    },
                    diverging: {
                        valType: "colorscale",
                        dflt: i.RdBu,
                        editType: "calc"
                    }
                },
                coloraxis: n({
                    _isSubplotObj: !0,
                    editType: "calc"
                }, a("", {
                    colorAttr: "corresponding trace color array(s)",
                    noColorAxis: !0,
                    showScaleDflt: !0
                }))
            }
        }
        , {
            "../../lib/extend": 358,
            "./attributes": 242,
            "./scales": 250
        }],
        249: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../plot_api/plot_template")
              , i = e("./layout_attributes")
              , o = e("./defaults");
            t.exports = function(e, t) {
                function r(r, a) {
                    return n.coerce(e, t, i, r, a)
                }
                r("colorscale.sequential"),
                r("colorscale.sequentialminus"),
                r("colorscale.diverging");
                var s, l, c = t._colorAxes;
                function u(e, t) {
                    return n.coerce(s, l, i.coloraxis, e, t)
                }
                for (var f in c) {
                    var d = c[f];
                    if (d[0])
                        s = e[f] || {},
                        (l = a.newContainer(t, f, "coloraxis"))._name = f,
                        o(s, l, t, u, {
                            prefix: "",
                            cLetter: "c"
                        });
                    else {
                        for (var h = 0; h < d[2].length; h++)
                            d[2][h]();
                        delete t._colorAxes[f]
                    }
                }
            }
        }
        , {
            "../../lib": 365,
            "../../plot_api/plot_template": 403,
            "./defaults": 245,
            "./layout_attributes": 248
        }],
        250: [function(e, t, r) {
            "use strict";
            var n = e("tinycolor2")
              , a = {
                Greys: [[0, "rgb(0,0,0)"], [1, "rgb(255,255,255)"]],
                YlGnBu: [[0, "rgb(8,29,88)"], [.125, "rgb(37,52,148)"], [.25, "rgb(34,94,168)"], [.375, "rgb(29,145,192)"], [.5, "rgb(65,182,196)"], [.625, "rgb(127,205,187)"], [.75, "rgb(199,233,180)"], [.875, "rgb(237,248,217)"], [1, "rgb(255,255,217)"]],
                Greens: [[0, "rgb(0,68,27)"], [.125, "rgb(0,109,44)"], [.25, "rgb(35,139,69)"], [.375, "rgb(65,171,93)"], [.5, "rgb(116,196,118)"], [.625, "rgb(161,217,155)"], [.75, "rgb(199,233,192)"], [.875, "rgb(229,245,224)"], [1, "rgb(247,252,245)"]],
                YlOrRd: [[0, "rgb(128,0,38)"], [.125, "rgb(189,0,38)"], [.25, "rgb(227,26,28)"], [.375, "rgb(252,78,42)"], [.5, "rgb(253,141,60)"], [.625, "rgb(254,178,76)"], [.75, "rgb(254,217,118)"], [.875, "rgb(255,237,160)"], [1, "rgb(255,255,204)"]],
                Bluered: [[0, "rgb(0,0,255)"], [1, "rgb(255,0,0)"]],
                RdBu: [[0, "rgb(5,10,172)"], [.35, "rgb(106,137,247)"], [.5, "rgb(190,190,190)"], [.6, "rgb(220,170,132)"], [.7, "rgb(230,145,90)"], [1, "rgb(178,10,28)"]],
                Reds: [[0, "rgb(220,220,220)"], [.2, "rgb(245,195,157)"], [.4, "rgb(245,160,105)"], [1, "rgb(178,10,28)"]],
                Blues: [[0, "rgb(5,10,172)"], [.35, "rgb(40,60,190)"], [.5, "rgb(70,100,245)"], [.6, "rgb(90,120,245)"], [.7, "rgb(106,137,247)"], [1, "rgb(220,220,220)"]],
                Picnic: [[0, "rgb(0,0,255)"], [.1, "rgb(51,153,255)"], [.2, "rgb(102,204,255)"], [.3, "rgb(153,204,255)"], [.4, "rgb(204,204,255)"], [.5, "rgb(255,255,255)"], [.6, "rgb(255,204,255)"], [.7, "rgb(255,153,255)"], [.8, "rgb(255,102,204)"], [.9, "rgb(255,102,102)"], [1, "rgb(255,0,0)"]],
                Rainbow: [[0, "rgb(150,0,90)"], [.125, "rgb(0,0,200)"], [.25, "rgb(0,25,255)"], [.375, "rgb(0,152,255)"], [.5, "rgb(44,255,150)"], [.625, "rgb(151,255,0)"], [.75, "rgb(255,234,0)"], [.875, "rgb(255,111,0)"], [1, "rgb(255,0,0)"]],
                Portland: [[0, "rgb(12,51,131)"], [.25, "rgb(10,136,186)"], [.5, "rgb(242,211,56)"], [.75, "rgb(242,143,56)"], [1, "rgb(217,30,30)"]],
                Jet: [[0, "rgb(0,0,131)"], [.125, "rgb(0,60,170)"], [.375, "rgb(5,255,255)"], [.625, "rgb(255,255,0)"], [.875, "rgb(250,0,0)"], [1, "rgb(128,0,0)"]],
                Hot: [[0, "rgb(0,0,0)"], [.3, "rgb(230,0,0)"], [.6, "rgb(255,210,0)"], [1, "rgb(255,255,255)"]],
                Blackbody: [[0, "rgb(0,0,0)"], [.2, "rgb(230,0,0)"], [.4, "rgb(230,210,0)"], [.7, "rgb(255,255,255)"], [1, "rgb(160,200,255)"]],
                Earth: [[0, "rgb(0,0,130)"], [.1, "rgb(0,180,180)"], [.2, "rgb(40,210,40)"], [.4, "rgb(230,230,50)"], [.6, "rgb(120,70,20)"], [1, "rgb(255,255,255)"]],
                Electric: [[0, "rgb(0,0,0)"], [.15, "rgb(30,0,100)"], [.4, "rgb(120,0,100)"], [.6, "rgb(160,90,0)"], [.8, "rgb(230,200,0)"], [1, "rgb(255,250,220)"]],
                Viridis: [[0, "#440154"], [.06274509803921569, "#48186a"], [.12549019607843137, "#472d7b"], [.18823529411764706, "#424086"], [.25098039215686274, "#3b528b"], [.3137254901960784, "#33638d"], [.3764705882352941, "#2c728e"], [.4392156862745098, "#26828e"], [.5019607843137255, "#21918c"], [.5647058823529412, "#1fa088"], [.6274509803921569, "#28ae80"], [.6901960784313725, "#3fbc73"], [.7529411764705882, "#5ec962"], [.8156862745098039, "#84d44b"], [.8784313725490196, "#addc30"], [.9411764705882353, "#d8e219"], [1, "#fde725"]],
                Cividis: [[0, "rgb(0,32,76)"], [.058824, "rgb(0,42,102)"], [.117647, "rgb(0,52,110)"], [.176471, "rgb(39,63,108)"], [.235294, "rgb(60,74,107)"], [.294118, "rgb(76,85,107)"], [.352941, "rgb(91,95,109)"], [.411765, "rgb(104,106,112)"], [.470588, "rgb(117,117,117)"], [.529412, "rgb(131,129,120)"], [.588235, "rgb(146,140,120)"], [.647059, "rgb(161,152,118)"], [.705882, "rgb(176,165,114)"], [.764706, "rgb(192,177,109)"], [.823529, "rgb(209,191,102)"], [.882353, "rgb(225,204,92)"], [.941176, "rgb(243,219,79)"], [1, "rgb(255,233,69)"]]
            }
              , i = a.RdBu;
            function o(e) {
                var t = 0;
                if (!Array.isArray(e) || e.length < 2)
                    return !1;
                if (!e[0] || !e[e.length - 1])
                    return !1;
                if (0 != +e[0][0] || 1 != +e[e.length - 1][0])
                    return !1;
                for (var r = 0; r < e.length; r++) {
                    var a = e[r];
                    if (2 !== a.length || +a[0] < t || !n(a[1]).isValid())
                        return !1;
                    t = +a[0]
                }
                return !0
            }
            t.exports = {
                scales: a,
                defaultScale: i,
                get: function(e, t) {
                    if (t || (t = i),
                    !e)
                        return t;
                    function r() {
                        try {
                            e = a[e] || JSON.parse(e)
                        } catch (r) {
                            e = t
                        }
                    }
                    return "string" == typeof e && (r(),
                    "string" == typeof e && r()),
                    o(e) ? e : t
                },
                isValid: function(e) {
                    return void 0 !== a[e] || o(e)
                }
            }
        }
        , {
            tinycolor2: 184
        }],
        251: [function(e, t, r) {
            "use strict";
            t.exports = function(e, t, r, n, a) {
                var i = (e - r) / (n - r)
                  , o = i + t / (n - r)
                  , s = (i + o) / 2;
                return "left" === a || "bottom" === a ? i : "center" === a || "middle" === a ? s : "right" === a || "top" === a ? o : i < 2 / 3 - s ? i : o > 4 / 3 - s ? o : s
            }
        }
        , {}],
        252: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = [["sw-resize", "s-resize", "se-resize"], ["w-resize", "move", "e-resize"], ["nw-resize", "n-resize", "ne-resize"]];
            t.exports = function(e, t, r, i) {
                return e = "left" === r ? 0 : "center" === r ? 1 : "right" === r ? 2 : n.constrain(Math.floor(3 * e), 0, 2),
                t = "bottom" === i ? 0 : "middle" === i ? 1 : "top" === i ? 2 : n.constrain(Math.floor(3 * t), 0, 2),
                a[t][e]
            }
        }
        , {
            "../../lib": 365
        }],
        253: [function(e, t, r) {
            "use strict";
            r.selectMode = function(e) {
                return "lasso" === e || "select" === e
            }
            ,
            r.drawMode = function(e) {
                return "drawclosedpath" === e || "drawopenpath" === e || "drawline" === e || "drawrect" === e || "drawcircle" === e
            }
            ,
            r.openMode = function(e) {
                return "drawline" === e || "drawopenpath" === e
            }
            ,
            r.rectMode = function(e) {
                return "select" === e || "drawline" === e || "drawrect" === e || "drawcircle" === e
            }
            ,
            r.freeMode = function(e) {
                return "lasso" === e || "drawclosedpath" === e || "drawopenpath" === e
            }
            ,
            r.selectingOrDrawing = function(e) {
                return r.freeMode(e) || r.rectMode(e)
            }
        }
        , {}],
        254: [function(e, t, r) {
            "use strict";
            var n = e("mouse-event-offset")
              , a = e("has-hover")
              , i = e("has-passive-events")
              , o = e("../../lib").removeElement
              , s = e("../../plots/cartesian/constants")
              , l = t.exports = {};
            l.align = e("./align"),
            l.getCursor = e("./cursor");
            var c = e("./unhover");
            function u() {
                var e = document.createElement("div");
                e.className = "dragcover";
                var t = e.style;
                return t.position = "fixed",
                t.left = 0,
                t.right = 0,
                t.top = 0,
                t.bottom = 0,
                t.zIndex = 999999999,
                t.background = "none",
                document.body.appendChild(e),
                e
            }
            function f(e) {
                return n(e.changedTouches ? e.changedTouches[0] : e, document.body)
            }
            l.unhover = c.wrapped,
            l.unhoverRaw = c.raw,
            l.init = function(e) {
                var t, r, n, c, d, h, p, g, y = e.gd, v = 1, m = y._context.doubleClickDelay, b = e.element;
                y._mouseDownTime || (y._mouseDownTime = 0),
                b.style.pointerEvents = "all",
                b.onmousedown = _,
                i ? (b._ontouchstart && b.removeEventListener("touchstart", b._ontouchstart),
                b._ontouchstart = _,
                b.addEventListener("touchstart", _, {
                    passive: !1
                })) : b.ontouchstart = _;
                var x = e.clampFn || function(e, t, r) {
                    return Math.abs(e) < r && (e = 0),
                    Math.abs(t) < r && (t = 0),
                    [e, t]
                }
                ;
                function _(i) {
                    y._dragged = !1,
                    y._dragging = !0;
                    var o = f(i);
                    t = o[0],
                    r = o[1],
                    p = i.target,
                    h = i,
                    g = 2 === i.buttons || i.ctrlKey,
                    void 0 === i.clientX && void 0 === i.clientY && (i.clientX = t,
                    i.clientY = r),
                    (n = (new Date).getTime()) - y._mouseDownTime < m ? v += 1 : (v = 1,
                    y._mouseDownTime = n),
                    e.prepFn && e.prepFn(i, t, r),
                    a && !g ? (d = u()).style.cursor = window.getComputedStyle(b).cursor : a || (d = document,
                    c = window.getComputedStyle(document.documentElement).cursor,
                    document.documentElement.style.cursor = window.getComputedStyle(b).cursor),
                    document.addEventListener("mouseup", A),
                    document.addEventListener("touchend", A),
                    !1 !== e.dragmode && (i.preventDefault(),
                    document.addEventListener("mousemove", w),
                    document.addEventListener("touchmove", w, {
                        passive: !1
                    }))
                }
                function w(n) {
                    n.preventDefault();
                    var a = f(n)
                      , i = e.minDrag || s.MINDRAG
                      , o = x(a[0] - t, a[1] - r, i)
                      , c = o[0]
                      , u = o[1];
                    (c || u) && (y._dragged = !0,
                    l.unhover(y, n)),
                    y._dragged && e.moveFn && !g && (y._dragdata = {
                        element: b,
                        dx: c,
                        dy: u
                    },
                    e.moveFn(c, u))
                }
                function A(t) {
                    if (delete y._dragdata,
                    !1 !== e.dragmode && (t.preventDefault(),
                    document.removeEventListener("mousemove", w),
                    document.removeEventListener("touchmove", w)),
                    document.removeEventListener("mouseup", A),
                    document.removeEventListener("touchend", A),
                    a ? o(d) : c && (d.documentElement.style.cursor = c,
                    c = null),
                    y._dragging) {
                        if (y._dragging = !1,
                        (new Date).getTime() - y._mouseDownTime > m && (v = Math.max(v - 1, 1)),
                        y._dragged)
                            e.doneFn && e.doneFn();
                        else if (e.clickFn && e.clickFn(v, h),
                        !g) {
                            var r;
                            try {
                                r = new MouseEvent("click",t)
                            } catch (e) {
                                var n = f(t);
                                (r = document.createEvent("MouseEvents")).initMouseEvent("click", t.bubbles, t.cancelable, t.view, t.detail, t.screenX, t.screenY, n[0], n[1], t.ctrlKey, t.altKey, t.shiftKey, t.metaKey, t.button, t.relatedTarget)
                            }
                            p.dispatchEvent(r)
                        }
                        y._dragging = !1,
                        y._dragged = !1
                    } else
                        y._dragged = !1
                }
            }
            ,
            l.coverSlip = u
        }
        , {
            "../../lib": 365,
            "../../plots/cartesian/constants": 421,
            "./align": 251,
            "./cursor": 252,
            "./unhover": 255,
            "has-hover": 145,
            "has-passive-events": 146,
            "mouse-event-offset": 156
        }],
        255: [function(e, t, r) {
            "use strict";
            var n = e("../../lib/events")
              , a = e("../../lib/throttle")
              , i = e("../../lib/dom").getGraphDiv
              , o = e("../fx/constants")
              , s = t.exports = {};
            s.wrapped = function(e, t, r) {
                (e = i(e))._fullLayout && a.clear(e._fullLayout._uid + o.HOVERID),
                s.raw(e, t, r)
            }
            ,
            s.raw = function(e, t) {
                var r = e._fullLayout
                  , a = e._hoverdata;
                t || (t = {}),
                t.target && !e._dragged && !1 === n.triggerHandler(e, "plotly_beforehover", t) || (r._hoverlayer.selectAll("g").remove(),
                r._hoverlayer.selectAll("line").remove(),
                r._hoverlayer.selectAll("circle").remove(),
                e._hoverdata = void 0,
                t.target && a && e.emit("plotly_unhover", {
                    event: t,
                    points: a
                }))
            }
        }
        , {
            "../../lib/dom": 356,
            "../../lib/events": 357,
            "../../lib/throttle": 391,
            "../fx/constants": 269
        }],
        256: [function(e, t, r) {
            "use strict";
            r.dash = {
                valType: "string",
                values: ["solid", "dot", "dash", "longdash", "dashdot", "longdashdot"],
                dflt: "solid",
                editType: "style"
            },
            r.pattern = {
                shape: {
                    valType: "enumerated",
                    values: ["", "/", "\\", "x", "-", "|", "+", "."],
                    dflt: "",
                    arrayOk: !0,
                    editType: "style"
                },
                fillmode: {
                    valType: "enumerated",
                    values: ["replace", "overlay"],
                    dflt: "replace",
                    editType: "style"
                },
                bgcolor: {
                    valType: "color",
                    arrayOk: !0,
                    editType: "style"
                },
                fgcolor: {
                    valType: "color",
                    arrayOk: !0,
                    editType: "style"
                },
                fgopacity: {
                    valType: "number",
                    editType: "style",
                    min: 0,
                    max: 1
                },
                size: {
                    valType: "number",
                    min: 0,
                    dflt: 8,
                    arrayOk: !0,
                    editType: "style"
                },
                solidity: {
                    valType: "number",
                    min: 0,
                    max: 1,
                    dflt: .3,
                    arrayOk: !0,
                    editType: "style"
                },
                editType: "style"
            }
        }
        , {}],
        257: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../../lib")
              , i = a.numberFormat
              , o = e("fast-isnumeric")
              , s = e("tinycolor2")
              , l = e("../../registry")
              , c = e("../color")
              , u = e("../colorscale")
              , f = a.strTranslate
              , d = e("../../lib/svg_text_utils")
              , h = e("../../constants/xmlns_namespaces")
              , p = e("../../constants/alignment").LINE_SPACING
              , g = e("../../constants/interactions").DESELECTDIM
              , y = e("../../traces/scatter/subtypes")
              , v = e("../../traces/scatter/make_bubble_size_func")
              , m = e("../../components/fx/helpers").appendArrayPointValue
              , b = t.exports = {};
            b.font = function(e, t, r, n) {
                a.isPlainObject(t) && (n = t.color,
                r = t.size,
                t = t.family),
                t && e.style("font-family", t),
                r + 1 && e.style("font-size", r + "px"),
                n && e.call(c.fill, n)
            }
            ,
            b.setPosition = function(e, t, r) {
                e.attr("x", t).attr("y", r)
            }
            ,
            b.setSize = function(e, t, r) {
                e.attr("width", t).attr("height", r)
            }
            ,
            b.setRect = function(e, t, r, n, a) {
                e.call(b.setPosition, t, r).call(b.setSize, n, a)
            }
            ,
            b.translatePoint = function(e, t, r, n) {
                var a = r.c2p(e.x)
                  , i = n.c2p(e.y);
                return !!(o(a) && o(i) && t.node()) && ("text" === t.node().nodeName ? t.attr("x", a).attr("y", i) : t.attr("transform", f(a, i)),
                !0)
            }
            ,
            b.translatePoints = function(e, t, r) {
                e.each((function(e) {
                    var a = n.select(this);
                    b.translatePoint(e, a, t, r)
                }
                ))
            }
            ,
            b.hideOutsideRangePoint = function(e, t, r, n, a, i) {
                t.attr("display", r.isPtWithinRange(e, a) && n.isPtWithinRange(e, i) ? null : "none")
            }
            ,
            b.hideOutsideRangePoints = function(e, t) {
                if (t._hasClipOnAxisFalse) {
                    var r = t.xaxis
                      , a = t.yaxis;
                    e.each((function(t) {
                        var i = t[0].trace
                          , o = i.xcalendar
                          , s = i.ycalendar
                          , c = l.traceIs(i, "bar-like") ? ".bartext" : ".point,.textpoint";
                        e.selectAll(c).each((function(e) {
                            b.hideOutsideRangePoint(e, n.select(this), r, a, o, s)
                        }
                        ))
                    }
                    ))
                }
            }
            ,
            b.crispRound = function(e, t, r) {
                return t && o(t) ? e._context.staticPlot ? t : t < 1 ? 1 : Math.round(t) : r || 0
            }
            ,
            b.singleLineStyle = function(e, t, r, n, a) {
                t.style("fill", "none");
                var i = (((e || [])[0] || {}).trace || {}).line || {}
                  , o = r || i.width || 0
                  , s = a || i.dash || "";
                c.stroke(t, n || i.color),
                b.dashLine(t, s, o)
            }
            ,
            b.lineGroupStyle = function(e, t, r, a) {
                e.style("fill", "none").each((function(e) {
                    var i = (((e || [])[0] || {}).trace || {}).line || {}
                      , o = t || i.width || 0
                      , s = a || i.dash || "";
                    n.select(this).call(c.stroke, r || i.color).call(b.dashLine, s, o)
                }
                ))
            }
            ,
            b.dashLine = function(e, t, r) {
                r = +r || 0,
                t = b.dashStyle(t, r),
                e.style({
                    "stroke-dasharray": t,
                    "stroke-width": r + "px"
                })
            }
            ,
            b.dashStyle = function(e, t) {
                t = +t || 1;
                var r = Math.max(t, 3);
                return "solid" === e ? e = "" : "dot" === e ? e = r + "px," + r + "px" : "dash" === e ? e = 3 * r + "px," + 3 * r + "px" : "longdash" === e ? e = 5 * r + "px," + 5 * r + "px" : "dashdot" === e ? e = 3 * r + "px," + r + "px," + r + "px," + r + "px" : "longdashdot" === e && (e = 5 * r + "px," + 2 * r + "px," + r + "px," + 2 * r + "px"),
                e
            }
            ,
            b.singleFillStyle = function(e) {
                var t = (((n.select(e.node()).data()[0] || [])[0] || {}).trace || {}).fillcolor;
                t && e.call(c.fill, t)
            }
            ,
            b.fillGroupStyle = function(e) {
                e.style("stroke-width", 0).each((function(e) {
                    var t = n.select(this);
                    e[0].trace && t.call(c.fill, e[0].trace.fillcolor)
                }
                ))
            }
            ;
            var x = e("./symbol_defs");
            b.symbolNames = [],
            b.symbolFuncs = [],
            b.symbolNeedLines = {},
            b.symbolNoDot = {},
            b.symbolNoFill = {},
            b.symbolList = [],
            Object.keys(x).forEach((function(e) {
                var t = x[e]
                  , r = t.n;
                b.symbolList.push(r, String(r), e, r + 100, String(r + 100), e + "-open"),
                b.symbolNames[r] = e,
                b.symbolFuncs[r] = t.f,
                t.needLine && (b.symbolNeedLines[r] = !0),
                t.noDot ? b.symbolNoDot[r] = !0 : b.symbolList.push(r + 200, String(r + 200), e + "-dot", r + 300, String(r + 300), e + "-open-dot"),
                t.noFill && (b.symbolNoFill[r] = !0)
            }
            ));
            var _ = b.symbolNames.length;
            function w(e, t) {
                var r = e % 100;
                return b.symbolFuncs[r](t) + (e >= 200 ? "M0,0.5L0.5,0L0,-0.5L-0.5,0Z" : "")
            }
            b.symbolNumber = function(e) {
                if (o(e))
                    e = +e;
                else if ("string" == typeof e) {
                    var t = 0;
                    e.indexOf("-open") > 0 && (t = 100,
                    e = e.replace("-open", "")),
                    e.indexOf("-dot") > 0 && (t += 200,
                    e = e.replace("-dot", "")),
                    (e = b.symbolNames.indexOf(e)) >= 0 && (e += t)
                }
                return e % 100 >= _ || e >= 400 ? 0 : Math.floor(Math.max(e, 0))
            }
            ;
            var A = {
                x1: 1,
                x2: 0,
                y1: 0,
                y2: 0
            }
              , k = {
                x1: 0,
                x2: 0,
                y1: 1,
                y2: 0
            }
              , T = i("~f")
              , M = {
                radial: {
                    node: "radialGradient"
                },
                radialreversed: {
                    node: "radialGradient",
                    reversed: !0
                },
                horizontal: {
                    node: "linearGradient",
                    attrs: A
                },
                horizontalreversed: {
                    node: "linearGradient",
                    attrs: A,
                    reversed: !0
                },
                vertical: {
                    node: "linearGradient",
                    attrs: k
                },
                verticalreversed: {
                    node: "linearGradient",
                    attrs: k,
                    reversed: !0
                }
            };
            b.gradient = function(e, t, r, i, o, l) {
                for (var u = o.length, f = M[i], d = new Array(u), h = 0; h < u; h++)
                    f.reversed ? d[u - 1 - h] = [T(100 * (1 - o[h][0])), o[h][1]] : d[h] = [T(100 * o[h][0]), o[h][1]];
                var p = t._fullLayout
                  , g = "g" + p._uid + "-" + r
                  , y = p._defs.select(".gradients").selectAll("#" + g).data([i + d.join(";")], a.identity);
                y.exit().remove(),
                y.enter().append(f.node).each((function() {
                    var e = n.select(this);
                    f.attrs && e.attr(f.attrs),
                    e.attr("id", g);
                    var t = e.selectAll("stop").data(d);
                    t.exit().remove(),
                    t.enter().append("stop"),
                    t.each((function(e) {
                        var t = s(e[1]);
                        n.select(this).attr({
                            offset: e[0] + "%",
                            "stop-color": c.tinyRGB(t),
                            "stop-opacity": t.getAlpha()
                        })
                    }
                    ))
                }
                )),
                e.style(l, P(g, t)).style(l + "-opacity", null);
                var v = function(e) {
                    return "." + e.attr("class").replace(/\s/g, ".")
                }
                  , m = v(n.select(e.node().parentNode)) + ">" + v(e);
                p._gradientUrlQueryParts[m] = 1
            }
            ,
            b.pattern = function(e, t, r, i, o, s, l, u, f, d, h, p) {
                var g = "legend" === t;
                u && ("overlay" === f ? (d = u,
                h = c.contrast(d)) : (d = void 0,
                h = u));
                var y, v, m, b, x, _, w, A, k, T, M, S = r._fullLayout, C = "p" + S._uid + "-" + i, O = {};
                switch (o) {
                case "/":
                    y = s * Math.sqrt(2),
                    v = s * Math.sqrt(2),
                    _ = "path",
                    O = {
                        d: m = "M-" + y / 4 + "," + v / 4 + "l" + y / 2 + ",-" + v / 2 + "M0," + v + "L" + y + ",0M" + y / 4 * 3 + "," + v / 4 * 5 + "l" + y / 2 + ",-" + v / 2,
                        opacity: p,
                        stroke: h,
                        "stroke-width": (b = l * s) + "px"
                    };
                    break;
                case "\\":
                    y = s * Math.sqrt(2),
                    v = s * Math.sqrt(2),
                    _ = "path",
                    O = {
                        d: m = "M" + y / 4 * 3 + ",-" + v / 4 + "l" + y / 2 + "," + v / 2 + "M0,0L" + y + "," + v + "M-" + y / 4 + "," + v / 4 * 3 + "l" + y / 2 + "," + v / 2,
                        opacity: p,
                        stroke: h,
                        "stroke-width": (b = l * s) + "px"
                    };
                    break;
                case "x":
                    y = s * Math.sqrt(2),
                    v = s * Math.sqrt(2),
                    m = "M-" + y / 4 + "," + v / 4 + "l" + y / 2 + ",-" + v / 2 + "M0," + v + "L" + y + ",0M" + y / 4 * 3 + "," + v / 4 * 5 + "l" + y / 2 + ",-" + v / 2 + "M" + y / 4 * 3 + ",-" + v / 4 + "l" + y / 2 + "," + v / 2 + "M0,0L" + y + "," + v + "M-" + y / 4 + "," + v / 4 * 3 + "l" + y / 2 + "," + v / 2,
                    b = s - s * Math.sqrt(1 - l),
                    _ = "path",
                    O = {
                        d: m,
                        opacity: p,
                        stroke: h,
                        "stroke-width": b + "px"
                    };
                    break;
                case "|":
                    _ = "path",
                    _ = "path",
                    O = {
                        d: m = "M" + (y = s) / 2 + ",0L" + y / 2 + "," + (v = s),
                        opacity: p,
                        stroke: h,
                        "stroke-width": (b = l * s) + "px"
                    };
                    break;
                case "-":
                    _ = "path",
                    _ = "path",
                    O = {
                        d: m = "M0," + (v = s) / 2 + "L" + (y = s) + "," + v / 2,
                        opacity: p,
                        stroke: h,
                        "stroke-width": (b = l * s) + "px"
                    };
                    break;
                case "+":
                    _ = "path",
                    m = "M" + (y = s) / 2 + ",0L" + y / 2 + "," + (v = s) + "M0," + v / 2 + "L" + y + "," + v / 2,
                    b = s - s * Math.sqrt(1 - l),
                    _ = "path",
                    O = {
                        d: m,
                        opacity: p,
                        stroke: h,
                        "stroke-width": b + "px"
                    };
                    break;
                case ".":
                    y = s,
                    v = s,
                    l < Math.PI / 4 ? x = Math.sqrt(l * s * s / Math.PI) : (w = l,
                    A = Math.PI / 4,
                    k = 1,
                    T = s / 2,
                    M = s / Math.sqrt(2),
                    x = T + (M - T) * (w - A) / (k - A)),
                    _ = "circle",
                    O = {
                        cx: y / 2,
                        cy: v / 2,
                        r: x,
                        opacity: p,
                        fill: h
                    }
                }
                var D = [o || "noSh", d || "noBg", h || "noFg", s, l].join(";")
                  , L = S._defs.select(".patterns").selectAll("#" + C).data([D], a.identity);
                L.exit().remove(),
                L.enter().append("pattern").each((function() {
                    var e = n.select(this);
                    if (e.attr({
                        id: C,
                        width: y + "px",
                        height: v + "px",
                        patternUnits: "userSpaceOnUse",
                        patternTransform: g ? "scale(0.8)" : ""
                    }),
                    d) {
                        var t = e.selectAll("rect").data([0]);
                        t.exit().remove(),
                        t.enter().append("rect").attr({
                            width: y + "px",
                            height: v + "px",
                            fill: d
                        })
                    }
                    var r = e.selectAll(_).data([0]);
                    r.exit().remove(),
                    r.enter().append(_).attr(O)
                }
                )),
                e.style("fill", P(C, r)).style("fill-opacity", null),
                e.classed("pattern_filled", !0);
                var E = "." + n.select(e.node().parentNode).attr("class").replace(/\s/g, ".") + ">.pattern_filled";
                S._patternUrlQueryParts[E] = 1
            }
            ,
            b.initGradients = function(e) {
                var t = e._fullLayout;
                a.ensureSingle(t._defs, "g", "gradients").selectAll("linearGradient,radialGradient").remove(),
                t._gradientUrlQueryParts = {}
            }
            ,
            b.initPatterns = function(e) {
                var t = e._fullLayout;
                a.ensureSingle(t._defs, "g", "patterns").selectAll("pattern").remove(),
                t._patternUrlQueryParts = {}
            }
            ,
            b.getPatternAttr = function(e, t, r) {
                return e && a.isArrayOrTypedArray(e) ? t < e.length ? e[t] : r : e
            }
            ,
            b.pointStyle = function(e, t, r) {
                if (e.size()) {
                    var a = b.makePointStyleFns(t);
                    e.each((function(e) {
                        b.singlePointStyle(e, n.select(this), t, a, r)
                    }
                    ))
                }
            }
            ,
            b.singlePointStyle = function(e, t, r, n, i) {
                var o = r.marker
                  , s = o.line;
                if (t.style("opacity", n.selectedOpacityFn ? n.selectedOpacityFn(e) : void 0 === e.mo ? o.opacity : e.mo),
                n.ms2mrc) {
                    var l;
                    l = "various" === e.ms || "various" === o.size ? 3 : n.ms2mrc(e.ms),
                    e.mrc = l,
                    n.selectedSizeFn && (l = e.mrc = n.selectedSizeFn(e));
                    var u = b.symbolNumber(e.mx || o.symbol) || 0;
                    e.om = u % 200 >= 100,
                    t.attr("d", w(u, l))
                }
                var f, d, h, p = !1;
                if (e.so)
                    h = s.outlierwidth,
                    d = s.outliercolor,
                    f = o.outliercolor;
                else {
                    var g = (s || {}).width;
                    h = (e.mlw + 1 || g + 1 || (e.trace ? (e.trace.marker.line || {}).width : 0) + 1) - 1 || 0,
                    d = "mlc"in e ? e.mlcc = n.lineScale(e.mlc) : a.isArrayOrTypedArray(s.color) ? c.defaultLine : s.color,
                    a.isArrayOrTypedArray(o.color) && (f = c.defaultLine,
                    p = !0),
                    f = "mc"in e ? e.mcc = n.markerScale(e.mc) : o.color || "rgba(0,0,0,0)",
                    n.selectedColorFn && (f = n.selectedColorFn(e))
                }
                if (e.om)
                    t.call(c.stroke, f).style({
                        "stroke-width": (h || 1) + "px",
                        fill: "none"
                    });
                else {
                    t.style("stroke-width", (e.isBlank ? 0 : h) + "px");
                    var y = o.gradient
                      , v = e.mgt;
                    v ? p = !0 : v = y && y.type,
                    a.isArrayOrTypedArray(v) && (v = v[0],
                    M[v] || (v = 0));
                    var m = o.pattern
                      , x = m && b.getPatternAttr(m.shape, e.i, "");
                    if (v && "none" !== v) {
                        var _ = e.mgc;
                        _ ? p = !0 : _ = y.color;
                        var A = r.uid;
                        p && (A += "-" + e.i),
                        b.gradient(t, i, A, v, [[0, _], [1, f]], "fill")
                    } else if (x) {
                        var k = b.getPatternAttr(m.bgcolor, e.i, null)
                          , T = b.getPatternAttr(m.fgcolor, e.i, null)
                          , S = m.fgopacity
                          , C = b.getPatternAttr(m.size, e.i, 8)
                          , O = b.getPatternAttr(m.solidity, e.i, .3)
                          , D = e.mcc || a.isArrayOrTypedArray(m.shape) || a.isArrayOrTypedArray(m.bgcolor) || a.isArrayOrTypedArray(m.size) || a.isArrayOrTypedArray(m.solidity)
                          , L = r.uid;
                        D && (L += "-" + e.i),
                        b.pattern(t, "point", i, L, x, C, O, e.mcc, m.fillmode, k, T, S)
                    } else
                        c.fill(t, f);
                    h && c.stroke(t, d)
                }
            }
            ,
            b.makePointStyleFns = function(e) {
                var t = {}
                  , r = e.marker;
                return t.markerScale = b.tryColorscale(r, ""),
                t.lineScale = b.tryColorscale(r, "line"),
                l.traceIs(e, "symbols") && (t.ms2mrc = y.isBubble(e) ? v(e) : function() {
                    return (r.size || 6) / 2
                }
                ),
                e.selectedpoints && a.extendFlat(t, b.makeSelectedPointStyleFns(e)),
                t
            }
            ,
            b.makeSelectedPointStyleFns = function(e) {
                var t = {}
                  , r = e.selected || {}
                  , n = e.unselected || {}
                  , i = e.marker || {}
                  , o = r.marker || {}
                  , s = n.marker || {}
                  , c = i.opacity
                  , u = o.opacity
                  , f = s.opacity
                  , d = void 0 !== u
                  , h = void 0 !== f;
                (a.isArrayOrTypedArray(c) || d || h) && (t.selectedOpacityFn = function(e) {
                    var t = void 0 === e.mo ? i.opacity : e.mo;
                    return e.selected ? d ? u : t : h ? f : g * t
                }
                );
                var p = i.color
                  , y = o.color
                  , v = s.color;
                (y || v) && (t.selectedColorFn = function(e) {
                    var t = e.mcc || p;
                    return e.selected ? y || t : v || t
                }
                );
                var m = i.size
                  , b = o.size
                  , x = s.size
                  , _ = void 0 !== b
                  , w = void 0 !== x;
                return l.traceIs(e, "symbols") && (_ || w) && (t.selectedSizeFn = function(e) {
                    var t = e.mrc || m / 2;
                    return e.selected ? _ ? b / 2 : t : w ? x / 2 : t
                }
                ),
                t
            }
            ,
            b.makeSelectedTextStyleFns = function(e) {
                var t = {}
                  , r = e.selected || {}
                  , n = e.unselected || {}
                  , a = e.textfont || {}
                  , i = r.textfont || {}
                  , o = n.textfont || {}
                  , s = a.color
                  , l = i.color
                  , u = o.color;
                return t.selectedTextColorFn = function(e) {
                    var t = e.tc || s;
                    return e.selected ? l || t : u || (l ? t : c.addOpacity(t, g))
                }
                ,
                t
            }
            ,
            b.selectedPointStyle = function(e, t) {
                if (e.size() && t.selectedpoints) {
                    var r = b.makeSelectedPointStyleFns(t)
                      , a = t.marker || {}
                      , i = [];
                    r.selectedOpacityFn && i.push((function(e, t) {
                        e.style("opacity", r.selectedOpacityFn(t))
                    }
                    )),
                    r.selectedColorFn && i.push((function(e, t) {
                        c.fill(e, r.selectedColorFn(t))
                    }
                    )),
                    r.selectedSizeFn && i.push((function(e, t) {
                        var n = t.mx || a.symbol || 0
                          , i = r.selectedSizeFn(t);
                        e.attr("d", w(b.symbolNumber(n), i)),
                        t.mrc2 = i
                    }
                    )),
                    i.length && e.each((function(e) {
                        for (var t = n.select(this), r = 0; r < i.length; r++)
                            i[r](t, e)
                    }
                    ))
                }
            }
            ,
            b.tryColorscale = function(e, t) {
                var r = t ? a.nestedProperty(e, t).get() : e;
                if (r) {
                    var n = r.color;
                    if ((r.colorscale || r._colorAx) && a.isArrayOrTypedArray(n))
                        return u.makeColorScaleFuncFromTrace(r)
                }
                return a.identity
            }
            ;
            var S = {
                start: 1,
                end: -1,
                middle: 0,
                bottom: 1,
                top: -1
            };
            function C(e, t, r, a) {
                var i = n.select(e.node().parentNode)
                  , o = -1 !== t.indexOf("top") ? "top" : -1 !== t.indexOf("bottom") ? "bottom" : "middle"
                  , s = -1 !== t.indexOf("left") ? "end" : -1 !== t.indexOf("right") ? "start" : "middle"
                  , l = a ? a / .8 + 1 : 0
                  , c = (d.lineCount(e) - 1) * p + 1
                  , u = S[s] * l
                  , h = .75 * r + S[o] * l + (S[o] - 1) * c * r / 2;
                e.attr("text-anchor", s),
                i.attr("transform", f(u, h))
            }
            function O(e, t) {
                var r = e.ts || t.textfont.size;
                return o(r) && r > 0 ? r : 0
            }
            b.textPointStyle = function(e, t, r) {
                if (e.size()) {
                    var i;
                    if (t.selectedpoints) {
                        var o = b.makeSelectedTextStyleFns(t);
                        i = o.selectedTextColorFn
                    }
                    var s = t.texttemplate
                      , l = r._fullLayout;
                    e.each((function(e) {
                        var o = n.select(this)
                          , c = s ? a.extractOption(e, t, "txt", "texttemplate") : a.extractOption(e, t, "tx", "text");
                        if (c || 0 === c) {
                            if (s) {
                                var u = t._module.formatLabels
                                  , f = u ? u(e, t, l) : {}
                                  , h = {};
                                m(h, t, e.i);
                                var p = t._meta || {};
                                c = a.texttemplateString(c, f, l._d3locale, h, e, p)
                            }
                            var g = e.tp || t.textposition
                              , y = O(e, t)
                              , v = i ? i(e) : e.tc || t.textfont.color;
                            o.call(b.font, e.tf || t.textfont.family, y, v).text(c).call(d.convertToTspans, r).call(C, g, y, e.mrc)
                        } else
                            o.remove()
                    }
                    ))
                }
            }
            ,
            b.selectedTextStyle = function(e, t) {
                if (e.size() && t.selectedpoints) {
                    var r = b.makeSelectedTextStyleFns(t);
                    e.each((function(e) {
                        var a = n.select(this)
                          , i = r.selectedTextColorFn(e)
                          , o = e.tp || t.textposition
                          , s = O(e, t);
                        c.fill(a, i),
                        C(a, o, s, e.mrc2 || e.mrc)
                    }
                    ))
                }
            }
            ;
            function D(e, t, r, a) {
                var i = e[0] - t[0]
                  , o = e[1] - t[1]
                  , s = r[0] - t[0]
                  , l = r[1] - t[1]
                  , c = Math.pow(i * i + o * o, .25)
                  , u = Math.pow(s * s + l * l, .25)
                  , f = (u * u * i - c * c * s) * a
                  , d = (u * u * o - c * c * l) * a
                  , h = 3 * u * (c + u)
                  , p = 3 * c * (c + u);
                return [[n.round(t[0] + (h && f / h), 2), n.round(t[1] + (h && d / h), 2)], [n.round(t[0] - (p && f / p), 2), n.round(t[1] - (p && d / p), 2)]]
            }
            b.smoothopen = function(e, t) {
                if (e.length < 3)
                    return "M" + e.join("L");
                var r, n = "M" + e[0], a = [];
                for (r = 1; r < e.length - 1; r++)
                    a.push(D(e[r - 1], e[r], e[r + 1], t));
                for (n += "Q" + a[0][0] + " " + e[1],
                r = 2; r < e.length - 1; r++)
                    n += "C" + a[r - 2][1] + " " + a[r - 1][0] + " " + e[r];
                return n += "Q" + a[e.length - 3][1] + " " + e[e.length - 1]
            }
            ,
            b.smoothclosed = function(e, t) {
                if (e.length < 3)
                    return "M" + e.join("L") + "Z";
                var r, n = "M" + e[0], a = e.length - 1, i = [D(e[a], e[0], e[1], t)];
                for (r = 1; r < a; r++)
                    i.push(D(e[r - 1], e[r], e[r + 1], t));
                for (i.push(D(e[a - 1], e[a], e[0], t)),
                r = 1; r <= a; r++)
                    n += "C" + i[r - 1][1] + " " + i[r][0] + " " + e[r];
                return n += "C" + i[a][1] + " " + i[0][0] + " " + e[0] + "Z"
            }
            ;
            var L = {
                hv: function(e, t) {
                    return "H" + n.round(t[0], 2) + "V" + n.round(t[1], 2)
                },
                vh: function(e, t) {
                    return "V" + n.round(t[1], 2) + "H" + n.round(t[0], 2)
                },
                hvh: function(e, t) {
                    return "H" + n.round((e[0] + t[0]) / 2, 2) + "V" + n.round(t[1], 2) + "H" + n.round(t[0], 2)
                },
                vhv: function(e, t) {
                    return "V" + n.round((e[1] + t[1]) / 2, 2) + "H" + n.round(t[0], 2) + "V" + n.round(t[1], 2)
                }
            }
              , E = function(e, t) {
                return "L" + n.round(t[0], 2) + "," + n.round(t[1], 2)
            };
            b.steps = function(e) {
                var t = L[e] || E;
                return function(e) {
                    for (var r = "M" + n.round(e[0][0], 2) + "," + n.round(e[0][1], 2), a = 1; a < e.length; a++)
                        r += t(e[a - 1], e[a]);
                    return r
                }
            }
            ,
            b.makeTester = function() {
                var e = a.ensureSingleById(n.select("body"), "svg", "js-plotly-tester", (function(e) {
                    e.attr(h.svgAttrs).style({
                        position: "absolute",
                        left: "-10000px",
                        top: "-10000px",
                        width: "9000px",
                        height: "9000px",
                        "z-index": "1"
                    })
                }
                ))
                  , t = a.ensureSingle(e, "path", "js-reference-point", (function(e) {
                    e.attr("d", "M0,0H1V1H0Z").style({
                        "stroke-width": 0,
                        fill: "black"
                    })
                }
                ));
                b.tester = e,
                b.testref = t
            }
            ,
            b.savedBBoxes = {};
            var z = 0;
            function F(e) {
                var t = e.getAttribute("data-unformatted");
                if (null !== t)
                    return t + e.getAttribute("data-math") + e.getAttribute("text-anchor") + e.getAttribute("style")
            }
            function P(e, t) {
                if (!e)
                    return null;
                var r = t._context
                  , n = r._exportedPlot ? "" : r._baseUrl || "";
                return n ? "url('" + n + "#" + e + "')" : "url(#" + e + ")"
            }
            b.bBox = function(e, t, r) {
                var i, o, s;
                if (r || (r = F(e)),
                r) {
                    if (i = b.savedBBoxes[r])
                        return a.extendFlat({}, i)
                } else if (1 === e.childNodes.length) {
                    var l = e.childNodes[0];
                    if (r = F(l)) {
                        var c = +l.getAttribute("x") || 0
                          , u = +l.getAttribute("y") || 0
                          , f = l.getAttribute("transform");
                        if (!f) {
                            var h = b.bBox(l, !1, r);
                            return c && (h.left += c,
                            h.right += c),
                            u && (h.top += u,
                            h.bottom += u),
                            h
                        }
                        if (r += "~" + c + "~" + u + "~" + f,
                        i = b.savedBBoxes[r])
                            return a.extendFlat({}, i)
                    }
                }
                t ? o = e : (s = b.tester.node(),
                o = e.cloneNode(!0),
                s.appendChild(o)),
                n.select(o).attr("transform", null).call(d.positionText, 0, 0);
                var p = o.getBoundingClientRect()
                  , g = b.testref.node().getBoundingClientRect();
                t || s.removeChild(o);
                var y = {
                    height: p.height,
                    width: p.width,
                    left: p.left - g.left,
                    top: p.top - g.top,
                    right: p.right - g.left,
                    bottom: p.bottom - g.top
                };
                return z >= 1e4 && (b.savedBBoxes = {},
                z = 0),
                r && (b.savedBBoxes[r] = y),
                z++,
                a.extendFlat({}, y)
            }
            ,
            b.setClipUrl = function(e, t, r) {
                e.attr("clip-path", P(t, r))
            }
            ,
            b.getTranslate = function(e) {
                var t = (e[e.attr ? "attr" : "getAttribute"]("transform") || "").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/, (function(e, t, r) {
                    return [t, r].join(" ")
                }
                )).split(" ");
                return {
                    x: +t[0] || 0,
                    y: +t[1] || 0
                }
            }
            ,
            b.setTranslate = function(e, t, r) {
                var n = e.attr ? "attr" : "getAttribute"
                  , a = e.attr ? "attr" : "setAttribute"
                  , i = e[n]("transform") || "";
                return t = t || 0,
                r = r || 0,
                i = i.replace(/(\btranslate\(.*?\);?)/, "").trim(),
                i = (i += f(t, r)).trim(),
                e[a]("transform", i),
                i
            }
            ,
            b.getScale = function(e) {
                var t = (e[e.attr ? "attr" : "getAttribute"]("transform") || "").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/, (function(e, t, r) {
                    return [t, r].join(" ")
                }
                )).split(" ");
                return {
                    x: +t[0] || 1,
                    y: +t[1] || 1
                }
            }
            ,
            b.setScale = function(e, t, r) {
                var n = e.attr ? "attr" : "getAttribute"
                  , a = e.attr ? "attr" : "setAttribute"
                  , i = e[n]("transform") || "";
                return t = t || 1,
                r = r || 1,
                i = i.replace(/(\bscale\(.*?\);?)/, "").trim(),
                i = (i += "scale(" + t + "," + r + ")").trim(),
                e[a]("transform", i),
                i
            }
            ;
            var I = /\s*sc.*/;
            b.setPointGroupScale = function(e, t, r) {
                if (t = t || 1,
                r = r || 1,
                e) {
                    var n = 1 === t && 1 === r ? "" : "scale(" + t + "," + r + ")";
                    e.each((function() {
                        var e = (this.getAttribute("transform") || "").replace(I, "");
                        e = (e += n).trim(),
                        this.setAttribute("transform", e)
                    }
                    ))
                }
            }
            ;
            var N = /translate\([^)]*\)\s*$/;
            b.setTextPointsScale = function(e, t, r) {
                e && e.each((function() {
                    var e, a = n.select(this), i = a.select("text");
                    if (i.node()) {
                        var o = parseFloat(i.attr("x") || 0)
                          , s = parseFloat(i.attr("y") || 0)
                          , l = (a.attr("transform") || "").match(N);
                        e = 1 === t && 1 === r ? [] : [f(o, s), "scale(" + t + "," + r + ")", f(-o, -s)],
                        l && e.push(l),
                        a.attr("transform", e.join(""))
                    }
                }
                ))
            }
        }
        , {
            "../../components/fx/helpers": 271,
            "../../constants/alignment": 340,
            "../../constants/interactions": 343,
            "../../constants/xmlns_namespaces": 345,
            "../../lib": 365,
            "../../lib/svg_text_utils": 390,
            "../../registry": 451,
            "../../traces/scatter/make_bubble_size_func": 480,
            "../../traces/scatter/subtypes": 488,
            "../color": 235,
            "../colorscale": 247,
            "./symbol_defs": 258,
            "@plotly/d3": 6,
            "fast-isnumeric": 107,
            tinycolor2: 184
        }],
        258: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3");
            t.exports = {
                circle: {
                    n: 0,
                    f: function(e) {
                        var t = n.round(e, 2);
                        return "M" + t + ",0A" + t + "," + t + " 0 1,1 0,-" + t + "A" + t + "," + t + " 0 0,1 " + t + ",0Z"
                    }
                },
                square: {
                    n: 1,
                    f: function(e) {
                        var t = n.round(e, 2);
                        return "M" + t + "," + t + "H-" + t + "V-" + t + "H" + t + "Z"
                    }
                },
                diamond: {
                    n: 2,
                    f: function(e) {
                        var t = n.round(1.3 * e, 2);
                        return "M" + t + ",0L0," + t + "L-" + t + ",0L0,-" + t + "Z"
                    }
                },
                cross: {
                    n: 3,
                    f: function(e) {
                        var t = n.round(.4 * e, 2)
                          , r = n.round(1.2 * e, 2);
                        return "M" + r + "," + t + "H" + t + "V" + r + "H-" + t + "V" + t + "H-" + r + "V-" + t + "H-" + t + "V-" + r + "H" + t + "V-" + t + "H" + r + "Z"
                    }
                },
                x: {
                    n: 4,
                    f: function(e) {
                        var t = n.round(.8 * e / Math.sqrt(2), 2)
                          , r = "l" + t + "," + t
                          , a = "l" + t + ",-" + t
                          , i = "l-" + t + ",-" + t
                          , o = "l-" + t + "," + t;
                        return "M0," + t + r + a + i + a + i + o + i + o + r + o + r + "Z"
                    }
                },
                "triangle-up": {
                    n: 5,
                    f: function(e) {
                        var t = n.round(2 * e / Math.sqrt(3), 2);
                        return "M-" + t + "," + n.round(e / 2, 2) + "H" + t + "L0,-" + n.round(e, 2) + "Z"
                    }
                },
                "triangle-down": {
                    n: 6,
                    f: function(e) {
                        var t = n.round(2 * e / Math.sqrt(3), 2);
                        return "M-" + t + ",-" + n.round(e / 2, 2) + "H" + t + "L0," + n.round(e, 2) + "Z"
                    }
                },
                "triangle-left": {
                    n: 7,
                    f: function(e) {
                        var t = n.round(2 * e / Math.sqrt(3), 2);
                        return "M" + n.round(e / 2, 2) + ",-" + t + "V" + t + "L-" + n.round(e, 2) + ",0Z"
                    }
                },
                "triangle-right": {
                    n: 8,
                    f: function(e) {
                        var t = n.round(2 * e / Math.sqrt(3), 2);
                        return "M-" + n.round(e / 2, 2) + ",-" + t + "V" + t + "L" + n.round(e, 2) + ",0Z"
                    }
                },
                "triangle-ne": {
                    n: 9,
                    f: function(e) {
                        var t = n.round(.6 * e, 2)
                          , r = n.round(1.2 * e, 2);
                        return "M-" + r + ",-" + t + "H" + t + "V" + r + "Z"
                    }
                },
                "triangle-se": {
                    n: 10,
                    f: function(e) {
                        var t = n.round(.6 * e, 2)
                          , r = n.round(1.2 * e, 2);
                        return "M" + t + ",-" + r + "V" + t + "H-" + r + "Z"
                    }
                },
                "triangle-sw": {
                    n: 11,
                    f: function(e) {
                        var t = n.round(.6 * e, 2)
                          , r = n.round(1.2 * e, 2);
                        return "M" + r + "," + t + "H-" + t + "V-" + r + "Z"
                    }
                },
                "triangle-nw": {
                    n: 12,
                    f: function(e) {
                        var t = n.round(.6 * e, 2)
                          , r = n.round(1.2 * e, 2);
                        return "M-" + t + "," + r + "V-" + t + "H" + r + "Z"
                    }
                },
                pentagon: {
                    n: 13,
                    f: function(e) {
                        var t = n.round(.951 * e, 2)
                          , r = n.round(.588 * e, 2)
                          , a = n.round(-e, 2)
                          , i = n.round(-.309 * e, 2);
                        return "M" + t + "," + i + "L" + r + "," + n.round(.809 * e, 2) + "H-" + r + "L-" + t + "," + i + "L0," + a + "Z"
                    }
                },
                hexagon: {
                    n: 14,
                    f: function(e) {
                        var t = n.round(e, 2)
                          , r = n.round(e / 2, 2)
                          , a = n.round(e * Math.sqrt(3) / 2, 2);
                        return "M" + a + ",-" + r + "V" + r + "L0," + t + "L-" + a + "," + r + "V-" + r + "L0,-" + t + "Z"
                    }
                },
                hexagon2: {
                    n: 15,
                    f: function(e) {
                        var t = n.round(e, 2)
                          , r = n.round(e / 2, 2)
                          , a = n.round(e * Math.sqrt(3) / 2, 2);
                        return "M-" + r + "," + a + "H" + r + "L" + t + ",0L" + r + ",-" + a + "H-" + r + "L-" + t + ",0Z"
                    }
                },
                octagon: {
                    n: 16,
                    f: function(e) {
                        var t = n.round(.924 * e, 2)
                          , r = n.round(.383 * e, 2);
                        return "M-" + r + ",-" + t + "H" + r + "L" + t + ",-" + r + "V" + r + "L" + r + "," + t + "H-" + r + "L-" + t + "," + r + "V-" + r + "Z"
                    }
                },
                star: {
                    n: 17,
                    f: function(e) {
                        var t = 1.4 * e
                          , r = n.round(.225 * t, 2)
                          , a = n.round(.951 * t, 2)
                          , i = n.round(.363 * t, 2)
                          , o = n.round(.588 * t, 2)
                          , s = n.round(-t, 2)
                          , l = n.round(-.309 * t, 2)
                          , c = n.round(.118 * t, 2)
                          , u = n.round(.809 * t, 2);
                        return "M" + r + "," + l + "H" + a + "L" + i + "," + c + "L" + o + "," + u + "L0," + n.round(.382 * t, 2) + "L-" + o + "," + u + "L-" + i + "," + c + "L-" + a + "," + l + "H-" + r + "L0," + s + "Z"
                    }
                },
                hexagram: {
                    n: 18,
                    f: function(e) {
                        var t = n.round(.66 * e, 2)
                          , r = n.round(.38 * e, 2)
                          , a = n.round(.76 * e, 2);
                        return "M-" + a + ",0l-" + r + ",-" + t + "h" + a + "l" + r + ",-" + t + "l" + r + "," + t + "h" + a + "l-" + r + "," + t + "l" + r + "," + t + "h-" + a + "l-" + r + "," + t + "l-" + r + ",-" + t + "h-" + a + "Z"
                    }
                },
                "star-triangle-up": {
                    n: 19,
                    f: function(e) {
                        var t = n.round(e * Math.sqrt(3) * .8, 2)
                          , r = n.round(.8 * e, 2)
                          , a = n.round(1.6 * e, 2)
                          , i = n.round(4 * e, 2)
                          , o = "A " + i + "," + i + " 0 0 1 ";
                        return "M-" + t + "," + r + o + t + "," + r + o + "0,-" + a + o + "-" + t + "," + r + "Z"
                    }
                },
                "star-triangle-down": {
                    n: 20,
                    f: function(e) {
                        var t = n.round(e * Math.sqrt(3) * .8, 2)
                          , r = n.round(.8 * e, 2)
                          , a = n.round(1.6 * e, 2)
                          , i = n.round(4 * e, 2)
                          , o = "A " + i + "," + i + " 0 0 1 ";
                        return "M" + t + ",-" + r + o + "-" + t + ",-" + r + o + "0," + a + o + t + ",-" + r + "Z"
                    }
                },
                "star-square": {
                    n: 21,
                    f: function(e) {
                        var t = n.round(1.1 * e, 2)
                          , r = n.round(2 * e, 2)
                          , a = "A " + r + "," + r + " 0 0 1 ";
                        return "M-" + t + ",-" + t + a + "-" + t + "," + t + a + t + "," + t + a + t + ",-" + t + a + "-" + t + ",-" + t + "Z"
                    }
                },
                "star-diamond": {
                    n: 22,
                    f: function(e) {
                        var t = n.round(1.4 * e, 2)
                          , r = n.round(1.9 * e, 2)
                          , a = "A " + r + "," + r + " 0 0 1 ";
                        return "M-" + t + ",0" + a + "0," + t + a + t + ",0" + a + "0,-" + t + a + "-" + t + ",0Z"
                    }
                },
                "diamond-tall": {
                    n: 23,
                    f: function(e) {
                        var t = n.round(.7 * e, 2)
                          , r = n.round(1.4 * e, 2);
                        return "M0," + r + "L" + t + ",0L0,-" + r + "L-" + t + ",0Z"
                    }
                },
                "diamond-wide": {
                    n: 24,
                    f: function(e) {
                        var t = n.round(1.4 * e, 2)
                          , r = n.round(.7 * e, 2);
                        return "M0," + r + "L" + t + ",0L0,-" + r + "L-" + t + ",0Z"
                    }
                },
                hourglass: {
                    n: 25,
                    f: function(e) {
                        var t = n.round(e, 2);
                        return "M" + t + "," + t + "H-" + t + "L" + t + ",-" + t + "H-" + t + "Z"
                    },
                    noDot: !0
                },
                bowtie: {
                    n: 26,
                    f: function(e) {
                        var t = n.round(e, 2);
                        return "M" + t + "," + t + "V-" + t + "L-" + t + "," + t + "V-" + t + "Z"
                    },
                    noDot: !0
                },
                "circle-cross": {
                    n: 27,
                    f: function(e) {
                        var t = n.round(e, 2);
                        return "M0," + t + "V-" + t + "M" + t + ",0H-" + t + "M" + t + ",0A" + t + "," + t + " 0 1,1 0,-" + t + "A" + t + "," + t + " 0 0,1 " + t + ",0Z"
                    },
                    needLine: !0,
                    noDot: !0
                },
                "circle-x": {
                    n: 28,
                    f: function(e) {
                        var t = n.round(e, 2)
                          , r = n.round(e / Math.sqrt(2), 2);
                        return "M" + r + "," + r + "L-" + r + ",-" + r + "M" + r + ",-" + r + "L-" + r + "," + r + "M" + t + ",0A" + t + "," + t + " 0 1,1 0,-" + t + "A" + t + "," + t + " 0 0,1 " + t + ",0Z"
                    },
                    needLine: !0,
                    noDot: !0
                },
                "square-cross": {
                    n: 29,
                    f: function(e) {
                        var t = n.round(e, 2);
                        return "M0," + t + "V-" + t + "M" + t + ",0H-" + t + "M" + t + "," + t + "H-" + t + "V-" + t + "H" + t + "Z"
                    },
                    needLine: !0,
                    noDot: !0
                },
                "square-x": {
                    n: 30,
                    f: function(e) {
                        var t = n.round(e, 2);
                        return "M" + t + "," + t + "L-" + t + ",-" + t + "M" + t + ",-" + t + "L-" + t + "," + t + "M" + t + "," + t + "H-" + t + "V-" + t + "H" + t + "Z"
                    },
                    needLine: !0,
                    noDot: !0
                },
                "diamond-cross": {
                    n: 31,
                    f: function(e) {
                        var t = n.round(1.3 * e, 2);
                        return "M" + t + ",0L0," + t + "L-" + t + ",0L0,-" + t + "ZM0,-" + t + "V" + t + "M-" + t + ",0H" + t
                    },
                    needLine: !0,
                    noDot: !0
                },
                "diamond-x": {
                    n: 32,
                    f: function(e) {
                        var t = n.round(1.3 * e, 2)
                          , r = n.round(.65 * e, 2);
                        return "M" + t + ",0L0," + t + "L-" + t + ",0L0,-" + t + "ZM-" + r + ",-" + r + "L" + r + "," + r + "M-" + r + "," + r + "L" + r + ",-" + r
                    },
                    needLine: !0,
                    noDot: !0
                },
                "cross-thin": {
                    n: 33,
                    f: function(e) {
                        var t = n.round(1.4 * e, 2);
                        return "M0," + t + "V-" + t + "M" + t + ",0H-" + t
                    },
                    needLine: !0,
                    noDot: !0,
                    noFill: !0
                },
                "x-thin": {
                    n: 34,
                    f: function(e) {
                        var t = n.round(e, 2);
                        return "M" + t + "," + t + "L-" + t + ",-" + t + "M" + t + ",-" + t + "L-" + t + "," + t
                    },
                    needLine: !0,
                    noDot: !0,
                    noFill: !0
                },
                asterisk: {
                    n: 35,
                    f: function(e) {
                        var t = n.round(1.2 * e, 2)
                          , r = n.round(.85 * e, 2);
                        return "M0," + t + "V-" + t + "M" + t + ",0H-" + t + "M" + r + "," + r + "L-" + r + ",-" + r + "M" + r + ",-" + r + "L-" + r + "," + r
                    },
                    needLine: !0,
                    noDot: !0,
                    noFill: !0
                },
                hash: {
                    n: 36,
                    f: function(e) {
                        var t = n.round(e / 2, 2)
                          , r = n.round(e, 2);
                        return "M" + t + "," + r + "V-" + r + "m-" + r + ",0V" + r + "M" + r + "," + t + "H-" + r + "m0,-" + r + "H" + r
                    },
                    needLine: !0,
                    noFill: !0
                },
                "y-up": {
                    n: 37,
                    f: function(e) {
                        var t = n.round(1.2 * e, 2)
                          , r = n.round(1.6 * e, 2)
                          , a = n.round(.8 * e, 2);
                        return "M-" + t + "," + a + "L0,0M" + t + "," + a + "L0,0M0,-" + r + "L0,0"
                    },
                    needLine: !0,
                    noDot: !0,
                    noFill: !0
                },
                "y-down": {
                    n: 38,
                    f: function(e) {
                        var t = n.round(1.2 * e, 2)
                          , r = n.round(1.6 * e, 2)
                          , a = n.round(.8 * e, 2);
                        return "M-" + t + ",-" + a + "L0,0M" + t + ",-" + a + "L0,0M0," + r + "L0,0"
                    },
                    needLine: !0,
                    noDot: !0,
                    noFill: !0
                },
                "y-left": {
                    n: 39,
                    f: function(e) {
                        var t = n.round(1.2 * e, 2)
                          , r = n.round(1.6 * e, 2)
                          , a = n.round(.8 * e, 2);
                        return "M" + a + "," + t + "L0,0M" + a + ",-" + t + "L0,0M-" + r + ",0L0,0"
                    },
                    needLine: !0,
                    noDot: !0,
                    noFill: !0
                },
                "y-right": {
                    n: 40,
                    f: function(e) {
                        var t = n.round(1.2 * e, 2)
                          , r = n.round(1.6 * e, 2)
                          , a = n.round(.8 * e, 2);
                        return "M-" + a + "," + t + "L0,0M-" + a + ",-" + t + "L0,0M" + r + ",0L0,0"
                    },
                    needLine: !0,
                    noDot: !0,
                    noFill: !0
                },
                "line-ew": {
                    n: 41,
                    f: function(e) {
                        var t = n.round(1.4 * e, 2);
                        return "M" + t + ",0H-" + t
                    },
                    needLine: !0,
                    noDot: !0,
                    noFill: !0
                },
                "line-ns": {
                    n: 42,
                    f: function(e) {
                        var t = n.round(1.4 * e, 2);
                        return "M0," + t + "V-" + t
                    },
                    needLine: !0,
                    noDot: !0,
                    noFill: !0
                },
                "line-ne": {
                    n: 43,
                    f: function(e) {
                        var t = n.round(e, 2);
                        return "M" + t + ",-" + t + "L-" + t + "," + t
                    },
                    needLine: !0,
                    noDot: !0,
                    noFill: !0
                },
                "line-nw": {
                    n: 44,
                    f: function(e) {
                        var t = n.round(e, 2);
                        return "M" + t + "," + t + "L-" + t + ",-" + t
                    },
                    needLine: !0,
                    noDot: !0,
                    noFill: !0
                },
                "arrow-up": {
                    n: 45,
                    f: function(e) {
                        var t = n.round(e, 2);
                        return "M0,0L-" + t + "," + n.round(2 * e, 2) + "H" + t + "Z"
                    },
                    noDot: !0
                },
                "arrow-down": {
                    n: 46,
                    f: function(e) {
                        var t = n.round(e, 2);
                        return "M0,0L-" + t + ",-" + n.round(2 * e, 2) + "H" + t + "Z"
                    },
                    noDot: !0
                },
                "arrow-left": {
                    n: 47,
                    f: function(e) {
                        var t = n.round(2 * e, 2)
                          , r = n.round(e, 2);
                        return "M0,0L" + t + ",-" + r + "V" + r + "Z"
                    },
                    noDot: !0
                },
                "arrow-right": {
                    n: 48,
                    f: function(e) {
                        var t = n.round(2 * e, 2)
                          , r = n.round(e, 2);
                        return "M0,0L-" + t + ",-" + r + "V" + r + "Z"
                    },
                    noDot: !0
                },
                "arrow-bar-up": {
                    n: 49,
                    f: function(e) {
                        var t = n.round(e, 2);
                        return "M-" + t + ",0H" + t + "M0,0L-" + t + "," + n.round(2 * e, 2) + "H" + t + "Z"
                    },
                    needLine: !0,
                    noDot: !0
                },
                "arrow-bar-down": {
                    n: 50,
                    f: function(e) {
                        var t = n.round(e, 2);
                        return "M-" + t + ",0H" + t + "M0,0L-" + t + ",-" + n.round(2 * e, 2) + "H" + t + "Z"
                    },
                    needLine: !0,
                    noDot: !0
                },
                "arrow-bar-left": {
                    n: 51,
                    f: function(e) {
                        var t = n.round(2 * e, 2)
                          , r = n.round(e, 2);
                        return "M0,-" + r + "V" + r + "M0,0L" + t + ",-" + r + "V" + r + "Z"
                    },
                    needLine: !0,
                    noDot: !0
                },
                "arrow-bar-right": {
                    n: 52,
                    f: function(e) {
                        var t = n.round(2 * e, 2)
                          , r = n.round(e, 2);
                        return "M0,-" + r + "V" + r + "M0,0L-" + t + ",-" + r + "V" + r + "Z"
                    },
                    needLine: !0,
                    noDot: !0
                }
            }
        }
        , {
            "@plotly/d3": 6
        }],
        259: [function(e, t, r) {
            "use strict";
            t.exports = {
                visible: {
                    valType: "boolean",
                    editType: "calc"
                },
                type: {
                    valType: "enumerated",
                    values: ["percent", "constant", "sqrt", "data"],
                    editType: "calc"
                },
                symmetric: {
                    valType: "boolean",
                    editType: "calc"
                },
                array: {
                    valType: "data_array",
                    editType: "calc"
                },
                arrayminus: {
                    valType: "data_array",
                    editType: "calc"
                },
                value: {
                    valType: "number",
                    min: 0,
                    dflt: 10,
                    editType: "calc"
                },
                valueminus: {
                    valType: "number",
                    min: 0,
                    dflt: 10,
                    editType: "calc"
                },
                traceref: {
                    valType: "integer",
                    min: 0,
                    dflt: 0,
                    editType: "style"
                },
                tracerefminus: {
                    valType: "integer",
                    min: 0,
                    dflt: 0,
                    editType: "style"
                },
                copy_ystyle: {
                    valType: "boolean",
                    editType: "plot"
                },
                copy_zstyle: {
                    valType: "boolean",
                    editType: "style"
                },
                color: {
                    valType: "color",
                    editType: "style"
                },
                thickness: {
                    valType: "number",
                    min: 0,
                    dflt: 2,
                    editType: "style"
                },
                width: {
                    valType: "number",
                    min: 0,
                    editType: "plot"
                },
                editType: "calc",
                _deprecated: {
                    opacity: {
                        valType: "number",
                        editType: "style"
                    }
                }
            }
        }
        , {}],
        260: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("../../registry")
              , i = e("../../plots/cartesian/axes")
              , o = e("../../lib")
              , s = e("./compute_error");
            function l(e, t, r, a) {
                var l = t["error_" + a] || {}
                  , c = [];
                if (l.visible && -1 !== ["linear", "log"].indexOf(r.type)) {
                    for (var u = s(l), f = 0; f < e.length; f++) {
                        var d = e[f]
                          , h = d.i;
                        if (void 0 === h)
                            h = f;
                        else if (null === h)
                            continue;
                        var p = d[a];
                        if (n(r.c2l(p))) {
                            var g = u(p, h);
                            if (n(g[0]) && n(g[1])) {
                                var y = d[a + "s"] = p - g[0]
                                  , v = d[a + "h"] = p + g[1];
                                c.push(y, v)
                            }
                        }
                    }
                    var m = r._id
                      , b = t._extremes[m]
                      , x = i.findExtremes(r, c, o.extendFlat({
                        tozero: b.opts.tozero
                    }, {
                        padded: !0
                    }));
                    b.min = b.min.concat(x.min),
                    b.max = b.max.concat(x.max)
                }
            }
            t.exports = function(e) {
                for (var t = e.calcdata, r = 0; r < t.length; r++) {
                    var n = t[r]
                      , o = n[0].trace;
                    if (!0 === o.visible && a.traceIs(o, "errorBarsOK")) {
                        var s = i.getFromId(e, o.xaxis)
                          , c = i.getFromId(e, o.yaxis);
                        l(n, o, s, "x"),
                        l(n, o, c, "y")
                    }
                }
            }
        }
        , {
            "../../lib": 365,
            "../../plots/cartesian/axes": 414,
            "../../registry": 451,
            "./compute_error": 261,
            "fast-isnumeric": 107
        }],
        261: [function(e, t, r) {
            "use strict";
            function n(e, t) {
                return "percent" === e ? function(e) {
                    return Math.abs(e * t / 100)
                }
                : "constant" === e ? function() {
                    return Math.abs(t)
                }
                : "sqrt" === e ? function(e) {
                    return Math.sqrt(Math.abs(e))
                }
                : void 0
            }
            t.exports = function(e) {
                var t = e.type
                  , r = e.symmetric;
                if ("data" === t) {
                    var a = e.array || [];
                    if (r)
                        return function(e, t) {
                            var r = +a[t];
                            return [r, r]
                        }
                        ;
                    var i = e.arrayminus || [];
                    return function(e, t) {
                        var r = +a[t]
                          , n = +i[t];
                        return isNaN(r) && isNaN(n) ? [NaN, NaN] : [n || 0, r || 0]
                    }
                }
                var o = n(t, e.value)
                  , s = n(t, e.valueminus);
                return r || void 0 === e.valueminus ? function(e) {
                    var t = o(e);
                    return [t, t]
                }
                : function(e) {
                    return [s(e), o(e)]
                }
            }
        }
        , {}],
        262: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("../../registry")
              , i = e("../../lib")
              , o = e("../../plot_api/plot_template")
              , s = e("./attributes");
            t.exports = function(e, t, r, l) {
                var c = "error_" + l.axis
                  , u = o.newContainer(t, c)
                  , f = e[c] || {};
                function d(e, t) {
                    return i.coerce(f, u, s, e, t)
                }
                if (!1 !== d("visible", void 0 !== f.array || void 0 !== f.value || "sqrt" === f.type)) {
                    var h = d("type", "array"in f ? "data" : "percent")
                      , p = !0;
                    "sqrt" !== h && (p = d("symmetric", !(("data" === h ? "arrayminus" : "valueminus")in f))),
                    "data" === h ? (d("array"),
                    d("traceref"),
                    p || (d("arrayminus"),
                    d("tracerefminus"))) : "percent" !== h && "constant" !== h || (d("value"),
                    p || d("valueminus"));
                    var g = "copy_" + l.inherit + "style";
                    if (l.inherit)
                        (t["error_" + l.inherit] || {}).visible && d(g, !(f.color || n(f.thickness) || n(f.width)));
                    l.inherit && u[g] || (d("color", r),
                    d("thickness"),
                    d("width", a.traceIs(t, "gl3d") ? 0 : 4))
                }
            }
        }
        , {
            "../../lib": 365,
            "../../plot_api/plot_template": 403,
            "../../registry": 451,
            "./attributes": 259,
            "fast-isnumeric": 107
        }],
        263: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../plot_api/edit_types").overrideAll
              , i = e("./attributes")
              , o = {
                error_x: n.extendFlat({}, i),
                error_y: n.extendFlat({}, i)
            };
            delete o.error_x.copy_zstyle,
            delete o.error_y.copy_zstyle,
            delete o.error_y.copy_ystyle;
            var s = {
                error_x: n.extendFlat({}, i),
                error_y: n.extendFlat({}, i),
                error_z: n.extendFlat({}, i)
            };
            delete s.error_x.copy_ystyle,
            delete s.error_y.copy_ystyle,
            delete s.error_z.copy_ystyle,
            delete s.error_z.copy_zstyle,
            t.exports = {
                moduleType: "component",
                name: "errorbars",
                schema: {
                    traces: {
                        scatter: o,
                        bar: o,
                        histogram: o,
                        scatter3d: a(s, "calc", "nested"),
                        scattergl: a(o, "calc", "nested")
                    }
                },
                supplyDefaults: e("./defaults"),
                calc: e("./calc"),
                makeComputeError: e("./compute_error"),
                plot: e("./plot"),
                style: e("./style"),
                hoverInfo: function(e, t, r) {
                    (t.error_y || {}).visible && (r.yerr = e.yh - e.y,
                    t.error_y.symmetric || (r.yerrneg = e.y - e.ys));
                    (t.error_x || {}).visible && (r.xerr = e.xh - e.x,
                    t.error_x.symmetric || (r.xerrneg = e.x - e.xs))
                }
            }
        }
        , {
            "../../lib": 365,
            "../../plot_api/edit_types": 396,
            "./attributes": 259,
            "./calc": 260,
            "./compute_error": 261,
            "./defaults": 262,
            "./plot": 264,
            "./style": 265
        }],
        264: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("fast-isnumeric")
              , i = e("../drawing")
              , o = e("../../traces/scatter/subtypes");
            t.exports = function(e, t, r, s) {
                var l = r.xaxis
                  , c = r.yaxis
                  , u = s && s.duration > 0;
                t.each((function(t) {
                    var f, d = t[0].trace, h = d.error_x || {}, p = d.error_y || {};
                    d.ids && (f = function(e) {
                        return e.id
                    }
                    );
                    var g = o.hasMarkers(d) && d.marker.maxdisplayed > 0;
                    p.visible || h.visible || (t = []);
                    var y = n.select(this).selectAll("g.errorbar").data(t, f);
                    if (y.exit().remove(),
                    t.length) {
                        h.visible || y.selectAll("path.xerror").remove(),
                        p.visible || y.selectAll("path.yerror").remove(),
                        y.style("opacity", 1);
                        var v = y.enter().append("g").classed("errorbar", !0);
                        u && v.style("opacity", 0).transition().duration(s.duration).style("opacity", 1),
                        i.setClipUrl(y, r.layerClipId, e),
                        y.each((function(e) {
                            var t = n.select(this)
                              , r = function(e, t, r) {
                                var n = {
                                    x: t.c2p(e.x),
                                    y: r.c2p(e.y)
                                };
                                void 0 !== e.yh && (n.yh = r.c2p(e.yh),
                                n.ys = r.c2p(e.ys),
                                a(n.ys) || (n.noYS = !0,
                                n.ys = r.c2p(e.ys, !0)));
                                void 0 !== e.xh && (n.xh = t.c2p(e.xh),
                                n.xs = t.c2p(e.xs),
                                a(n.xs) || (n.noXS = !0,
                                n.xs = t.c2p(e.xs, !0)));
                                return n
                            }(e, l, c);
                            if (!g || e.vis) {
                                var i, o = t.select("path.yerror");
                                if (p.visible && a(r.x) && a(r.yh) && a(r.ys)) {
                                    var f = p.width;
                                    i = "M" + (r.x - f) + "," + r.yh + "h" + 2 * f + "m-" + f + ",0V" + r.ys,
                                    r.noYS || (i += "m-" + f + ",0h" + 2 * f),
                                    !o.size() ? o = t.append("path").style("vector-effect", "non-scaling-stroke").classed("yerror", !0) : u && (o = o.transition().duration(s.duration).ease(s.easing)),
                                    o.attr("d", i)
                                } else
                                    o.remove();
                                var d = t.select("path.xerror");
                                if (h.visible && a(r.y) && a(r.xh) && a(r.xs)) {
                                    var y = (h.copy_ystyle ? p : h).width;
                                    i = "M" + r.xh + "," + (r.y - y) + "v" + 2 * y + "m0,-" + y + "H" + r.xs,
                                    r.noXS || (i += "m0,-" + y + "v" + 2 * y),
                                    !d.size() ? d = t.append("path").style("vector-effect", "non-scaling-stroke").classed("xerror", !0) : u && (d = d.transition().duration(s.duration).ease(s.easing)),
                                    d.attr("d", i)
                                } else
                                    d.remove()
                            }
                        }
                        ))
                    }
                }
                ))
            }
        }
        , {
            "../../traces/scatter/subtypes": 488,
            "../drawing": 257,
            "@plotly/d3": 6,
            "fast-isnumeric": 107
        }],
        265: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../color");
            t.exports = function(e) {
                e.each((function(e) {
                    var t = e[0].trace
                      , r = t.error_y || {}
                      , i = t.error_x || {}
                      , o = n.select(this);
                    o.selectAll("path.yerror").style("stroke-width", r.thickness + "px").call(a.stroke, r.color),
                    i.copy_ystyle && (i = r),
                    o.selectAll("path.xerror").style("stroke-width", i.thickness + "px").call(a.stroke, i.color)
                }
                ))
            }
        }
        , {
            "../color": 235,
            "@plotly/d3": 6
        }],
        266: [function(e, t, r) {
            "use strict";
            var n = e("../../plots/font_attributes")
              , a = e("./layout_attributes").hoverlabel
              , i = e("../../lib/extend").extendFlat;
            t.exports = {
                hoverlabel: {
                    bgcolor: i({}, a.bgcolor, {
                        arrayOk: !0
                    }),
                    bordercolor: i({}, a.bordercolor, {
                        arrayOk: !0
                    }),
                    font: n({
                        arrayOk: !0,
                        editType: "none"
                    }),
                    align: i({}, a.align, {
                        arrayOk: !0
                    }),
                    namelength: i({}, a.namelength, {
                        arrayOk: !0
                    }),
                    editType: "none"
                }
            }
        }
        , {
            "../../lib/extend": 358,
            "../../plots/font_attributes": 443,
            "./layout_attributes": 276
        }],
        267: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../registry");
            function i(e, t, r, a) {
                a = a || n.identity,
                Array.isArray(e) && (t[0][r] = a(e))
            }
            t.exports = function(e) {
                var t = e.calcdata
                  , r = e._fullLayout;
                function o(e) {
                    return function(t) {
                        return n.coerceHoverinfo({
                            hoverinfo: t
                        }, {
                            _module: e._module
                        }, r)
                    }
                }
                for (var s = 0; s < t.length; s++) {
                    var l = t[s]
                      , c = l[0].trace;
                    if (!a.traceIs(c, "pie-like")) {
                        var u = a.traceIs(c, "2dMap") ? i : n.fillArray;
                        u(c.hoverinfo, l, "hi", o(c)),
                        c.hovertemplate && u(c.hovertemplate, l, "ht"),
                        c.hoverlabel && (u(c.hoverlabel.bgcolor, l, "hbg"),
                        u(c.hoverlabel.bordercolor, l, "hbc"),
                        u(c.hoverlabel.font.size, l, "hts"),
                        u(c.hoverlabel.font.color, l, "htc"),
                        u(c.hoverlabel.font.family, l, "htf"),
                        u(c.hoverlabel.namelength, l, "hnl"),
                        u(c.hoverlabel.align, l, "hta"))
                    }
                }
            }
        }
        , {
            "../../lib": 365,
            "../../registry": 451
        }],
        268: [function(e, t, r) {
            "use strict";
            var n = e("../../registry")
              , a = e("./hover").hover;
            t.exports = function(e, t, r) {
                var i = n.getComponentMethod("annotations", "onClick")(e, e._hoverdata);
                function o() {
                    e.emit("plotly_click", {
                        points: e._hoverdata,
                        event: t
                    })
                }
                void 0 !== r && a(e, t, r, !0),
                e._hoverdata && t && t.target && (i && i.then ? i.then(o) : o(),
                t.stopImmediatePropagation && t.stopImmediatePropagation())
            }
        }
        , {
            "../../registry": 451,
            "./hover": 272
        }],
        269: [function(e, t, r) {
            "use strict";
            t.exports = {
                YANGLE: 60,
                HOVERARROWSIZE: 6,
                HOVERTEXTPAD: 3,
                HOVERFONTSIZE: 13,
                HOVERFONT: "Arial, sans-serif",
                HOVERMINTIME: 50,
                HOVERID: "-hover"
            }
        }
        , {}],
        270: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("./attributes")
              , i = e("./hoverlabel_defaults");
            t.exports = function(e, t, r, o) {
                var s = n.extendFlat({}, o.hoverlabel);
                t.hovertemplate && (s.namelength = -1),
                i(e, t, (function(r, i) {
                    return n.coerce(e, t, a, r, i)
                }
                ), s)
            }
        }
        , {
            "../../lib": 365,
            "./attributes": 266,
            "./hoverlabel_defaults": 273
        }],
        271: [function(e, t, r) {
            "use strict";
            var n = e("../../lib");
            r.getSubplot = function(e) {
                return e.subplot || e.xaxis + e.yaxis || e.geo
            }
            ,
            r.isTraceInSubplots = function(e, t) {
                if ("splom" === e.type) {
                    for (var n = e.xaxes || [], a = e.yaxes || [], i = 0; i < n.length; i++)
                        for (var o = 0; o < a.length; o++)
                            if (-1 !== t.indexOf(n[i] + a[o]))
                                return !0;
                    return !1
                }
                return -1 !== t.indexOf(r.getSubplot(e))
            }
            ,
            r.flat = function(e, t) {
                for (var r = new Array(e.length), n = 0; n < e.length; n++)
                    r[n] = t;
                return r
            }
            ,
            r.p2c = function(e, t) {
                for (var r = new Array(e.length), n = 0; n < e.length; n++)
                    r[n] = e[n].p2c(t);
                return r
            }
            ,
            r.getDistanceFunction = function(e, t, n, a) {
                return "closest" === e ? a || r.quadrature(t, n) : "x" === e.charAt(0) ? t : n
            }
            ,
            r.getClosest = function(e, t, r) {
                if (!1 !== r.index)
                    r.index >= 0 && r.index < e.length ? r.distance = 0 : r.index = !1;
                else
                    for (var n = 0; n < e.length; n++) {
                        var a = t(e[n]);
                        a <= r.distance && (r.index = n,
                        r.distance = a)
                    }
                return r
            }
            ,
            r.inbox = function(e, t, r) {
                return e * t < 0 || 0 === e ? r : 1 / 0
            }
            ,
            r.quadrature = function(e, t) {
                return function(r) {
                    var n = e(r)
                      , a = t(r);
                    return Math.sqrt(n * n + a * a)
                }
            }
            ,
            r.makeEventData = function(e, t, n) {
                var a = "index"in e ? e.index : e.pointNumber
                  , i = {
                    data: t._input,
                    fullData: t,
                    curveNumber: t.index,
                    pointNumber: a
                };
                if (t._indexToPoints) {
                    var o = t._indexToPoints[a];
                    1 === o.length ? i.pointIndex = o[0] : i.pointIndices = o
                } else
                    i.pointIndex = a;
                return t._module.eventData ? i = t._module.eventData(i, e, t, n, a) : ("xVal"in e ? i.x = e.xVal : "x"in e && (i.x = e.x),
                "yVal"in e ? i.y = e.yVal : "y"in e && (i.y = e.y),
                e.xa && (i.xaxis = e.xa),
                e.ya && (i.yaxis = e.ya),
                void 0 !== e.zLabelVal && (i.z = e.zLabelVal)),
                r.appendArrayPointValue(i, t, a),
                i
            }
            ,
            r.appendArrayPointValue = function(e, t, r) {
                var a = t._arrayAttrs;
                if (a)
                    for (var s = 0; s < a.length; s++) {
                        var l = a[s]
                          , c = i(l);
                        if (void 0 === e[c]) {
                            var u = o(n.nestedProperty(t, l).get(), r);
                            void 0 !== u && (e[c] = u)
                        }
                    }
            }
            ,
            r.appendArrayMultiPointValues = function(e, t, r) {
                var a = t._arrayAttrs;
                if (a)
                    for (var s = 0; s < a.length; s++) {
                        var l = a[s]
                          , c = i(l);
                        if (void 0 === e[c]) {
                            for (var u = n.nestedProperty(t, l).get(), f = new Array(r.length), d = 0; d < r.length; d++)
                                f[d] = o(u, r[d]);
                            e[c] = f
                        }
                    }
            }
            ;
            var a = {
                ids: "id",
                locations: "location",
                labels: "label",
                values: "value",
                "marker.colors": "color",
                parents: "parent"
            };
            function i(e) {
                return a[e] || e
            }
            function o(e, t) {
                return Array.isArray(t) ? Array.isArray(e) && Array.isArray(e[t[0]]) ? e[t[0]][t[1]] : void 0 : e[t]
            }
            var s = {
                x: !0,
                y: !0
            }
              , l = {
                "x unified": !0,
                "y unified": !0
            };
            r.isUnifiedHover = function(e) {
                return "string" == typeof e && !!l[e]
            }
            ,
            r.isXYhover = function(e) {
                return "string" == typeof e && !!s[e]
            }
        }
        , {
            "../../lib": 365
        }],
        272: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("fast-isnumeric")
              , i = e("tinycolor2")
              , o = e("../../lib")
              , s = o.strTranslate
              , l = o.strRotate
              , c = e("../../lib/events")
              , u = e("../../lib/svg_text_utils")
              , f = e("../../lib/override_cursor")
              , d = e("../drawing")
              , h = e("../color")
              , p = e("../dragelement")
              , g = e("../../plots/cartesian/axes")
              , y = e("../../registry")
              , v = e("./helpers")
              , m = e("./constants")
              , b = e("../legend/defaults")
              , x = e("../legend/draw")
              , _ = m.YANGLE
              , w = Math.PI * _ / 180
              , A = 1 / Math.sin(w)
              , k = Math.cos(w)
              , T = Math.sin(w)
              , M = m.HOVERARROWSIZE
              , S = m.HOVERTEXTPAD
              , C = {
                box: !0,
                ohlc: !0,
                violin: !0,
                candlestick: !0
            }
              , O = {
                scatter: !0,
                scattergl: !0,
                splom: !0
            };
            function D(e) {
                return [e.trace.index, e.index, e.x0, e.y0, e.name, e.attr, e.xa ? e.xa._id : "", e.ya ? e.ya._id : ""].join(",")
            }
            r.hover = function(e, t, r, i) {
                e = o.getGraphDiv(e),
                o.throttle(e._fullLayout._uid + m.HOVERID, m.HOVERMINTIME, (function() {
                    !function(e, t, r, i) {
                        r || (r = "xy");
                        var s = Array.isArray(r) ? r : [r]
                          , l = e._fullLayout
                          , u = l._plots || []
                          , d = u[r]
                          , g = l._has("cartesian");
                        if (d) {
                            var m = d.overlays.map((function(e) {
                                return e.id
                            }
                            ));
                            s = s.concat(m)
                        }
                        for (var b = s.length, x = new Array(b), _ = new Array(b), w = !1, k = 0; k < b; k++) {
                            var T = s[k];
                            if (u[T])
                                w = !0,
                                x[k] = u[T].xaxis,
                                _[k] = u[T].yaxis;
                            else {
                                if (!l[T] || !l[T]._subplot)
                                    return void o.warn("Unrecognized subplot: " + T);
                                var M = l[T]._subplot;
                                x[k] = M.xaxis,
                                _[k] = M.yaxis
                            }
                        }
                        var S = t.hovermode || l.hovermode;
                        S && !w && (S = "closest");
                        if (-1 === ["x", "y", "closest", "x unified", "y unified"].indexOf(S) || !e.calcdata || e.querySelector(".zoombox") || e._dragging)
                            return p.unhoverRaw(e, t);
                        var L = l.hoverdistance;
                        -1 === L && (L = 1 / 0);
                        var z = l.spikedistance;
                        -1 === z && (z = 1 / 0);
                        var R, B, H, U, Y, V, q, W, G, Z, J, X, Q, $ = [], K = [], ee = {
                            hLinePoint: null,
                            vLinePoint: null
                        }, te = !1;
                        if (Array.isArray(t))
                            for (S = "array",
                            H = 0; H < t.length; H++)
                                (Y = e.calcdata[t[H].curveNumber || 0]) && (V = Y[0].trace,
                                "skip" !== Y[0].trace.hoverinfo && (K.push(Y),
                                "h" === V.orientation && (te = !0)));
                        else {
                            for (U = 0; U < e.calcdata.length; U++)
                                Y = e.calcdata[U],
                                "skip" !== (V = Y[0].trace).hoverinfo && v.isTraceInSubplots(V, s) && (K.push(Y),
                                "h" === V.orientation && (te = !0));
                            var re, ne;
                            if (!t.target)
                                re = "xpx"in t ? t.xpx : x[0]._length / 2,
                                ne = "ypx"in t ? t.ypx : _[0]._length / 2;
                            else {
                                if (!1 === c.triggerHandler(e, "plotly_beforehover", t))
                                    return;
                                var ae = t.composedPath && t.composedPath()[0];
                                ae || (ae = t.target);
                                var ie = ae.getBoundingClientRect();
                                re = t.clientX - ie.left,
                                ne = t.clientY - ie.top,
                                l._calcInverseTransform(e);
                                var oe = o.apply3DTransform(l._invTransform)(re, ne);
                                if (re = oe[0],
                                ne = oe[1],
                                re < 0 || re > x[0]._length || ne < 0 || ne > _[0]._length)
                                    return p.unhoverRaw(e, t)
                            }
                            if (t.pointerX = re + x[0]._offset,
                            t.pointerY = ne + _[0]._offset,
                            R = "xval"in t ? v.flat(s, t.xval) : v.p2c(x, re),
                            B = "yval"in t ? v.flat(s, t.yval) : v.p2c(_, ne),
                            !a(R[0]) || !a(B[0]))
                                return o.warn("Fx.hover failed", t, e),
                                p.unhoverRaw(e, t)
                        }
                        var se = 1 / 0;
                        function le(e, r) {
                            for (U = 0; U < K.length; U++)
                                if ((Y = K[U]) && Y[0] && Y[0].trace && !0 === (V = Y[0].trace).visible && 0 !== V._length && -1 === ["carpet", "contourcarpet"].indexOf(V._module.name)) {
                                    if ("splom" === V.type ? q = s[W = 0] : (q = v.getSubplot(V),
                                    W = s.indexOf(q)),
                                    G = S,
                                    v.isUnifiedHover(G) && (G = G.charAt(0)),
                                    X = {
                                        cd: Y,
                                        trace: V,
                                        xa: x[W],
                                        ya: _[W],
                                        maxHoverDistance: L,
                                        maxSpikeDistance: z,
                                        index: !1,
                                        distance: Math.min(se, L),
                                        spikeDistance: 1 / 0,
                                        xSpike: void 0,
                                        ySpike: void 0,
                                        color: h.defaultLine,
                                        name: V.name,
                                        x0: void 0,
                                        x1: void 0,
                                        y0: void 0,
                                        y1: void 0,
                                        xLabelVal: void 0,
                                        yLabelVal: void 0,
                                        zLabelVal: void 0,
                                        text: void 0
                                    },
                                    l[q] && (X.subplot = l[q]._subplot),
                                    l._splomScenes && l._splomScenes[V.uid] && (X.scene = l._splomScenes[V.uid]),
                                    Q = $.length,
                                    "array" === G) {
                                        var n = t[U];
                                        "pointNumber"in n ? (X.index = n.pointNumber,
                                        G = "closest") : (G = "",
                                        "xval"in n && (Z = n.xval,
                                        G = "x"),
                                        "yval"in n && (J = n.yval,
                                        G = G ? "closest" : "y"))
                                    } else
                                        void 0 !== e && void 0 !== r ? (Z = e,
                                        J = r) : (Z = R[W],
                                        J = B[W]);
                                    if (0 !== L)
                                        if (V._module && V._module.hoverPoints) {
                                            var i = V._module.hoverPoints(X, Z, J, G, {
                                                finiteRange: !0,
                                                hoverLayer: l._hoverlayer
                                            });
                                            if (i)
                                                for (var c, u = 0; u < i.length; u++)
                                                    c = i[u],
                                                    a(c.x0) && a(c.y0) && $.push(P(c, S))
                                        } else
                                            o.log("Unrecognized trace type in hover:", V);
                                    if ("closest" === S && $.length > Q && ($.splice(0, Q),
                                    se = $[0].distance),
                                    g && 0 !== z && 0 === $.length) {
                                        X.distance = z,
                                        X.index = !1;
                                        var f = V._module.hoverPoints(X, Z, J, "closest", {
                                            hoverLayer: l._hoverlayer
                                        });
                                        if (f && (f = f.filter((function(e) {
                                            return e.spikeDistance <= z
                                        }
                                        ))),
                                        f && f.length) {
                                            var d, p = f.filter((function(e) {
                                                return e.xa.showspikes && "hovered data" !== e.xa.spikesnap
                                            }
                                            ));
                                            if (p.length) {
                                                var y = p[0];
                                                a(y.x0) && a(y.y0) && (d = ue(y),
                                                (!ee.vLinePoint || ee.vLinePoint.spikeDistance > d.spikeDistance) && (ee.vLinePoint = d))
                                            }
                                            var m = f.filter((function(e) {
                                                return e.ya.showspikes && "hovered data" !== e.ya.spikesnap
                                            }
                                            ));
                                            if (m.length) {
                                                var b = m[0];
                                                a(b.x0) && a(b.y0) && (d = ue(b),
                                                (!ee.hLinePoint || ee.hLinePoint.spikeDistance > d.spikeDistance) && (ee.hLinePoint = d))
                                            }
                                        }
                                    }
                                }
                        }
                        function ce(e, t, r) {
                            for (var n, a = null, i = 1 / 0, o = 0; o < e.length; o++)
                                n = e[o].spikeDistance,
                                r && 0 === o && (n = -1 / 0),
                                n <= i && n <= t && (a = e[o],
                                i = n);
                            return a
                        }
                        function ue(e) {
                            return e ? {
                                xa: e.xa,
                                ya: e.ya,
                                x: void 0 !== e.xSpike ? e.xSpike : (e.x0 + e.x1) / 2,
                                y: void 0 !== e.ySpike ? e.ySpike : (e.y0 + e.y1) / 2,
                                distance: e.distance,
                                spikeDistance: e.spikeDistance,
                                curveNumber: e.trace.index,
                                color: e.color,
                                pointNumber: e.index
                            } : null
                        }
                        le();
                        var fe = {
                            fullLayout: l,
                            container: l._hoverlayer,
                            outerContainer: l._paperdiv,
                            event: t
                        }
                          , de = e._spikepoints
                          , he = {
                            vLinePoint: ee.vLinePoint,
                            hLinePoint: ee.hLinePoint
                        };
                        e._spikepoints = he;
                        var pe = function() {
                            $.sort((function(e, t) {
                                return e.distance - t.distance
                            }
                            )),
                            $ = function(e, t) {
                                for (var r = t.charAt(0), n = [], a = [], i = [], o = 0; o < e.length; o++) {
                                    var s = e[o];
                                    y.traceIs(s.trace, "bar-like") || y.traceIs(s.trace, "box-violin") ? i.push(s) : s.trace[r + "period"] ? a.push(s) : n.push(s)
                                }
                                return n.concat(a).concat(i)
                            }($, S)
                        };
                        pe();
                        var ge = S.charAt(0)
                          , ye = ("x" === ge || "y" === ge) && $[0] && O[$[0].trace.type];
                        if (g && 0 !== z && 0 !== $.length) {
                            var ve = ce($.filter((function(e) {
                                return e.ya.showspikes
                            }
                            )), z, ye);
                            ee.hLinePoint = ue(ve);
                            var me = ce($.filter((function(e) {
                                return e.xa.showspikes
                            }
                            )), z, ye);
                            ee.vLinePoint = ue(me)
                        }
                        if (0 === $.length) {
                            var be = p.unhoverRaw(e, t);
                            return !g || null === ee.hLinePoint && null === ee.vLinePoint || N(de) && I(e, ee, fe),
                            be
                        }
                        g && N(de) && I(e, ee, fe);
                        if (v.isXYhover(G) && 0 !== $[0].length && "splom" !== $[0].trace.type) {
                            var xe = $[0]
                              , _e = ($ = C[xe.trace.type] ? $.filter((function(e) {
                                return e.trace.index === xe.trace.index
                            }
                            )) : [xe]).length
                              , we = j("x", xe, l)
                              , Ae = j("y", xe, l);
                            le(we, Ae);
                            var ke, Te = [], Me = {}, Se = 0, Ce = function(e) {
                                var t = C[e.trace.type] ? D(e) : e.trace.index;
                                if (Me[t]) {
                                    var r = Me[t] - 1
                                      , n = Te[r];
                                    r > 0 && Math.abs(e.distance) < Math.abs(n.distance) && (Te[r] = e)
                                } else
                                    Se++,
                                    Me[t] = Se,
                                    Te.push(e)
                            };
                            for (ke = 0; ke < _e; ke++)
                                Ce($[ke]);
                            for (ke = $.length - 1; ke > _e - 1; ke--)
                                Ce($[ke]);
                            $ = Te,
                            pe()
                        }
                        var Oe = e._hoverdata
                          , De = [];
                        for (H = 0; H < $.length; H++) {
                            var Le = $[H]
                              , Ee = v.makeEventData(Le, Le.trace, Le.cd);
                            if (!1 !== Le.hovertemplate) {
                                var ze = !1;
                                Le.cd[Le.index] && Le.cd[Le.index].ht && (ze = Le.cd[Le.index].ht),
                                Le.hovertemplate = ze || Le.trace.hovertemplate || !1
                            }
                            Le.eventData = [Ee],
                            De.push(Ee)
                        }
                        e._hoverdata = De;
                        var Fe = "y" === S && (K.length > 1 || $.length > 1) || "closest" === S && te && $.length > 1
                          , Pe = h.combine(l.plot_bgcolor || h.background, l.paper_bgcolor)
                          , Ie = {
                            hovermode: S,
                            rotateLabels: Fe,
                            bgColor: Pe,
                            container: l._hoverlayer,
                            outerContainer: l._paperdiv,
                            commonLabelOpts: l.hoverlabel,
                            hoverdistance: l.hoverdistance
                        }
                          , Ne = E($, Ie, e);
                        v.isUnifiedHover(S) || (!function(e, t, r) {
                            var n, a, i, o, s, l, c, u = 0, f = 1, d = e.size(), h = new Array(d), p = 0;
                            function g(e) {
                                var t = e[0]
                                  , r = e[e.length - 1];
                                if (a = t.pmin - t.pos - t.dp + t.size,
                                i = r.pos + r.dp + r.size - t.pmax,
                                a > .01) {
                                    for (s = e.length - 1; s >= 0; s--)
                                        e[s].dp += a;
                                    n = !1
                                }
                                if (!(i < .01)) {
                                    if (a < -.01) {
                                        for (s = e.length - 1; s >= 0; s--)
                                            e[s].dp -= i;
                                        n = !1
                                    }
                                    if (n) {
                                        var c = 0;
                                        for (o = 0; o < e.length; o++)
                                            (l = e[o]).pos + l.dp + l.size > t.pmax && c++;
                                        for (o = e.length - 1; o >= 0 && !(c <= 0); o--)
                                            (l = e[o]).pos > t.pmax - 1 && (l.del = !0,
                                            c--);
                                        for (o = 0; o < e.length && !(c <= 0); o++)
                                            if ((l = e[o]).pos < t.pmin + 1)
                                                for (l.del = !0,
                                                c--,
                                                i = 2 * l.size,
                                                s = e.length - 1; s >= 0; s--)
                                                    e[s].dp -= i;
                                        for (o = e.length - 1; o >= 0 && !(c <= 0); o--)
                                            (l = e[o]).pos + l.dp + l.size > t.pmax && (l.del = !0,
                                            c--)
                                    }
                                }
                            }
                            e.each((function(e) {
                                var n = e[t]
                                  , a = "x" === n._id.charAt(0)
                                  , i = n.range;
                                0 === p && i && i[0] > i[1] !== a && (f = -1),
                                h[p++] = [{
                                    datum: e,
                                    traceIndex: e.trace.index,
                                    dp: 0,
                                    pos: e.pos,
                                    posref: e.posref,
                                    size: e.by * (a ? A : 1) / 2,
                                    pmin: 0,
                                    pmax: a ? r.width : r.height
                                }]
                            }
                            )),
                            h.sort((function(e, t) {
                                return e[0].posref - t[0].posref || f * (t[0].traceIndex - e[0].traceIndex)
                            }
                            ));
                            for (; !n && u <= d; ) {
                                for (u++,
                                n = !0,
                                o = 0; o < h.length - 1; ) {
                                    var y = h[o]
                                      , v = h[o + 1]
                                      , m = y[y.length - 1]
                                      , b = v[0];
                                    if ((a = m.pos + m.dp + m.size - b.pos - b.dp + b.size) > .01 && m.pmin === b.pmin && m.pmax === b.pmax) {
                                        for (s = v.length - 1; s >= 0; s--)
                                            v[s].dp += a;
                                        for (y.push.apply(y, v),
                                        h.splice(o + 1, 1),
                                        c = 0,
                                        s = y.length - 1; s >= 0; s--)
                                            c += y[s].dp;
                                        for (i = c / y.length,
                                        s = y.length - 1; s >= 0; s--)
                                            y[s].dp -= i;
                                        n = !1
                                    } else
                                        o++
                                }
                                h.forEach(g)
                            }
                            for (o = h.length - 1; o >= 0; o--) {
                                var x = h[o];
                                for (s = x.length - 1; s >= 0; s--) {
                                    var _ = x[s]
                                      , w = _.datum;
                                    w.offset = _.dp,
                                    w.del = _.del
                                }
                            }
                        }(Ne, Fe ? "xa" : "ya", l),
                        F(Ne, Fe, l._invScaleX, l._invScaleY));
                        if (t.target && t.target.tagName) {
                            var Re = y.getComponentMethod("annotations", "hasClickToShow")(e, De);
                            f(n.select(t.target), Re ? "pointer" : "")
                        }
                        if (!t.target || i || !function(e, t, r) {
                            if (!r || r.length !== e._hoverdata.length)
                                return !0;
                            for (var n = r.length - 1; n >= 0; n--) {
                                var a = r[n]
                                  , i = e._hoverdata[n];
                                if (a.curveNumber !== i.curveNumber || String(a.pointNumber) !== String(i.pointNumber) || String(a.pointNumbers) !== String(i.pointNumbers))
                                    return !0
                            }
                            return !1
                        }(e, 0, Oe))
                            return;
                        Oe && e.emit("plotly_unhover", {
                            event: t,
                            points: Oe
                        });
                        e.emit("plotly_hover", {
                            event: t,
                            points: e._hoverdata,
                            xaxes: x,
                            yaxes: _,
                            xvals: R,
                            yvals: B
                        })
                    }(e, t, r, i)
                }
                ))
            }
            ,
            r.loneHover = function(e, t) {
                var r = !0;
                Array.isArray(e) || (r = !1,
                e = [e]);
                var a = e.map((function(e) {
                    return {
                        color: e.color || h.defaultLine,
                        x0: e.x0 || e.x || 0,
                        x1: e.x1 || e.x || 0,
                        y0: e.y0 || e.y || 0,
                        y1: e.y1 || e.y || 0,
                        xLabel: e.xLabel,
                        yLabel: e.yLabel,
                        zLabel: e.zLabel,
                        text: e.text,
                        name: e.name,
                        idealAlign: e.idealAlign,
                        borderColor: e.borderColor,
                        fontFamily: e.fontFamily,
                        fontSize: e.fontSize,
                        fontColor: e.fontColor,
                        nameLength: e.nameLength,
                        textAlign: e.textAlign,
                        trace: e.trace || {
                            index: 0,
                            hoverinfo: ""
                        },
                        xa: {
                            _offset: 0
                        },
                        ya: {
                            _offset: 0
                        },
                        index: 0,
                        hovertemplate: e.hovertemplate || !1,
                        eventData: e.eventData || !1,
                        hovertemplateLabels: e.hovertemplateLabels || !1
                    }
                }
                ))
                  , i = n.select(t.container)
                  , o = t.outerContainer ? n.select(t.outerContainer) : i
                  , s = {
                    hovermode: "closest",
                    rotateLabels: !1,
                    bgColor: t.bgColor || h.background,
                    container: i,
                    outerContainer: o
                }
                  , l = E(a, s, t.gd)
                  , c = 0
                  , u = 0;
                l.sort((function(e, t) {
                    return e.y0 - t.y0
                }
                )).each((function(e, r) {
                    var n = e.y0 - e.by / 2;
                    e.offset = n - 5 < c ? c - n + 5 : 0,
                    c = n + e.by + e.offset,
                    r === t.anchorIndex && (u = e.offset)
                }
                )).each((function(e) {
                    e.offset -= u
                }
                ));
                var f = t.gd._fullLayout._invScaleX
                  , d = t.gd._fullLayout._invScaleY;
                return F(l, s.rotateLabels, f, d),
                r ? l : l.node()
            }
            ;
            var L = /<extra>([\s\S]*)<\/extra>/;
            function E(e, t, r) {
                var a = r._fullLayout
                  , i = t.hovermode
                  , c = t.rotateLabels
                  , f = t.bgColor
                  , p = t.container
                  , g = t.outerContainer
                  , w = t.commonLabelOpts || {}
                  , A = t.fontFamily || m.HOVERFONT
                  , k = t.fontSize || m.HOVERFONTSIZE
                  , T = e[0]
                  , C = T.xa
                  , O = T.ya
                  , L = i.charAt(0)
                  , E = T[L + "Label"]
                  , F = g.node().getBoundingClientRect()
                  , P = F.top
                  , I = F.width
                  , N = F.height
                  , R = void 0 !== E && T.distance <= t.hoverdistance && ("x" === i || "y" === i);
                if (R) {
                    var j, B, H = !0;
                    for (j = 0; j < e.length; j++)
                        if (H && void 0 === e[j].zLabel && (H = !1),
                        B = e[j].hoverinfo || e[j].trace.hoverinfo) {
                            var U = Array.isArray(B) ? B : B.split("+");
                            if (-1 === U.indexOf("all") && -1 === U.indexOf(i)) {
                                R = !1;
                                break
                            }
                        }
                    H && (R = !1)
                }
                var Y = p.selectAll("g.axistext").data(R ? [0] : []);
                if (Y.enter().append("g").classed("axistext", !0),
                Y.exit().remove(),
                Y.each((function() {
                    var e = n.select(this)
                      , t = o.ensureSingle(e, "path", "", (function(e) {
                        e.style({
                            "stroke-width": "1px"
                        })
                    }
                    ))
                      , l = o.ensureSingle(e, "text", "", (function(e) {
                        e.attr("data-notex", 1)
                    }
                    ))
                      , c = w.bgcolor || h.defaultLine
                      , f = w.bordercolor || h.contrast(c)
                      , p = h.contrast(c)
                      , g = {
                        family: w.font.family || A,
                        size: w.font.size || k,
                        color: w.font.color || p
                    };
                    t.style({
                        fill: c,
                        stroke: f
                    }),
                    l.text(E).call(d.font, g).call(u.positionText, 0, 0).call(u.convertToTspans, r),
                    e.attr("transform", "");
                    var y, v, m = l.node().getBoundingClientRect();
                    if ("x" === i) {
                        var b = "top" === C.side ? "-" : "";
                        l.attr("text-anchor", "middle").call(u.positionText, 0, "top" === C.side ? P - m.bottom - M - S : P - m.top + M + S),
                        y = C._offset + (T.x0 + T.x1) / 2,
                        v = O._offset + ("top" === C.side ? 0 : O._length);
                        var x = m.width / 2 + S;
                        y < x ? (y = x,
                        t.attr("d", "M-" + (x - M) + ",0L-" + (x - 2 * M) + "," + b + M + "H" + (S + m.width / 2) + "v" + b + (2 * S + m.height) + "H-" + x + "V" + b + M + "Z")) : y > a.width - x ? (y = a.width - x,
                        t.attr("d", "M" + (x - M) + ",0L" + x + "," + b + M + "v" + b + (2 * S + m.height) + "H-" + x + "V" + b + M + "H" + (x - 2 * M) + "Z")) : t.attr("d", "M0,0L" + M + "," + b + M + "H" + (S + m.width / 2) + "v" + b + (2 * S + m.height) + "H-" + (S + m.width / 2) + "V" + b + M + "H-" + M + "Z")
                    } else {
                        var _, D, L;
                        "right" === O.side ? (_ = "start",
                        D = 1,
                        L = "",
                        y = C._offset + C._length) : (_ = "end",
                        D = -1,
                        L = "-",
                        y = C._offset),
                        v = O._offset + (T.y0 + T.y1) / 2,
                        l.attr("text-anchor", _),
                        t.attr("d", "M0,0L" + L + M + "," + M + "V" + (S + m.height / 2) + "h" + L + (2 * S + m.width) + "V-" + (S + m.height / 2) + "H" + L + M + "V-" + M + "Z");
                        var z, F = m.height / 2, I = P - m.top - F, N = "clip" + a._uid + "commonlabel" + O._id;
                        if (y < m.width + 2 * S + M) {
                            z = "M-" + (M + S) + "-" + F + "h-" + (m.width - S) + "V" + F + "h" + (m.width - S) + "Z";
                            var R = m.width - y + S;
                            u.positionText(l, R, I),
                            "end" === _ && l.selectAll("tspan").each((function() {
                                var e = n.select(this)
                                  , t = d.tester.append("text").text(e.text()).call(d.font, g)
                                  , r = t.node().getBoundingClientRect();
                                Math.round(r.width) < Math.round(m.width) && e.attr("x", R - r.width),
                                t.remove()
                            }
                            ))
                        } else
                            u.positionText(l, D * (S + M), I),
                            z = null;
                        var j = a._topclips.selectAll("#" + N).data(z ? [0] : []);
                        j.enter().append("clipPath").attr("id", N).append("path"),
                        j.exit().remove(),
                        j.select("path").attr("d", z),
                        d.setClipUrl(l, z ? N : null, r)
                    }
                    e.attr("transform", s(y, v))
                }
                )),
                v.isUnifiedHover(i)) {
                    if (p.selectAll("g.hovertext").remove(),
                    0 === e.length)
                        return;
                    var V = {
                        showlegend: !0,
                        legend: {
                            title: {
                                text: E,
                                font: a.hoverlabel.font
                            },
                            font: a.hoverlabel.font,
                            bgcolor: a.hoverlabel.bgcolor,
                            bordercolor: a.hoverlabel.bordercolor,
                            borderwidth: 1,
                            tracegroupgap: 7,
                            traceorder: a.legend ? a.legend.traceorder : void 0,
                            orientation: "v"
                        }
                    }
                      , q = {};
                    b(V, q, r._fullData);
                    var W = q.legend;
                    W.entries = [];
                    for (var G = 0; G < e.length; G++) {
                        var Z = z(e[G], !0, i, a, E)
                          , J = Z[0]
                          , X = Z[1]
                          , Q = e[G];
                        Q.name = X,
                        Q.text = "" !== X ? X + " : " + J : J;
                        var $ = Q.cd[Q.index];
                        $ && ($.mc && (Q.mc = $.mc),
                        $.mcc && (Q.mc = $.mcc),
                        $.mlc && (Q.mlc = $.mlc),
                        $.mlcc && (Q.mlc = $.mlcc),
                        $.mlw && (Q.mlw = $.mlw),
                        $.mrc && (Q.mrc = $.mrc),
                        $.dir && (Q.dir = $.dir)),
                        Q._distinct = !0,
                        W.entries.push([Q])
                    }
                    W.entries.sort((function(e, t) {
                        return e[0].trace.index - t[0].trace.index
                    }
                    )),
                    W.layer = p,
                    W._inHover = !0,
                    x(r, W);
                    var K, ee, te, re, ne = p.select("g.legend"), ae = ne.node().getBoundingClientRect(), ie = ae.width + 2 * S, oe = ae.height + 2 * S, se = e[0], le = (se.x0 + se.x1) / 2, ce = (se.y0 + se.y1) / 2, ue = !(y.traceIs(se.trace, "bar-like") || y.traceIs(se.trace, "box-violin"));
                    "y" === L ? ue ? (ee = ce - S,
                    K = ce + S) : (ee = Math.min.apply(null, e.map((function(e) {
                        return Math.min(e.y0, e.y1)
                    }
                    ))),
                    K = Math.max.apply(null, e.map((function(e) {
                        return Math.max(e.y0, e.y1)
                    }
                    )))) : ee = K = o.mean(e.map((function(e) {
                        return (e.y0 + e.y1) / 2
                    }
                    ))) - oe / 2,
                    "x" === L ? ue ? (te = le + S,
                    re = le - S) : (te = Math.max.apply(null, e.map((function(e) {
                        return Math.max(e.x0, e.x1)
                    }
                    ))),
                    re = Math.min.apply(null, e.map((function(e) {
                        return Math.min(e.x0, e.x1)
                    }
                    )))) : te = re = o.mean(e.map((function(e) {
                        return (e.x0 + e.x1) / 2
                    }
                    ))) - ie / 2;
                    var fe, de, he = C._offset, pe = O._offset;
                    return re += he - ie,
                    ee += pe - oe,
                    fe = (te += he) + ie < I && te >= 0 ? te : re + ie < I && re >= 0 ? re : he + ie < I ? he : te - le < le - re + ie ? I - ie : 0,
                    fe += S,
                    de = (K += pe) + oe < N && K >= 0 ? K : ee + oe < N && ee >= 0 ? ee : pe + oe < N ? pe : K - ce < ce - ee + oe ? N - oe : 0,
                    de += S,
                    ne.attr("transform", s(fe - 1, de - 1)),
                    ne
                }
                var ge = p.selectAll("g.hovertext").data(e, (function(e) {
                    return D(e)
                }
                ));
                return ge.enter().append("g").classed("hovertext", !0).each((function() {
                    var e = n.select(this);
                    e.append("rect").call(h.fill, h.addOpacity(f, .8)),
                    e.append("text").classed("name", !0),
                    e.append("path").style("stroke-width", "1px"),
                    e.append("text").classed("nums", !0).call(d.font, A, k)
                }
                )),
                ge.exit().remove(),
                ge.each((function(e) {
                    var t = n.select(this).attr("transform", "")
                      , o = e.color;
                    Array.isArray(o) && (o = o[e.eventData[0].pointNumber]);
                    var p = e.bgcolor || o
                      , g = h.combine(h.opacity(p) ? p : h.defaultLine, f)
                      , y = h.combine(h.opacity(o) ? o : h.defaultLine, f)
                      , v = e.borderColor || h.contrast(g)
                      , m = z(e, R, i, a, E, t)
                      , b = m[0]
                      , x = m[1]
                      , w = t.select("text.nums").call(d.font, e.fontFamily || A, e.fontSize || k, e.fontColor || v).text(b).attr("data-notex", 1).call(u.positionText, 0, 0).call(u.convertToTspans, r)
                      , T = t.select("text.name")
                      , C = 0
                      , O = 0;
                    if (x && x !== b) {
                        T.call(d.font, e.fontFamily || A, e.fontSize || k, y).text(x).attr("data-notex", 1).call(u.positionText, 0, 0).call(u.convertToTspans, r);
                        var D = T.node().getBoundingClientRect();
                        C = D.width + 2 * S,
                        O = D.height + 2 * S
                    } else
                        T.remove(),
                        t.select("rect").remove();
                    t.select("path").style({
                        fill: g,
                        stroke: v
                    });
                    var L, F, j = w.node().getBoundingClientRect(), B = e.xa._offset + (e.x0 + e.x1) / 2, H = e.ya._offset + (e.y0 + e.y1) / 2, U = Math.abs(e.x1 - e.x0), Y = Math.abs(e.y1 - e.y0), V = j.width + M + S + C;
                    if (e.ty0 = P - j.top,
                    e.bx = j.width + 2 * S,
                    e.by = Math.max(j.height + 2 * S, O),
                    e.anchor = "start",
                    e.txwidth = j.width,
                    e.tx2width = C,
                    e.offset = 0,
                    c)
                        e.pos = B,
                        L = H + Y / 2 + V <= N,
                        F = H - Y / 2 - V >= 0,
                        "top" !== e.idealAlign && L || !F ? L ? (H += Y / 2,
                        e.anchor = "start") : e.anchor = "middle" : (H -= Y / 2,
                        e.anchor = "end");
                    else if (e.pos = H,
                    L = B + U / 2 + V <= I,
                    F = B - U / 2 - V >= 0,
                    "left" !== e.idealAlign && L || !F)
                        if (L)
                            B += U / 2,
                            e.anchor = "start";
                        else {
                            e.anchor = "middle";
                            var q = V / 2
                              , W = B + q - I
                              , G = B - q;
                            W > 0 && (B -= W),
                            G < 0 && (B += -G)
                        }
                    else
                        B -= U / 2,
                        e.anchor = "end";
                    w.attr("text-anchor", e.anchor),
                    C && T.attr("text-anchor", e.anchor),
                    t.attr("transform", s(B, H) + (c ? l(_) : ""))
                }
                )),
                ge
            }
            function z(e, t, r, n, a, i) {
                var s = ""
                  , l = "";
                void 0 !== e.nameOverride && (e.name = e.nameOverride),
                e.name && (e.trace._meta && (e.name = o.templateString(e.name, e.trace._meta)),
                s = R(e.name, e.nameLength));
                var c = r.charAt(0)
                  , u = "x" === c ? "y" : "x";
                void 0 !== e.zLabel ? (void 0 !== e.xLabel && (l += "x: " + e.xLabel + "<br>"),
                void 0 !== e.yLabel && (l += "y: " + e.yLabel + "<br>"),
                "choropleth" !== e.trace.type && "choroplethmapbox" !== e.trace.type && (l += (l ? "z: " : "") + e.zLabel)) : t && e[c + "Label"] === a ? l = e[u + "Label"] || "" : void 0 === e.xLabel ? void 0 !== e.yLabel && "scattercarpet" !== e.trace.type && (l = e.yLabel) : l = void 0 === e.yLabel ? e.xLabel : "(" + e.xLabel + ", " + e.yLabel + ")",
                !e.text && 0 !== e.text || Array.isArray(e.text) || (l += (l ? "<br>" : "") + e.text),
                void 0 !== e.extraText && (l += (l ? "<br>" : "") + e.extraText),
                i && "" === l && !e.hovertemplate && ("" === s && i.remove(),
                l = s);
                var f = e.hovertemplate || !1;
                if (f) {
                    var d = e.hovertemplateLabels || e;
                    e[c + "Label"] !== a && (d[c + "other"] = d[c + "Val"],
                    d[c + "otherLabel"] = d[c + "Label"]),
                    l = (l = o.hovertemplateString(f, d, n._d3locale, e.eventData[0] || {}, e.trace._meta)).replace(L, (function(t, r) {
                        return s = R(r, e.nameLength),
                        ""
                    }
                    ))
                }
                return [l, s]
            }
            function F(e, t, r, a) {
                var i = function(e) {
                    return e * r
                }
                  , o = function(e) {
                    return e * a
                };
                e.each((function(e) {
                    var r = n.select(this);
                    if (e.del)
                        return r.remove();
                    var a = r.select("text.nums")
                      , s = e.anchor
                      , l = "end" === s ? -1 : 1
                      , c = {
                        start: 1,
                        end: -1,
                        middle: 0
                    }[s]
                      , f = c * (M + S)
                      , h = f + c * (e.txwidth + S)
                      , p = 0
                      , g = e.offset
                      , y = "middle" === s;
                    y && (f -= e.tx2width / 2,
                    h += e.txwidth / 2 + S),
                    t && (g *= -T,
                    p = e.offset * k),
                    r.select("path").attr("d", y ? "M-" + i(e.bx / 2 + e.tx2width / 2) + "," + o(g - e.by / 2) + "h" + i(e.bx) + "v" + o(e.by) + "h-" + i(e.bx) + "Z" : "M0,0L" + i(l * M + p) + "," + o(M + g) + "v" + o(e.by / 2 - M) + "h" + i(l * e.bx) + "v-" + o(e.by) + "H" + i(l * M + p) + "V" + o(g - M) + "Z");
                    var v = p + f
                      , m = g + e.ty0 - e.by / 2 + S
                      , b = e.textAlign || "auto";
                    "auto" !== b && ("left" === b && "start" !== s ? (a.attr("text-anchor", "start"),
                    v = y ? -e.bx / 2 - e.tx2width / 2 + S : -e.bx - S) : "right" === b && "end" !== s && (a.attr("text-anchor", "end"),
                    v = y ? e.bx / 2 - e.tx2width / 2 - S : e.bx + S)),
                    a.call(u.positionText, i(v), o(m)),
                    e.tx2width && (r.select("text.name").call(u.positionText, i(h + c * S + p), o(g + e.ty0 - e.by / 2 + S)),
                    r.select("rect").call(d.setRect, i(h + (c - 1) * e.tx2width / 2 + p), o(g - e.by / 2 - 1), i(e.tx2width), o(e.by + 2)))
                }
                ))
            }
            function P(e, t) {
                var r = e.index
                  , n = e.trace || {}
                  , i = e.cd[0]
                  , s = e.cd[r] || {};
                function l(e) {
                    return e || a(e) && 0 === e
                }
                var c = Array.isArray(r) ? function(e, t) {
                    var a = o.castOption(i, r, e);
                    return l(a) ? a : o.extractOption({}, n, "", t)
                }
                : function(e, t) {
                    return o.extractOption(s, n, e, t)
                }
                ;
                function u(t, r, n) {
                    var a = c(r, n);
                    l(a) && (e[t] = a)
                }
                if (u("hoverinfo", "hi", "hoverinfo"),
                u("bgcolor", "hbg", "hoverlabel.bgcolor"),
                u("borderColor", "hbc", "hoverlabel.bordercolor"),
                u("fontFamily", "htf", "hoverlabel.font.family"),
                u("fontSize", "hts", "hoverlabel.font.size"),
                u("fontColor", "htc", "hoverlabel.font.color"),
                u("nameLength", "hnl", "hoverlabel.namelength"),
                u("textAlign", "hta", "hoverlabel.align"),
                e.posref = "y" === t || "closest" === t && "h" === n.orientation ? e.xa._offset + (e.x0 + e.x1) / 2 : e.ya._offset + (e.y0 + e.y1) / 2,
                e.x0 = o.constrain(e.x0, 0, e.xa._length),
                e.x1 = o.constrain(e.x1, 0, e.xa._length),
                e.y0 = o.constrain(e.y0, 0, e.ya._length),
                e.y1 = o.constrain(e.y1, 0, e.ya._length),
                void 0 !== e.xLabelVal && (e.xLabel = "xLabel"in e ? e.xLabel : g.hoverLabelText(e.xa, e.xLabelVal, n.xhoverformat),
                e.xVal = e.xa.c2d(e.xLabelVal)),
                void 0 !== e.yLabelVal && (e.yLabel = "yLabel"in e ? e.yLabel : g.hoverLabelText(e.ya, e.yLabelVal, n.yhoverformat),
                e.yVal = e.ya.c2d(e.yLabelVal)),
                void 0 !== e.zLabelVal && void 0 === e.zLabel && (e.zLabel = String(e.zLabelVal)),
                !(isNaN(e.xerr) || "log" === e.xa.type && e.xerr <= 0)) {
                    var f = g.tickText(e.xa, e.xa.c2l(e.xerr), "hover").text;
                    void 0 !== e.xerrneg ? e.xLabel += " +" + f + " / -" + g.tickText(e.xa, e.xa.c2l(e.xerrneg), "hover").text : e.xLabel += " \xb1 " + f,
                    "x" === t && (e.distance += 1)
                }
                if (!(isNaN(e.yerr) || "log" === e.ya.type && e.yerr <= 0)) {
                    var d = g.tickText(e.ya, e.ya.c2l(e.yerr), "hover").text;
                    void 0 !== e.yerrneg ? e.yLabel += " +" + d + " / -" + g.tickText(e.ya, e.ya.c2l(e.yerrneg), "hover").text : e.yLabel += " \xb1 " + d,
                    "y" === t && (e.distance += 1)
                }
                var h = e.hoverinfo || e.trace.hoverinfo;
                return h && "all" !== h && (-1 === (h = Array.isArray(h) ? h : h.split("+")).indexOf("x") && (e.xLabel = void 0),
                -1 === h.indexOf("y") && (e.yLabel = void 0),
                -1 === h.indexOf("z") && (e.zLabel = void 0),
                -1 === h.indexOf("text") && (e.text = void 0),
                -1 === h.indexOf("name") && (e.name = void 0)),
                e
            }
            function I(e, t, r) {
                var n, a, o = r.container, s = r.fullLayout, l = s._size, c = r.event, u = !!t.hLinePoint, f = !!t.vLinePoint;
                if (o.selectAll(".spikeline").remove(),
                f || u) {
                    var p = h.combine(s.plot_bgcolor, s.paper_bgcolor);
                    if (u) {
                        var y, v, m = t.hLinePoint;
                        n = m && m.xa,
                        "cursor" === (a = m && m.ya).spikesnap ? (y = c.pointerX,
                        v = c.pointerY) : (y = n._offset + m.x,
                        v = a._offset + m.y);
                        var b, x, _ = i.readability(m.color, p) < 1.5 ? h.contrast(p) : m.color, w = a.spikemode, A = a.spikethickness, k = a.spikecolor || _, T = g.getPxPosition(e, a);
                        if (-1 !== w.indexOf("toaxis") || -1 !== w.indexOf("across")) {
                            if (-1 !== w.indexOf("toaxis") && (b = T,
                            x = y),
                            -1 !== w.indexOf("across")) {
                                var M = a._counterDomainMin
                                  , S = a._counterDomainMax;
                                "free" === a.anchor && (M = Math.min(M, a.position),
                                S = Math.max(S, a.position)),
                                b = l.l + M * l.w,
                                x = l.l + S * l.w
                            }
                            o.insert("line", ":first-child").attr({
                                x1: b,
                                x2: x,
                                y1: v,
                                y2: v,
                                "stroke-width": A,
                                stroke: k,
                                "stroke-dasharray": d.dashStyle(a.spikedash, A)
                            }).classed("spikeline", !0).classed("crisp", !0),
                            o.insert("line", ":first-child").attr({
                                x1: b,
                                x2: x,
                                y1: v,
                                y2: v,
                                "stroke-width": A + 2,
                                stroke: p
                            }).classed("spikeline", !0).classed("crisp", !0)
                        }
                        -1 !== w.indexOf("marker") && o.insert("circle", ":first-child").attr({
                            cx: T + ("right" !== a.side ? A : -A),
                            cy: v,
                            r: A,
                            fill: k
                        }).classed("spikeline", !0)
                    }
                    if (f) {
                        var C, O, D = t.vLinePoint;
                        n = D && D.xa,
                        a = D && D.ya,
                        "cursor" === n.spikesnap ? (C = c.pointerX,
                        O = c.pointerY) : (C = n._offset + D.x,
                        O = a._offset + D.y);
                        var L, E, z = i.readability(D.color, p) < 1.5 ? h.contrast(p) : D.color, F = n.spikemode, P = n.spikethickness, I = n.spikecolor || z, N = g.getPxPosition(e, n);
                        if (-1 !== F.indexOf("toaxis") || -1 !== F.indexOf("across")) {
                            if (-1 !== F.indexOf("toaxis") && (L = N,
                            E = O),
                            -1 !== F.indexOf("across")) {
                                var R = n._counterDomainMin
                                  , j = n._counterDomainMax;
                                "free" === n.anchor && (R = Math.min(R, n.position),
                                j = Math.max(j, n.position)),
                                L = l.t + (1 - j) * l.h,
                                E = l.t + (1 - R) * l.h
                            }
                            o.insert("line", ":first-child").attr({
                                x1: C,
                                x2: C,
                                y1: L,
                                y2: E,
                                "stroke-width": P,
                                stroke: I,
                                "stroke-dasharray": d.dashStyle(n.spikedash, P)
                            }).classed("spikeline", !0).classed("crisp", !0),
                            o.insert("line", ":first-child").attr({
                                x1: C,
                                x2: C,
                                y1: L,
                                y2: E,
                                "stroke-width": P + 2,
                                stroke: p
                            }).classed("spikeline", !0).classed("crisp", !0)
                        }
                        -1 !== F.indexOf("marker") && o.insert("circle", ":first-child").attr({
                            cx: C,
                            cy: N - ("top" !== n.side ? P : -P),
                            r: P,
                            fill: I
                        }).classed("spikeline", !0)
                    }
                }
            }
            function N(e, t) {
                return !t || (t.vLinePoint !== e._spikepoints.vLinePoint || t.hLinePoint !== e._spikepoints.hLinePoint)
            }
            function R(e, t) {
                return u.plainText(e || "", {
                    len: t,
                    allowedTags: ["br", "sub", "sup", "b", "i", "em"]
                })
            }
            function j(e, t, r) {
                var n = t[e + "a"]
                  , a = t[e + "Val"]
                  , i = t.cd[0];
                if ("category" === n.type)
                    a = n._categoriesMap[a];
                else if ("date" === n.type) {
                    var o = t.trace[e + "periodalignment"];
                    if (o) {
                        var s = t.cd[t.index]
                          , l = s[e + "Start"];
                        void 0 === l && (l = s[e]);
                        var c = s[e + "End"];
                        void 0 === c && (c = s[e]);
                        var u = c - l;
                        "end" === o ? a += u : "middle" === o && (a += u / 2)
                    }
                    a = n.d2c(a)
                }
                return i && i.t && i.t.posLetter === n._id && ("group" !== r.boxmode && "group" !== r.violinmode || (a += i.t.dPos)),
                a
            }
        }
        , {
            "../../lib": 365,
            "../../lib/events": 357,
            "../../lib/override_cursor": 376,
            "../../lib/svg_text_utils": 390,
            "../../plots/cartesian/axes": 414,
            "../../registry": 451,
            "../color": 235,
            "../dragelement": 254,
            "../drawing": 257,
            "../legend/defaults": 287,
            "../legend/draw": 288,
            "./constants": 269,
            "./helpers": 271,
            "@plotly/d3": 6,
            "fast-isnumeric": 107,
            tinycolor2: 184
        }],
        273: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../color")
              , i = e("./helpers").isUnifiedHover;
            t.exports = function(e, t, r, o) {
                function s(e) {
                    o.font[e] || (o.font[e] = t.legend ? t.legend.font[e] : t.font[e])
                }
                o = o || {},
                t && i(t.hovermode) && (o.font || (o.font = {}),
                s("size"),
                s("family"),
                s("color"),
                t.legend ? (o.bgcolor || (o.bgcolor = a.combine(t.legend.bgcolor, t.paper_bgcolor)),
                o.bordercolor || (o.bordercolor = t.legend.bordercolor)) : o.bgcolor || (o.bgcolor = t.paper_bgcolor)),
                r("hoverlabel.bgcolor", o.bgcolor),
                r("hoverlabel.bordercolor", o.bordercolor),
                r("hoverlabel.namelength", o.namelength),
                n.coerceFont(r, "hoverlabel.font", o.font),
                r("hoverlabel.align", o.align)
            }
        }
        , {
            "../../lib": 365,
            "../color": 235,
            "./helpers": 271
        }],
        274: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("./layout_attributes");
            t.exports = function(e, t) {
                function r(r, i) {
                    return void 0 !== t[r] ? t[r] : n.coerce(e, t, a, r, i)
                }
                return r("clickmode"),
                r("hovermode")
            }
        }
        , {
            "../../lib": 365,
            "./layout_attributes": 276
        }],
        275: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../../lib")
              , i = e("../dragelement")
              , o = e("./helpers")
              , s = e("./layout_attributes")
              , l = e("./hover");
            t.exports = {
                moduleType: "component",
                name: "fx",
                constants: e("./constants"),
                schema: {
                    layout: s
                },
                attributes: e("./attributes"),
                layoutAttributes: s,
                supplyLayoutGlobalDefaults: e("./layout_global_defaults"),
                supplyDefaults: e("./defaults"),
                supplyLayoutDefaults: e("./layout_defaults"),
                calc: e("./calc"),
                getDistanceFunction: o.getDistanceFunction,
                getClosest: o.getClosest,
                inbox: o.inbox,
                quadrature: o.quadrature,
                appendArrayPointValue: o.appendArrayPointValue,
                castHoverOption: function(e, t, r) {
                    return a.castOption(e, t, "hoverlabel." + r)
                },
                castHoverinfo: function(e, t, r) {
                    return a.castOption(e, r, "hoverinfo", (function(r) {
                        return a.coerceHoverinfo({
                            hoverinfo: r
                        }, {
                            _module: e._module
                        }, t)
                    }
                    ))
                },
                hover: l.hover,
                unhover: i.unhover,
                loneHover: l.loneHover,
                loneUnhover: function(e) {
                    var t = a.isD3Selection(e) ? e : n.select(e);
                    t.selectAll("g.hovertext").remove(),
                    t.selectAll(".spikeline").remove()
                },
                click: e("./click")
            }
        }
        , {
            "../../lib": 365,
            "../dragelement": 254,
            "./attributes": 266,
            "./calc": 267,
            "./click": 268,
            "./constants": 269,
            "./defaults": 270,
            "./helpers": 271,
            "./hover": 272,
            "./layout_attributes": 276,
            "./layout_defaults": 277,
            "./layout_global_defaults": 278,
            "@plotly/d3": 6
        }],
        276: [function(e, t, r) {
            "use strict";
            var n = e("./constants")
              , a = e("../../plots/font_attributes")({
                editType: "none"
            });
            a.family.dflt = n.HOVERFONT,
            a.size.dflt = n.HOVERFONTSIZE,
            t.exports = {
                clickmode: {
                    valType: "flaglist",
                    flags: ["event", "select"],
                    dflt: "event",
                    editType: "plot",
                    extras: ["none"]
                },
                dragmode: {
                    valType: "enumerated",
                    values: ["zoom", "pan", "select", "lasso", "drawclosedpath", "drawopenpath", "drawline", "drawrect", "drawcircle", "orbit", "turntable", !1],
                    dflt: "zoom",
                    editType: "modebar"
                },
                hovermode: {
                    valType: "enumerated",
                    values: ["x", "y", "closest", !1, "x unified", "y unified"],
                    dflt: "closest",
                    editType: "modebar"
                },
                hoverdistance: {
                    valType: "integer",
                    min: -1,
                    dflt: 20,
                    editType: "none"
                },
                spikedistance: {
                    valType: "integer",
                    min: -1,
                    dflt: -1,
                    editType: "none"
                },
                hoverlabel: {
                    bgcolor: {
                        valType: "color",
                        editType: "none"
                    },
                    bordercolor: {
                        valType: "color",
                        editType: "none"
                    },
                    font: a,
                    align: {
                        valType: "enumerated",
                        values: ["left", "right", "auto"],
                        dflt: "auto",
                        editType: "none"
                    },
                    namelength: {
                        valType: "integer",
                        min: -1,
                        dflt: 15,
                        editType: "none"
                    },
                    editType: "none"
                },
                selectdirection: {
                    valType: "enumerated",
                    values: ["h", "v", "d", "any"],
                    dflt: "any",
                    editType: "none"
                }
            }
        }
        , {
            "../../plots/font_attributes": 443,
            "./constants": 269
        }],
        277: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("./layout_attributes")
              , i = e("./hovermode_defaults")
              , o = e("./hoverlabel_defaults");
            t.exports = function(e, t) {
                function r(r, i) {
                    return n.coerce(e, t, a, r, i)
                }
                i(e, t) && (r("hoverdistance"),
                r("spikedistance")),
                "select" === r("dragmode") && r("selectdirection");
                var s = t._has("mapbox")
                  , l = t._has("geo")
                  , c = t._basePlotModules.length;
                "zoom" === t.dragmode && ((s || l) && 1 === c || s && l && 2 === c) && (t.dragmode = "pan"),
                o(e, t, r)
            }
        }
        , {
            "../../lib": 365,
            "./hoverlabel_defaults": 273,
            "./hovermode_defaults": 274,
            "./layout_attributes": 276
        }],
        278: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("./hoverlabel_defaults")
              , i = e("./layout_attributes");
            t.exports = function(e, t) {
                a(e, t, (function(r, a) {
                    return n.coerce(e, t, i, r, a)
                }
                ))
            }
        }
        , {
            "../../lib": 365,
            "./hoverlabel_defaults": 273,
            "./layout_attributes": 276
        }],
        279: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../lib/regex").counter
              , i = e("../../plots/domain").attributes
              , o = e("../../plots/cartesian/constants").idRegex
              , s = e("../../plot_api/plot_template")
              , l = {
                rows: {
                    valType: "integer",
                    min: 1,
                    editType: "plot"
                },
                roworder: {
                    valType: "enumerated",
                    values: ["top to bottom", "bottom to top"],
                    dflt: "top to bottom",
                    editType: "plot"
                },
                columns: {
                    valType: "integer",
                    min: 1,
                    editType: "plot"
                },
                subplots: {
                    valType: "info_array",
                    freeLength: !0,
                    dimensions: 2,
                    items: {
                        valType: "enumerated",
                        values: [a("xy").toString(), ""],
                        editType: "plot"
                    },
                    editType: "plot"
                },
                xaxes: {
                    valType: "info_array",
                    freeLength: !0,
                    items: {
                        valType: "enumerated",
                        values: [o.x.toString(), ""],
                        editType: "plot"
                    },
                    editType: "plot"
                },
                yaxes: {
                    valType: "info_array",
                    freeLength: !0,
                    items: {
                        valType: "enumerated",
                        values: [o.y.toString(), ""],
                        editType: "plot"
                    },
                    editType: "plot"
                },
                pattern: {
                    valType: "enumerated",
                    values: ["independent", "coupled"],
                    dflt: "coupled",
                    editType: "plot"
                },
                xgap: {
                    valType: "number",
                    min: 0,
                    max: 1,
                    editType: "plot"
                },
                ygap: {
                    valType: "number",
                    min: 0,
                    max: 1,
                    editType: "plot"
                },
                domain: i({
                    name: "grid",
                    editType: "plot",
                    noGridCell: !0
                }, {}),
                xside: {
                    valType: "enumerated",
                    values: ["bottom", "bottom plot", "top plot", "top"],
                    dflt: "bottom plot",
                    editType: "plot"
                },
                yside: {
                    valType: "enumerated",
                    values: ["left", "left plot", "right plot", "right"],
                    dflt: "left plot",
                    editType: "plot"
                },
                editType: "plot"
            };
            function c(e, t, r) {
                var n = t[r + "axes"]
                  , a = Object.keys((e._splomAxes || {})[r] || {});
                return Array.isArray(n) ? n : a.length ? a : void 0
            }
            function u(e, t, r, n, a, i) {
                var o = t(e + "gap", r)
                  , s = t("domain." + e);
                t(e + "side", n);
                for (var l = new Array(a), c = s[0], u = (s[1] - c) / (a - o), f = u * (1 - o), d = 0; d < a; d++) {
                    var h = c + u * d;
                    l[i ? a - 1 - d : d] = [h, h + f]
                }
                return l
            }
            function f(e, t, r, n, a) {
                var i, o = new Array(r);
                function s(e, r) {
                    -1 !== t.indexOf(r) && void 0 === n[r] ? (o[e] = r,
                    n[r] = e) : o[e] = ""
                }
                if (Array.isArray(e))
                    for (i = 0; i < r; i++)
                        s(i, e[i]);
                else
                    for (s(0, a),
                    i = 1; i < r; i++)
                        s(i, a + (i + 1));
                return o
            }
            t.exports = {
                moduleType: "component",
                name: "grid",
                schema: {
                    layout: {
                        grid: l
                    }
                },
                layoutAttributes: l,
                sizeDefaults: function(e, t) {
                    var r = e.grid || {}
                      , a = c(t, r, "x")
                      , i = c(t, r, "y");
                    if (e.grid || a || i) {
                        var o, f, d = Array.isArray(r.subplots) && Array.isArray(r.subplots[0]), h = Array.isArray(a), p = Array.isArray(i), g = h && a !== r.xaxes && p && i !== r.yaxes;
                        d ? (o = r.subplots.length,
                        f = r.subplots[0].length) : (p && (o = i.length),
                        h && (f = a.length));
                        var y = s.newContainer(t, "grid")
                          , v = k("rows", o)
                          , m = k("columns", f);
                        if (v * m > 1) {
                            if (!d && !h && !p)
                                "independent" === k("pattern") && (d = !0);
                            y._hasSubplotGrid = d;
                            var b, x, _ = "top to bottom" === k("roworder"), w = d ? .2 : .1, A = d ? .3 : .1;
                            g && t._splomGridDflt && (b = t._splomGridDflt.xside,
                            x = t._splomGridDflt.yside),
                            y._domains = {
                                x: u("x", k, w, b, m),
                                y: u("y", k, A, x, v, _)
                            }
                        } else
                            delete t.grid
                    }
                    function k(e, t) {
                        return n.coerce(r, y, l, e, t)
                    }
                },
                contentDefaults: function(e, t) {
                    var r = t.grid;
                    if (r && r._domains) {
                        var n, a, i, o, s, l, u, d = e.grid || {}, h = t._subplots, p = r._hasSubplotGrid, g = r.rows, y = r.columns, v = "independent" === r.pattern, m = r._axisMap = {};
                        if (p) {
                            var b = d.subplots || [];
                            l = r.subplots = new Array(g);
                            var x = 1;
                            for (n = 0; n < g; n++) {
                                var _ = l[n] = new Array(y)
                                  , w = b[n] || [];
                                for (a = 0; a < y; a++)
                                    if (v ? (s = 1 === x ? "xy" : "x" + x + "y" + x,
                                    x++) : s = w[a],
                                    _[a] = "",
                                    -1 !== h.cartesian.indexOf(s)) {
                                        if (u = s.indexOf("y"),
                                        i = s.slice(0, u),
                                        o = s.slice(u),
                                        void 0 !== m[i] && m[i] !== a || void 0 !== m[o] && m[o] !== n)
                                            continue;
                                        _[a] = s,
                                        m[i] = a,
                                        m[o] = n
                                    }
                            }
                        } else {
                            var A = c(t, d, "x")
                              , k = c(t, d, "y");
                            r.xaxes = f(A, h.xaxis, y, m, "x"),
                            r.yaxes = f(k, h.yaxis, g, m, "y")
                        }
                        var T = r._anchors = {}
                          , M = "top to bottom" === r.roworder;
                        for (var S in m) {
                            var C, O, D, L = S.charAt(0), E = r[L + "side"];
                            if (E.length < 8)
                                T[S] = "free";
                            else if ("x" === L) {
                                if ("t" === E.charAt(0) === M ? (C = 0,
                                O = 1,
                                D = g) : (C = g - 1,
                                O = -1,
                                D = -1),
                                p) {
                                    var z = m[S];
                                    for (n = C; n !== D; n += O)
                                        if ((s = l[n][z]) && (u = s.indexOf("y"),
                                        s.slice(0, u) === S)) {
                                            T[S] = s.slice(u);
                                            break
                                        }
                                } else
                                    for (n = C; n !== D; n += O)
                                        if (o = r.yaxes[n],
                                        -1 !== h.cartesian.indexOf(S + o)) {
                                            T[S] = o;
                                            break
                                        }
                            } else if ("l" === E.charAt(0) ? (C = 0,
                            O = 1,
                            D = y) : (C = y - 1,
                            O = -1,
                            D = -1),
                            p) {
                                var F = m[S];
                                for (n = C; n !== D; n += O)
                                    if ((s = l[F][n]) && (u = s.indexOf("y"),
                                    s.slice(u) === S)) {
                                        T[S] = s.slice(0, u);
                                        break
                                    }
                            } else
                                for (n = C; n !== D; n += O)
                                    if (i = r.xaxes[n],
                                    -1 !== h.cartesian.indexOf(i + S)) {
                                        T[S] = i;
                                        break
                                    }
                        }
                    }
                }
            }
        }
        , {
            "../../lib": 365,
            "../../lib/regex": 382,
            "../../plot_api/plot_template": 403,
            "../../plots/cartesian/constants": 421,
            "../../plots/domain": 442
        }],
        280: [function(e, t, r) {
            "use strict";
            var n = e("../../plots/cartesian/constants")
              , a = e("../../plot_api/plot_template").templatedArray;
            e("../../constants/axis_placeable_objects");
            t.exports = a("image", {
                visible: {
                    valType: "boolean",
                    dflt: !0,
                    editType: "arraydraw"
                },
                source: {
                    valType: "string",
                    editType: "arraydraw"
                },
                layer: {
                    valType: "enumerated",
                    values: ["below", "above"],
                    dflt: "above",
                    editType: "arraydraw"
                },
                sizex: {
                    valType: "number",
                    dflt: 0,
                    editType: "arraydraw"
                },
                sizey: {
                    valType: "number",
                    dflt: 0,
                    editType: "arraydraw"
                },
                sizing: {
                    valType: "enumerated",
                    values: ["fill", "contain", "stretch"],
                    dflt: "contain",
                    editType: "arraydraw"
                },
                opacity: {
                    valType: "number",
                    min: 0,
                    max: 1,
                    dflt: 1,
                    editType: "arraydraw"
                },
                x: {
                    valType: "any",
                    dflt: 0,
                    editType: "arraydraw"
                },
                y: {
                    valType: "any",
                    dflt: 0,
                    editType: "arraydraw"
                },
                xanchor: {
                    valType: "enumerated",
                    values: ["left", "center", "right"],
                    dflt: "left",
                    editType: "arraydraw"
                },
                yanchor: {
                    valType: "enumerated",
                    values: ["top", "middle", "bottom"],
                    dflt: "top",
                    editType: "arraydraw"
                },
                xref: {
                    valType: "enumerated",
                    values: ["paper", n.idRegex.x.toString()],
                    dflt: "paper",
                    editType: "arraydraw"
                },
                yref: {
                    valType: "enumerated",
                    values: ["paper", n.idRegex.y.toString()],
                    dflt: "paper",
                    editType: "arraydraw"
                },
                editType: "arraydraw"
            })
        }
        , {
            "../../constants/axis_placeable_objects": 341,
            "../../plot_api/plot_template": 403,
            "../../plots/cartesian/constants": 421
        }],
        281: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("../../lib/to_log_range");
            t.exports = function(e, t, r, i) {
                t = t || {};
                var o = "log" === r && "linear" === t.type
                  , s = "linear" === r && "log" === t.type;
                if (o || s)
                    for (var l, c, u = e._fullLayout.images, f = t._id.charAt(0), d = 0; d < u.length; d++)
                        if (c = "images[" + d + "].",
                        (l = u[d])[f + "ref"] === t._id) {
                            var h = l[f]
                              , p = l["size" + f]
                              , g = null
                              , y = null;
                            if (o) {
                                g = a(h, t.range);
                                var v = p / Math.pow(10, g) / 2;
                                y = 2 * Math.log(v + Math.sqrt(1 + v * v)) / Math.LN10
                            } else
                                y = (g = Math.pow(10, h)) * (Math.pow(10, p / 2) - Math.pow(10, -p / 2));
                            n(g) ? n(y) || (y = null) : (g = null,
                            y = null),
                            i(c + f, g),
                            i(c + "size" + f, y)
                        }
            }
        }
        , {
            "../../lib/to_log_range": 392,
            "fast-isnumeric": 107
        }],
        282: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../plots/cartesian/axes")
              , i = e("../../plots/array_container_defaults")
              , o = e("./attributes");
            function s(e, t, r) {
                function i(r, a) {
                    return n.coerce(e, t, o, r, a)
                }
                var s = i("source");
                if (!i("visible", !!s))
                    return t;
                i("layer"),
                i("xanchor"),
                i("yanchor"),
                i("sizex"),
                i("sizey"),
                i("sizing"),
                i("opacity");
                for (var l = {
                    _fullLayout: r
                }, c = ["x", "y"], u = 0; u < 2; u++) {
                    var f = c[u]
                      , d = a.coerceRef(e, t, l, f, "paper", void 0);
                    if ("paper" !== d)
                        a.getFromId(l, d)._imgIndices.push(t._index);
                    a.coercePosition(t, l, i, d, f, 0)
                }
                return t
            }
            t.exports = function(e, t) {
                i(e, t, {
                    name: "images",
                    handleItemDefaults: s
                })
            }
        }
        , {
            "../../lib": 365,
            "../../plots/array_container_defaults": 409,
            "../../plots/cartesian/axes": 414,
            "./attributes": 280
        }],
        283: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../drawing")
              , i = e("../../plots/cartesian/axes")
              , o = e("../../plots/cartesian/axis_ids")
              , s = e("../../constants/xmlns_namespaces");
            t.exports = function(e) {
                var t, r, l = e._fullLayout, c = [], u = {}, f = [];
                for (r = 0; r < l.images.length; r++) {
                    var d = l.images[r];
                    if (d.visible)
                        if ("below" === d.layer && "paper" !== d.xref && "paper" !== d.yref) {
                            t = o.ref2id(d.xref) + o.ref2id(d.yref);
                            var h = l._plots[t];
                            if (!h) {
                                f.push(d);
                                continue
                            }
                            h.mainplot && (t = h.mainplot.id),
                            u[t] || (u[t] = []),
                            u[t].push(d)
                        } else
                            "above" === d.layer ? c.push(d) : f.push(d)
                }
                var p = {
                    left: {
                        sizing: "xMin",
                        offset: 0
                    },
                    center: {
                        sizing: "xMid",
                        offset: -.5
                    },
                    right: {
                        sizing: "xMax",
                        offset: -1
                    }
                }
                  , g = {
                    top: {
                        sizing: "YMin",
                        offset: 0
                    },
                    middle: {
                        sizing: "YMid",
                        offset: -.5
                    },
                    bottom: {
                        sizing: "YMax",
                        offset: -1
                    }
                };
                function y(t) {
                    var r = n.select(this);
                    if (this._imgSrc !== t.source)
                        if (r.attr("xmlns", s.svg),
                        t.source && "data:" === t.source.slice(0, 5))
                            r.attr("xlink:href", t.source),
                            this._imgSrc = t.source;
                        else {
                            var a = new Promise(function(e) {
                                var n = new Image;
                                function a() {
                                    r.remove(),
                                    e()
                                }
                                this.img = n,
                                n.setAttribute("crossOrigin", "anonymous"),
                                n.onerror = a,
                                n.onload = function() {
                                    var t = document.createElement("canvas");
                                    t.width = this.width,
                                    t.height = this.height,
                                    t.getContext("2d").drawImage(this, 0, 0);
                                    var n = t.toDataURL("image/png");
                                    r.attr("xlink:href", n),
                                    e()
                                }
                                ,
                                r.on("error", a),
                                n.src = t.source,
                                this._imgSrc = t.source
                            }
                            .bind(this));
                            e._promises.push(a)
                        }
                }
                function v(t) {
                    var r, o, s = n.select(this), c = i.getFromId(e, t.xref), u = i.getFromId(e, t.yref), f = "domain" === i.getRefType(t.xref), d = "domain" === i.getRefType(t.yref), h = l._size;
                    r = void 0 !== c ? "string" == typeof t.xref && f ? c._length * t.sizex : Math.abs(c.l2p(t.sizex) - c.l2p(0)) : t.sizex * h.w,
                    o = void 0 !== u ? "string" == typeof t.yref && d ? u._length * t.sizey : Math.abs(u.l2p(t.sizey) - u.l2p(0)) : t.sizey * h.h;
                    var y, v, m = r * p[t.xanchor].offset, b = o * g[t.yanchor].offset, x = p[t.xanchor].sizing + g[t.yanchor].sizing;
                    switch (y = void 0 !== c ? "string" == typeof t.xref && f ? c._length * t.x + c._offset : c.r2p(t.x) + c._offset : t.x * h.w + h.l,
                    y += m,
                    v = void 0 !== u ? "string" == typeof t.yref && d ? u._length * (1 - t.y) + u._offset : u.r2p(t.y) + u._offset : h.h - t.y * h.h + h.t,
                    v += b,
                    t.sizing) {
                    case "fill":
                        x += " slice";
                        break;
                    case "stretch":
                        x = "none"
                    }
                    s.attr({
                        x: y,
                        y: v,
                        width: r,
                        height: o,
                        preserveAspectRatio: x,
                        opacity: t.opacity
                    });
                    var _ = (c && "domain" !== i.getRefType(t.xref) ? c._id : "") + (u && "domain" !== i.getRefType(t.yref) ? u._id : "");
                    a.setClipUrl(s, _ ? "clip" + l._uid + _ : null, e)
                }
                var m = l._imageLowerLayer.selectAll("image").data(f)
                  , b = l._imageUpperLayer.selectAll("image").data(c);
                m.enter().append("image"),
                b.enter().append("image"),
                m.exit().remove(),
                b.exit().remove(),
                m.each((function(e) {
                    y.bind(this)(e),
                    v.bind(this)(e)
                }
                )),
                b.each((function(e) {
                    y.bind(this)(e),
                    v.bind(this)(e)
                }
                ));
                var x = Object.keys(l._plots);
                for (r = 0; r < x.length; r++) {
                    t = x[r];
                    var _ = l._plots[t];
                    if (_.imagelayer) {
                        var w = _.imagelayer.selectAll("image").data(u[t] || []);
                        w.enter().append("image"),
                        w.exit().remove(),
                        w.each((function(e) {
                            y.bind(this)(e),
                            v.bind(this)(e)
                        }
                        ))
                    }
                }
            }
        }
        , {
            "../../constants/xmlns_namespaces": 345,
            "../../plots/cartesian/axes": 414,
            "../../plots/cartesian/axis_ids": 418,
            "../drawing": 257,
            "@plotly/d3": 6
        }],
        284: [function(e, t, r) {
            "use strict";
            t.exports = {
                moduleType: "component",
                name: "images",
                layoutAttributes: e("./attributes"),
                supplyLayoutDefaults: e("./defaults"),
                includeBasePlot: e("../../plots/cartesian/include_components")("images"),
                draw: e("./draw"),
                convertCoords: e("./convert_coords")
            }
        }
        , {
            "../../plots/cartesian/include_components": 427,
            "./attributes": 280,
            "./convert_coords": 281,
            "./defaults": 282,
            "./draw": 283
        }],
        285: [function(e, t, r) {
            "use strict";
            var n = e("../../plots/font_attributes")
              , a = e("../color/attributes");
            t.exports = {
                bgcolor: {
                    valType: "color",
                    editType: "legend"
                },
                bordercolor: {
                    valType: "color",
                    dflt: a.defaultLine,
                    editType: "legend"
                },
                borderwidth: {
                    valType: "number",
                    min: 0,
                    dflt: 0,
                    editType: "legend"
                },
                font: n({
                    editType: "legend"
                }),
                orientation: {
                    valType: "enumerated",
                    values: ["v", "h"],
                    dflt: "v",
                    editType: "legend"
                },
                traceorder: {
                    valType: "flaglist",
                    flags: ["reversed", "grouped"],
                    extras: ["normal"],
                    editType: "legend"
                },
                tracegroupgap: {
                    valType: "number",
                    min: 0,
                    dflt: 10,
                    editType: "legend"
                },
                itemsizing: {
                    valType: "enumerated",
                    values: ["trace", "constant"],
                    dflt: "trace",
                    editType: "legend"
                },
                itemwidth: {
                    valType: "number",
                    min: 30,
                    dflt: 30,
                    editType: "legend"
                },
                itemclick: {
                    valType: "enumerated",
                    values: ["toggle", "toggleothers", !1],
                    dflt: "toggle",
                    editType: "legend"
                },
                itemdoubleclick: {
                    valType: "enumerated",
                    values: ["toggle", "toggleothers", !1],
                    dflt: "toggleothers",
                    editType: "legend"
                },
                x: {
                    valType: "number",
                    min: -2,
                    max: 3,
                    editType: "legend"
                },
                xanchor: {
                    valType: "enumerated",
                    values: ["auto", "left", "center", "right"],
                    dflt: "left",
                    editType: "legend"
                },
                y: {
                    valType: "number",
                    min: -2,
                    max: 3,
                    editType: "legend"
                },
                yanchor: {
                    valType: "enumerated",
                    values: ["auto", "top", "middle", "bottom"],
                    editType: "legend"
                },
                uirevision: {
                    valType: "any",
                    editType: "none"
                },
                valign: {
                    valType: "enumerated",
                    values: ["top", "middle", "bottom"],
                    dflt: "middle",
                    editType: "legend"
                },
                title: {
                    text: {
                        valType: "string",
                        dflt: "",
                        editType: "legend"
                    },
                    font: n({
                        editType: "legend"
                    }),
                    side: {
                        valType: "enumerated",
                        values: ["top", "left", "top left"],
                        editType: "legend"
                    },
                    editType: "legend"
                },
                editType: "legend"
            }
        }
        , {
            "../../plots/font_attributes": 443,
            "../color/attributes": 234
        }],
        286: [function(e, t, r) {
            "use strict";
            t.exports = {
                scrollBarWidth: 6,
                scrollBarMinHeight: 20,
                scrollBarColor: "#808BA4",
                scrollBarMargin: 4,
                scrollBarEnterAttrs: {
                    rx: 20,
                    ry: 3,
                    width: 0,
                    height: 0
                },
                titlePad: 2,
                itemGap: 5
            }
        }
        , {}],
        287: [function(e, t, r) {
            "use strict";
            var n = e("../../registry")
              , a = e("../../lib")
              , i = e("../../plot_api/plot_template")
              , o = e("./attributes")
              , s = e("../../plots/layout_attributes")
              , l = e("./helpers");
            t.exports = function(e, t, r) {
                for (var c = e.legend || {}, u = 0, f = !1, d = "normal", h = 0; h < r.length; h++) {
                    var p = r[h];
                    p.visible && ((p.showlegend || p._dfltShowLegend && !(p._module && p._module.attributes && p._module.attributes.showlegend && !1 === p._module.attributes.showlegend.dflt)) && (u++,
                    p.showlegend && (f = !0,
                    (n.traceIs(p, "pie-like") || !0 === p._input.showlegend) && u++)),
                    (n.traceIs(p, "bar") && "stack" === t.barmode || -1 !== ["tonextx", "tonexty"].indexOf(p.fill)) && (d = l.isGrouped({
                        traceorder: d
                    }) ? "grouped+reversed" : "reversed"),
                    void 0 !== p.legendgroup && "" !== p.legendgroup && (d = l.isReversed({
                        traceorder: d
                    }) ? "reversed+grouped" : "grouped"))
                }
                var g = a.coerce(e, t, s, "showlegend", f && u > 1);
                if (!1 !== g || c.uirevision) {
                    var y = i.newContainer(t, "legend");
                    if (A("uirevision", t.uirevision),
                    !1 !== g) {
                        A("bgcolor", t.paper_bgcolor),
                        A("bordercolor"),
                        A("borderwidth");
                        var v, m, b, x = a.coerceFont(A, "font", t.font), _ = "h" === A("orientation");
                        if (_ ? (v = 0,
                        n.getComponentMethod("rangeslider", "isVisible")(e.xaxis) ? (m = 1.1,
                        b = "bottom") : (m = -.1,
                        b = "top")) : (v = 1.02,
                        m = 1,
                        b = "auto"),
                        A("traceorder", d),
                        l.isGrouped(t.legend) && A("tracegroupgap"),
                        A("itemsizing"),
                        A("itemwidth"),
                        A("itemclick"),
                        A("itemdoubleclick"),
                        A("x", v),
                        A("xanchor"),
                        A("y", m),
                        A("yanchor", b),
                        A("valign"),
                        a.noneOrAll(c, y, ["x", "y"]),
                        A("title.text")) {
                            A("title.side", _ ? "left" : "top");
                            var w = a.extendFlat({}, x, {
                                size: a.bigFont(x.size)
                            });
                            a.coerceFont(A, "title.font", w)
                        }
                    }
                }
                function A(e, t) {
                    return a.coerce(c, y, o, e, t)
                }
            }
        }
        , {
            "../../lib": 365,
            "../../plot_api/plot_template": 403,
            "../../plots/layout_attributes": 447,
            "../../registry": 451,
            "./attributes": 285,
            "./helpers": 291
        }],
        288: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../../lib")
              , i = e("../../plots/plots")
              , o = e("../../registry")
              , s = e("../../lib/events")
              , l = e("../dragelement")
              , c = e("../drawing")
              , u = e("../color")
              , f = e("../../lib/svg_text_utils")
              , d = e("./handle_click")
              , h = e("./constants")
              , p = e("../../constants/alignment")
              , g = p.LINE_SPACING
              , y = p.FROM_TL
              , v = p.FROM_BR
              , m = e("./get_legend_data")
              , b = e("./style")
              , x = e("./helpers");
            function _(e, t, r, n, a) {
                var i = r.data()[0][0].trace
                  , l = {
                    event: a,
                    node: r.node(),
                    curveNumber: i.index,
                    expandedIndex: i._expandedIndex,
                    data: e.data,
                    layout: e.layout,
                    frames: e._transitionData._frames,
                    config: e._context,
                    fullData: e._fullData,
                    fullLayout: e._fullLayout
                };
                if (i._group && (l.group = i._group),
                o.traceIs(i, "pie-like") && (l.label = r.datum()[0].label),
                !1 !== s.triggerHandler(e, "plotly_legendclick", l))
                    if (1 === n)
                        t._clickTimeout = setTimeout((function() {
                            e._fullLayout && d(r, e, n)
                        }
                        ), e._context.doubleClickDelay);
                    else if (2 === n) {
                        t._clickTimeout && clearTimeout(t._clickTimeout),
                        e._legendMouseDownTime = 0,
                        !1 !== s.triggerHandler(e, "plotly_legenddoubleclick", l) && d(r, e, n)
                    }
            }
            function w(e, t, r) {
                var n, i, s = e.data()[0][0], l = s.trace, u = o.traceIs(l, "pie-like"), d = !r._inHover && t._context.edits.legendText && !u, p = r._maxNameLength;
                s.groupTitle ? (n = s.groupTitle.text,
                i = s.groupTitle.font) : (i = r.font,
                r.entries ? n = s.text : (n = u ? s.label : l.name,
                l._meta && (n = a.templateString(n, l._meta))));
                var g = a.ensureSingle(e, "text", "legendtext");
                g.attr("text-anchor", "start").call(c.font, i).text(d ? A(n, p) : n);
                var y = r.itemwidth + 2 * h.itemGap;
                f.positionText(g, y, 0),
                d ? g.call(f.makeEditable, {
                    gd: t,
                    text: n
                }).call(T, e, t, r).on("edit", (function(n) {
                    this.text(A(n, p)).call(T, e, t, r);
                    var i = s.trace._fullInput || {}
                      , c = {};
                    if (o.hasTransform(i, "groupby")) {
                        var u = o.getTransformIndices(i, "groupby")
                          , f = u[u.length - 1]
                          , d = a.keyedContainer(i, "transforms[" + f + "].styles", "target", "value.name");
                        d.set(s.trace._group, n),
                        c = d.constructUpdate()
                    } else
                        c.name = n;
                    return o.call("_guiRestyle", t, c, l.index)
                }
                )) : T(g, e, t, r)
            }
            function A(e, t) {
                var r = Math.max(4, t);
                if (e && e.trim().length >= r / 2)
                    return e;
                for (var n = r - (e = e || "").length; n > 0; n--)
                    e += " ";
                return e
            }
            function k(e, t) {
                var r, i = t._context.doubleClickDelay, o = 1, s = a.ensureSingle(e, "rect", "legendtoggle", (function(e) {
                    t._context.staticPlot || e.style("cursor", "pointer").attr("pointer-events", "all"),
                    e.call(u.fill, "rgba(0,0,0,0)")
                }
                ));
                t._context.staticPlot || (s.on("mousedown", (function() {
                    (r = (new Date).getTime()) - t._legendMouseDownTime < i ? o += 1 : (o = 1,
                    t._legendMouseDownTime = r)
                }
                )),
                s.on("mouseup", (function() {
                    if (!t._dragged && !t._editing) {
                        var r = t._fullLayout.legend;
                        (new Date).getTime() - t._legendMouseDownTime > i && (o = Math.max(o - 1, 1)),
                        _(t, r, e, o, n.event)
                    }
                }
                )))
            }
            function T(e, t, r, n, a) {
                n._inHover && e.attr("data-notex", !0),
                f.convertToTspans(e, r, (function() {
                    !function(e, t, r, n) {
                        var a = e.data()[0][0];
                        if (!r._inHover && a && !a.trace.showlegend)
                            return void e.remove();
                        var i = e.select("g[class*=math-group]")
                          , o = i.node();
                        r || (r = t._fullLayout.legend);
                        var s, l = r.borderwidth;
                        s = 1 === n ? r.title.font : a.groupTitle ? a.groupTitle.font : r.font;
                        var u, d, p = s.size * g;
                        if (o) {
                            var y = c.bBox(o);
                            u = y.height,
                            d = y.width,
                            1 === n ? c.setTranslate(i, l, l + .75 * u) : c.setTranslate(i, 0, .25 * u)
                        } else {
                            var v = e.select(1 === n ? ".legendtitletext" : ".legendtext")
                              , m = f.lineCount(v)
                              , b = v.node();
                            if (u = p * m,
                            d = b ? c.bBox(b).width : 0,
                            1 === n)
                                "left" === r.title.side && (d += 2 * h.itemGap),
                                f.positionText(v, l + h.titlePad, l + p);
                            else {
                                var x = 2 * h.itemGap + r.itemwidth;
                                a.groupTitle && (x = h.itemGap,
                                d -= r.itemwidth),
                                f.positionText(v, x, -p * ((m - 1) / 2 - .3))
                            }
                        }
                        1 === n ? (r._titleWidth = d,
                        r._titleHeight = u) : (a.lineHeight = p,
                        a.height = Math.max(u, 16) + 3,
                        a.width = d)
                    }(t, r, n, a)
                }
                ))
            }
            function M(e) {
                return a.isRightAnchor(e) ? "right" : a.isCenterAnchor(e) ? "center" : "left"
            }
            function S(e) {
                return a.isBottomAnchor(e) ? "bottom" : a.isMiddleAnchor(e) ? "middle" : "top"
            }
            t.exports = function(e, t) {
                return t || (t = e._fullLayout.legend || {}),
                function(e, t) {
                    var r, s, f = e._fullLayout, d = "legend" + f._uid, p = t._inHover;
                    p ? (r = t.layer,
                    d += "-hover") : r = f._infolayer;
                    if (!r)
                        return;
                    e._legendMouseDownTime || (e._legendMouseDownTime = 0);
                    if (p) {
                        if (!t.entries)
                            return;
                        s = m(t.entries, t)
                    } else {
                        if (!e.calcdata)
                            return;
                        s = f.showlegend && m(e.calcdata, t)
                    }
                    var g = f.hiddenlabels || [];
                    if (!(p || f.showlegend && s.length))
                        return r.selectAll(".legend").remove(),
                        f._topdefs.select("#" + d).remove(),
                        i.autoMargin(e, "legend");
                    var A = a.ensureSingle(r, "g", "legend", (function(e) {
                        p || e.attr("pointer-events", "all")
                    }
                    ))
                      , C = a.ensureSingleById(f._topdefs, "clipPath", d, (function(e) {
                        e.append("rect")
                    }
                    ))
                      , O = a.ensureSingle(A, "rect", "bg", (function(e) {
                        e.attr("shape-rendering", "crispEdges")
                    }
                    ));
                    O.call(u.stroke, t.bordercolor).call(u.fill, t.bgcolor).style("stroke-width", t.borderwidth + "px");
                    var D = a.ensureSingle(A, "g", "scrollbox")
                      , L = t.title;
                    if (t._titleWidth = 0,
                    t._titleHeight = 0,
                    L.text) {
                        var E = a.ensureSingle(D, "text", "legendtitletext");
                        E.attr("text-anchor", "start").call(c.font, L.font).text(L.text),
                        T(E, D, e, t, 1)
                    } else
                        D.selectAll(".legendtitletext").remove();
                    var z = a.ensureSingle(A, "rect", "scrollbar", (function(e) {
                        e.attr(h.scrollBarEnterAttrs).call(u.fill, h.scrollBarColor)
                    }
                    ))
                      , F = D.selectAll("g.groups").data(s);
                    F.enter().append("g").attr("class", "groups"),
                    F.exit().remove();
                    var P = F.selectAll("g.traces").data(a.identity);
                    P.enter().append("g").attr("class", "traces"),
                    P.exit().remove(),
                    P.style("opacity", (function(e) {
                        var t = e[0].trace;
                        return o.traceIs(t, "pie-like") ? -1 !== g.indexOf(e[0].label) ? .5 : 1 : "legendonly" === t.visible ? .5 : 1
                    }
                    )).each((function() {
                        n.select(this).call(w, e, t)
                    }
                    )).call(b, e, t).each((function() {
                        p || n.select(this).call(k, e)
                    }
                    )),
                    a.syncOrAsync([i.previousPromises, function() {
                        return function(e, t, r, a) {
                            var i = e._fullLayout;
                            a || (a = i.legend);
                            var o = i._size
                              , s = x.isVertical(a)
                              , l = x.isGrouped(a)
                              , u = a.borderwidth
                              , f = 2 * u
                              , d = h.itemGap
                              , p = a.itemwidth + 2 * d
                              , g = 2 * (u + d)
                              , y = S(a)
                              , v = a.y < 0 || 0 === a.y && "top" === y
                              , m = a.y > 1 || 1 === a.y && "bottom" === y
                              , b = a.tracegroupgap;
                            a._maxHeight = Math.max(v || m ? i.height / 2 : o.h, 30);
                            var _ = 0;
                            a._width = 0,
                            a._height = 0;
                            var w = function(e) {
                                var t = 0
                                  , r = 0
                                  , n = e.title.side;
                                n && (-1 !== n.indexOf("left") && (t = e._titleWidth),
                                -1 !== n.indexOf("top") && (r = e._titleHeight));
                                return [t, r]
                            }(a);
                            if (s)
                                r.each((function(e) {
                                    var t = e[0].height;
                                    c.setTranslate(this, u + w[0], u + w[1] + a._height + t / 2 + d),
                                    a._height += t,
                                    a._width = Math.max(a._width, e[0].width)
                                }
                                )),
                                _ = p + a._width,
                                a._width += d + p + f,
                                a._height += g,
                                l && (t.each((function(e, t) {
                                    c.setTranslate(this, 0, t * a.tracegroupgap)
                                }
                                )),
                                a._height += (a._lgroupsLength - 1) * a.tracegroupgap);
                            else {
                                var A = M(a)
                                  , k = a.x < 0 || 0 === a.x && "right" === A
                                  , T = a.x > 1 || 1 === a.x && "left" === A
                                  , C = m || v
                                  , O = i.width / 2;
                                a._maxWidth = Math.max(k ? C && "left" === A ? o.l + o.w : O : T ? C && "right" === A ? o.r + o.w : O : o.w, 2 * p);
                                var D = 0
                                  , L = 0;
                                r.each((function(e) {
                                    var t = e[0].width + p;
                                    D = Math.max(D, t),
                                    L += t
                                }
                                )),
                                _ = null;
                                var E = 0;
                                if (l) {
                                    var z = 0
                                      , F = 0
                                      , P = 0;
                                    t.each((function() {
                                        var e = 0
                                          , t = 0;
                                        n.select(this).selectAll("g.traces").each((function(r) {
                                            var n = r[0].height;
                                            c.setTranslate(this, w[0], w[1] + u + d + n / 2 + t),
                                            t += n,
                                            e = Math.max(e, p + r[0].width)
                                        }
                                        )),
                                        z = Math.max(z, t);
                                        var r = e + d;
                                        r + u + F > a._maxWidth && (E = Math.max(E, F),
                                        F = 0,
                                        P += z + b,
                                        z = t),
                                        c.setTranslate(this, F, P),
                                        F += r
                                    }
                                    )),
                                    a._width = Math.max(E, F) + u,
                                    a._height = P + z + g
                                } else {
                                    var I = r.size()
                                      , N = L + f + (I - 1) * d < a._maxWidth
                                      , R = 0
                                      , j = 0
                                      , B = 0
                                      , H = 0;
                                    r.each((function(e) {
                                        var t = e[0].height
                                          , r = p + e[0].width
                                          , n = (N ? r : D) + d;
                                        n + u + j - d >= a._maxWidth && (E = Math.max(E, H),
                                        j = 0,
                                        B += R,
                                        a._height += R,
                                        R = 0),
                                        c.setTranslate(this, w[0] + u + j, w[1] + u + B + t / 2 + d),
                                        H = j + r + d,
                                        j += n,
                                        R = Math.max(R, t)
                                    }
                                    )),
                                    N ? (a._width = j + f,
                                    a._height = R + g) : (a._width = Math.max(E, H) + f,
                                    a._height += R + g)
                                }
                            }
                            a._width = Math.ceil(Math.max(a._width + w[0], a._titleWidth + 2 * (u + h.titlePad))),
                            a._height = Math.ceil(Math.max(a._height + w[1], a._titleHeight + 2 * (u + h.itemGap))),
                            a._effHeight = Math.min(a._height, a._maxHeight);
                            var U = e._context.edits
                              , Y = U.legendText || U.legendPosition;
                            r.each((function(e) {
                                var t = n.select(this).select(".legendtoggle")
                                  , r = e[0].height
                                  , a = Y ? p : _ || p + e[0].width;
                                s || (a += d / 2),
                                c.setRect(t, 0, -r / 2, a, r)
                            }
                            ))
                        }(e, F, P, t)
                    }
                    , function() {
                        if (p || !function(e) {
                            var t = e._fullLayout.legend
                              , r = M(t)
                              , n = S(t);
                            return i.autoMargin(e, "legend", {
                                x: t.x,
                                y: t.y,
                                l: t._width * y[r],
                                r: t._width * v[r],
                                b: t._effHeight * v[n],
                                t: t._effHeight * y[n]
                            })
                        }(e)) {
                            var s, u, g, m, b = f._size, x = t.borderwidth, w = b.l + b.w * t.x - y[M(t)] * t._width, k = b.t + b.h * (1 - t.y) - y[S(t)] * t._effHeight;
                            if (!p && f.margin.autoexpand) {
                                var T = w
                                  , L = k;
                                w = a.constrain(w, 0, f.width - t._width),
                                k = a.constrain(k, 0, f.height - t._effHeight),
                                w !== T && a.log("Constrain legend.x to make legend fit inside graph"),
                                k !== L && a.log("Constrain legend.y to make legend fit inside graph")
                            }
                            if (p || c.setTranslate(A, w, k),
                            z.on(".drag", null),
                            A.on("wheel", null),
                            p || t._height <= t._maxHeight || e._context.staticPlot) {
                                var E = t._effHeight;
                                p && (E = t._height),
                                O.attr({
                                    width: t._width - x,
                                    height: E - x,
                                    x: x / 2,
                                    y: x / 2
                                }),
                                c.setTranslate(D, 0, 0),
                                C.select("rect").attr({
                                    width: t._width - 2 * x,
                                    height: E - 2 * x,
                                    x: x,
                                    y: x
                                }),
                                c.setClipUrl(D, d, e),
                                c.setRect(z, 0, 0, 0, 0),
                                delete t._scrollY
                            } else {
                                var F, P, I, N = Math.max(h.scrollBarMinHeight, t._effHeight * t._effHeight / t._height), R = t._effHeight - N - 2 * h.scrollBarMargin, j = t._height - t._effHeight, B = R / j, H = Math.min(t._scrollY || 0, j);
                                O.attr({
                                    width: t._width - 2 * x + h.scrollBarWidth + h.scrollBarMargin,
                                    height: t._effHeight - x,
                                    x: x / 2,
                                    y: x / 2
                                }),
                                C.select("rect").attr({
                                    width: t._width - 2 * x + h.scrollBarWidth + h.scrollBarMargin,
                                    height: t._effHeight - 2 * x,
                                    x: x,
                                    y: x + H
                                }),
                                c.setClipUrl(D, d, e),
                                V(H, N, B),
                                A.on("wheel", (function() {
                                    V(H = a.constrain(t._scrollY + n.event.deltaY / R * j, 0, j), N, B),
                                    0 !== H && H !== j && n.event.preventDefault()
                                }
                                ));
                                var U = n.behavior.drag().on("dragstart", (function() {
                                    var e = n.event.sourceEvent;
                                    F = "touchstart" === e.type ? e.changedTouches[0].clientY : e.clientY,
                                    I = H
                                }
                                )).on("drag", (function() {
                                    var e = n.event.sourceEvent;
                                    2 === e.buttons || e.ctrlKey || (P = "touchmove" === e.type ? e.changedTouches[0].clientY : e.clientY,
                                    V(H = function(e, t, r) {
                                        var n = (r - t) / B + e;
                                        return a.constrain(n, 0, j)
                                    }(I, F, P), N, B))
                                }
                                ));
                                z.call(U);
                                var Y = n.behavior.drag().on("dragstart", (function() {
                                    var e = n.event.sourceEvent;
                                    "touchstart" === e.type && (F = e.changedTouches[0].clientY,
                                    I = H)
                                }
                                )).on("drag", (function() {
                                    var e = n.event.sourceEvent;
                                    "touchmove" === e.type && (P = e.changedTouches[0].clientY,
                                    V(H = function(e, t, r) {
                                        var n = (t - r) / B + e;
                                        return a.constrain(n, 0, j)
                                    }(I, F, P), N, B))
                                }
                                ));
                                D.call(Y)
                            }
                            if (e._context.edits.legendPosition)
                                A.classed("cursor-move", !0),
                                l.init({
                                    element: A.node(),
                                    gd: e,
                                    prepFn: function() {
                                        var e = c.getTranslate(A);
                                        g = e.x,
                                        m = e.y
                                    },
                                    moveFn: function(e, r) {
                                        var n = g + e
                                          , a = m + r;
                                        c.setTranslate(A, n, a),
                                        s = l.align(n, 0, b.l, b.l + b.w, t.xanchor),
                                        u = l.align(a, 0, b.t + b.h, b.t, t.yanchor)
                                    },
                                    doneFn: function() {
                                        void 0 !== s && void 0 !== u && o.call("_guiRelayout", e, {
                                            "legend.x": s,
                                            "legend.y": u
                                        })
                                    },
                                    clickFn: function(t, n) {
                                        var a = r.selectAll("g.traces").filter((function() {
                                            var e = this.getBoundingClientRect();
                                            return n.clientX >= e.left && n.clientX <= e.right && n.clientY >= e.top && n.clientY <= e.bottom
                                        }
                                        ));
                                        a.size() > 0 && _(e, A, a, t, n)
                                    }
                                })
                        }
                        function V(r, n, a) {
                            t._scrollY = e._fullLayout.legend._scrollY = r,
                            c.setTranslate(D, 0, -r),
                            c.setRect(z, t._width, h.scrollBarMargin + r * a, h.scrollBarWidth, n),
                            C.select("rect").attr("y", x + r)
                        }
                    }
                    ], e)
                }(e, t)
            }
        }
        , {
            "../../constants/alignment": 340,
            "../../lib": 365,
            "../../lib/events": 357,
            "../../lib/svg_text_utils": 390,
            "../../plots/plots": 449,
            "../../registry": 451,
            "../color": 235,
            "../dragelement": 254,
            "../drawing": 257,
            "./constants": 286,
            "./get_legend_data": 289,
            "./handle_click": 290,
            "./helpers": 291,
            "./style": 293,
            "@plotly/d3": 6
        }],
        289: [function(e, t, r) {
            "use strict";
            var n = e("../../registry")
              , a = e("./helpers");
            t.exports = function(e, t) {
                var r, i, o = a.isGrouped(t), s = a.isReversed(t), l = {}, c = [], u = !1, f = {}, d = 0, h = 0;
                function p(e, r) {
                    if ("" !== e && a.isGrouped(t))
                        -1 === c.indexOf(e) ? (c.push(e),
                        u = !0,
                        l[e] = [r]) : l[e].push(r);
                    else {
                        var n = "~~i" + d;
                        c.push(n),
                        l[n] = [r],
                        d++
                    }
                }
                for (r = 0; r < e.length; r++) {
                    var g = e[r]
                      , y = g[0]
                      , v = y.trace
                      , m = v.legendgroup;
                    if (t._inHover || v.visible && v.showlegend)
                        if (n.traceIs(v, "pie-like"))
                            for (f[m] || (f[m] = {}),
                            i = 0; i < g.length; i++) {
                                var b = g[i].label;
                                f[m][b] || (p(m, {
                                    label: b,
                                    color: g[i].color,
                                    i: g[i].i,
                                    trace: v,
                                    pts: g[i].pts
                                }),
                                f[m][b] = !0,
                                h = Math.max(h, (b || "").length))
                            }
                        else
                            p(m, y),
                            h = Math.max(h, (v.name || "").length)
                }
                if (!c.length)
                    return [];
                var x = !u || !o
                  , _ = [];
                for (r = 0; r < c.length; r++) {
                    var w = l[c[r]];
                    x ? _.push(w[0]) : _.push(w)
                }
                for (x && (_ = [_]),
                r = 0; r < _.length; r++) {
                    var A = 1 / 0;
                    for (i = 0; i < _[r].length; i++) {
                        var k = _[r][i].trace.legendrank;
                        A > k && (A = k)
                    }
                    _[r][0]._groupMinRank = A,
                    _[r][0]._preGroupSort = r
                }
                var T = function(e, t) {
                    return e.trace.legendrank - t.trace.legendrank || e._preSort - t._preSort
                };
                for (_.forEach((function(e, t) {
                    e[0]._preGroupSort = t
                }
                )),
                _.sort((function(e, t) {
                    return e[0]._groupMinRank - t[0]._groupMinRank || e[0]._preGroupSort - t[0]._preGroupSort
                }
                )),
                r = 0; r < _.length; r++) {
                    _[r].forEach((function(e, t) {
                        e._preSort = t
                    }
                    )),
                    _[r].sort(T);
                    var M = _[r][0].trace
                      , S = null;
                    for (i = 0; i < _[r].length; i++) {
                        var C = _[r][i].trace.legendgrouptitle;
                        if (C && C.text) {
                            S = C;
                            break
                        }
                    }
                    if (s && _[r].reverse(),
                    S) {
                        var O = !1;
                        for (i = 0; i < _[r].length; i++)
                            if (n.traceIs(_[r][i].trace, "pie-like")) {
                                O = !0;
                                break
                            }
                        _[r].unshift({
                            i: -1,
                            groupTitle: S,
                            noClick: O,
                            trace: {
                                showlegend: M.showlegend,
                                legendgroup: M.legendgroup,
                                visible: M.visible
                            }
                        })
                    }
                    for (i = 0; i < _[r].length; i++)
                        _[r][i] = [_[r][i]]
                }
                return t._lgroupsLength = _.length,
                t._maxNameLength = h,
                _
            }
        }
        , {
            "../../registry": 451,
            "./helpers": 291
        }],
        290: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../registry")
              , i = !0;
            t.exports = function(e, t, r) {
                var o = t._fullLayout;
                if (!t._dragged && !t._editing) {
                    var s, l = o.legend.itemclick, c = o.legend.itemdoubleclick;
                    if (1 === r && "toggle" === l && "toggleothers" === c && i && t.data && t._context.showTips ? (n.notifier(n._(t, "Double-click on legend to isolate one trace"), "long"),
                    i = !1) : i = !1,
                    1 === r ? s = l : 2 === r && (s = c),
                    s) {
                        var u = o.hiddenlabels ? o.hiddenlabels.slice() : []
                          , f = e.data()[0][0];
                        if (!f.groupTitle || !f.noClick) {
                            var d, h, p, g, y, v = t._fullData, m = f.trace, b = m.legendgroup, x = {}, _ = [], w = [], A = [];
                            if (a.traceIs(m, "pie-like")) {
                                var k = f.label
                                  , T = u.indexOf(k);
                                "toggle" === s ? -1 === T ? u.push(k) : u.splice(T, 1) : "toggleothers" === s && (u = [],
                                t.calcdata[0].forEach((function(e) {
                                    k !== e.label && u.push(e.label)
                                }
                                )),
                                t._fullLayout.hiddenlabels && t._fullLayout.hiddenlabels.length === u.length && -1 === T && (u = [])),
                                a.call("_guiRelayout", t, "hiddenlabels", u)
                            } else {
                                var M, S = b && b.length, C = [];
                                if (S)
                                    for (d = 0; d < v.length; d++)
                                        (M = v[d]).visible && M.legendgroup === b && C.push(d);
                                if ("toggle" === s) {
                                    var O;
                                    switch (m.visible) {
                                    case !0:
                                        O = "legendonly";
                                        break;
                                    case !1:
                                        O = !1;
                                        break;
                                    case "legendonly":
                                        O = !0
                                    }
                                    if (S)
                                        for (d = 0; d < v.length; d++)
                                            !1 !== v[d].visible && v[d].legendgroup === b && R(v[d], O);
                                    else
                                        R(m, O)
                                } else if ("toggleothers" === s) {
                                    var D, L, E, z, F = !0;
                                    for (d = 0; d < v.length; d++)
                                        if (D = v[d] === m,
                                        E = !0 !== v[d].showlegend,
                                        !(D || E || (L = S && v[d].legendgroup === b) || !0 !== v[d].visible || a.traceIs(v[d], "notLegendIsolatable"))) {
                                            F = !1;
                                            break
                                        }
                                    for (d = 0; d < v.length; d++)
                                        if (!1 !== v[d].visible && !a.traceIs(v[d], "notLegendIsolatable"))
                                            switch (m.visible) {
                                            case "legendonly":
                                                R(v[d], !0);
                                                break;
                                            case !0:
                                                z = !!F || "legendonly",
                                                D = v[d] === m,
                                                E = !0 !== v[d].showlegend && !v[d].legendgroup,
                                                L = D || S && v[d].legendgroup === b,
                                                R(v[d], !(!L && !E) || z)
                                            }
                                }
                                for (d = 0; d < w.length; d++)
                                    if (p = w[d]) {
                                        var P = p.constructUpdate()
                                          , I = Object.keys(P);
                                        for (h = 0; h < I.length; h++)
                                            g = I[h],
                                            (x[g] = x[g] || [])[A[d]] = P[g]
                                    }
                                for (y = Object.keys(x),
                                d = 0; d < y.length; d++)
                                    for (g = y[d],
                                    h = 0; h < _.length; h++)
                                        x[g].hasOwnProperty(h) || (x[g][h] = void 0);
                                a.call("_guiRestyle", t, x, _)
                            }
                        }
                    }
                }
                function N(e, t, r) {
                    var n = _.indexOf(e)
                      , a = x[t];
                    return a || (a = x[t] = []),
                    -1 === _.indexOf(e) && (_.push(e),
                    n = _.length - 1),
                    a[n] = r,
                    n
                }
                function R(e, t) {
                    var r = e._fullInput;
                    if (a.hasTransform(r, "groupby")) {
                        var i = w[r.index];
                        if (!i) {
                            var o = a.getTransformIndices(r, "groupby")
                              , s = o[o.length - 1];
                            i = n.keyedContainer(r, "transforms[" + s + "].styles", "target", "value.visible"),
                            w[r.index] = i
                        }
                        var l = i.get(e._group);
                        void 0 === l && (l = !0),
                        !1 !== l && i.set(e._group, t),
                        A[r.index] = N(r.index, "visible", !1 !== r.visible)
                    } else {
                        var c = !1 !== r.visible && t;
                        N(r.index, "visible", c)
                    }
                }
            }
        }
        , {
            "../../lib": 365,
            "../../registry": 451
        }],
        291: [function(e, t, r) {
            "use strict";
            r.isGrouped = function(e) {
                return -1 !== (e.traceorder || "").indexOf("grouped")
            }
            ,
            r.isVertical = function(e) {
                return "h" !== e.orientation
            }
            ,
            r.isReversed = function(e) {
                return -1 !== (e.traceorder || "").indexOf("reversed")
            }
        }
        , {}],
        292: [function(e, t, r) {
            "use strict";
            t.exports = {
                moduleType: "component",
                name: "legend",
                layoutAttributes: e("./attributes"),
                supplyLayoutDefaults: e("./defaults"),
                draw: e("./draw"),
                style: e("./style")
            }
        }
        , {
            "./attributes": 285,
            "./defaults": 287,
            "./draw": 288,
            "./style": 293
        }],
        293: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../../registry")
              , i = e("../../lib")
              , o = i.strTranslate
              , s = e("../drawing")
              , l = e("../color")
              , c = e("../colorscale/helpers").extractOpts
              , u = e("../../traces/scatter/subtypes")
              , f = e("../../traces/pie/style_one")
              , d = e("../../traces/pie/helpers").castOption
              , h = e("./constants");
            function p(e, t) {
                return (t ? "radial" : "horizontal") + (e ? "" : "reversed")
            }
            function g(e) {
                var t = e[0].trace
                  , r = t.contours
                  , n = u.hasLines(t)
                  , a = u.hasMarkers(t)
                  , i = t.visible && t.fill && "none" !== t.fill
                  , o = !1
                  , s = !1;
                if (r) {
                    var l = r.coloring;
                    "lines" === l ? o = !0 : n = "none" === l || "heatmap" === l || r.showlines,
                    "constraint" === r.type ? i = "=" !== r._operation : "fill" !== l && "heatmap" !== l || (s = !0)
                }
                return {
                    showMarker: a,
                    showLine: n,
                    showFill: i,
                    showGradientLine: o,
                    showGradientFill: s,
                    anyLine: n || o,
                    anyFill: i || s
                }
            }
            function y(e, t, r) {
                return e && i.isArrayOrTypedArray(e) ? t : e > r ? r : e
            }
            t.exports = function(e, t, r) {
                var v = t._fullLayout;
                r || (r = v.legend);
                var m = "constant" === r.itemsizing
                  , b = r.itemwidth
                  , x = (b + 2 * h.itemGap) / 2
                  , _ = o(x, 0)
                  , w = function(e, t, r, n) {
                    var a;
                    if (e + 1)
                        a = e;
                    else {
                        if (!(t && t.width > 0))
                            return 0;
                        a = t.width
                    }
                    return m ? n : Math.min(a, r)
                };
                function A(e, i, o) {
                    var u = e[0].trace
                      , f = u.marker || {}
                      , d = f.line || {}
                      , h = o ? u.visible && u.type === o : a.traceIs(u, "bar")
                      , p = n.select(i).select("g.legendpoints").selectAll("path.legend" + o).data(h ? [e] : []);
                    p.enter().append("path").classed("legend" + o, !0).attr("d", "M6,6H-6V-6H6Z").attr("transform", _),
                    p.exit().remove(),
                    p.each((function(e) {
                        var a = n.select(this)
                          , i = e[0]
                          , o = w(i.mlw, f.line, 5, 2);
                        a.style("stroke-width", o + "px");
                        var h = i.mcc;
                        if (!r._inHover && "mc"in i) {
                            var p = c(f)
                              , g = p.mid;
                            void 0 === g && (g = (p.max + p.min) / 2),
                            h = s.tryColorscale(f, "")(g)
                        }
                        var v = h || i.mc || f.color
                          , m = f.pattern
                          , b = m && s.getPatternAttr(m.shape, 0, "");
                        if (b) {
                            var x = s.getPatternAttr(m.bgcolor, 0, null)
                              , _ = s.getPatternAttr(m.fgcolor, 0, null)
                              , A = m.fgopacity
                              , k = y(m.size, 8, 10)
                              , T = y(m.solidity, .5, 1)
                              , M = "legend-" + u.uid;
                            a.call(s.pattern, "legend", t, M, b, k, T, h, m.fillmode, x, _, A)
                        } else
                            a.call(l.fill, v);
                        o && l.stroke(a, i.mlc || d.color)
                    }
                    ))
                }
                function k(e, t, r) {
                    var o = e[0]
                      , s = o.trace
                      , l = r ? s.visible && s.type === r : a.traceIs(s, r)
                      , c = n.select(t).select("g.legendpoints").selectAll("path.legend" + r).data(l ? [e] : []);
                    if (c.enter().append("path").classed("legend" + r, !0).attr("d", "M6,6H-6V-6H6Z").attr("transform", _),
                    c.exit().remove(),
                    c.size()) {
                        var u = (s.marker || {}).line
                          , h = w(d(u.width, o.pts), u, 5, 2)
                          , p = i.minExtend(s, {
                            marker: {
                                line: {
                                    width: h
                                }
                            }
                        });
                        p.marker.line.color = u.color;
                        var g = i.minExtend(o, {
                            trace: p
                        });
                        f(c, g, p)
                    }
                }
                e.each((function(e) {
                    var t = n.select(this)
                      , a = i.ensureSingle(t, "g", "layers");
                    a.style("opacity", e[0].trace.opacity);
                    var s = r.valign
                      , l = e[0].lineHeight
                      , c = e[0].height;
                    if ("middle" !== s && l && c) {
                        var u = {
                            top: 1,
                            bottom: -1
                        }[s] * (.5 * (l - c + 3));
                        a.attr("transform", o(0, u))
                    } else
                        a.attr("transform", null);
                    a.selectAll("g.legendfill").data([e]).enter().append("g").classed("legendfill", !0),
                    a.selectAll("g.legendlines").data([e]).enter().append("g").classed("legendlines", !0);
                    var f = a.selectAll("g.legendsymbols").data([e]);
                    f.enter().append("g").classed("legendsymbols", !0),
                    f.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints", !0)
                }
                )).each((function(e) {
                    var r, a = e[0].trace, o = [];
                    if (a.visible)
                        switch (a.type) {
                        case "histogram2d":
                        case "heatmap":
                            o = [["M-15,-2V4H15V-2Z"]],
                            r = !0;
                            break;
                        case "choropleth":
                        case "choroplethmapbox":
                            o = [["M-6,-6V6H6V-6Z"]],
                            r = !0;
                            break;
                        case "densitymapbox":
                            o = [["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],
                            r = "radial";
                            break;
                        case "cone":
                            o = [["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"], ["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"], ["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],
                            r = !1;
                            break;
                        case "streamtube":
                            o = [["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"], ["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"], ["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],
                            r = !1;
                            break;
                        case "surface":
                            o = [["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"], ["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],
                            r = !0;
                            break;
                        case "mesh3d":
                            o = [["M-6,6H0L-6,-6Z"], ["M6,6H0L6,-6Z"], ["M-6,-6H6L0,6Z"]],
                            r = !1;
                            break;
                        case "volume":
                            o = [["M-6,6H0L-6,-6Z"], ["M6,6H0L6,-6Z"], ["M-6,-6H6L0,6Z"]],
                            r = !0;
                            break;
                        case "isosurface":
                            o = [["M-6,6H0L-6,-6Z"], ["M6,6H0L6,-6Z"], ["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],
                            r = !1
                        }
                    var u = n.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(o);
                    u.enter().append("path").classed("legend3dandfriends", !0).attr("transform", _).style("stroke-miterlimit", 1),
                    u.exit().remove(),
                    u.each((function(e, o) {
                        var u, f = n.select(this), d = c(a), h = d.colorscale, g = d.reversescale;
                        if (h) {
                            if (!r) {
                                var y = h.length;
                                u = 0 === o ? h[g ? y - 1 : 0][1] : 1 === o ? h[g ? 0 : y - 1][1] : h[Math.floor((y - 1) / 2)][1]
                            }
                        } else {
                            var v = a.vertexcolor || a.facecolor || a.color;
                            u = i.isArrayOrTypedArray(v) ? v[o] || v[0] : v
                        }
                        f.attr("d", e[0]),
                        u ? f.call(l.fill, u) : f.call((function(e) {
                            if (e.size()) {
                                var n = "legendfill-" + a.uid;
                                s.gradient(e, t, n, p(g, "radial" === r), h, "fill")
                            }
                        }
                        ))
                    }
                    ))
                }
                )).each((function(e) {
                    var t = e[0].trace
                      , r = "waterfall" === t.type;
                    if (e[0]._distinct && r) {
                        var a = e[0].trace[e[0].dir].marker;
                        return e[0].mc = a.color,
                        e[0].mlw = a.line.width,
                        e[0].mlc = a.line.color,
                        A(e, this, "waterfall")
                    }
                    var i = [];
                    t.visible && r && (i = e[0].hasTotals ? [["increasing", "M-6,-6V6H0Z"], ["totals", "M6,6H0L-6,-6H-0Z"], ["decreasing", "M6,6V-6H0Z"]] : [["increasing", "M-6,-6V6H6Z"], ["decreasing", "M6,6V-6H-6Z"]]);
                    var o = n.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(i);
                    o.enter().append("path").classed("legendwaterfall", !0).attr("transform", _).style("stroke-miterlimit", 1),
                    o.exit().remove(),
                    o.each((function(e) {
                        var r = n.select(this)
                          , a = t[e[0]].marker
                          , i = w(void 0, a.line, 5, 2);
                        r.attr("d", e[1]).style("stroke-width", i + "px").call(l.fill, a.color),
                        i && r.call(l.stroke, a.line.color)
                    }
                    ))
                }
                )).each((function(e) {
                    A(e, this, "funnel")
                }
                )).each((function(e) {
                    A(e, this)
                }
                )).each((function(e) {
                    var r = e[0].trace
                      , o = n.select(this).select("g.legendpoints").selectAll("path.legendbox").data(r.visible && a.traceIs(r, "box-violin") ? [e] : []);
                    o.enter().append("path").classed("legendbox", !0).attr("d", "M6,6H-6V-6H6Z").attr("transform", _),
                    o.exit().remove(),
                    o.each((function() {
                        var e = n.select(this);
                        if ("all" !== r.boxpoints && "all" !== r.points || 0 !== l.opacity(r.fillcolor) || 0 !== l.opacity((r.line || {}).color)) {
                            var a = w(void 0, r.line, 5, 2);
                            e.style("stroke-width", a + "px").call(l.fill, r.fillcolor),
                            a && l.stroke(e, r.line.color)
                        } else {
                            var c = i.minExtend(r, {
                                marker: {
                                    size: m ? 12 : i.constrain(r.marker.size, 2, 16),
                                    sizeref: 1,
                                    sizemin: 1,
                                    sizemode: "diameter"
                                }
                            });
                            o.call(s.pointStyle, c, t)
                        }
                    }
                    ))
                }
                )).each((function(e) {
                    k(e, this, "funnelarea")
                }
                )).each((function(e) {
                    k(e, this, "pie")
                }
                )).each((function(e) {
                    var r, a, o = g(e), l = o.showFill, f = o.showLine, d = o.showGradientLine, h = o.showGradientFill, y = o.anyFill, v = o.anyLine, m = e[0], x = m.trace, _ = c(x), A = _.colorscale, k = _.reversescale, T = u.hasMarkers(x) || !y ? "M5,0" : v ? "M5,-2" : "M5,-3", M = n.select(this), S = M.select(".legendfill").selectAll("path").data(l || h ? [e] : []);
                    if (S.enter().append("path").classed("js-fill", !0),
                    S.exit().remove(),
                    S.attr("d", T + "h" + b + "v6h-" + b + "z").call(l ? s.fillGroupStyle : function(e) {
                        if (e.size()) {
                            var r = "legendfill-" + x.uid;
                            s.gradient(e, t, r, p(k), A, "fill")
                        }
                    }
                    ),
                    f || d) {
                        var C = w(void 0, x.line, 10, 5);
                        a = i.minExtend(x, {
                            line: {
                                width: C
                            }
                        }),
                        r = [i.minExtend(m, {
                            trace: a
                        })]
                    }
                    var O = M.select(".legendlines").selectAll("path").data(f || d ? [r] : []);
                    O.enter().append("path").classed("js-line", !0),
                    O.exit().remove(),
                    O.attr("d", T + (d ? "l" + b + ",0.0001" : "h" + b)).call(f ? s.lineGroupStyle : function(e) {
                        if (e.size()) {
                            var r = "legendline-" + x.uid;
                            s.lineGroupStyle(e),
                            s.gradient(e, t, r, p(k), A, "stroke")
                        }
                    }
                    )
                }
                )).each((function(e) {
                    var r, a, o = g(e), l = o.anyFill, c = o.anyLine, f = o.showLine, d = o.showMarker, h = e[0], p = h.trace, y = !d && !c && !l && u.hasText(p);
                    function v(e, t, r, n) {
                        var a = i.nestedProperty(p, e).get()
                          , o = i.isArrayOrTypedArray(a) && t ? t(a) : a;
                        if (m && o && void 0 !== n && (o = n),
                        r) {
                            if (o < r[0])
                                return r[0];
                            if (o > r[1])
                                return r[1]
                        }
                        return o
                    }
                    function b(e) {
                        return h._distinct && h.index && e[h.index] ? e[h.index] : e[0]
                    }
                    if (d || y || f) {
                        var x = {}
                          , w = {};
                        if (d) {
                            x.mc = v("marker.color", b),
                            x.mx = v("marker.symbol", b),
                            x.mo = v("marker.opacity", i.mean, [.2, 1]),
                            x.mlc = v("marker.line.color", b),
                            x.mlw = v("marker.line.width", i.mean, [0, 5], 2),
                            w.marker = {
                                sizeref: 1,
                                sizemin: 1,
                                sizemode: "diameter"
                            };
                            var A = v("marker.size", i.mean, [2, 16], 12);
                            x.ms = A,
                            w.marker.size = A
                        }
                        f && (w.line = {
                            width: v("line.width", b, [0, 10], 5)
                        }),
                        y && (x.tx = "Aa",
                        x.tp = v("textposition", b),
                        x.ts = 10,
                        x.tc = v("textfont.color", b),
                        x.tf = v("textfont.family", b)),
                        r = [i.minExtend(h, x)],
                        (a = i.minExtend(p, w)).selectedpoints = null,
                        a.texttemplate = null
                    }
                    var k = n.select(this).select("g.legendpoints")
                      , T = k.selectAll("path.scatterpts").data(d ? r : []);
                    T.enter().insert("path", ":first-child").classed("scatterpts", !0).attr("transform", _),
                    T.exit().remove(),
                    T.call(s.pointStyle, a, t),
                    d && (r[0].mrc = 3);
                    var M = k.selectAll("g.pointtext").data(y ? r : []);
                    M.enter().append("g").classed("pointtext", !0).append("text").attr("transform", _),
                    M.exit().remove(),
                    M.selectAll("text").call(s.textPointStyle, a, t)
                }
                )).each((function(e) {
                    var t = e[0].trace
                      , r = n.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(t.visible && "candlestick" === t.type ? [e, e] : []);
                    r.enter().append("path").classed("legendcandle", !0).attr("d", (function(e, t) {
                        return t ? "M-15,0H-8M-8,6V-6H8Z" : "M15,0H8M8,-6V6H-8Z"
                    }
                    )).attr("transform", _).style("stroke-miterlimit", 1),
                    r.exit().remove(),
                    r.each((function(e, r) {
                        var a = n.select(this)
                          , i = t[r ? "increasing" : "decreasing"]
                          , o = w(void 0, i.line, 5, 2);
                        a.style("stroke-width", o + "px").call(l.fill, i.fillcolor),
                        o && l.stroke(a, i.line.color)
                    }
                    ))
                }
                )).each((function(e) {
                    var t = e[0].trace
                      , r = n.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(t.visible && "ohlc" === t.type ? [e, e] : []);
                    r.enter().append("path").classed("legendohlc", !0).attr("d", (function(e, t) {
                        return t ? "M-15,0H0M-8,-6V0" : "M15,0H0M8,6V0"
                    }
                    )).attr("transform", _).style("stroke-miterlimit", 1),
                    r.exit().remove(),
                    r.each((function(e, r) {
                        var a = n.select(this)
                          , i = t[r ? "increasing" : "decreasing"]
                          , o = w(void 0, i.line, 5, 2);
                        a.style("fill", "none").call(s.dashLine, i.line.dash, o),
                        o && l.stroke(a, i.line.color)
                    }
                    ))
                }
                ))
            }
        }
        , {
            "../../lib": 365,
            "../../registry": 451,
            "../../traces/pie/helpers": 460,
            "../../traces/pie/style_one": 461,
            "../../traces/scatter/subtypes": 488,
            "../color": 235,
            "../colorscale/helpers": 246,
            "../drawing": 257,
            "./constants": 286,
            "@plotly/d3": 6
        }],
        294: [function(e, t, r) {
            "use strict";
            e("./constants");
            t.exports = {
                editType: "modebar",
                orientation: {
                    valType: "enumerated",
                    values: ["v", "h"],
                    dflt: "h",
                    editType: "modebar"
                },
                bgcolor: {
                    valType: "color",
                    editType: "modebar"
                },
                color: {
                    valType: "color",
                    editType: "modebar"
                },
                activecolor: {
                    valType: "color",
                    editType: "modebar"
                },
                uirevision: {
                    valType: "any",
                    editType: "none"
                },
                add: {
                    valType: "string",
                    arrayOk: !0,
                    dflt: "",
                    editType: "modebar"
                },
                remove: {
                    valType: "string",
                    arrayOk: !0,
                    dflt: "",
                    editType: "modebar"
                }
            }
        }
        , {
            "./constants": 296
        }],
        295: [function(e, t, r) {
            "use strict";
            var n = e("../../registry")
              , a = e("../../plots/plots")
              , i = e("../../plots/cartesian/axis_ids")
              , o = e("../../fonts/ploticon")
              , s = e("../shapes/draw").eraseActiveShape
              , l = e("../../lib")
              , c = l._
              , u = t.exports = {};
            function f(e, t) {
                var r, a, o = t.currentTarget, s = o.getAttribute("data-attr"), l = o.getAttribute("data-val") || !0, c = e._fullLayout, u = {}, f = i.list(e, null, !0), d = c._cartesianSpikesEnabled;
                if ("zoom" === s) {
                    var h, p = "in" === l ? .5 : 2, g = (1 + p) / 2, y = (1 - p) / 2;
                    for (a = 0; a < f.length; a++)
                        if (!(r = f[a]).fixedrange)
                            if (h = r._name,
                            "auto" === l)
                                u[h + ".autorange"] = !0;
                            else if ("reset" === l) {
                                if (void 0 === r._rangeInitial)
                                    u[h + ".autorange"] = !0;
                                else {
                                    var v = r._rangeInitial.slice();
                                    u[h + ".range[0]"] = v[0],
                                    u[h + ".range[1]"] = v[1]
                                }
                                void 0 !== r._showSpikeInitial && (u[h + ".showspikes"] = r._showSpikeInitial,
                                "on" !== d || r._showSpikeInitial || (d = "off"))
                            } else {
                                var m = [r.r2l(r.range[0]), r.r2l(r.range[1])]
                                  , b = [g * m[0] + y * m[1], g * m[1] + y * m[0]];
                                u[h + ".range[0]"] = r.l2r(b[0]),
                                u[h + ".range[1]"] = r.l2r(b[1])
                            }
                } else
                    "hovermode" !== s || "x" !== l && "y" !== l || (l = c._isHoriz ? "y" : "x",
                    o.setAttribute("data-val", l)),
                    u[s] = l;
                c._cartesianSpikesEnabled = d,
                n.call("_guiRelayout", e, u)
            }
            function d(e, t) {
                for (var r = t.currentTarget, a = r.getAttribute("data-attr"), i = r.getAttribute("data-val") || !0, o = e._fullLayout._subplots.gl3d || [], s = {}, l = a.split("."), c = 0; c < o.length; c++)
                    s[o[c] + "." + l[1]] = i;
                var u = "pan" === i ? i : "zoom";
                s.dragmode = u,
                n.call("_guiRelayout", e, s)
            }
            function h(e, t) {
                for (var r = t.currentTarget.getAttribute("data-attr"), a = "resetLastSave" === r, i = "resetDefault" === r, o = e._fullLayout, s = o._subplots.gl3d || [], l = {}, c = 0; c < s.length; c++) {
                    var u, f = s[c], d = f + ".camera", h = f + ".aspectratio", p = f + ".aspectmode", g = o[f]._scene;
                    a ? (l[d + ".up"] = g.viewInitial.up,
                    l[d + ".eye"] = g.viewInitial.eye,
                    l[d + ".center"] = g.viewInitial.center,
                    u = !0) : i && (l[d + ".up"] = null,
                    l[d + ".eye"] = null,
                    l[d + ".center"] = null,
                    u = !0),
                    u && (l[h + ".x"] = g.viewInitial.aspectratio.x,
                    l[h + ".y"] = g.viewInitial.aspectratio.y,
                    l[h + ".z"] = g.viewInitial.aspectratio.z,
                    l[p] = g.viewInitial.aspectmode)
                }
                n.call("_guiRelayout", e, l)
            }
            function p(e, t) {
                var r = t.currentTarget
                  , n = r._previousVal
                  , a = e._fullLayout
                  , i = a._subplots.gl3d || []
                  , o = ["xaxis", "yaxis", "zaxis"]
                  , s = {}
                  , l = {};
                if (n)
                    l = n,
                    r._previousVal = null;
                else {
                    for (var c = 0; c < i.length; c++) {
                        var u = i[c]
                          , f = a[u]
                          , d = u + ".hovermode";
                        s[d] = f.hovermode,
                        l[d] = !1;
                        for (var h = 0; h < 3; h++) {
                            var p = o[h]
                              , g = u + "." + p + ".showspikes";
                            l[g] = !1,
                            s[g] = f[p].showspikes
                        }
                    }
                    r._previousVal = s
                }
                return l
            }
            function g(e, t) {
                for (var r = t.currentTarget, a = r.getAttribute("data-attr"), i = r.getAttribute("data-val") || !0, o = e._fullLayout, s = o._subplots.geo || [], l = 0; l < s.length; l++) {
                    var c = s[l]
                      , u = o[c];
                    if ("zoom" === a) {
                        var f = u.projection.scale
                          , d = "in" === i ? 2 * f : .5 * f;
                        n.call("_guiRelayout", e, c + ".projection.scale", d)
                    }
                }
                "reset" === a && b(e, "geo")
            }
            function y(e) {
                var t = e._fullLayout;
                return !t.hovermode && (t._has("cartesian") ? t._isHoriz ? "y" : "x" : "closest")
            }
            function v(e) {
                var t = y(e);
                n.call("_guiRelayout", e, "hovermode", t)
            }
            function m(e, t) {
                for (var r = t.currentTarget.getAttribute("data-val"), a = e._fullLayout, i = a._subplots.mapbox || [], o = {}, s = 0; s < i.length; s++) {
                    var l = i[s]
                      , c = a[l].zoom
                      , u = "in" === r ? 1.05 * c : c / 1.05;
                    o[l + ".zoom"] = u
                }
                n.call("_guiRelayout", e, o)
            }
            function b(e, t) {
                for (var r = e._fullLayout, a = r._subplots[t] || [], i = {}, o = 0; o < a.length; o++)
                    for (var s = a[o], l = r[s]._subplot.viewInitial, c = Object.keys(l), u = 0; u < c.length; u++) {
                        var f = c[u];
                        i[s + "." + f] = l[f]
                    }
                n.call("_guiRelayout", e, i)
            }
            u.toImage = {
                name: "toImage",
                title: function(e) {
                    var t = (e._context.toImageButtonOptions || {}).format || "png";
                    return c(e, "png" === t ? "Download plot as a png" : "Download plot")
                },
                icon: o.camera,
                click: function(e) {
                    var t = e._context.toImageButtonOptions
                      , r = {
                        format: t.format || "png"
                    };
                    l.notifier(c(e, "Taking snapshot - this may take a few seconds"), "long"),
                    "svg" !== r.format && l.isIE() && (l.notifier(c(e, "IE only supports svg.  Changing format to svg."), "long"),
                    r.format = "svg"),
                    ["filename", "width", "height", "scale"].forEach((function(e) {
                        e in t && (r[e] = t[e])
                    }
                    )),
                    n.call("downloadImage", e, r).then((function(t) {
                        l.notifier(c(e, "Snapshot succeeded") + " - " + t, "long")
                    }
                    )).catch((function() {
                        l.notifier(c(e, "Sorry, there was a problem downloading your snapshot!"), "long")
                    }
                    ))
                }
            },
            u.sendDataToCloud = {
                name: "sendDataToCloud",
                title: function(e) {
                    return c(e, "Edit in Chart Studio")
                },
                icon: o.disk,
                click: function(e) {
                    a.sendDataToCloud(e)
                }
            },
            u.editInChartStudio = {
                name: "editInChartStudio",
                title: function(e) {
                    return c(e, "Edit in Chart Studio")
                },
                icon: o.pencil,
                click: function(e) {
                    a.sendDataToCloud(e)
                }
            },
            u.zoom2d = {
                name: "zoom2d",
                _cat: "zoom",
                title: function(e) {
                    return c(e, "Zoom")
                },
                attr: "dragmode",
                val: "zoom",
                icon: o.zoombox,
                click: f
            },
            u.pan2d = {
                name: "pan2d",
                _cat: "pan",
                title: function(e) {
                    return c(e, "Pan")
                },
                attr: "dragmode",
                val: "pan",
                icon: o.pan,
                click: f
            },
            u.select2d = {
                name: "select2d",
                _cat: "select",
                title: function(e) {
                    return c(e, "Box Select")
                },
                attr: "dragmode",
                val: "select",
                icon: o.selectbox,
                click: f
            },
            u.lasso2d = {
                name: "lasso2d",
                _cat: "lasso",
                title: function(e) {
                    return c(e, "Lasso Select")
                },
                attr: "dragmode",
                val: "lasso",
                icon: o.lasso,
                click: f
            },
            u.drawclosedpath = {
                name: "drawclosedpath",
                title: function(e) {
                    return c(e, "Draw closed freeform")
                },
                attr: "dragmode",
                val: "drawclosedpath",
                icon: o.drawclosedpath,
                click: f
            },
            u.drawopenpath = {
                name: "drawopenpath",
                title: function(e) {
                    return c(e, "Draw open freeform")
                },
                attr: "dragmode",
                val: "drawopenpath",
                icon: o.drawopenpath,
                click: f
            },
            u.drawline = {
                name: "drawline",
                title: function(e) {
                    return c(e, "Draw line")
                },
                attr: "dragmode",
                val: "drawline",
                icon: o.drawline,
                click: f
            },
            u.drawrect = {
                name: "drawrect",
                title: function(e) {
                    return c(e, "Draw rectangle")
                },
                attr: "dragmode",
                val: "drawrect",
                icon: o.drawrect,
                click: f
            },
            u.drawcircle = {
                name: "drawcircle",
                title: function(e) {
                    return c(e, "Draw circle")
                },
                attr: "dragmode",
                val: "drawcircle",
                icon: o.drawcircle,
                click: f
            },
            u.eraseshape = {
                name: "eraseshape",
                title: function(e) {
                    return c(e, "Erase active shape")
                },
                icon: o.eraseshape,
                click: s
            },
            u.zoomIn2d = {
                name: "zoomIn2d",
                _cat: "zoomin",
                title: function(e) {
                    return c(e, "Zoom in")
                },
                attr: "zoom",
                val: "in",
                icon: o.zoom_plus,
                click: f
            },
            u.zoomOut2d = {
                name: "zoomOut2d",
                _cat: "zoomout",
                title: function(e) {
                    return c(e, "Zoom out")
                },
                attr: "zoom",
                val: "out",
                icon: o.zoom_minus,
                click: f
            },
            u.autoScale2d = {
                name: "autoScale2d",
                _cat: "autoscale",
                title: function(e) {
                    return c(e, "Autoscale")
                },
                attr: "zoom",
                val: "auto",
                icon: o.autoscale,
                click: f
            },
            u.resetScale2d = {
                name: "resetScale2d",
                _cat: "resetscale",
                title: function(e) {
                    return c(e, "Reset axes")
                },
                attr: "zoom",
                val: "reset",
                icon: o.home,
                click: f
            },
            u.hoverClosestCartesian = {
                name: "hoverClosestCartesian",
                _cat: "hoverclosest",
                title: function(e) {
                    return c(e, "Show closest data on hover")
                },
                attr: "hovermode",
                val: "closest",
                icon: o.tooltip_basic,
                gravity: "ne",
                click: f
            },
            u.hoverCompareCartesian = {
                name: "hoverCompareCartesian",
                _cat: "hoverCompare",
                title: function(e) {
                    return c(e, "Compare data on hover")
                },
                attr: "hovermode",
                val: function(e) {
                    return e._fullLayout._isHoriz ? "y" : "x"
                },
                icon: o.tooltip_compare,
                gravity: "ne",
                click: f
            },
            u.zoom3d = {
                name: "zoom3d",
                _cat: "zoom",
                title: function(e) {
                    return c(e, "Zoom")
                },
                attr: "scene.dragmode",
                val: "zoom",
                icon: o.zoombox,
                click: d
            },
            u.pan3d = {
                name: "pan3d",
                _cat: "pan",
                title: function(e) {
                    return c(e, "Pan")
                },
                attr: "scene.dragmode",
                val: "pan",
                icon: o.pan,
                click: d
            },
            u.orbitRotation = {
                name: "orbitRotation",
                title: function(e) {
                    return c(e, "Orbital rotation")
                },
                attr: "scene.dragmode",
                val: "orbit",
                icon: o["3d_rotate"],
                click: d
            },
            u.tableRotation = {
                name: "tableRotation",
                title: function(e) {
                    return c(e, "Turntable rotation")
                },
                attr: "scene.dragmode",
                val: "turntable",
                icon: o["z-axis"],
                click: d
            },
            u.resetCameraDefault3d = {
                name: "resetCameraDefault3d",
                _cat: "resetCameraDefault",
                title: function(e) {
                    return c(e, "Reset camera to default")
                },
                attr: "resetDefault",
                icon: o.home,
                click: h
            },
            u.resetCameraLastSave3d = {
                name: "resetCameraLastSave3d",
                _cat: "resetCameraLastSave",
                title: function(e) {
                    return c(e, "Reset camera to last save")
                },
                attr: "resetLastSave",
                icon: o.movie,
                click: h
            },
            u.hoverClosest3d = {
                name: "hoverClosest3d",
                _cat: "hoverclosest",
                title: function(e) {
                    return c(e, "Toggle show closest data on hover")
                },
                attr: "hovermode",
                val: null,
                toggle: !0,
                icon: o.tooltip_basic,
                gravity: "ne",
                click: function(e, t) {
                    var r = p(e, t);
                    n.call("_guiRelayout", e, r)
                }
            },
            u.zoomInGeo = {
                name: "zoomInGeo",
                _cat: "zoomin",
                title: function(e) {
                    return c(e, "Zoom in")
                },
                attr: "zoom",
                val: "in",
                icon: o.zoom_plus,
                click: g
            },
            u.zoomOutGeo = {
                name: "zoomOutGeo",
                _cat: "zoomout",
                title: function(e) {
                    return c(e, "Zoom out")
                },
                attr: "zoom",
                val: "out",
                icon: o.zoom_minus,
                click: g
            },
            u.resetGeo = {
                name: "resetGeo",
                _cat: "reset",
                title: function(e) {
                    return c(e, "Reset")
                },
                attr: "reset",
                val: null,
                icon: o.autoscale,
                click: g
            },
            u.hoverClosestGeo = {
                name: "hoverClosestGeo",
                _cat: "hoverclosest",
                title: function(e) {
                    return c(e, "Toggle show closest data on hover")
                },
                attr: "hovermode",
                val: null,
                toggle: !0,
                icon: o.tooltip_basic,
                gravity: "ne",
                click: v
            },
            u.hoverClosestGl2d = {
                name: "hoverClosestGl2d",
                _cat: "hoverclosest",
                title: function(e) {
                    return c(e, "Toggle show closest data on hover")
                },
                attr: "hovermode",
                val: null,
                toggle: !0,
                icon: o.tooltip_basic,
                gravity: "ne",
                click: v
            },
            u.hoverClosestPie = {
                name: "hoverClosestPie",
                _cat: "hoverclosest",
                title: function(e) {
                    return c(e, "Toggle show closest data on hover")
                },
                attr: "hovermode",
                val: "closest",
                icon: o.tooltip_basic,
                gravity: "ne",
                click: v
            },
            u.resetViewSankey = {
                name: "resetSankeyGroup",
                title: function(e) {
                    return c(e, "Reset view")
                },
                icon: o.home,
                click: function(e) {
                    for (var t = {
                        "node.groups": [],
                        "node.x": [],
                        "node.y": []
                    }, r = 0; r < e._fullData.length; r++) {
                        var a = e._fullData[r]._viewInitial;
                        t["node.groups"].push(a.node.groups.slice()),
                        t["node.x"].push(a.node.x.slice()),
                        t["node.y"].push(a.node.y.slice())
                    }
                    n.call("restyle", e, t)
                }
            },
            u.toggleHover = {
                name: "toggleHover",
                title: function(e) {
                    return c(e, "Toggle show closest data on hover")
                },
                attr: "hovermode",
                val: null,
                toggle: !0,
                icon: o.tooltip_basic,
                gravity: "ne",
                click: function(e, t) {
                    var r = p(e, t);
                    r.hovermode = y(e),
                    n.call("_guiRelayout", e, r)
                }
            },
            u.resetViews = {
                name: "resetViews",
                title: function(e) {
                    return c(e, "Reset views")
                },
                icon: o.home,
                click: function(e, t) {
                    var r = t.currentTarget;
                    r.setAttribute("data-attr", "zoom"),
                    r.setAttribute("data-val", "reset"),
                    f(e, t),
                    r.setAttribute("data-attr", "resetLastSave"),
                    h(e, t),
                    b(e, "geo"),
                    b(e, "mapbox")
                }
            },
            u.toggleSpikelines = {
                name: "toggleSpikelines",
                title: function(e) {
                    return c(e, "Toggle Spike Lines")
                },
                icon: o.spikeline,
                attr: "_cartesianSpikesEnabled",
                val: "on",
                click: function(e) {
                    var t = e._fullLayout
                      , r = t._cartesianSpikesEnabled;
                    t._cartesianSpikesEnabled = "on" === r ? "off" : "on",
                    n.call("_guiRelayout", e, function(e) {
                        for (var t = "on" === e._fullLayout._cartesianSpikesEnabled, r = i.list(e, null, !0), n = {}, a = 0; a < r.length; a++) {
                            var o = r[a];
                            n[o._name + ".showspikes"] = !!t || o._showSpikeInitial
                        }
                        return n
                    }(e))
                }
            },
            u.resetViewMapbox = {
                name: "resetViewMapbox",
                _cat: "resetView",
                title: function(e) {
                    return c(e, "Reset view")
                },
                attr: "reset",
                icon: o.home,
                click: function(e) {
                    b(e, "mapbox")
                }
            },
            u.zoomInMapbox = {
                name: "zoomInMapbox",
                _cat: "zoomin",
                title: function(e) {
                    return c(e, "Zoom in")
                },
                attr: "zoom",
                val: "in",
                icon: o.zoom_plus,
                click: m
            },
            u.zoomOutMapbox = {
                name: "zoomOutMapbox",
                _cat: "zoomout",
                title: function(e) {
                    return c(e, "Zoom out")
                },
                attr: "zoom",
                val: "out",
                icon: o.zoom_minus,
                click: m
            }
        }
        , {
            "../../fonts/ploticon": 347,
            "../../lib": 365,
            "../../plots/cartesian/axis_ids": 418,
            "../../plots/plots": 449,
            "../../registry": 451,
            "../shapes/draw": 319
        }],
        296: [function(e, t, r) {
            "use strict";
            var n = e("./buttons")
              , a = Object.keys(n)
              , i = ["drawline", "drawopenpath", "drawclosedpath", "drawcircle", "drawrect", "eraseshape"]
              , o = ["v1hovermode", "hoverclosest", "hovercompare", "togglehover", "togglespikelines"].concat(i)
              , s = [];
            a.forEach((function(e) {
                !function(e) {
                    if (-1 === o.indexOf(e._cat || e.name)) {
                        var t = e.name
                          , r = (e._cat || e.name).toLowerCase();
                        -1 === s.indexOf(t) && s.push(t),
                        -1 === s.indexOf(r) && s.push(r)
                    }
                }(n[e])
            }
            )),
            s.sort(),
            t.exports = {
                DRAW_MODES: i,
                backButtons: o,
                foreButtons: s
            }
        }
        , {
            "./buttons": 295
        }],
        297: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../color")
              , i = e("../../plot_api/plot_template")
              , o = e("./attributes");
            t.exports = function(e, t) {
                var r = e.modebar || {}
                  , s = i.newContainer(t, "modebar");
                function l(e, t) {
                    return n.coerce(r, s, o, e, t)
                }
                l("orientation"),
                l("bgcolor", a.addOpacity(t.paper_bgcolor, .5));
                var c = a.contrast(a.rgb(t.modebar.bgcolor));
                l("color", a.addOpacity(c, .3)),
                l("activecolor", a.addOpacity(c, .7)),
                l("uirevision", t.uirevision),
                l("add"),
                l("remove")
            }
        }
        , {
            "../../lib": 365,
            "../../plot_api/plot_template": 403,
            "../color": 235,
            "./attributes": 294
        }],
        298: [function(e, t, r) {
            "use strict";
            t.exports = {
                moduleType: "component",
                name: "modebar",
                layoutAttributes: e("./attributes"),
                supplyLayoutDefaults: e("./defaults"),
                manage: e("./manage")
            }
        }
        , {
            "./attributes": 294,
            "./defaults": 297,
            "./manage": 299
        }],
        299: [function(e, t, r) {
            "use strict";
            var n = e("../../plots/cartesian/axis_ids")
              , a = e("../../traces/scatter/subtypes")
              , i = e("../../registry")
              , o = e("../fx/helpers").isUnifiedHover
              , s = e("./modebar")
              , l = e("./buttons")
              , c = e("./constants").DRAW_MODES;
            t.exports = function(e) {
                var t = e._fullLayout
                  , r = e._context
                  , u = t._modeBar;
                if (r.displayModeBar || r.watermark) {
                    if (!Array.isArray(r.modeBarButtonsToRemove))
                        throw new Error(["*modeBarButtonsToRemove* configuration options", "must be an array."].join(" "));
                    if (!Array.isArray(r.modeBarButtonsToAdd))
                        throw new Error(["*modeBarButtonsToAdd* configuration options", "must be an array."].join(" "));
                    var f, d = r.modeBarButtons;
                    f = Array.isArray(d) && d.length ? function(e) {
                        for (var t = 0; t < e.length; t++)
                            for (var r = e[t], n = 0; n < r.length; n++) {
                                var a = r[n];
                                if ("string" == typeof a) {
                                    if (void 0 === l[a])
                                        throw new Error(["*modeBarButtons* configuration options", "invalid button name"].join(" "));
                                    e[t][n] = l[a]
                                }
                            }
                        return e
                    }(d) : !r.displayModeBar && r.watermark ? [] : function(e) {
                        var t = e._fullLayout
                          , r = e._fullData
                          , s = e._context;
                        function u(e, t) {
                            if ("string" == typeof t) {
                                if (t.toLowerCase() === e.toLowerCase())
                                    return !0
                            } else {
                                var r = t.name
                                  , n = t._cat || t.name;
                                if (r === e || n === e.toLowerCase())
                                    return !0
                            }
                            return !1
                        }
                        var f = t.modebar.add;
                        "string" == typeof f && (f = [f]);
                        var d = t.modebar.remove;
                        "string" == typeof d && (d = [d]);
                        var h = s.modeBarButtonsToAdd.concat(f.filter((function(e) {
                            for (var t = 0; t < s.modeBarButtonsToRemove.length; t++)
                                if (u(e, s.modeBarButtonsToRemove[t]))
                                    return !1;
                            return !0
                        }
                        )))
                          , p = s.modeBarButtonsToRemove.concat(d.filter((function(e) {
                            for (var t = 0; t < s.modeBarButtonsToAdd.length; t++)
                                if (u(e, s.modeBarButtonsToAdd[t]))
                                    return !1;
                            return !0
                        }
                        )))
                          , g = t._has("cartesian")
                          , y = t._has("gl3d")
                          , v = t._has("geo")
                          , m = t._has("pie")
                          , b = t._has("funnelarea")
                          , x = t._has("gl2d")
                          , _ = t._has("ternary")
                          , w = t._has("mapbox")
                          , A = t._has("polar")
                          , k = t._has("sankey")
                          , T = function(e) {
                            for (var t = n.list({
                                _fullLayout: e
                            }, null, !0), r = 0; r < t.length; r++)
                                if (!t[r].fixedrange)
                                    return !1;
                            return !0
                        }(t)
                          , M = o(t.hovermode)
                          , S = [];
                        function C(e) {
                            if (e.length) {
                                for (var t = [], r = 0; r < e.length; r++) {
                                    for (var n = e[r], a = l[n], i = a.name.toLowerCase(), o = (a._cat || a.name).toLowerCase(), s = !1, c = 0; c < p.length; c++) {
                                        var u = p[c].toLowerCase();
                                        if (u === i || u === o) {
                                            s = !0;
                                            break
                                        }
                                    }
                                    s || t.push(l[n])
                                }
                                S.push(t)
                            }
                        }
                        var O = ["toImage"];
                        s.showEditInChartStudio ? O.push("editInChartStudio") : s.showSendToCloud && O.push("sendDataToCloud");
                        C(O);
                        var D = []
                          , L = []
                          , E = []
                          , z = [];
                        (g || x || m || b || _) + v + y + w + A > 1 ? (L = ["toggleHover"],
                        E = ["resetViews"]) : v ? (D = ["zoomInGeo", "zoomOutGeo"],
                        L = ["hoverClosestGeo"],
                        E = ["resetGeo"]) : y ? (L = ["hoverClosest3d"],
                        E = ["resetCameraDefault3d", "resetCameraLastSave3d"]) : w ? (D = ["zoomInMapbox", "zoomOutMapbox"],
                        L = ["toggleHover"],
                        E = ["resetViewMapbox"]) : x ? L = ["hoverClosestGl2d"] : m ? L = ["hoverClosestPie"] : k ? (L = ["hoverClosestCartesian", "hoverCompareCartesian"],
                        E = ["resetViewSankey"]) : L = ["toggleHover"];
                        g && (L = ["toggleSpikelines", "hoverClosestCartesian", "hoverCompareCartesian"]);
                        (function(e) {
                            for (var t = 0; t < e.length; t++)
                                if (!i.traceIs(e[t], "noHover"))
                                    return !1;
                            return !0
                        }(r) || M) && (L = []);
                        !g && !x || T || (D = ["zoomIn2d", "zoomOut2d", "autoScale2d"],
                        "resetViews" !== E[0] && (E = ["resetScale2d"]));
                        y ? z = ["zoom3d", "pan3d", "orbitRotation", "tableRotation"] : (g || x) && !T || _ ? z = ["zoom2d", "pan2d"] : w || v ? z = ["pan2d"] : A && (z = ["zoom2d"]);
                        (function(e) {
                            for (var t = !1, r = 0; r < e.length && !t; r++) {
                                var n = e[r];
                                n._module && n._module.selectPoints && (i.traceIs(n, "scatter-like") ? (a.hasMarkers(n) || a.hasText(n)) && (t = !0) : i.traceIs(n, "box-violin") && "all" !== n.boxpoints && "all" !== n.points || (t = !0))
                            }
                            return t
                        }
                        )(r) && z.push("select2d", "lasso2d");
                        var F = []
                          , P = function(e) {
                            -1 === F.indexOf(e) && -1 !== L.indexOf(e) && F.push(e)
                        };
                        if (Array.isArray(h)) {
                            for (var I = [], N = 0; N < h.length; N++) {
                                var R = h[N];
                                "string" == typeof R ? (R = R.toLowerCase(),
                                -1 !== c.indexOf(R) ? (t._has("mapbox") || t._has("cartesian")) && z.push(R) : "togglespikelines" === R ? P("toggleSpikelines") : "togglehover" === R ? P("toggleHover") : "hovercompare" === R ? P("hoverCompareCartesian") : "hoverclosest" === R ? (P("hoverClosestCartesian"),
                                P("hoverClosestGeo"),
                                P("hoverClosest3d"),
                                P("hoverClosestGl2d"),
                                P("hoverClosestPie")) : "v1hovermode" === R && (P("toggleHover"),
                                P("hoverClosestCartesian"),
                                P("hoverCompareCartesian"),
                                P("hoverClosestGeo"),
                                P("hoverClosest3d"),
                                P("hoverClosestGl2d"),
                                P("hoverClosestPie"))) : I.push(R)
                            }
                            h = I
                        }
                        return C(z),
                        C(D.concat(E)),
                        C(F),
                        function(e, t) {
                            if (t.length)
                                if (Array.isArray(t[0]))
                                    for (var r = 0; r < t.length; r++)
                                        e.push(t[r]);
                                else
                                    e.push(t);
                            return e
                        }(S, h)
                    }(e),
                    u ? u.update(e, f) : t._modeBar = s(e, f)
                } else
                    u && (u.destroy(),
                    delete t._modeBar)
            }
        }
        , {
            "../../plots/cartesian/axis_ids": 418,
            "../../registry": 451,
            "../../traces/scatter/subtypes": 488,
            "../fx/helpers": 271,
            "./buttons": 295,
            "./constants": 296,
            "./modebar": 300
        }],
        300: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("fast-isnumeric")
              , i = e("../../lib")
              , o = e("../../fonts/ploticon")
              , s = new DOMParser;
            function l(e) {
                this.container = e.container,
                this.element = document.createElement("div"),
                this.update(e.graphInfo, e.buttons),
                this.container.appendChild(this.element)
            }
            var c = l.prototype;
            c.update = function(e, t) {
                this.graphInfo = e;
                var r = this.graphInfo._context
                  , n = this.graphInfo._fullLayout
                  , a = "modebar-" + n._uid;
                this.element.setAttribute("id", a),
                this._uid = a,
                this.element.className = "modebar",
                "hover" === r.displayModeBar && (this.element.className += " modebar--hover ease-bg"),
                "v" === n.modebar.orientation && (this.element.className += " vertical",
                t = t.reverse());
                var o = n.modebar
                  , s = "hover" === r.displayModeBar ? ".js-plotly-plot .plotly:hover " : "";
                i.deleteRelatedStyleRule(a),
                i.addRelatedStyleRule(a, s + "#" + a + " .modebar-group", "background-color: " + o.bgcolor),
                i.addRelatedStyleRule(a, "#" + a + " .modebar-btn .icon path", "fill: " + o.color),
                i.addRelatedStyleRule(a, "#" + a + " .modebar-btn:hover .icon path", "fill: " + o.activecolor),
                i.addRelatedStyleRule(a, "#" + a + " .modebar-btn.active .icon path", "fill: " + o.activecolor);
                var l = !this.hasButtons(t)
                  , c = this.hasLogo !== r.displaylogo
                  , u = this.locale !== r.locale;
                if (this.locale = r.locale,
                (l || c || u) && (this.removeAllButtons(),
                this.updateButtons(t),
                r.watermark || r.displaylogo)) {
                    var f = this.getLogo();
                    r.watermark && (f.className = f.className + " watermark"),
                    "v" === n.modebar.orientation ? this.element.insertBefore(f, this.element.childNodes[0]) : this.element.appendChild(f),
                    this.hasLogo = !0
                }
                this.updateActiveButton()
            }
            ,
            c.updateButtons = function(e) {
                var t = this;
                this.buttons = e,
                this.buttonElements = [],
                this.buttonsNames = [],
                this.buttons.forEach((function(e) {
                    var r = t.createGroup();
                    e.forEach((function(e) {
                        var n = e.name;
                        if (!n)
                            throw new Error("must provide button 'name' in button config");
                        if (-1 !== t.buttonsNames.indexOf(n))
                            throw new Error("button name '" + n + "' is taken");
                        t.buttonsNames.push(n);
                        var a = t.createButton(e);
                        t.buttonElements.push(a),
                        r.appendChild(a)
                    }
                    )),
                    t.element.appendChild(r)
                }
                ))
            }
            ,
            c.createGroup = function() {
                var e = document.createElement("div");
                return e.className = "modebar-group",
                e
            }
            ,
            c.createButton = function(e) {
                var t = this
                  , r = document.createElement("a");
                r.setAttribute("rel", "tooltip"),
                r.className = "modebar-btn";
                var a = e.title;
                void 0 === a ? a = e.name : "function" == typeof a && (a = a(this.graphInfo)),
                (a || 0 === a) && r.setAttribute("data-title", a),
                void 0 !== e.attr && r.setAttribute("data-attr", e.attr);
                var i = e.val;
                if (void 0 !== i && ("function" == typeof i && (i = i(this.graphInfo)),
                r.setAttribute("data-val", i)),
                "function" != typeof e.click)
                    throw new Error("must provide button 'click' function in button config");
                r.addEventListener("click", (function(r) {
                    e.click(t.graphInfo, r),
                    t.updateActiveButton(r.currentTarget)
                }
                )),
                r.setAttribute("data-toggle", e.toggle || !1),
                e.toggle && n.select(r).classed("active", !0);
                var s = e.icon;
                return "function" == typeof s ? r.appendChild(s()) : r.appendChild(this.createIcon(s || o.question)),
                r.setAttribute("data-gravity", e.gravity || "n"),
                r
            }
            ,
            c.createIcon = function(e) {
                var t, r = a(e.height) ? Number(e.height) : e.ascent - e.descent, n = "http://www.w3.org/2000/svg";
                if (e.path) {
                    (t = document.createElementNS(n, "svg")).setAttribute("viewBox", [0, 0, e.width, r].join(" ")),
                    t.setAttribute("class", "icon");
                    var i = document.createElementNS(n, "path");
                    i.setAttribute("d", e.path),
                    e.transform ? i.setAttribute("transform", e.transform) : void 0 !== e.ascent && i.setAttribute("transform", "matrix(1 0 0 -1 0 " + e.ascent + ")"),
                    t.appendChild(i)
                }
                e.svg && (t = s.parseFromString(e.svg, "application/xml").childNodes[0]);
                return t.setAttribute("height", "1em"),
                t.setAttribute("width", "1em"),
                t
            }
            ,
            c.updateActiveButton = function(e) {
                var t = this.graphInfo._fullLayout
                  , r = void 0 !== e ? e.getAttribute("data-attr") : null;
                this.buttonElements.forEach((function(e) {
                    var a = e.getAttribute("data-val") || !0
                      , o = e.getAttribute("data-attr")
                      , s = "true" === e.getAttribute("data-toggle")
                      , l = n.select(e);
                    if (s)
                        o === r && l.classed("active", !l.classed("active"));
                    else {
                        var c = null === o ? o : i.nestedProperty(t, o).get();
                        l.classed("active", c === a)
                    }
                }
                ))
            }
            ,
            c.hasButtons = function(e) {
                var t = this.buttons;
                if (!t)
                    return !1;
                if (e.length !== t.length)
                    return !1;
                for (var r = 0; r < e.length; ++r) {
                    if (e[r].length !== t[r].length)
                        return !1;
                    for (var n = 0; n < e[r].length; n++)
                        if (e[r][n].name !== t[r][n].name)
                            return !1
                }
                return !0
            }
            ,
            c.getLogo = function() {
                var e = this.createGroup()
                  , t = document.createElement("a");
                return t.href = "https://plotly.com/",
                t.target = "_blank",
                t.setAttribute("data-title", i._(this.graphInfo, "Produced with Plotly")),
                t.className = "modebar-btn plotlyjsicon modebar-btn--logo",
                t.appendChild(this.createIcon(o.newplotlylogo)),
                e.appendChild(t),
                e
            }
            ,
            c.removeAllButtons = function() {
                for (; this.element.firstChild; )
                    this.element.removeChild(this.element.firstChild);
                this.hasLogo = !1
            }
            ,
            c.destroy = function() {
                i.removeElement(this.container.querySelector(".modebar")),
                i.deleteRelatedStyleRule(this._uid)
            }
            ,
            t.exports = function(e, t) {
                var r = e._fullLayout
                  , a = new l({
                    graphInfo: e,
                    container: r._modebardiv.node(),
                    buttons: t
                });
                return r._privateplot && n.select(a.element).append("span").classed("badge-private float--left", !0).text("PRIVATE"),
                a
            }
        }
        , {
            "../../fonts/ploticon": 347,
            "../../lib": 365,
            "@plotly/d3": 6,
            "fast-isnumeric": 107
        }],
        301: [function(e, t, r) {
            "use strict";
            var n = e("../../plots/font_attributes")
              , a = e("../color/attributes")
              , i = (0,
            e("../../plot_api/plot_template").templatedArray)("button", {
                visible: {
                    valType: "boolean",
                    dflt: !0,
                    editType: "plot"
                },
                step: {
                    valType: "enumerated",
                    values: ["month", "year", "day", "hour", "minute", "second", "all"],
                    dflt: "month",
                    editType: "plot"
                },
                stepmode: {
                    valType: "enumerated",
                    values: ["backward", "todate"],
                    dflt: "backward",
                    editType: "plot"
                },
                count: {
                    valType: "number",
                    min: 0,
                    dflt: 1,
                    editType: "plot"
                },
                label: {
                    valType: "string",
                    editType: "plot"
                },
                editType: "plot"
            });
            t.exports = {
                visible: {
                    valType: "boolean",
                    editType: "plot"
                },
                buttons: i,
                x: {
                    valType: "number",
                    min: -2,
                    max: 3,
                    editType: "plot"
                },
                xanchor: {
                    valType: "enumerated",
                    values: ["auto", "left", "center", "right"],
                    dflt: "left",
                    editType: "plot"
                },
                y: {
                    valType: "number",
                    min: -2,
                    max: 3,
                    editType: "plot"
                },
                yanchor: {
                    valType: "enumerated",
                    values: ["auto", "top", "middle", "bottom"],
                    dflt: "bottom",
                    editType: "plot"
                },
                font: n({
                    editType: "plot"
                }),
                bgcolor: {
                    valType: "color",
                    dflt: a.lightLine,
                    editType: "plot"
                },
                activecolor: {
                    valType: "color",
                    editType: "plot"
                },
                bordercolor: {
                    valType: "color",
                    dflt: a.defaultLine,
                    editType: "plot"
                },
                borderwidth: {
                    valType: "number",
                    min: 0,
                    dflt: 0,
                    editType: "plot"
                },
                editType: "plot"
            }
        }
        , {
            "../../plot_api/plot_template": 403,
            "../../plots/font_attributes": 443,
            "../color/attributes": 234
        }],
        302: [function(e, t, r) {
            "use strict";
            t.exports = {
                yPad: .02,
                minButtonWidth: 30,
                rx: 3,
                ry: 3,
                lightAmount: 25,
                darkAmount: 10
            }
        }
        , {}],
        303: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../color")
              , i = e("../../plot_api/plot_template")
              , o = e("../../plots/array_container_defaults")
              , s = e("./attributes")
              , l = e("./constants");
            function c(e, t, r, a) {
                var i = a.calendar;
                function o(r, a) {
                    return n.coerce(e, t, s.buttons, r, a)
                }
                if (o("visible")) {
                    var l = o("step");
                    "all" !== l && (!i || "gregorian" === i || "month" !== l && "year" !== l ? o("stepmode") : t.stepmode = "backward",
                    o("count")),
                    o("label")
                }
            }
            t.exports = function(e, t, r, u, f) {
                var d = e.rangeselector || {}
                  , h = i.newContainer(t, "rangeselector");
                function p(e, t) {
                    return n.coerce(d, h, s, e, t)
                }
                if (p("visible", o(d, h, {
                    name: "buttons",
                    handleItemDefaults: c,
                    calendar: f
                }).length > 0)) {
                    var g = function(e, t, r) {
                        for (var n = r.filter((function(r) {
                            return t[r].anchor === e._id
                        }
                        )), a = 0, i = 0; i < n.length; i++) {
                            var o = t[n[i]].domain;
                            o && (a = Math.max(o[1], a))
                        }
                        return [e.domain[0], a + l.yPad]
                    }(t, r, u);
                    p("x", g[0]),
                    p("y", g[1]),
                    n.noneOrAll(e, t, ["x", "y"]),
                    p("xanchor"),
                    p("yanchor"),
                    n.coerceFont(p, "font", r.font);
                    var y = p("bgcolor");
                    p("activecolor", a.contrast(y, l.lightAmount, l.darkAmount)),
                    p("bordercolor"),
                    p("borderwidth")
                }
            }
        }
        , {
            "../../lib": 365,
            "../../plot_api/plot_template": 403,
            "../../plots/array_container_defaults": 409,
            "../color": 235,
            "./attributes": 301,
            "./constants": 302
        }],
        304: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../../registry")
              , i = e("../../plots/plots")
              , o = e("../color")
              , s = e("../drawing")
              , l = e("../../lib")
              , c = l.strTranslate
              , u = e("../../lib/svg_text_utils")
              , f = e("../../plots/cartesian/axis_ids")
              , d = e("../../constants/alignment")
              , h = d.LINE_SPACING
              , p = d.FROM_TL
              , g = d.FROM_BR
              , y = e("./constants")
              , v = e("./get_update_object");
            function m(e) {
                return e._id
            }
            function b(e, t, r) {
                var n = l.ensureSingle(e, "rect", "selector-rect", (function(e) {
                    e.attr("shape-rendering", "crispEdges")
                }
                ));
                n.attr({
                    rx: y.rx,
                    ry: y.ry
                }),
                n.call(o.stroke, t.bordercolor).call(o.fill, function(e, t) {
                    return t._isActive || t._isHovered ? e.activecolor : e.bgcolor
                }(t, r)).style("stroke-width", t.borderwidth + "px")
            }
            function x(e, t, r, n) {
                l.ensureSingle(e, "text", "selector-text", (function(e) {
                    e.attr("text-anchor", "middle")
                }
                )).call(s.font, t.font).text(function(e, t) {
                    if (e.label)
                        return t ? l.templateString(e.label, t) : e.label;
                    return "all" === e.step ? "all" : e.count + e.step.charAt(0)
                }(r, n._fullLayout._meta)).call((function(e) {
                    u.convertToTspans(e, n)
                }
                ))
            }
            t.exports = function(e) {
                var t = e._fullLayout._infolayer.selectAll(".rangeselector").data(function(e) {
                    for (var t = f.list(e, "x", !0), r = [], n = 0; n < t.length; n++) {
                        var a = t[n];
                        a.rangeselector && a.rangeselector.visible && r.push(a)
                    }
                    return r
                }(e), m);
                t.enter().append("g").classed("rangeselector", !0),
                t.exit().remove(),
                t.style({
                    cursor: "pointer",
                    "pointer-events": "all"
                }),
                t.each((function(t) {
                    var r = n.select(this)
                      , o = t
                      , f = o.rangeselector
                      , d = r.selectAll("g.button").data(l.filterVisible(f.buttons));
                    d.enter().append("g").classed("button", !0),
                    d.exit().remove(),
                    d.each((function(t) {
                        var r = n.select(this)
                          , i = v(o, t);
                        t._isActive = function(e, t, r) {
                            if ("all" === t.step)
                                return !0 === e.autorange;
                            var n = Object.keys(r);
                            return e.range[0] === r[n[0]] && e.range[1] === r[n[1]]
                        }(o, t, i),
                        r.call(b, f, t),
                        r.call(x, f, t, e),
                        r.on("click", (function() {
                            e._dragged || a.call("_guiRelayout", e, i)
                        }
                        )),
                        r.on("mouseover", (function() {
                            t._isHovered = !0,
                            r.call(b, f, t)
                        }
                        )),
                        r.on("mouseout", (function() {
                            t._isHovered = !1,
                            r.call(b, f, t)
                        }
                        ))
                    }
                    )),
                    function(e, t, r, a, o) {
                        var f = 0
                          , d = 0
                          , v = r.borderwidth;
                        t.each((function() {
                            var e = n.select(this).select(".selector-text")
                              , t = r.font.size * h
                              , a = Math.max(t * u.lineCount(e), 16) + 3;
                            d = Math.max(d, a)
                        }
                        )),
                        t.each((function() {
                            var e = n.select(this)
                              , t = e.select(".selector-rect")
                              , a = e.select(".selector-text")
                              , i = a.node() && s.bBox(a.node()).width
                              , o = r.font.size * h
                              , l = u.lineCount(a)
                              , p = Math.max(i + 10, y.minButtonWidth);
                            e.attr("transform", c(v + f, v)),
                            t.attr({
                                x: 0,
                                y: 0,
                                width: p,
                                height: d
                            }),
                            u.positionText(a, p / 2, d / 2 - (l - 1) * o / 2 + 3),
                            f += p + 5
                        }
                        ));
                        var m = e._fullLayout._size
                          , b = m.l + m.w * r.x
                          , x = m.t + m.h * (1 - r.y)
                          , _ = "left";
                        l.isRightAnchor(r) && (b -= f,
                        _ = "right");
                        l.isCenterAnchor(r) && (b -= f / 2,
                        _ = "center");
                        var w = "top";
                        l.isBottomAnchor(r) && (x -= d,
                        w = "bottom");
                        l.isMiddleAnchor(r) && (x -= d / 2,
                        w = "middle");
                        f = Math.ceil(f),
                        d = Math.ceil(d),
                        b = Math.round(b),
                        x = Math.round(x),
                        i.autoMargin(e, a + "-range-selector", {
                            x: r.x,
                            y: r.y,
                            l: f * p[_],
                            r: f * g[_],
                            b: d * g[w],
                            t: d * p[w]
                        }),
                        o.attr("transform", c(b, x))
                    }(e, d, f, o._name, r)
                }
                ))
            }
        }
        , {
            "../../constants/alignment": 340,
            "../../lib": 365,
            "../../lib/svg_text_utils": 390,
            "../../plots/cartesian/axis_ids": 418,
            "../../plots/plots": 449,
            "../../registry": 451,
            "../color": 235,
            "../drawing": 257,
            "./constants": 302,
            "./get_update_object": 305,
            "@plotly/d3": 6
        }],
        305: [function(e, t, r) {
            "use strict";
            var n = e("d3-time")
              , a = e("../../lib").titleCase;
            t.exports = function(e, t) {
                var r = e._name
                  , i = {};
                if ("all" === t.step)
                    i[r + ".autorange"] = !0;
                else {
                    var o = function(e, t) {
                        var r, i = e.range, o = new Date(e.r2l(i[1])), s = t.step, l = n["utc" + a(s)], c = t.count;
                        switch (t.stepmode) {
                        case "backward":
                            r = e.l2r(+l.offset(o, -c));
                            break;
                        case "todate":
                            var u = l.offset(o, -c);
                            r = e.l2r(+l.ceil(u))
                        }
                        var f = i[1];
                        return [r, f]
                    }(e, t);
                    i[r + ".range[0]"] = o[0],
                    i[r + ".range[1]"] = o[1]
                }
                return i
            }
        }
        , {
            "../../lib": 365,
            "d3-time": 40
        }],
        306: [function(e, t, r) {
            "use strict";
            t.exports = {
                moduleType: "component",
                name: "rangeselector",
                schema: {
                    subplots: {
                        xaxis: {
                            rangeselector: e("./attributes")
                        }
                    }
                },
                layoutAttributes: e("./attributes"),
                handleDefaults: e("./defaults"),
                draw: e("./draw")
            }
        }
        , {
            "./attributes": 301,
            "./defaults": 303,
            "./draw": 304
        }],
        307: [function(e, t, r) {
            "use strict";
            var n = e("../color/attributes");
            t.exports = {
                bgcolor: {
                    valType: "color",
                    dflt: n.background,
                    editType: "plot"
                },
                bordercolor: {
                    valType: "color",
                    dflt: n.defaultLine,
                    editType: "plot"
                },
                borderwidth: {
                    valType: "integer",
                    dflt: 0,
                    min: 0,
                    editType: "plot"
                },
                autorange: {
                    valType: "boolean",
                    dflt: !0,
                    editType: "calc",
                    impliedEdits: {
                        "range[0]": void 0,
                        "range[1]": void 0
                    }
                },
                range: {
                    valType: "info_array",
                    items: [{
                        valType: "any",
                        editType: "calc",
                        impliedEdits: {
                            "^autorange": !1
                        }
                    }, {
                        valType: "any",
                        editType: "calc",
                        impliedEdits: {
                            "^autorange": !1
                        }
                    }],
                    editType: "calc",
                    impliedEdits: {
                        autorange: !1
                    }
                },
                thickness: {
                    valType: "number",
                    dflt: .15,
                    min: 0,
                    max: 1,
                    editType: "plot"
                },
                visible: {
                    valType: "boolean",
                    dflt: !0,
                    editType: "calc"
                },
                editType: "calc"
            }
        }
        , {
            "../color/attributes": 234
        }],
        308: [function(e, t, r) {
            "use strict";
            var n = e("../../plots/cartesian/axis_ids").list
              , a = e("../../plots/cartesian/autorange").getAutoRange
              , i = e("./constants");
            t.exports = function(e) {
                for (var t = n(e, "x", !0), r = 0; r < t.length; r++) {
                    var o = t[r]
                      , s = o[i.name];
                    s && s.visible && s.autorange && (s._input.autorange = !0,
                    s._input.range = s.range = a(e, o))
                }
            }
        }
        , {
            "../../plots/cartesian/autorange": 413,
            "../../plots/cartesian/axis_ids": 418,
            "./constants": 309
        }],
        309: [function(e, t, r) {
            "use strict";
            t.exports = {
                name: "rangeslider",
                containerClassName: "rangeslider-container",
                bgClassName: "rangeslider-bg",
                rangePlotClassName: "rangeslider-rangeplot",
                maskMinClassName: "rangeslider-mask-min",
                maskMaxClassName: "rangeslider-mask-max",
                slideBoxClassName: "rangeslider-slidebox",
                grabberMinClassName: "rangeslider-grabber-min",
                grabAreaMinClassName: "rangeslider-grabarea-min",
                handleMinClassName: "rangeslider-handle-min",
                grabberMaxClassName: "rangeslider-grabber-max",
                grabAreaMaxClassName: "rangeslider-grabarea-max",
                handleMaxClassName: "rangeslider-handle-max",
                maskMinOppAxisClassName: "rangeslider-mask-min-opp-axis",
                maskMaxOppAxisClassName: "rangeslider-mask-max-opp-axis",
                maskColor: "rgba(0,0,0,0.4)",
                maskOppAxisColor: "rgba(0,0,0,0.2)",
                slideBoxFill: "transparent",
                slideBoxCursor: "ew-resize",
                grabAreaFill: "transparent",
                grabAreaCursor: "col-resize",
                grabAreaWidth: 10,
                handleWidth: 4,
                handleRadius: 1,
                handleStrokeWidth: 1,
                extraPad: 15
            }
        }
        , {}],
        310: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../plot_api/plot_template")
              , i = e("../../plots/cartesian/axis_ids")
              , o = e("./attributes")
              , s = e("./oppaxis_attributes");
            t.exports = function(e, t, r) {
                var l = e[r]
                  , c = t[r];
                if (l.rangeslider || t._requestRangeslider[c._id]) {
                    n.isPlainObject(l.rangeslider) || (l.rangeslider = {});
                    var u, f, d = l.rangeslider, h = a.newContainer(c, "rangeslider");
                    if (_("visible")) {
                        _("bgcolor", t.plot_bgcolor),
                        _("bordercolor"),
                        _("borderwidth"),
                        _("thickness"),
                        _("autorange", !c.isValidRange(d.range)),
                        _("range");
                        var p = t._subplots;
                        if (p)
                            for (var g = p.cartesian.filter((function(e) {
                                return e.substr(0, e.indexOf("y")) === i.name2id(r)
                            }
                            )).map((function(e) {
                                return e.substr(e.indexOf("y"), e.length)
                            }
                            )), y = n.simpleMap(g, i.id2name), v = 0; v < y.length; v++) {
                                var m = y[v];
                                u = d[m] || {},
                                f = a.newContainer(h, m, "yaxis");
                                var b, x = t[m];
                                u.range && x.isValidRange(u.range) && (b = "fixed"),
                                "match" !== w("rangemode", b) && w("range", x.range.slice())
                            }
                        h._input = d
                    }
                }
                function _(e, t) {
                    return n.coerce(d, h, o, e, t)
                }
                function w(e, t) {
                    return n.coerce(u, f, s, e, t)
                }
            }
        }
        , {
            "../../lib": 365,
            "../../plot_api/plot_template": 403,
            "../../plots/cartesian/axis_ids": 418,
            "./attributes": 307,
            "./oppaxis_attributes": 314
        }],
        311: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../../registry")
              , i = e("../../plots/plots")
              , o = e("../../lib")
              , s = o.strTranslate
              , l = e("../drawing")
              , c = e("../color")
              , u = e("../titles")
              , f = e("../../plots/cartesian")
              , d = e("../../plots/cartesian/axis_ids")
              , h = e("../dragelement")
              , p = e("../../lib/setcursor")
              , g = e("./constants");
            function y(e, t, r, n) {
                var a = o.ensureSingle(e, "rect", g.bgClassName, (function(e) {
                    e.attr({
                        x: 0,
                        y: 0,
                        "shape-rendering": "crispEdges"
                    })
                }
                ))
                  , i = n.borderwidth % 2 == 0 ? n.borderwidth : n.borderwidth - 1
                  , c = -n._offsetShift
                  , u = l.crispRound(t, n.borderwidth);
                a.attr({
                    width: n._width + i,
                    height: n._height + i,
                    transform: s(c, c),
                    fill: n.bgcolor,
                    stroke: n.bordercolor,
                    "stroke-width": u
                })
            }
            function v(e, t, r, n) {
                var a = t._fullLayout;
                o.ensureSingleById(a._topdefs, "clipPath", n._clipId, (function(e) {
                    e.append("rect").attr({
                        x: 0,
                        y: 0
                    })
                }
                )).select("rect").attr({
                    width: n._width,
                    height: n._height
                })
            }
            function m(e, t, r, a) {
                var s, c = t.calcdata, u = e.selectAll("g." + g.rangePlotClassName).data(r._subplotsWith, o.identity);
                u.enter().append("g").attr("class", (function(e) {
                    return g.rangePlotClassName + " " + e
                }
                )).call(l.setClipUrl, a._clipId, t),
                u.order(),
                u.exit().remove(),
                u.each((function(e, o) {
                    var l = n.select(this)
                      , u = 0 === o
                      , h = d.getFromId(t, e, "y")
                      , p = h._name
                      , g = a[p]
                      , y = {
                        data: [],
                        layout: {
                            xaxis: {
                                type: r.type,
                                domain: [0, 1],
                                range: a.range.slice(),
                                calendar: r.calendar
                            },
                            width: a._width,
                            height: a._height,
                            margin: {
                                t: 0,
                                b: 0,
                                l: 0,
                                r: 0
                            }
                        },
                        _context: t._context
                    };
                    r.rangebreaks && (y.layout.xaxis.rangebreaks = r.rangebreaks),
                    y.layout[p] = {
                        type: h.type,
                        domain: [0, 1],
                        range: "match" !== g.rangemode ? g.range.slice() : h.range.slice(),
                        calendar: h.calendar
                    },
                    h.rangebreaks && (y.layout[p].rangebreaks = h.rangebreaks),
                    i.supplyDefaults(y);
                    var v = y._fullLayout.xaxis
                      , m = y._fullLayout[p];
                    v.clearCalc(),
                    v.setScale(),
                    m.clearCalc(),
                    m.setScale();
                    var b = {
                        id: e,
                        plotgroup: l,
                        xaxis: v,
                        yaxis: m,
                        isRangePlot: !0
                    };
                    u ? s = b : (b.mainplot = "xy",
                    b.mainplotinfo = s),
                    f.rangePlot(t, b, function(e, t) {
                        for (var r = [], n = 0; n < e.length; n++) {
                            var a = e[n]
                              , i = a[0].trace;
                            i.xaxis + i.yaxis === t && r.push(a)
                        }
                        return r
                    }(c, e))
                }
                ))
            }
            function b(e, t, r, n, a) {
                (o.ensureSingle(e, "rect", g.maskMinClassName, (function(e) {
                    e.attr({
                        x: 0,
                        y: 0,
                        "shape-rendering": "crispEdges"
                    })
                }
                )).attr("height", n._height).call(c.fill, g.maskColor),
                o.ensureSingle(e, "rect", g.maskMaxClassName, (function(e) {
                    e.attr({
                        y: 0,
                        "shape-rendering": "crispEdges"
                    })
                }
                )).attr("height", n._height).call(c.fill, g.maskColor),
                "match" !== a.rangemode) && (o.ensureSingle(e, "rect", g.maskMinOppAxisClassName, (function(e) {
                    e.attr({
                        y: 0,
                        "shape-rendering": "crispEdges"
                    })
                }
                )).attr("width", n._width).call(c.fill, g.maskOppAxisColor),
                o.ensureSingle(e, "rect", g.maskMaxOppAxisClassName, (function(e) {
                    e.attr({
                        y: 0,
                        "shape-rendering": "crispEdges"
                    })
                }
                )).attr("width", n._width).style("border-top", g.maskOppBorder).call(c.fill, g.maskOppAxisColor))
            }
            function x(e, t, r, n) {
                t._context.staticPlot || o.ensureSingle(e, "rect", g.slideBoxClassName, (function(e) {
                    e.attr({
                        y: 0,
                        cursor: g.slideBoxCursor,
                        "shape-rendering": "crispEdges"
                    })
                }
                )).attr({
                    height: n._height,
                    fill: g.slideBoxFill
                })
            }
            function _(e, t, r, n) {
                var a = o.ensureSingle(e, "g", g.grabberMinClassName)
                  , i = o.ensureSingle(e, "g", g.grabberMaxClassName)
                  , s = {
                    x: 0,
                    width: g.handleWidth,
                    rx: g.handleRadius,
                    fill: c.background,
                    stroke: c.defaultLine,
                    "stroke-width": g.handleStrokeWidth,
                    "shape-rendering": "crispEdges"
                }
                  , l = {
                    y: Math.round(n._height / 4),
                    height: Math.round(n._height / 2)
                };
                o.ensureSingle(a, "rect", g.handleMinClassName, (function(e) {
                    e.attr(s)
                }
                )).attr(l),
                o.ensureSingle(i, "rect", g.handleMaxClassName, (function(e) {
                    e.attr(s)
                }
                )).attr(l);
                var u = {
                    width: g.grabAreaWidth,
                    x: 0,
                    y: 0,
                    fill: g.grabAreaFill,
                    cursor: t._context.staticPlot ? void 0 : g.grabAreaCursor
                };
                o.ensureSingle(a, "rect", g.grabAreaMinClassName, (function(e) {
                    e.attr(u)
                }
                )).attr("height", n._height),
                o.ensureSingle(i, "rect", g.grabAreaMaxClassName, (function(e) {
                    e.attr(u)
                }
                )).attr("height", n._height)
            }
            t.exports = function(e) {
                for (var t = e._fullLayout, r = t._rangeSliderData, i = 0; i < r.length; i++) {
                    var l = r[i][g.name];
                    l._clipId = l._id + "-" + t._uid
                }
                var c = t._infolayer.selectAll("g." + g.containerClassName).data(r, (function(e) {
                    return e._name
                }
                ));
                c.exit().each((function(e) {
                    var r = e[g.name];
                    t._topdefs.select("#" + r._clipId).remove()
                }
                )).remove(),
                0 !== r.length && (c.enter().append("g").classed(g.containerClassName, !0).attr("pointer-events", "all"),
                c.each((function(r) {
                    var i = n.select(this)
                      , l = r[g.name]
                      , c = t[d.id2name(r.anchor)]
                      , f = l[d.id2name(r.anchor)];
                    if (l.range) {
                        var w, A = o.simpleMap(l.range, r.r2l), k = o.simpleMap(r.range, r.r2l);
                        w = k[0] < k[1] ? [Math.min(A[0], k[0]), Math.max(A[1], k[1])] : [Math.max(A[0], k[0]), Math.min(A[1], k[1])],
                        l.range = l._input.range = o.simpleMap(w, r.l2r)
                    }
                    r.cleanRange("rangeslider.range");
                    var T = t._size
                      , M = r.domain;
                    l._width = T.w * (M[1] - M[0]);
                    var S = Math.round(T.l + T.w * M[0])
                      , C = Math.round(T.t + T.h * (1 - r._counterDomainMin) + ("bottom" === r.side ? r._depth : 0) + l._offsetShift + g.extraPad);
                    i.attr("transform", s(S, C)),
                    l._rl = o.simpleMap(l.range, r.r2l);
                    var O = l._rl[0]
                      , D = l._rl[1]
                      , L = D - O;
                    if (l.p2d = function(e) {
                        return e / l._width * L + O
                    }
                    ,
                    l.d2p = function(e) {
                        return (e - O) / L * l._width
                    }
                    ,
                    r.rangebreaks) {
                        var E = r.locateBreaks(O, D);
                        if (E.length) {
                            var z, F, P = 0;
                            for (z = 0; z < E.length; z++)
                                P += (F = E[z]).max - F.min;
                            var I = l._width / (D - O - P)
                              , N = [-I * O];
                            for (z = 0; z < E.length; z++)
                                F = E[z],
                                N.push(N[N.length - 1] - I * (F.max - F.min));
                            for (l.d2p = function(e) {
                                for (var t = N[0], r = 0; r < E.length; r++) {
                                    var n = E[r];
                                    if (e >= n.max)
                                        t = N[r + 1];
                                    else if (e < n.min)
                                        break
                                }
                                return t + I * e
                            }
                            ,
                            z = 0; z < E.length; z++)
                                (F = E[z]).pmin = l.d2p(F.min),
                                F.pmax = l.d2p(F.max);
                            l.p2d = function(e) {
                                for (var t = N[0], r = 0; r < E.length; r++) {
                                    var n = E[r];
                                    if (e >= n.pmax)
                                        t = N[r + 1];
                                    else if (e < n.pmin)
                                        break
                                }
                                return (e - t) / I
                            }
                        }
                    }
                    if ("match" !== f.rangemode) {
                        var R = c.r2l(f.range[0])
                          , j = c.r2l(f.range[1]) - R;
                        l.d2pOppAxis = function(e) {
                            return (e - R) / j * l._height
                        }
                    }
                    i.call(y, e, r, l).call(v, e, r, l).call(m, e, r, l).call(b, e, r, l, f).call(x, e, r, l).call(_, e, r, l),
                    function(e, t, r, i) {
                        if (t._context.staticPlot)
                            return;
                        var s = e.select("rect." + g.slideBoxClassName).node()
                          , l = e.select("rect." + g.grabAreaMinClassName).node()
                          , c = e.select("rect." + g.grabAreaMaxClassName).node();
                        function u() {
                            var u = n.event
                              , f = u.target
                              , d = u.clientX || u.touches[0].clientX
                              , g = d - e.node().getBoundingClientRect().left
                              , y = i.d2p(r._rl[0])
                              , v = i.d2p(r._rl[1])
                              , m = h.coverSlip();
                            function b(e) {
                                var u, h, b, x = +(e.clientX || e.touches[0].clientX) - d;
                                switch (f) {
                                case s:
                                    b = "ew-resize",
                                    u = y + x,
                                    h = v + x;
                                    break;
                                case l:
                                    b = "col-resize",
                                    u = y + x,
                                    h = v;
                                    break;
                                case c:
                                    b = "col-resize",
                                    u = y,
                                    h = v + x;
                                    break;
                                default:
                                    b = "ew-resize",
                                    u = g,
                                    h = g + x
                                }
                                if (h < u) {
                                    var _ = h;
                                    h = u,
                                    u = _
                                }
                                i._pixelMin = u,
                                i._pixelMax = h,
                                p(n.select(m), b),
                                function(e, t, r, n) {
                                    function i(e) {
                                        return r.l2r(o.constrain(e, n._rl[0], n._rl[1]))
                                    }
                                    var s = i(n.p2d(n._pixelMin))
                                      , l = i(n.p2d(n._pixelMax));
                                    window.requestAnimationFrame((function() {
                                        a.call("_guiRelayout", t, r._name + ".range", [s, l])
                                    }
                                    ))
                                }(0, t, r, i)
                            }
                            function x() {
                                m.removeEventListener("mousemove", b),
                                m.removeEventListener("mouseup", x),
                                this.removeEventListener("touchmove", b),
                                this.removeEventListener("touchend", x),
                                o.removeElement(m)
                            }
                            this.addEventListener("touchmove", b),
                            this.addEventListener("touchend", x),
                            m.addEventListener("mousemove", b),
                            m.addEventListener("mouseup", x)
                        }
                        e.on("mousedown", u),
                        e.on("touchstart", u)
                    }(i, e, r, l),
                    function(e, t, r, n, a, i) {
                        var l = g.handleWidth / 2;
                        function c(e) {
                            return o.constrain(e, 0, n._width)
                        }
                        function u(e) {
                            return o.constrain(e, 0, n._height)
                        }
                        function f(e) {
                            return o.constrain(e, -l, n._width + l)
                        }
                        var d = c(n.d2p(r._rl[0]))
                          , h = c(n.d2p(r._rl[1]));
                        if (e.select("rect." + g.slideBoxClassName).attr("x", d).attr("width", h - d),
                        e.select("rect." + g.maskMinClassName).attr("width", d),
                        e.select("rect." + g.maskMaxClassName).attr("x", h).attr("width", n._width - h),
                        "match" !== i.rangemode) {
                            var p = n._height - u(n.d2pOppAxis(a._rl[1]))
                              , y = n._height - u(n.d2pOppAxis(a._rl[0]));
                            e.select("rect." + g.maskMinOppAxisClassName).attr("x", d).attr("height", p).attr("width", h - d),
                            e.select("rect." + g.maskMaxOppAxisClassName).attr("x", d).attr("y", y).attr("height", n._height - y).attr("width", h - d),
                            e.select("rect." + g.slideBoxClassName).attr("y", p).attr("height", y - p)
                        }
                        var v = Math.round(f(d - l)) - .5
                          , m = Math.round(f(h - l)) + .5;
                        e.select("g." + g.grabberMinClassName).attr("transform", s(v, .5)),
                        e.select("g." + g.grabberMaxClassName).attr("transform", s(m, .5))
                    }(i, 0, r, l, c, f),
                    "bottom" === r.side && u.draw(e, r._id + "title", {
                        propContainer: r,
                        propName: r._name + ".title",
                        placeholder: t._dfltTitle.x,
                        attributes: {
                            x: r._offset + r._length / 2,
                            y: C + l._height + l._offsetShift + 10 + 1.5 * r.title.font.size,
                            "text-anchor": "middle"
                        }
                    })
                }
                )))
            }
        }
        , {
            "../../lib": 365,
            "../../lib/setcursor": 386,
            "../../plots/cartesian": 428,
            "../../plots/cartesian/axis_ids": 418,
            "../../plots/plots": 449,
            "../../registry": 451,
            "../color": 235,
            "../dragelement": 254,
            "../drawing": 257,
            "../titles": 333,
            "./constants": 309,
            "@plotly/d3": 6
        }],
        312: [function(e, t, r) {
            "use strict";
            var n = e("../../plots/cartesian/axis_ids")
              , a = e("../../lib/svg_text_utils")
              , i = e("./constants")
              , o = e("../../constants/alignment").LINE_SPACING
              , s = i.name;
            function l(e) {
                var t = e && e[s];
                return t && t.visible
            }
            r.isVisible = l,
            r.makeData = function(e) {
                var t = n.list({
                    _fullLayout: e
                }, "x", !0)
                  , r = e.margin
                  , a = [];
                if (!e._has("gl2d"))
                    for (var i = 0; i < t.length; i++) {
                        var o = t[i];
                        if (l(o)) {
                            a.push(o);
                            var c = o[s];
                            c._id = s + o._id,
                            c._height = (e.height - r.b - r.t) * c.thickness,
                            c._offsetShift = Math.floor(c.borderwidth / 2)
                        }
                    }
                e._rangeSliderData = a
            }
            ,
            r.autoMarginOpts = function(e, t) {
                var r = e._fullLayout
                  , n = t[s]
                  , l = t._id.charAt(0)
                  , c = 0
                  , u = 0;
                "bottom" === t.side && (c = t._depth,
                t.title.text !== r._dfltTitle[l] && (u = 1.5 * t.title.font.size + 10 + n._offsetShift,
                u += (t.title.text.match(a.BR_TAG_ALL) || []).length * t.title.font.size * o));
                return {
                    x: 0,
                    y: t._counterDomainMin,
                    l: 0,
                    r: 0,
                    t: 0,
                    b: n._height + c + Math.max(r.margin.b, u),
                    pad: i.extraPad + 2 * n._offsetShift
                }
            }
        }
        , {
            "../../constants/alignment": 340,
            "../../lib/svg_text_utils": 390,
            "../../plots/cartesian/axis_ids": 418,
            "./constants": 309
        }],
        313: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("./attributes")
              , i = e("./oppaxis_attributes")
              , o = e("./helpers");
            t.exports = {
                moduleType: "component",
                name: "rangeslider",
                schema: {
                    subplots: {
                        xaxis: {
                            rangeslider: n.extendFlat({}, a, {
                                yaxis: i
                            })
                        }
                    }
                },
                layoutAttributes: e("./attributes"),
                handleDefaults: e("./defaults"),
                calcAutorange: e("./calc_autorange"),
                draw: e("./draw"),
                isVisible: o.isVisible,
                makeData: o.makeData,
                autoMarginOpts: o.autoMarginOpts
            }
        }
        , {
            "../../lib": 365,
            "./attributes": 307,
            "./calc_autorange": 308,
            "./defaults": 310,
            "./draw": 311,
            "./helpers": 312,
            "./oppaxis_attributes": 314
        }],
        314: [function(e, t, r) {
            "use strict";
            t.exports = {
                _isSubplotObj: !0,
                rangemode: {
                    valType: "enumerated",
                    values: ["auto", "fixed", "match"],
                    dflt: "match",
                    editType: "calc"
                },
                range: {
                    valType: "info_array",
                    items: [{
                        valType: "any",
                        editType: "plot"
                    }, {
                        valType: "any",
                        editType: "plot"
                    }],
                    editType: "plot"
                },
                editType: "calc"
            }
        }
        , {}],
        315: [function(e, t, r) {
            "use strict";
            var n = e("../annotations/attributes")
              , a = e("../../traces/scatter/attributes").line
              , i = e("../drawing/attributes").dash
              , o = e("../../lib/extend").extendFlat
              , s = e("../../plot_api/plot_template").templatedArray;
            e("../../constants/axis_placeable_objects");
            t.exports = s("shape", {
                visible: {
                    valType: "boolean",
                    dflt: !0,
                    editType: "calc+arraydraw"
                },
                type: {
                    valType: "enumerated",
                    values: ["circle", "rect", "path", "line"],
                    editType: "calc+arraydraw"
                },
                layer: {
                    valType: "enumerated",
                    values: ["below", "above"],
                    dflt: "above",
                    editType: "arraydraw"
                },
                xref: o({}, n.xref, {}),
                xsizemode: {
                    valType: "enumerated",
                    values: ["scaled", "pixel"],
                    dflt: "scaled",
                    editType: "calc+arraydraw"
                },
                xanchor: {
                    valType: "any",
                    editType: "calc+arraydraw"
                },
                x0: {
                    valType: "any",
                    editType: "calc+arraydraw"
                },
                x1: {
                    valType: "any",
                    editType: "calc+arraydraw"
                },
                yref: o({}, n.yref, {}),
                ysizemode: {
                    valType: "enumerated",
                    values: ["scaled", "pixel"],
                    dflt: "scaled",
                    editType: "calc+arraydraw"
                },
                yanchor: {
                    valType: "any",
                    editType: "calc+arraydraw"
                },
                y0: {
                    valType: "any",
                    editType: "calc+arraydraw"
                },
                y1: {
                    valType: "any",
                    editType: "calc+arraydraw"
                },
                path: {
                    valType: "string",
                    editType: "calc+arraydraw"
                },
                opacity: {
                    valType: "number",
                    min: 0,
                    max: 1,
                    dflt: 1,
                    editType: "arraydraw"
                },
                line: {
                    color: o({}, a.color, {
                        editType: "arraydraw"
                    }),
                    width: o({}, a.width, {
                        editType: "calc+arraydraw"
                    }),
                    dash: o({}, i, {
                        editType: "arraydraw"
                    }),
                    editType: "calc+arraydraw"
                },
                fillcolor: {
                    valType: "color",
                    dflt: "rgba(0,0,0,0)",
                    editType: "arraydraw"
                },
                fillrule: {
                    valType: "enumerated",
                    values: ["evenodd", "nonzero"],
                    dflt: "evenodd",
                    editType: "arraydraw"
                },
                editable: {
                    valType: "boolean",
                    dflt: !1,
                    editType: "calc+arraydraw"
                },
                editType: "arraydraw"
            })
        }
        , {
            "../../constants/axis_placeable_objects": 341,
            "../../lib/extend": 358,
            "../../plot_api/plot_template": 403,
            "../../traces/scatter/attributes": 463,
            "../annotations/attributes": 218,
            "../drawing/attributes": 256
        }],
        316: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../plots/cartesian/axes")
              , i = e("./constants")
              , o = e("./helpers");
            function s(e) {
                return c(e.line.width, e.xsizemode, e.x0, e.x1, e.path, !1)
            }
            function l(e) {
                return c(e.line.width, e.ysizemode, e.y0, e.y1, e.path, !0)
            }
            function c(e, t, r, a, s, l) {
                var c = e / 2
                  , u = l;
                if ("pixel" === t) {
                    var f = s ? o.extractPathCoords(s, l ? i.paramIsY : i.paramIsX) : [r, a]
                      , d = n.aggNums(Math.max, null, f)
                      , h = n.aggNums(Math.min, null, f)
                      , p = h < 0 ? Math.abs(h) + c : c
                      , g = d > 0 ? d + c : c;
                    return {
                        ppad: c,
                        ppadplus: u ? p : g,
                        ppadminus: u ? g : p
                    }
                }
                return {
                    ppad: c
                }
            }
            function u(e, t, r, n, a) {
                var s = "category" === e.type || "multicategory" === e.type ? e.r2c : e.d2c;
                if (void 0 !== t)
                    return [s(t), s(r)];
                if (n) {
                    var l, c, u, f, d = 1 / 0, h = -1 / 0, p = n.match(i.segmentRE);
                    for ("date" === e.type && (s = o.decodeDate(s)),
                    l = 0; l < p.length; l++)
                        void 0 !== (c = a[p[l].charAt(0)].drawn) && (!(u = p[l].substr(1).match(i.paramRE)) || u.length < c || ((f = s(u[c])) < d && (d = f),
                        f > h && (h = f)));
                    return h >= d ? [d, h] : void 0
                }
            }
            t.exports = function(e) {
                var t = e._fullLayout
                  , r = n.filterVisible(t.shapes);
                if (r.length && e._fullData.length)
                    for (var o = 0; o < r.length; o++) {
                        var c, f, d = r[o];
                        d._extremes = {};
                        var h = a.getRefType(d.xref)
                          , p = a.getRefType(d.yref);
                        if ("paper" !== d.xref && "domain" !== h) {
                            var g = "pixel" === d.xsizemode ? d.xanchor : d.x0
                              , y = "pixel" === d.xsizemode ? d.xanchor : d.x1;
                            (f = u(c = a.getFromId(e, d.xref), g, y, d.path, i.paramIsX)) && (d._extremes[c._id] = a.findExtremes(c, f, s(d)))
                        }
                        if ("paper" !== d.yref && "domain" !== p) {
                            var v = "pixel" === d.ysizemode ? d.yanchor : d.y0
                              , m = "pixel" === d.ysizemode ? d.yanchor : d.y1;
                            (f = u(c = a.getFromId(e, d.yref), v, m, d.path, i.paramIsY)) && (d._extremes[c._id] = a.findExtremes(c, f, l(d)))
                        }
                    }
            }
        }
        , {
            "../../lib": 365,
            "../../plots/cartesian/axes": 414,
            "./constants": 317,
            "./helpers": 326
        }],
        317: [function(e, t, r) {
            "use strict";
            t.exports = {
                segmentRE: /[MLHVQCTSZ][^MLHVQCTSZ]*/g,
                paramRE: /[^\s,]+/g,
                paramIsX: {
                    M: {
                        0: !0,
                        drawn: 0
                    },
                    L: {
                        0: !0,
                        drawn: 0
                    },
                    H: {
                        0: !0,
                        drawn: 0
                    },
                    V: {},
                    Q: {
                        0: !0,
                        2: !0,
                        drawn: 2
                    },
                    C: {
                        0: !0,
                        2: !0,
                        4: !0,
                        drawn: 4
                    },
                    T: {
                        0: !0,
                        drawn: 0
                    },
                    S: {
                        0: !0,
                        2: !0,
                        drawn: 2
                    },
                    Z: {}
                },
                paramIsY: {
                    M: {
                        1: !0,
                        drawn: 1
                    },
                    L: {
                        1: !0,
                        drawn: 1
                    },
                    H: {},
                    V: {
                        0: !0,
                        drawn: 0
                    },
                    Q: {
                        1: !0,
                        3: !0,
                        drawn: 3
                    },
                    C: {
                        1: !0,
                        3: !0,
                        5: !0,
                        drawn: 5
                    },
                    T: {
                        1: !0,
                        drawn: 1
                    },
                    S: {
                        1: !0,
                        3: !0,
                        drawn: 5
                    },
                    Z: {}
                },
                numParams: {
                    M: 2,
                    L: 2,
                    H: 1,
                    V: 1,
                    Q: 4,
                    C: 6,
                    T: 2,
                    S: 4,
                    Z: 0
                }
            }
        }
        , {}],
        318: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../plots/cartesian/axes")
              , i = e("../../plots/array_container_defaults")
              , o = e("./attributes")
              , s = e("./helpers");
            function l(e, t, r) {
                function i(r, a) {
                    return n.coerce(e, t, o, r, a)
                }
                if (i("visible")) {
                    var l = i("path")
                      , c = i("type", l ? "path" : "rect");
                    "path" !== t.type && delete t.path,
                    i("editable"),
                    i("layer"),
                    i("opacity"),
                    i("fillcolor"),
                    i("fillrule"),
                    i("line.width") && (i("line.color"),
                    i("line.dash"));
                    for (var u = i("xsizemode"), f = i("ysizemode"), d = ["x", "y"], h = 0; h < 2; h++) {
                        var p, g, y, v = d[h], m = v + "anchor", b = "x" === v ? u : f, x = {
                            _fullLayout: r
                        }, _ = a.coerceRef(e, t, x, v, void 0, "paper");
                        if ("range" === a.getRefType(_) ? ((p = a.getFromId(x, _))._shapeIndices.push(t._index),
                        y = s.rangeToShapePosition(p),
                        g = s.shapePositionToRange(p)) : g = y = n.identity,
                        "path" !== c) {
                            var w = v + "0"
                              , A = v + "1"
                              , k = e[w]
                              , T = e[A];
                            e[w] = g(e[w], !0),
                            e[A] = g(e[A], !0),
                            "pixel" === b ? (i(w, 0),
                            i(A, 10)) : (a.coercePosition(t, x, i, _, w, .25),
                            a.coercePosition(t, x, i, _, A, .75)),
                            t[w] = y(t[w]),
                            t[A] = y(t[A]),
                            e[w] = k,
                            e[A] = T
                        }
                        if ("pixel" === b) {
                            var M = e[m];
                            e[m] = g(e[m], !0),
                            a.coercePosition(t, x, i, _, m, .25),
                            t[m] = y(t[m]),
                            e[m] = M
                        }
                    }
                    "path" === c ? i("path") : n.noneOrAll(e, t, ["x0", "x1", "y0", "y1"])
                }
            }
            t.exports = function(e, t) {
                i(e, t, {
                    name: "shapes",
                    handleItemDefaults: l
                })
            }
        }
        , {
            "../../lib": 365,
            "../../plots/array_container_defaults": 409,
            "../../plots/cartesian/axes": 414,
            "./attributes": 315,
            "./helpers": 326
        }],
        319: [function(e, t, r) {
            "use strict";
            var n = e("../../registry")
              , a = e("../../lib")
              , i = e("../../plots/cartesian/axes")
              , o = e("./draw_newshape/helpers").readPaths
              , s = e("./draw_newshape/display_outlines")
              , l = e("../../plots/cartesian/handle_outline").clearOutlineControllers
              , c = e("../color")
              , u = e("../drawing")
              , f = e("../../plot_api/plot_template").arrayEditor
              , d = e("../dragelement")
              , h = e("../../lib/setcursor")
              , p = e("./constants")
              , g = e("./helpers");
            function y(e) {
                var t = e._fullLayout;
                for (var r in t._shapeUpperLayer.selectAll("path").remove(),
                t._shapeLowerLayer.selectAll("path").remove(),
                t._plots) {
                    var n = t._plots[r].shapelayer;
                    n && n.selectAll("path").remove()
                }
                for (var a = 0; a < t.shapes.length; a++)
                    t.shapes[a].visible && b(e, a)
            }
            function v(e) {
                return !!e._fullLayout._drawing
            }
            function m(e) {
                return !e._context.edits.shapePosition
            }
            function b(e, t) {
                e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="' + t + '"]').remove();
                var r = g.makeOptionsAndPlotinfo(e, t)
                  , l = r.options
                  , b = r.plotinfo;
                if (l._input && !1 !== l.visible)
                    if ("below" !== l.layer)
                        k(e._fullLayout._shapeUpperLayer);
                    else if ("paper" === l.xref || "paper" === l.yref)
                        k(e._fullLayout._shapeLowerLayer);
                    else {
                        if (b._hadPlotinfo)
                            k((b.mainplotinfo || b).shapelayer);
                        else
                            k(e._fullLayout._shapeLowerLayer)
                    }
                function k(r) {
                    var k = _(e, l)
                      , T = {
                        "data-index": t,
                        "fill-rule": l.fillrule,
                        d: k
                    }
                      , M = l.opacity
                      , S = l.fillcolor
                      , C = l.line.width ? l.line.color : "rgba(0,0,0,0)"
                      , O = l.line.width
                      , D = l.line.dash;
                    O || !0 !== l.editable || (O = 5,
                    D = "solid");
                    var L = "Z" !== k[k.length - 1]
                      , E = m(e) && l.editable && e._fullLayout._activeShapeIndex === t;
                    E && (S = L ? "rgba(0,0,0,0)" : e._fullLayout.activeshape.fillcolor,
                    M = e._fullLayout.activeshape.opacity);
                    var z, F = r.append("path").attr(T).style("opacity", M).call(c.stroke, C).call(c.fill, S).call(u.dashLine, D, O);
                    if (x(F, e, l),
                    (E || e._context.edits.shapePosition) && (z = f(e.layout, "shapes", l)),
                    E) {
                        F.style({
                            cursor: "move"
                        });
                        var P = {
                            element: F.node(),
                            plotinfo: b,
                            gd: e,
                            editHelpers: z,
                            isActiveShape: !0
                        }
                          , I = o(k, e);
                        s(I, F, P)
                    } else
                        e._context.edits.shapePosition ? function(e, t, r, o, s, l) {
                            var c, f, y, m, b, A, k, T, M, S, C, O, D, L, E, z, F = "pixel" === r.xsizemode, P = "pixel" === r.ysizemode, I = "line" === r.type, N = "path" === r.type, R = l.modifyItem, j = i.getFromId(e, r.xref), B = i.getRefType(r.xref), H = i.getFromId(e, r.yref), U = i.getRefType(r.yref), Y = g.getDataToPixel(e, j, !1, B), V = g.getDataToPixel(e, H, !0, U), q = g.getPixelToData(e, j, !1, B), W = g.getPixelToData(e, H, !0, U), G = I ? function() {
                                var e = Math.max(r.line.width, 10)
                                  , n = s.append("g").attr("data-index", o);
                                n.append("path").attr("d", t.attr("d")).style({
                                    cursor: "move",
                                    "stroke-width": e,
                                    "stroke-opacity": "0"
                                });
                                var a = {
                                    "fill-opacity": "0"
                                }
                                  , i = Math.max(e / 2, 10);
                                return n.append("circle").attr({
                                    "data-line-point": "start-point",
                                    cx: F ? Y(r.xanchor) + r.x0 : Y(r.x0),
                                    cy: P ? V(r.yanchor) - r.y0 : V(r.y0),
                                    r: i
                                }).style(a).classed("cursor-grab", !0),
                                n.append("circle").attr({
                                    "data-line-point": "end-point",
                                    cx: F ? Y(r.xanchor) + r.x1 : Y(r.x1),
                                    cy: P ? V(r.yanchor) - r.y1 : V(r.y1),
                                    r: i
                                }).style(a).classed("cursor-grab", !0),
                                n
                            }() : t, Z = {
                                element: G.node(),
                                gd: e,
                                prepFn: function(n) {
                                    if (v(e))
                                        return;
                                    F && (b = Y(r.xanchor));
                                    P && (A = V(r.yanchor));
                                    "path" === r.type ? E = r.path : (c = F ? r.x0 : Y(r.x0),
                                    f = P ? r.y0 : V(r.y0),
                                    y = F ? r.x1 : Y(r.x1),
                                    m = P ? r.y1 : V(r.y1));
                                    c < y ? (M = c,
                                    D = "x0",
                                    S = y,
                                    L = "x1") : (M = y,
                                    D = "x1",
                                    S = c,
                                    L = "x0");
                                    !P && f < m || P && f > m ? (k = f,
                                    C = "y0",
                                    T = m,
                                    O = "y1") : (k = m,
                                    C = "y1",
                                    T = f,
                                    O = "y0");
                                    J(n),
                                    $(s, r),
                                    function(e, t, r) {
                                        var n = t.xref
                                          , a = t.yref
                                          , o = i.getFromId(r, n)
                                          , s = i.getFromId(r, a)
                                          , l = "";
                                        "paper" === n || o.autorange || (l += n);
                                        "paper" === a || s.autorange || (l += a);
                                        u.setClipUrl(e, l ? "clip" + r._fullLayout._uid + l : null, r)
                                    }(t, r, e),
                                    Z.moveFn = "move" === z ? X : Q,
                                    Z.altKey = n.altKey
                                },
                                doneFn: function() {
                                    if (v(e))
                                        return;
                                    h(t),
                                    K(s),
                                    x(t, e, r),
                                    n.call("_guiRelayout", e, l.getUpdateObj())
                                },
                                clickFn: function() {
                                    if (v(e))
                                        return;
                                    K(s)
                                }
                            };
                            function J(r) {
                                if (v(e))
                                    z = null;
                                else if (I)
                                    z = "path" === r.target.tagName ? "move" : "start-point" === r.target.attributes["data-line-point"].value ? "resize-over-start-point" : "resize-over-end-point";
                                else {
                                    var n = Z.element.getBoundingClientRect()
                                      , a = n.right - n.left
                                      , i = n.bottom - n.top
                                      , o = r.clientX - n.left
                                      , s = r.clientY - n.top
                                      , l = !N && a > 10 && i > 10 && !r.shiftKey ? d.getCursor(o / a, 1 - s / i) : "move";
                                    h(t, l),
                                    z = l.split("-")[0]
                                }
                            }
                            function X(n, a) {
                                if ("path" === r.type) {
                                    var i = function(e) {
                                        return e
                                    }
                                      , o = i
                                      , l = i;
                                    F ? R("xanchor", r.xanchor = q(b + n)) : (o = function(e) {
                                        return q(Y(e) + n)
                                    }
                                    ,
                                    j && "date" === j.type && (o = g.encodeDate(o))),
                                    P ? R("yanchor", r.yanchor = W(A + a)) : (l = function(e) {
                                        return W(V(e) + a)
                                    }
                                    ,
                                    H && "date" === H.type && (l = g.encodeDate(l))),
                                    R("path", r.path = w(E, o, l))
                                } else
                                    F ? R("xanchor", r.xanchor = q(b + n)) : (R("x0", r.x0 = q(c + n)),
                                    R("x1", r.x1 = q(y + n))),
                                    P ? R("yanchor", r.yanchor = W(A + a)) : (R("y0", r.y0 = W(f + a)),
                                    R("y1", r.y1 = W(m + a)));
                                t.attr("d", _(e, r)),
                                $(s, r)
                            }
                            function Q(n, a) {
                                if (N) {
                                    var i = function(e) {
                                        return e
                                    }
                                      , o = i
                                      , l = i;
                                    F ? R("xanchor", r.xanchor = q(b + n)) : (o = function(e) {
                                        return q(Y(e) + n)
                                    }
                                    ,
                                    j && "date" === j.type && (o = g.encodeDate(o))),
                                    P ? R("yanchor", r.yanchor = W(A + a)) : (l = function(e) {
                                        return W(V(e) + a)
                                    }
                                    ,
                                    H && "date" === H.type && (l = g.encodeDate(l))),
                                    R("path", r.path = w(E, o, l))
                                } else if (I) {
                                    if ("resize-over-start-point" === z) {
                                        var u = c + n
                                          , d = P ? f - a : f + a;
                                        R("x0", r.x0 = F ? u : q(u)),
                                        R("y0", r.y0 = P ? d : W(d))
                                    } else if ("resize-over-end-point" === z) {
                                        var h = y + n
                                          , p = P ? m - a : m + a;
                                        R("x1", r.x1 = F ? h : q(h)),
                                        R("y1", r.y1 = P ? p : W(p))
                                    }
                                } else {
                                    var v = function(e) {
                                        return -1 !== z.indexOf(e)
                                    }
                                      , x = v("n")
                                      , B = v("s")
                                      , U = v("w")
                                      , G = v("e")
                                      , Z = x ? k + a : k
                                      , J = B ? T + a : T
                                      , X = U ? M + n : M
                                      , Q = G ? S + n : S;
                                    P && (x && (Z = k - a),
                                    B && (J = T - a)),
                                    (!P && J - Z > 10 || P && Z - J > 10) && (R(C, r[C] = P ? Z : W(Z)),
                                    R(O, r[O] = P ? J : W(J))),
                                    Q - X > 10 && (R(D, r[D] = F ? X : q(X)),
                                    R(L, r[L] = F ? Q : q(Q)))
                                }
                                t.attr("d", _(e, r)),
                                $(s, r)
                            }
                            function $(e, t) {
                                (F || P) && function() {
                                    var r = "path" !== t.type
                                      , n = e.selectAll(".visual-cue").data([0]);
                                    n.enter().append("path").attr({
                                        fill: "#fff",
                                        "fill-rule": "evenodd",
                                        stroke: "#000",
                                        "stroke-width": 1
                                    }).classed("visual-cue", !0);
                                    var i = Y(F ? t.xanchor : a.midRange(r ? [t.x0, t.x1] : g.extractPathCoords(t.path, p.paramIsX)))
                                      , o = V(P ? t.yanchor : a.midRange(r ? [t.y0, t.y1] : g.extractPathCoords(t.path, p.paramIsY)));
                                    if (i = g.roundPositionForSharpStrokeRendering(i, 1),
                                    o = g.roundPositionForSharpStrokeRendering(o, 1),
                                    F && P) {
                                        var s = "M" + (i - 1 - 1) + "," + (o - 1 - 1) + "h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";
                                        n.attr("d", s)
                                    } else if (F) {
                                        var l = "M" + (i - 1 - 1) + "," + (o - 9 - 1) + "v18 h2 v-18 Z";
                                        n.attr("d", l)
                                    } else {
                                        var c = "M" + (i - 9 - 1) + "," + (o - 1 - 1) + "h18 v2 h-18 Z";
                                        n.attr("d", c)
                                    }
                                }()
                            }
                            function K(e) {
                                e.selectAll(".visual-cue").remove()
                            }
                            d.init(Z),
                            G.node().onmousemove = J
                        }(e, F, l, t, r, z) : !0 === l.editable && F.style("pointer-events", L || c.opacity(S) * M <= .5 ? "stroke" : "all");
                    F.node().addEventListener("click", (function() {
                        return function(e, t) {
                            if (!m(e))
                                return;
                            var r = +t.node().getAttribute("data-index");
                            if (r >= 0) {
                                if (r === e._fullLayout._activeShapeIndex)
                                    return void A(e);
                                e._fullLayout._activeShapeIndex = r,
                                e._fullLayout._deactivateShape = A,
                                y(e)
                            }
                        }(e, F)
                    }
                    ))
                }
            }
            function x(e, t, r) {
                var n = (r.xref + r.yref).replace(/paper/g, "").replace(/[xyz][1-9]* *domain/g, "");
                u.setClipUrl(e, n ? "clip" + t._fullLayout._uid + n : null, t)
            }
            function _(e, t) {
                var r, n, o, s, l, c, u, f, d = t.type, h = i.getRefType(t.xref), y = i.getRefType(t.yref), v = i.getFromId(e, t.xref), m = i.getFromId(e, t.yref), b = e._fullLayout._size;
                if (v ? "domain" === h ? n = function(e) {
                    return v._offset + v._length * e
                }
                : (r = g.shapePositionToRange(v),
                n = function(e) {
                    return v._offset + v.r2p(r(e, !0))
                }
                ) : n = function(e) {
                    return b.l + b.w * e
                }
                ,
                m ? "domain" === y ? s = function(e) {
                    return m._offset + m._length * (1 - e)
                }
                : (o = g.shapePositionToRange(m),
                s = function(e) {
                    return m._offset + m.r2p(o(e, !0))
                }
                ) : s = function(e) {
                    return b.t + b.h * (1 - e)
                }
                ,
                "path" === d)
                    return v && "date" === v.type && (n = g.decodeDate(n)),
                    m && "date" === m.type && (s = g.decodeDate(s)),
                    function(e, t, r) {
                        var n = e.path
                          , i = e.xsizemode
                          , o = e.ysizemode
                          , s = e.xanchor
                          , l = e.yanchor;
                        return n.replace(p.segmentRE, (function(e) {
                            var n = 0
                              , c = e.charAt(0)
                              , u = p.paramIsX[c]
                              , f = p.paramIsY[c]
                              , d = p.numParams[c]
                              , h = e.substr(1).replace(p.paramRE, (function(e) {
                                return u[n] ? e = "pixel" === i ? t(s) + Number(e) : t(e) : f[n] && (e = "pixel" === o ? r(l) - Number(e) : r(e)),
                                ++n > d && (e = "X"),
                                e
                            }
                            ));
                            return n > d && (h = h.replace(/[\s,]*X.*/, ""),
                            a.log("Ignoring extra params in segment " + e)),
                            c + h
                        }
                        ))
                    }(t, n, s);
                if ("pixel" === t.xsizemode) {
                    var x = n(t.xanchor);
                    l = x + t.x0,
                    c = x + t.x1
                } else
                    l = n(t.x0),
                    c = n(t.x1);
                if ("pixel" === t.ysizemode) {
                    var _ = s(t.yanchor);
                    u = _ - t.y0,
                    f = _ - t.y1
                } else
                    u = s(t.y0),
                    f = s(t.y1);
                if ("line" === d)
                    return "M" + l + "," + u + "L" + c + "," + f;
                if ("rect" === d)
                    return "M" + l + "," + u + "H" + c + "V" + f + "H" + l + "Z";
                var w = (l + c) / 2
                  , A = (u + f) / 2
                  , k = Math.abs(w - l)
                  , T = Math.abs(A - u)
                  , M = "A" + k + "," + T
                  , S = w + k + "," + A;
                return "M" + S + M + " 0 1,1 " + (w + "," + (A - T)) + M + " 0 0,1 " + S + "Z"
            }
            function w(e, t, r) {
                return e.replace(p.segmentRE, (function(e) {
                    var n = 0
                      , a = e.charAt(0)
                      , i = p.paramIsX[a]
                      , o = p.paramIsY[a]
                      , s = p.numParams[a];
                    return a + e.substr(1).replace(p.paramRE, (function(e) {
                        return n >= s || (i[n] ? e = t(e) : o[n] && (e = r(e)),
                        n++),
                        e
                    }
                    ))
                }
                ))
            }
            function A(e) {
                m(e) && (e._fullLayout._activeShapeIndex >= 0 && (l(e),
                delete e._fullLayout._activeShapeIndex,
                y(e)))
            }
            t.exports = {
                draw: y,
                drawOne: b,
                eraseActiveShape: function(e) {
                    if (!m(e))
                        return;
                    l(e);
                    var t = e._fullLayout._activeShapeIndex
                      , r = (e.layout || {}).shapes || [];
                    if (t < r.length) {
                        for (var a = [], i = 0; i < r.length; i++)
                            i !== t && a.push(r[i]);
                        delete e._fullLayout._activeShapeIndex,
                        n.call("_guiRelayout", e, {
                            shapes: a
                        })
                    }
                }
            }
        }
        , {
            "../../lib": 365,
            "../../lib/setcursor": 386,
            "../../plot_api/plot_template": 403,
            "../../plots/cartesian/axes": 414,
            "../../plots/cartesian/handle_outline": 425,
            "../../registry": 451,
            "../color": 235,
            "../dragelement": 254,
            "../drawing": 257,
            "./constants": 317,
            "./draw_newshape/display_outlines": 323,
            "./draw_newshape/helpers": 324,
            "./helpers": 326
        }],
        320: [function(e, t, r) {
            "use strict";
            var n = e("../../drawing/attributes").dash
              , a = e("../../../lib/extend").extendFlat;
            t.exports = {
                newshape: {
                    line: {
                        color: {
                            valType: "color",
                            editType: "none"
                        },
                        width: {
                            valType: "number",
                            min: 0,
                            dflt: 4,
                            editType: "none"
                        },
                        dash: a({}, n, {
                            dflt: "solid",
                            editType: "none"
                        }),
                        editType: "none"
                    },
                    fillcolor: {
                        valType: "color",
                        dflt: "rgba(0,0,0,0)",
                        editType: "none"
                    },
                    fillrule: {
                        valType: "enumerated",
                        values: ["evenodd", "nonzero"],
                        dflt: "evenodd",
                        editType: "none"
                    },
                    opacity: {
                        valType: "number",
                        min: 0,
                        max: 1,
                        dflt: 1,
                        editType: "none"
                    },
                    layer: {
                        valType: "enumerated",
                        values: ["below", "above"],
                        dflt: "above",
                        editType: "none"
                    },
                    drawdirection: {
                        valType: "enumerated",
                        values: ["ortho", "horizontal", "vertical", "diagonal"],
                        dflt: "diagonal",
                        editType: "none"
                    },
                    editType: "none"
                },
                activeshape: {
                    fillcolor: {
                        valType: "color",
                        dflt: "rgb(255,0,255)",
                        editType: "none"
                    },
                    opacity: {
                        valType: "number",
                        min: 0,
                        max: 1,
                        dflt: .5,
                        editType: "none"
                    },
                    editType: "none"
                }
            }
        }
        , {
            "../../../lib/extend": 358,
            "../../drawing/attributes": 256
        }],
        321: [function(e, t, r) {
            "use strict";
            t.exports = {
                CIRCLE_SIDES: 32,
                i000: 0,
                i090: 8,
                i180: 16,
                i270: 24,
                cos45: Math.cos(Math.PI / 4),
                sin45: Math.sin(Math.PI / 4),
                SQRT2: Math.sqrt(2)
            }
        }
        , {}],
        322: [function(e, t, r) {
            "use strict";
            var n = e("../../color");
            t.exports = function(e, t, r) {
                if (r("newshape.drawdirection"),
                r("newshape.layer"),
                r("newshape.fillcolor"),
                r("newshape.fillrule"),
                r("newshape.opacity"),
                r("newshape.line.width")) {
                    var a = (e || {}).plot_bgcolor || "#FFF";
                    r("newshape.line.color", n.contrast(a)),
                    r("newshape.line.dash")
                }
                r("activeshape.fillcolor"),
                r("activeshape.opacity")
            }
        }
        , {
            "../../color": 235
        }],
        323: [function(e, t, r) {
            "use strict";
            var n = e("../../dragelement")
              , a = e("../../dragelement/helpers").drawMode
              , i = e("../../../registry")
              , o = e("./constants")
              , s = o.i000
              , l = o.i090
              , c = o.i180
              , u = o.i270
              , f = e("../../../plots/cartesian/handle_outline").clearOutlineControllers
              , d = e("./helpers")
              , h = d.pointsShapeRectangle
              , p = d.pointsShapeEllipse
              , g = d.writePaths
              , y = e("./newshapes");
            t.exports = function e(t, r, o, d) {
                d || (d = 0);
                var v = o.gd;
                function m() {
                    e(t, r, o, d++),
                    p(t[0]) && b({
                        redrawing: !0
                    })
                }
                function b(e) {
                    o.isActiveShape = !1;
                    var t = y(r, o);
                    Object.keys(t).length && i.call((e || {}).redrawing ? "relayout" : "_guiRelayout", v, t)
                }
                var x, _, w, A, k, T = o.isActiveShape, M = v._fullLayout._zoomlayer, S = o.dragmode;
                (a(S) ? v._fullLayout._drawing = !0 : v._fullLayout._activeShapeIndex >= 0 && f(v),
                r.attr("d", g(t)),
                T && !d) && (k = function(e, t) {
                    for (var r = 0; r < t.length; r++) {
                        var n = t[r];
                        e[r] = [];
                        for (var a = 0; a < n.length; a++) {
                            e[r][a] = [];
                            for (var i = 0; i < n[a].length; i++)
                                e[r][a][i] = n[a][i]
                        }
                    }
                    return e
                }([], t),
                function(e) {
                    x = [];
                    for (var r = 0; r < t.length; r++) {
                        var a = t[r]
                          , i = !h(a) && p(a);
                        x[r] = [];
                        for (var o = 0; o < a.length; o++)
                            if ("Z" !== a[o][0] && (!i || o === s || o === l || o === c || o === u)) {
                                var f = a[o][1]
                                  , d = a[o][2]
                                  , g = e.append("circle").classed("cursor-grab", !0).attr("data-i", r).attr("data-j", o).attr("cx", f).attr("cy", d).attr("r", 4).style({
                                    "mix-blend-mode": "luminosity",
                                    fill: "black",
                                    stroke: "white",
                                    "stroke-width": 1
                                });
                                x[r][o] = {
                                    element: g.node(),
                                    gd: v,
                                    prepFn: C,
                                    doneFn: D,
                                    clickFn: L
                                },
                                n.init(x[r][o])
                            }
                    }
                }(M.append("g").attr("class", "outline-controllers")),
                function() {
                    if (_ = [],
                    !t.length)
                        return;
                    _[0] = {
                        element: r[0][0],
                        gd: v,
                        prepFn: z,
                        doneFn: F
                    },
                    n.init(_[0])
                }());
                function C(e) {
                    w = +e.srcElement.getAttribute("data-i"),
                    A = +e.srcElement.getAttribute("data-j"),
                    x[w][A].moveFn = O
                }
                function O(e, r) {
                    if (t.length) {
                        var n = k[w][A][1]
                          , a = k[w][A][2]
                          , i = t[w]
                          , o = i.length;
                        if (h(i)) {
                            for (var s = 0; s < o; s++)
                                if (s !== A) {
                                    var l = i[s];
                                    l[1] === i[A][1] && (l[1] = n + e),
                                    l[2] === i[A][2] && (l[2] = a + r)
                                }
                            if (i[A][1] = n + e,
                            i[A][2] = a + r,
                            !h(i))
                                for (var c = 0; c < o; c++)
                                    for (var u = 0; u < i[c].length; u++)
                                        i[c][u] = k[w][c][u]
                        } else
                            i[A][1] = n + e,
                            i[A][2] = a + r;
                        m()
                    }
                }
                function D() {
                    b()
                }
                function L(e, r) {
                    if (2 === e) {
                        w = +r.srcElement.getAttribute("data-i"),
                        A = +r.srcElement.getAttribute("data-j");
                        var n = t[w];
                        h(n) || p(n) || function() {
                            if (t.length && t[w] && t[w].length) {
                                for (var e = [], r = 0; r < t[w].length; r++)
                                    r !== A && e.push(t[w][r]);
                                e.length > 1 && (2 !== e.length || "Z" !== e[1][0]) && (0 === A && (e[0][0] = "M"),
                                t[w] = e,
                                m(),
                                b())
                            }
                        }()
                    }
                }
                function E(e, r) {
                    !function(e, r) {
                        if (t.length)
                            for (var n = 0; n < t.length; n++)
                                for (var a = 0; a < t[n].length; a++)
                                    for (var i = 0; i + 2 < t[n][a].length; i += 2)
                                        t[n][a][i + 1] = k[n][a][i + 1] + e,
                                        t[n][a][i + 2] = k[n][a][i + 2] + r
                    }(e, r),
                    m()
                }
                function z(e) {
                    (w = +e.srcElement.getAttribute("data-i")) || (w = 0),
                    _[w].moveFn = E
                }
                function F() {
                    b()
                }
            }
        }
        , {
            "../../../plots/cartesian/handle_outline": 425,
            "../../../registry": 451,
            "../../dragelement": 254,
            "../../dragelement/helpers": 253,
            "./constants": 321,
            "./helpers": 324,
            "./newshapes": 325
        }],
        324: [function(e, t, r) {
            "use strict";
            var n = e("parse-svg-path")
              , a = e("./constants")
              , i = a.CIRCLE_SIDES
              , o = a.SQRT2
              , s = e("../../../plots/cartesian/helpers")
              , l = s.p2r
              , c = s.r2p
              , u = [0, 3, 4, 5, 6, 1, 2]
              , f = [0, 3, 4, 1, 2];
            function d(e, t) {
                return Math.abs(e - t) <= 1e-6
            }
            function h(e, t) {
                var r = t[1] - e[1]
                  , n = t[2] - e[2];
                return Math.sqrt(r * r + n * n)
            }
            r.writePaths = function(e) {
                var t = e.length;
                if (!t)
                    return "M0,0Z";
                for (var r = "", n = 0; n < t; n++)
                    for (var a = e[n].length, i = 0; i < a; i++) {
                        var o = e[n][i][0];
                        if ("Z" === o)
                            r += "Z";
                        else
                            for (var s = e[n][i].length, l = 0; l < s; l++) {
                                var c = l;
                                "Q" === o || "S" === o ? c = f[l] : "C" === o && (c = u[l]),
                                r += e[n][i][c],
                                l > 0 && l < s - 1 && (r += ",")
                            }
                    }
                return r
            }
            ,
            r.readPaths = function(e, t, r, a) {
                var o, s, u, f = n(e), d = [], h = -1, p = 0, g = 0, y = function() {
                    s = p,
                    u = g
                };
                y();
                for (var v = 0; v < f.length; v++) {
                    var m, b, x, _, w = [], A = f[v][0], k = A;
                    switch (A) {
                    case "M":
                        h++,
                        d[h] = [],
                        p = +f[v][1],
                        g = +f[v][2],
                        w.push([k, p, g]),
                        y();
                        break;
                    case "Q":
                    case "S":
                        m = +f[v][1],
                        x = +f[v][2],
                        p = +f[v][3],
                        g = +f[v][4],
                        w.push([k, p, g, m, x]);
                        break;
                    case "C":
                        m = +f[v][1],
                        x = +f[v][2],
                        b = +f[v][3],
                        _ = +f[v][4],
                        p = +f[v][5],
                        g = +f[v][6],
                        w.push([k, p, g, m, x, b, _]);
                        break;
                    case "T":
                    case "L":
                        p = +f[v][1],
                        g = +f[v][2],
                        w.push([k, p, g]);
                        break;
                    case "H":
                        k = "L",
                        p = +f[v][1],
                        w.push([k, p, g]);
                        break;
                    case "V":
                        k = "L",
                        g = +f[v][1],
                        w.push([k, p, g]);
                        break;
                    case "A":
                        k = "L";
                        var T = +f[v][1]
                          , M = +f[v][2];
                        +f[v][4] || (T = -T,
                        M = -M);
                        var S = p - T
                          , C = g;
                        for (o = 1; o <= i / 2; o++) {
                            var O = 2 * Math.PI * o / i;
                            w.push([k, S + T * Math.cos(O), C + M * Math.sin(O)])
                        }
                        break;
                    case "Z":
                        p === s && g === u || (p = s,
                        g = u,
                        w.push([k, p, g]))
                    }
                    for (var D = (r || {}).domain, L = t._fullLayout._size, E = r && "pixel" === r.xsizemode, z = r && "pixel" === r.ysizemode, F = !1 === a, P = 0; P < w.length; P++) {
                        for (o = 0; o + 2 < 7; o += 2) {
                            var I = w[P][o + 1]
                              , N = w[P][o + 2];
                            void 0 !== I && void 0 !== N && (p = I,
                            g = N,
                            r && (r.xaxis && r.xaxis.p2r ? (F && (I -= r.xaxis._offset),
                            I = E ? c(r.xaxis, r.xanchor) + I : l(r.xaxis, I)) : (F && (I -= L.l),
                            D ? I = D.x[0] + I / L.w : I /= L.w),
                            r.yaxis && r.yaxis.p2r ? (F && (N -= r.yaxis._offset),
                            N = z ? c(r.yaxis, r.yanchor) - N : l(r.yaxis, N)) : (F && (N -= L.t),
                            N = D ? D.y[1] - N / L.h : 1 - N / L.h)),
                            w[P][o + 1] = I,
                            w[P][o + 2] = N)
                        }
                        d[h].push(w[P].slice())
                    }
                }
                return d
            }
            ,
            r.pointsShapeRectangle = function(e) {
                if (5 !== e.length)
                    return !1;
                for (var t = 1; t < 3; t++) {
                    if (!d(e[0][t] - e[1][t], e[3][t] - e[2][t]))
                        return !1;
                    if (!d(e[0][t] - e[3][t], e[1][t] - e[2][t]))
                        return !1
                }
                return !(!d(e[0][1], e[1][1]) && !d(e[0][1], e[3][1])) && !!(h(e[0], e[1]) * h(e[0], e[3]))
            }
            ,
            r.pointsShapeEllipse = function(e) {
                var t = e.length;
                if (t !== i + 1)
                    return !1;
                t = i;
                for (var r = 0; r < t; r++) {
                    var n = (2 * t - r) % t
                      , a = (t / 2 + n) % t
                      , o = (t / 2 + r) % t;
                    if (!d(h(e[r], e[o]), h(e[n], e[a])))
                        return !1
                }
                return !0
            }
            ,
            r.handleEllipse = function(e, t, n) {
                if (!e)
                    return [t, n];
                var a = r.ellipseOver({
                    x0: t[0],
                    y0: t[1],
                    x1: n[0],
                    y1: n[1]
                })
                  , s = (a.x1 + a.x0) / 2
                  , l = (a.y1 + a.y0) / 2
                  , c = (a.x1 - a.x0) / 2
                  , u = (a.y1 - a.y0) / 2;
                c || (c = u /= o),
                u || (u = c /= o);
                for (var f = [], d = 0; d < i; d++) {
                    var h = 2 * d * Math.PI / i;
                    f.push([s + c * Math.cos(h), l + u * Math.sin(h)])
                }
                return f
            }
            ,
            r.ellipseOver = function(e) {
                var t = e.x0
                  , r = e.y0
                  , n = e.x1
                  , a = e.y1
                  , i = n - t
                  , s = a - r
                  , l = ((t -= i) + n) / 2
                  , c = ((r -= s) + a) / 2;
                return {
                    x0: l - (i *= o),
                    y0: c - (s *= o),
                    x1: l + i,
                    y1: c + s
                }
            }
        }
        , {
            "../../../plots/cartesian/helpers": 426,
            "./constants": 321,
            "parse-svg-path": 162
        }],
        325: [function(e, t, r) {
            "use strict";
            var n = e("../../dragelement/helpers")
              , a = n.drawMode
              , i = n.openMode
              , o = e("./constants")
              , s = o.i000
              , l = o.i090
              , c = o.i180
              , u = o.i270
              , f = o.cos45
              , d = o.sin45
              , h = e("../../../plots/cartesian/helpers")
              , p = h.p2r
              , g = h.r2p
              , y = e("../../../plots/cartesian/handle_outline").clearSelect
              , v = e("./helpers")
              , m = v.readPaths
              , b = v.writePaths
              , x = v.ellipseOver;
            t.exports = function(e, t) {
                if (e.length) {
                    var r = e[0][0];
                    if (r) {
                        var n = r.getAttribute("d")
                          , o = t.gd
                          , h = o._fullLayout.newshape
                          , v = t.plotinfo
                          , _ = v.xaxis
                          , w = v.yaxis
                          , A = !!v.domain || !v.xaxis
                          , k = !!v.domain || !v.yaxis
                          , T = t.isActiveShape
                          , M = t.dragmode
                          , S = (o.layout || {}).shapes || [];
                        if (!a(M) && void 0 !== T) {
                            var C = o._fullLayout._activeShapeIndex;
                            if (C < S.length)
                                switch (o._fullLayout.shapes[C].type) {
                                case "rect":
                                    M = "drawrect";
                                    break;
                                case "circle":
                                    M = "drawcircle";
                                    break;
                                case "line":
                                    M = "drawline";
                                    break;
                                case "path":
                                    var O = S[C].path || "";
                                    M = "Z" === O[O.length - 1] ? "drawclosedpath" : "drawopenpath"
                                }
                        }
                        var D, L = i(M), E = m(n, o, v, T), z = {
                            editable: !0,
                            xref: A ? "paper" : _._id,
                            yref: k ? "paper" : w._id,
                            layer: h.layer,
                            opacity: h.opacity,
                            line: {
                                color: h.line.color,
                                width: h.line.width,
                                dash: h.line.dash
                            }
                        };
                        if (L || (z.fillcolor = h.fillcolor,
                        z.fillrule = h.fillrule),
                        1 === E.length && (D = E[0]),
                        D && "drawrect" === M)
                            z.type = "rect",
                            z.x0 = D[0][1],
                            z.y0 = D[0][2],
                            z.x1 = D[2][1],
                            z.y1 = D[2][2];
                        else if (D && "drawline" === M)
                            z.type = "line",
                            z.x0 = D[0][1],
                            z.y0 = D[0][2],
                            z.x1 = D[1][1],
                            z.y1 = D[1][2];
                        else if (D && "drawcircle" === M) {
                            z.type = "circle";
                            var F = D[s][1]
                              , P = D[l][1]
                              , I = D[c][1]
                              , N = D[u][1]
                              , R = D[s][2]
                              , j = D[l][2]
                              , B = D[c][2]
                              , H = D[u][2]
                              , U = v.xaxis && ("date" === v.xaxis.type || "log" === v.xaxis.type)
                              , Y = v.yaxis && ("date" === v.yaxis.type || "log" === v.yaxis.type);
                            U && (F = g(v.xaxis, F),
                            P = g(v.xaxis, P),
                            I = g(v.xaxis, I),
                            N = g(v.xaxis, N)),
                            Y && (R = g(v.yaxis, R),
                            j = g(v.yaxis, j),
                            B = g(v.yaxis, B),
                            H = g(v.yaxis, H));
                            var V = (P + N) / 2
                              , q = (R + B) / 2
                              , W = x({
                                x0: V,
                                y0: q,
                                x1: V + (N - P + I - F) / 2 * f,
                                y1: q + (H - j + B - R) / 2 * d
                            });
                            U && (W.x0 = p(v.xaxis, W.x0),
                            W.x1 = p(v.xaxis, W.x1)),
                            Y && (W.y0 = p(v.yaxis, W.y0),
                            W.y1 = p(v.yaxis, W.y1)),
                            z.x0 = W.x0,
                            z.y0 = W.y0,
                            z.x1 = W.x1,
                            z.y1 = W.y1
                        } else
                            z.type = "path",
                            _ && w && function(e, t, r) {
                                var n = "date" === t.type
                                  , a = "date" === r.type;
                                if (!n && !a)
                                    return e;
                                for (var i = 0; i < e.length; i++)
                                    for (var o = 0; o < e[i].length; o++)
                                        for (var s = 0; s + 2 < e[i][o].length; s += 2)
                                            n && (e[i][o][s + 1] = e[i][o][s + 1].replace(" ", "_")),
                                            a && (e[i][o][s + 2] = e[i][o][s + 2].replace(" ", "_"))
                            }(E, _, w),
                            z.path = b(E),
                            D = null;
                        y(o);
                        for (var G = t.editHelpers, Z = (G || {}).modifyItem, J = [], X = 0; X < S.length; X++) {
                            var Q = o._fullLayout.shapes[X];
                            if (J[X] = Q._input,
                            void 0 !== T && X === o._fullLayout._activeShapeIndex) {
                                var $ = z;
                                switch (Q.type) {
                                case "line":
                                case "rect":
                                case "circle":
                                    Z("x0", $.x0),
                                    Z("x1", $.x1),
                                    Z("y0", $.y0),
                                    Z("y1", $.y1);
                                    break;
                                case "path":
                                    Z("path", $.path)
                                }
                            }
                        }
                        return void 0 === T ? (J.push(z),
                        J) : G ? G.getUpdateObj() : {}
                    }
                }
            }
        }
        , {
            "../../../plots/cartesian/handle_outline": 425,
            "../../../plots/cartesian/helpers": 426,
            "../../dragelement/helpers": 253,
            "./constants": 321,
            "./helpers": 324
        }],
        326: [function(e, t, r) {
            "use strict";
            var n = e("./constants")
              , a = e("../../lib");
            r.rangeToShapePosition = function(e) {
                return "log" === e.type ? e.r2d : function(e) {
                    return e
                }
            }
            ,
            r.shapePositionToRange = function(e) {
                return "log" === e.type ? e.d2r : function(e) {
                    return e
                }
            }
            ,
            r.decodeDate = function(e) {
                return function(t) {
                    return t.replace && (t = t.replace("_", " ")),
                    e(t)
                }
            }
            ,
            r.encodeDate = function(e) {
                return function(t) {
                    return e(t).replace(" ", "_")
                }
            }
            ,
            r.extractPathCoords = function(e, t) {
                var r = [];
                return e.match(n.segmentRE).forEach((function(e) {
                    var i = t[e.charAt(0)].drawn;
                    if (void 0 !== i) {
                        var o = e.substr(1).match(n.paramRE);
                        !o || o.length < i || r.push(a.cleanNumber(o[i]))
                    }
                }
                )),
                r
            }
            ,
            r.getDataToPixel = function(e, t, n, a) {
                var i, o = e._fullLayout._size;
                if (t)
                    if ("domain" === a)
                        i = function(e) {
                            return t._length * (n ? 1 - e : e) + t._offset
                        }
                        ;
                    else {
                        var s = r.shapePositionToRange(t);
                        i = function(e) {
                            return t._offset + t.r2p(s(e, !0))
                        }
                        ,
                        "date" === t.type && (i = r.decodeDate(i))
                    }
                else
                    i = n ? function(e) {
                        return o.t + o.h * (1 - e)
                    }
                    : function(e) {
                        return o.l + o.w * e
                    }
                    ;
                return i
            }
            ,
            r.getPixelToData = function(e, t, n, a) {
                var i, o = e._fullLayout._size;
                if (t)
                    if ("domain" === a)
                        i = function(e) {
                            var r = (e - t._offset) / t._length;
                            return n ? 1 - r : r
                        }
                        ;
                    else {
                        var s = r.rangeToShapePosition(t);
                        i = function(e) {
                            return s(t.p2r(e - t._offset))
                        }
                    }
                else
                    i = n ? function(e) {
                        return 1 - (e - o.t) / o.h
                    }
                    : function(e) {
                        return (e - o.l) / o.w
                    }
                    ;
                return i
            }
            ,
            r.roundPositionForSharpStrokeRendering = function(e, t) {
                var r = 1 === Math.round(t % 2)
                  , n = Math.round(e);
                return r ? n + .5 : n
            }
            ,
            r.makeOptionsAndPlotinfo = function(e, t) {
                var r = e._fullLayout.shapes[t] || {}
                  , n = e._fullLayout._plots[r.xref + r.yref];
                return !!n ? n._hadPlotinfo = !0 : (n = {},
                r.xref && "paper" !== r.xref && (n.xaxis = e._fullLayout[r.xref + "axis"]),
                r.yref && "paper" !== r.yref && (n.yaxis = e._fullLayout[r.yref + "axis"])),
                n.xsizemode = r.xsizemode,
                n.ysizemode = r.ysizemode,
                n.xanchor = r.xanchor,
                n.yanchor = r.yanchor,
                {
                    options: r,
                    plotinfo: n
                }
            }
        }
        , {
            "../../lib": 365,
            "./constants": 317
        }],
        327: [function(e, t, r) {
            "use strict";
            var n = e("./draw");
            t.exports = {
                moduleType: "component",
                name: "shapes",
                layoutAttributes: e("./attributes"),
                supplyLayoutDefaults: e("./defaults"),
                supplyDrawNewShapeDefaults: e("./draw_newshape/defaults"),
                includeBasePlot: e("../../plots/cartesian/include_components")("shapes"),
                calcAutorange: e("./calc_autorange"),
                draw: n.draw,
                drawOne: n.drawOne
            }
        }
        , {
            "../../plots/cartesian/include_components": 427,
            "./attributes": 315,
            "./calc_autorange": 316,
            "./defaults": 318,
            "./draw": 319,
            "./draw_newshape/defaults": 322
        }],
        328: [function(e, t, r) {
            "use strict";
            var n = e("../../plots/font_attributes")
              , a = e("../../plots/pad_attributes")
              , i = e("../../lib/extend").extendDeepAll
              , o = e("../../plot_api/edit_types").overrideAll
              , s = e("../../plots/animation_attributes")
              , l = e("../../plot_api/plot_template").templatedArray
              , c = e("./constants")
              , u = l("step", {
                visible: {
                    valType: "boolean",
                    dflt: !0
                },
                method: {
                    valType: "enumerated",
                    values: ["restyle", "relayout", "animate", "update", "skip"],
                    dflt: "restyle"
                },
                args: {
                    valType: "info_array",
                    freeLength: !0,
                    items: [{
                        valType: "any"
                    }, {
                        valType: "any"
                    }, {
                        valType: "any"
                    }]
                },
                label: {
                    valType: "string"
                },
                value: {
                    valType: "string"
                },
                execute: {
                    valType: "boolean",
                    dflt: !0
                }
            });
            t.exports = o(l("slider", {
                visible: {
                    valType: "boolean",
                    dflt: !0
                },
                active: {
                    valType: "number",
                    min: 0,
                    dflt: 0
                },
                steps: u,
                lenmode: {
                    valType: "enumerated",
                    values: ["fraction", "pixels"],
                    dflt: "fraction"
                },
                len: {
                    valType: "number",
                    min: 0,
                    dflt: 1
                },
                x: {
                    valType: "number",
                    min: -2,
                    max: 3,
                    dflt: 0
                },
                pad: i(a({
                    editType: "arraydraw"
                }), {}, {
                    t: {
                        dflt: 20
                    }
                }),
                xanchor: {
                    valType: "enumerated",
                    values: ["auto", "left", "center", "right"],
                    dflt: "left"
                },
                y: {
                    valType: "number",
                    min: -2,
                    max: 3,
                    dflt: 0
                },
                yanchor: {
                    valType: "enumerated",
                    values: ["auto", "top", "middle", "bottom"],
                    dflt: "top"
                },
                transition: {
                    duration: {
                        valType: "number",
                        min: 0,
                        dflt: 150
                    },
                    easing: {
                        valType: "enumerated",
                        values: s.transition.easing.values,
                        dflt: "cubic-in-out"
                    }
                },
                currentvalue: {
                    visible: {
                        valType: "boolean",
                        dflt: !0
                    },
                    xanchor: {
                        valType: "enumerated",
                        values: ["left", "center", "right"],
                        dflt: "left"
                    },
                    offset: {
                        valType: "number",
                        dflt: 10
                    },
                    prefix: {
                        valType: "string"
                    },
                    suffix: {
                        valType: "string"
                    },
                    font: n({})
                },
                font: n({}),
                activebgcolor: {
                    valType: "color",
                    dflt: c.gripBgActiveColor
                },
                bgcolor: {
                    valType: "color",
                    dflt: c.railBgColor
                },
                bordercolor: {
                    valType: "color",
                    dflt: c.railBorderColor
                },
                borderwidth: {
                    valType: "number",
                    min: 0,
                    dflt: c.railBorderWidth
                },
                ticklen: {
                    valType: "number",
                    min: 0,
                    dflt: c.tickLength
                },
                tickcolor: {
                    valType: "color",
                    dflt: c.tickColor
                },
                tickwidth: {
                    valType: "number",
                    min: 0,
                    dflt: 1
                },
                minorticklen: {
                    valType: "number",
                    min: 0,
                    dflt: c.minorTickLength
                }
            }), "arraydraw", "from-root")
        }
        , {
            "../../lib/extend": 358,
            "../../plot_api/edit_types": 396,
            "../../plot_api/plot_template": 403,
            "../../plots/animation_attributes": 408,
            "../../plots/font_attributes": 443,
            "../../plots/pad_attributes": 448,
            "./constants": 329
        }],
        329: [function(e, t, r) {
            "use strict";
            t.exports = {
                name: "sliders",
                containerClassName: "slider-container",
                groupClassName: "slider-group",
                inputAreaClass: "slider-input-area",
                railRectClass: "slider-rail-rect",
                railTouchRectClass: "slider-rail-touch-rect",
                gripRectClass: "slider-grip-rect",
                tickRectClass: "slider-tick-rect",
                inputProxyClass: "slider-input-proxy",
                labelsClass: "slider-labels",
                labelGroupClass: "slider-label-group",
                labelClass: "slider-label",
                currentValueClass: "slider-current-value",
                railHeight: 5,
                menuIndexAttrName: "slider-active-index",
                autoMarginIdRoot: "slider-",
                minWidth: 30,
                minHeight: 30,
                textPadX: 40,
                arrowOffsetX: 4,
                railRadius: 2,
                railWidth: 5,
                railBorder: 4,
                railBorderWidth: 1,
                railBorderColor: "#bec8d9",
                railBgColor: "#f8fafc",
                railInset: 8,
                stepInset: 10,
                gripRadius: 10,
                gripWidth: 20,
                gripHeight: 20,
                gripBorder: 20,
                gripBorderWidth: 1,
                gripBorderColor: "#bec8d9",
                gripBgColor: "#f6f8fa",
                gripBgActiveColor: "#dbdde0",
                labelPadding: 8,
                labelOffset: 0,
                tickWidth: 1,
                tickColor: "#333",
                tickOffset: 25,
                tickLength: 7,
                minorTickOffset: 25,
                minorTickColor: "#333",
                minorTickLength: 4,
                currentValuePadding: 8,
                currentValueInset: 0
            }
        }
        , {}],
        330: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../plots/array_container_defaults")
              , i = e("./attributes")
              , o = e("./constants").name
              , s = i.steps;
            function l(e, t, r) {
                function o(r, a) {
                    return n.coerce(e, t, i, r, a)
                }
                for (var s = a(e, t, {
                    name: "steps",
                    handleItemDefaults: c
                }), l = 0, u = 0; u < s.length; u++)
                    s[u].visible && l++;
                if (l < 2 ? t.visible = !1 : o("visible")) {
                    t._stepCount = l;
                    var f = t._visibleSteps = n.filterVisible(s);
                    (s[o("active")] || {}).visible || (t.active = f[0]._index),
                    o("x"),
                    o("y"),
                    n.noneOrAll(e, t, ["x", "y"]),
                    o("xanchor"),
                    o("yanchor"),
                    o("len"),
                    o("lenmode"),
                    o("pad.t"),
                    o("pad.r"),
                    o("pad.b"),
                    o("pad.l"),
                    n.coerceFont(o, "font", r.font),
                    o("currentvalue.visible") && (o("currentvalue.xanchor"),
                    o("currentvalue.prefix"),
                    o("currentvalue.suffix"),
                    o("currentvalue.offset"),
                    n.coerceFont(o, "currentvalue.font", t.font)),
                    o("transition.duration"),
                    o("transition.easing"),
                    o("bgcolor"),
                    o("activebgcolor"),
                    o("bordercolor"),
                    o("borderwidth"),
                    o("ticklen"),
                    o("tickwidth"),
                    o("tickcolor"),
                    o("minorticklen")
                }
            }
            function c(e, t) {
                function r(r, a) {
                    return n.coerce(e, t, s, r, a)
                }
                if ("skip" === e.method || Array.isArray(e.args) ? r("visible") : t.visible = !1) {
                    r("method"),
                    r("args");
                    var a = r("label", "step-" + t._index);
                    r("value", a),
                    r("execute")
                }
            }
            t.exports = function(e, t) {
                a(e, t, {
                    name: o,
                    handleItemDefaults: l
                })
            }
        }
        , {
            "../../lib": 365,
            "../../plots/array_container_defaults": 409,
            "./attributes": 328,
            "./constants": 329
        }],
        331: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../../plots/plots")
              , i = e("../color")
              , o = e("../drawing")
              , s = e("../../lib")
              , l = s.strTranslate
              , c = e("../../lib/svg_text_utils")
              , u = e("../../plot_api/plot_template").arrayEditor
              , f = e("./constants")
              , d = e("../../constants/alignment")
              , h = d.LINE_SPACING
              , p = d.FROM_TL
              , g = d.FROM_BR;
            function y(e) {
                return f.autoMarginIdRoot + e._index
            }
            function v(e) {
                return e._index
            }
            function m(e, t) {
                var r = o.tester.selectAll("g." + f.labelGroupClass).data(t._visibleSteps);
                r.enter().append("g").classed(f.labelGroupClass, !0);
                var i = 0
                  , l = 0;
                r.each((function(e) {
                    var r = _(n.select(this), {
                        step: e
                    }, t).node();
                    if (r) {
                        var a = o.bBox(r);
                        l = Math.max(l, a.height),
                        i = Math.max(i, a.width)
                    }
                }
                )),
                r.remove();
                var u = t._dims = {};
                u.inputAreaWidth = Math.max(f.railWidth, f.gripHeight);
                var d = e._fullLayout._size;
                u.lx = d.l + d.w * t.x,
                u.ly = d.t + d.h * (1 - t.y),
                "fraction" === t.lenmode ? u.outerLength = Math.round(d.w * t.len) : u.outerLength = t.len,
                u.inputAreaStart = 0,
                u.inputAreaLength = Math.round(u.outerLength - t.pad.l - t.pad.r);
                var h = (u.inputAreaLength - 2 * f.stepInset) / (t._stepCount - 1)
                  , v = i + f.labelPadding;
                if (u.labelStride = Math.max(1, Math.ceil(v / h)),
                u.labelHeight = l,
                u.currentValueMaxWidth = 0,
                u.currentValueHeight = 0,
                u.currentValueTotalHeight = 0,
                u.currentValueMaxLines = 1,
                t.currentvalue.visible) {
                    var m = o.tester.append("g");
                    r.each((function(e) {
                        var r = b(m, t, e.label)
                          , n = r.node() && o.bBox(r.node()) || {
                            width: 0,
                            height: 0
                        }
                          , a = c.lineCount(r);
                        u.currentValueMaxWidth = Math.max(u.currentValueMaxWidth, Math.ceil(n.width)),
                        u.currentValueHeight = Math.max(u.currentValueHeight, Math.ceil(n.height)),
                        u.currentValueMaxLines = Math.max(u.currentValueMaxLines, a)
                    }
                    )),
                    u.currentValueTotalHeight = u.currentValueHeight + t.currentvalue.offset,
                    m.remove()
                }
                u.height = u.currentValueTotalHeight + f.tickOffset + t.ticklen + f.labelOffset + u.labelHeight + t.pad.t + t.pad.b;
                var x = "left";
                s.isRightAnchor(t) && (u.lx -= u.outerLength,
                x = "right"),
                s.isCenterAnchor(t) && (u.lx -= u.outerLength / 2,
                x = "center");
                var w = "top";
                s.isBottomAnchor(t) && (u.ly -= u.height,
                w = "bottom"),
                s.isMiddleAnchor(t) && (u.ly -= u.height / 2,
                w = "middle"),
                u.outerLength = Math.ceil(u.outerLength),
                u.height = Math.ceil(u.height),
                u.lx = Math.round(u.lx),
                u.ly = Math.round(u.ly);
                var A = {
                    y: t.y,
                    b: u.height * g[w],
                    t: u.height * p[w]
                };
                "fraction" === t.lenmode ? (A.l = 0,
                A.xl = t.x - t.len * p[x],
                A.r = 0,
                A.xr = t.x + t.len * g[x]) : (A.x = t.x,
                A.l = u.outerLength * p[x],
                A.r = u.outerLength * g[x]),
                a.autoMargin(e, y(t), A)
            }
            function b(e, t, r) {
                if (t.currentvalue.visible) {
                    var n, a, i = t._dims;
                    switch (t.currentvalue.xanchor) {
                    case "right":
                        n = i.inputAreaLength - f.currentValueInset - i.currentValueMaxWidth,
                        a = "left";
                        break;
                    case "center":
                        n = .5 * i.inputAreaLength,
                        a = "middle";
                        break;
                    default:
                        n = f.currentValueInset,
                        a = "left"
                    }
                    var l = s.ensureSingle(e, "text", f.labelClass, (function(e) {
                        e.attr({
                            "text-anchor": a,
                            "data-notex": 1
                        })
                    }
                    ))
                      , u = t.currentvalue.prefix ? t.currentvalue.prefix : "";
                    if ("string" == typeof r)
                        u += r;
                    else {
                        var d = t.steps[t.active].label
                          , p = t._gd._fullLayout._meta;
                        p && (d = s.templateString(d, p)),
                        u += d
                    }
                    t.currentvalue.suffix && (u += t.currentvalue.suffix),
                    l.call(o.font, t.currentvalue.font).text(u).call(c.convertToTspans, t._gd);
                    var g = c.lineCount(l)
                      , y = (i.currentValueMaxLines + 1 - g) * t.currentvalue.font.size * h;
                    return c.positionText(l, n, y),
                    l
                }
            }
            function x(e, t, r) {
                s.ensureSingle(e, "rect", f.gripRectClass, (function(n) {
                    n.call(T, t, e, r).style("pointer-events", "all")
                }
                )).attr({
                    width: f.gripWidth,
                    height: f.gripHeight,
                    rx: f.gripRadius,
                    ry: f.gripRadius
                }).call(i.stroke, r.bordercolor).call(i.fill, r.bgcolor).style("stroke-width", r.borderwidth + "px")
            }
            function _(e, t, r) {
                var n = s.ensureSingle(e, "text", f.labelClass, (function(e) {
                    e.attr({
                        "text-anchor": "middle",
                        "data-notex": 1
                    })
                }
                ))
                  , a = t.step.label
                  , i = r._gd._fullLayout._meta;
                return i && (a = s.templateString(a, i)),
                n.call(o.font, r.font).text(a).call(c.convertToTspans, r._gd),
                n
            }
            function w(e, t) {
                var r = s.ensureSingle(e, "g", f.labelsClass)
                  , a = t._dims
                  , i = r.selectAll("g." + f.labelGroupClass).data(a.labelSteps);
                i.enter().append("g").classed(f.labelGroupClass, !0),
                i.exit().remove(),
                i.each((function(e) {
                    var r = n.select(this);
                    r.call(_, e, t),
                    o.setTranslate(r, C(t, e.fraction), f.tickOffset + t.ticklen + t.font.size * h + f.labelOffset + a.currentValueTotalHeight)
                }
                ))
            }
            function A(e, t, r, n, a) {
                var i = Math.round(n * (r._stepCount - 1))
                  , o = r._visibleSteps[i]._index;
                o !== r.active && k(e, t, r, o, !0, a)
            }
            function k(e, t, r, n, i, o) {
                var s = r.active;
                r.active = n,
                u(e.layout, f.name, r).applyUpdate("active", n);
                var l = r.steps[r.active];
                t.call(S, r, o),
                t.call(b, r),
                e.emit("plotly_sliderchange", {
                    slider: r,
                    step: r.steps[r.active],
                    interaction: i,
                    previousActive: s
                }),
                l && l.method && i && (t._nextMethod ? (t._nextMethod.step = l,
                t._nextMethod.doCallback = i,
                t._nextMethod.doTransition = o) : (t._nextMethod = {
                    step: l,
                    doCallback: i,
                    doTransition: o
                },
                t._nextMethodRaf = window.requestAnimationFrame((function() {
                    var r = t._nextMethod.step;
                    r.method && (r.execute && a.executeAPICommand(e, r.method, r.args),
                    t._nextMethod = null,
                    t._nextMethodRaf = null)
                }
                ))))
            }
            function T(e, t, r) {
                var a = r.node()
                  , o = n.select(t);
                function s() {
                    return r.data()[0]
                }
                e.on("mousedown", (function() {
                    var e = s();
                    t.emit("plotly_sliderstart", {
                        slider: e
                    });
                    var l = r.select("." + f.gripRectClass);
                    n.event.stopPropagation(),
                    n.event.preventDefault(),
                    l.call(i.fill, e.activebgcolor);
                    var c = O(e, n.mouse(a)[0]);
                    A(t, r, e, c, !0),
                    e._dragging = !0,
                    o.on("mousemove", (function() {
                        var e = s()
                          , i = O(e, n.mouse(a)[0]);
                        A(t, r, e, i, !1)
                    }
                    )),
                    o.on("mouseup", (function() {
                        var e = s();
                        e._dragging = !1,
                        l.call(i.fill, e.bgcolor),
                        o.on("mouseup", null),
                        o.on("mousemove", null),
                        t.emit("plotly_sliderend", {
                            slider: e,
                            step: e.steps[e.active]
                        })
                    }
                    ))
                }
                ))
            }
            function M(e, t) {
                var r = e.selectAll("rect." + f.tickRectClass).data(t._visibleSteps)
                  , a = t._dims;
                r.enter().append("rect").classed(f.tickRectClass, !0),
                r.exit().remove(),
                r.attr({
                    width: t.tickwidth + "px",
                    "shape-rendering": "crispEdges"
                }),
                r.each((function(e, r) {
                    var s = r % a.labelStride == 0
                      , l = n.select(this);
                    l.attr({
                        height: s ? t.ticklen : t.minorticklen
                    }).call(i.fill, t.tickcolor),
                    o.setTranslate(l, C(t, r / (t._stepCount - 1)) - .5 * t.tickwidth, (s ? f.tickOffset : f.minorTickOffset) + a.currentValueTotalHeight)
                }
                ))
            }
            function S(e, t, r) {
                for (var n = e.select("rect." + f.gripRectClass), a = 0, i = 0; i < t._stepCount; i++)
                    if (t._visibleSteps[i]._index === t.active) {
                        a = i;
                        break
                    }
                var o = C(t, a / (t._stepCount - 1));
                if (!t._invokingCommand) {
                    var s = n;
                    r && t.transition.duration > 0 && (s = s.transition().duration(t.transition.duration).ease(t.transition.easing)),
                    s.attr("transform", l(o - .5 * f.gripWidth, t._dims.currentValueTotalHeight))
                }
            }
            function C(e, t) {
                var r = e._dims;
                return r.inputAreaStart + f.stepInset + (r.inputAreaLength - 2 * f.stepInset) * Math.min(1, Math.max(0, t))
            }
            function O(e, t) {
                var r = e._dims;
                return Math.min(1, Math.max(0, (t - f.stepInset - r.inputAreaStart) / (r.inputAreaLength - 2 * f.stepInset - 2 * r.inputAreaStart)))
            }
            function D(e, t, r) {
                var n = r._dims
                  , a = s.ensureSingle(e, "rect", f.railTouchRectClass, (function(n) {
                    n.call(T, t, e, r).style("pointer-events", "all")
                }
                ));
                a.attr({
                    width: n.inputAreaLength,
                    height: Math.max(n.inputAreaWidth, f.tickOffset + r.ticklen + n.labelHeight)
                }).call(i.fill, r.bgcolor).attr("opacity", 0),
                o.setTranslate(a, 0, n.currentValueTotalHeight)
            }
            function L(e, t) {
                var r = t._dims
                  , n = r.inputAreaLength - 2 * f.railInset
                  , a = s.ensureSingle(e, "rect", f.railRectClass);
                a.attr({
                    width: n,
                    height: f.railWidth,
                    rx: f.railRadius,
                    ry: f.railRadius,
                    "shape-rendering": "crispEdges"
                }).call(i.stroke, t.bordercolor).call(i.fill, t.bgcolor).style("stroke-width", t.borderwidth + "px"),
                o.setTranslate(a, f.railInset, .5 * (r.inputAreaWidth - f.railWidth) + r.currentValueTotalHeight)
            }
            t.exports = function(e) {
                var t = e._fullLayout
                  , r = function(e, t) {
                    for (var r = e[f.name], n = [], a = 0; a < r.length; a++) {
                        var i = r[a];
                        i.visible && (i._gd = t,
                        n.push(i))
                    }
                    return n
                }(t, e)
                  , i = t._infolayer.selectAll("g." + f.containerClassName).data(r.length > 0 ? [0] : []);
                function s(t) {
                    t._commandObserver && (t._commandObserver.remove(),
                    delete t._commandObserver),
                    a.autoMargin(e, y(t))
                }
                if (i.enter().append("g").classed(f.containerClassName, !0).style("cursor", "ew-resize"),
                i.exit().each((function() {
                    n.select(this).selectAll("g." + f.groupClassName).each(s)
                }
                )).remove(),
                0 !== r.length) {
                    var l = i.selectAll("g." + f.groupClassName).data(r, v);
                    l.enter().append("g").classed(f.groupClassName, !0),
                    l.exit().each(s).remove();
                    for (var c = 0; c < r.length; c++) {
                        var u = r[c];
                        m(e, u)
                    }
                    l.each((function(t) {
                        var r = n.select(this);
                        !function(e) {
                            var t = e._dims;
                            t.labelSteps = [];
                            for (var r = e._stepCount, n = 0; n < r; n += t.labelStride)
                                t.labelSteps.push({
                                    fraction: n / (r - 1),
                                    step: e._visibleSteps[n]
                                })
                        }(t),
                        a.manageCommandObserver(e, t, t._visibleSteps, (function(t) {
                            var n = r.data()[0];
                            n.active !== t.index && (n._dragging || k(e, r, n, t.index, !1, !0))
                        }
                        )),
                        function(e, t, r) {
                            (r.steps[r.active] || {}).visible || (r.active = r._visibleSteps[0]._index);
                            t.call(b, r).call(L, r).call(w, r).call(M, r).call(D, e, r).call(x, e, r);
                            var n = r._dims;
                            o.setTranslate(t, n.lx + r.pad.l, n.ly + r.pad.t),
                            t.call(S, r, !1),
                            t.call(b, r)
                        }(e, n.select(this), t)
                    }
                    ))
                }
            }
        }
        , {
            "../../constants/alignment": 340,
            "../../lib": 365,
            "../../lib/svg_text_utils": 390,
            "../../plot_api/plot_template": 403,
            "../../plots/plots": 449,
            "../color": 235,
            "../drawing": 257,
            "./constants": 329,
            "@plotly/d3": 6
        }],
        332: [function(e, t, r) {
            "use strict";
            var n = e("./constants");
            t.exports = {
                moduleType: "component",
                name: n.name,
                layoutAttributes: e("./attributes"),
                supplyLayoutDefaults: e("./defaults"),
                draw: e("./draw")
            }
        }
        , {
            "./attributes": 328,
            "./constants": 329,
            "./defaults": 330,
            "./draw": 331
        }],
        333: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("fast-isnumeric")
              , i = e("../../plots/plots")
              , o = e("../../registry")
              , s = e("../../lib")
              , l = s.strTranslate
              , c = e("../drawing")
              , u = e("../color")
              , f = e("../../lib/svg_text_utils")
              , d = e("../../constants/interactions")
              , h = e("../../constants/alignment").OPPOSITE_SIDE
              , p = / [XY][0-9]* /;
            t.exports = {
                draw: function(e, t, r) {
                    var g, y = r.propContainer, v = r.propName, m = r.placeholder, b = r.traceIndex, x = r.avoid || {}, _ = r.attributes, w = r.transform, A = r.containerGroup, k = e._fullLayout, T = 1, M = !1, S = y.title, C = (S && S.text ? S.text : "").trim(), O = S && S.font ? S.font : {}, D = O.family, L = O.size, E = O.color;
                    "title.text" === v ? g = "titleText" : -1 !== v.indexOf("axis") ? g = "axisTitleText" : v.indexOf(!0) && (g = "colorbarTitleText");
                    var z = e._context.edits[g];
                    "" === C ? T = 0 : C.replace(p, " % ") === m.replace(p, " % ") && (T = .2,
                    M = !0,
                    z || (C = "")),
                    r._meta ? C = s.templateString(C, r._meta) : k._meta && (C = s.templateString(C, k._meta));
                    var F = C || z;
                    A || (A = s.ensureSingle(k._infolayer, "g", "g-" + t));
                    var P = A.selectAll("text").data(F ? [0] : []);
                    if (P.enter().append("text"),
                    P.text(C).attr("class", t),
                    P.exit().remove(),
                    !F)
                        return A;
                    function I(e) {
                        s.syncOrAsync([N, R], e)
                    }
                    function N(t) {
                        var r;
                        return w ? (r = "",
                        w.rotate && (r += "rotate(" + [w.rotate, _.x, _.y] + ")"),
                        w.offset && (r += l(0, w.offset))) : r = null,
                        t.attr("transform", r),
                        t.style({
                            "font-family": D,
                            "font-size": n.round(L, 2) + "px",
                            fill: u.rgb(E),
                            opacity: T * u.opacity(E),
                            "font-weight": i.fontWeight
                        }).attr(_).call(f.convertToTspans, e),
                        i.previousPromises(e)
                    }
                    function R(e) {
                        var t = n.select(e.node().parentNode);
                        if (x && x.selection && x.side && C) {
                            t.attr("transform", null);
                            var r = h[x.side]
                              , i = "left" === x.side || "top" === x.side ? -1 : 1
                              , o = a(x.pad) ? x.pad : 2
                              , u = c.bBox(t.node())
                              , f = {
                                left: 0,
                                top: 0,
                                right: k.width,
                                bottom: k.height
                            }
                              , d = x.maxShift || i * (f[x.side] - u[x.side])
                              , p = 0;
                            if (d < 0)
                                p = d;
                            else {
                                var g = x.offsetLeft || 0
                                  , y = x.offsetTop || 0;
                                u.left -= g,
                                u.right -= g,
                                u.top -= y,
                                u.bottom -= y,
                                x.selection.each((function() {
                                    var e = c.bBox(this);
                                    s.bBoxIntersect(u, e, o) && (p = Math.max(p, i * (e[x.side] - u[r]) + o))
                                }
                                )),
                                p = Math.min(d, p)
                            }
                            if (p > 0 || d < 0) {
                                var v = {
                                    left: [-p, 0],
                                    right: [p, 0],
                                    top: [0, -p],
                                    bottom: [0, p]
                                }[x.side];
                                t.attr("transform", l(v[0], v[1]))
                            }
                        }
                    }
                    return P.call(I),
                    z && (C ? P.on(".opacity", null) : (T = 0,
                    M = !0,
                    P.text(m).on("mouseover.opacity", (function() {
                        n.select(this).transition().duration(d.SHOW_PLACEHOLDER).style("opacity", 1)
                    }
                    )).on("mouseout.opacity", (function() {
                        n.select(this).transition().duration(d.HIDE_PLACEHOLDER).style("opacity", 0)
                    }
                    ))),
                    P.call(f.makeEditable, {
                        gd: e
                    }).on("edit", (function(t) {
                        void 0 !== b ? o.call("_guiRestyle", e, v, t, b) : o.call("_guiRelayout", e, v, t)
                    }
                    )).on("cancel", (function() {
                        this.text(this.attr("data-unformatted")).call(I)
                    }
                    )).on("input", (function(e) {
                        this.text(e || " ").call(f.positionText, _.x, _.y)
                    }
                    ))),
                    P.classed("js-placeholder", M),
                    A
                }
            }
        }
        , {
            "../../constants/alignment": 340,
            "../../constants/interactions": 343,
            "../../lib": 365,
            "../../lib/svg_text_utils": 390,
            "../../plots/plots": 449,
            "../../registry": 451,
            "../color": 235,
            "../drawing": 257,
            "@plotly/d3": 6,
            "fast-isnumeric": 107
        }],
        334: [function(e, t, r) {
            "use strict";
            var n = e("../../plots/font_attributes")
              , a = e("../color/attributes")
              , i = e("../../lib/extend").extendFlat
              , o = e("../../plot_api/edit_types").overrideAll
              , s = e("../../plots/pad_attributes")
              , l = e("../../plot_api/plot_template").templatedArray
              , c = l("button", {
                visible: {
                    valType: "boolean"
                },
                method: {
                    valType: "enumerated",
                    values: ["restyle", "relayout", "animate", "update", "skip"],
                    dflt: "restyle"
                },
                args: {
                    valType: "info_array",
                    freeLength: !0,
                    items: [{
                        valType: "any"
                    }, {
                        valType: "any"
                    }, {
                        valType: "any"
                    }]
                },
                args2: {
                    valType: "info_array",
                    freeLength: !0,
                    items: [{
                        valType: "any"
                    }, {
                        valType: "any"
                    }, {
                        valType: "any"
                    }]
                },
                label: {
                    valType: "string",
                    dflt: ""
                },
                execute: {
                    valType: "boolean",
                    dflt: !0
                }
            });
            t.exports = o(l("updatemenu", {
                _arrayAttrRegexps: [/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],
                visible: {
                    valType: "boolean"
                },
                type: {
                    valType: "enumerated",
                    values: ["dropdown", "buttons"],
                    dflt: "dropdown"
                },
                direction: {
                    valType: "enumerated",
                    values: ["left", "right", "up", "down"],
                    dflt: "down"
                },
                active: {
                    valType: "integer",
                    min: -1,
                    dflt: 0
                },
                showactive: {
                    valType: "boolean",
                    dflt: !0
                },
                buttons: c,
                x: {
                    valType: "number",
                    min: -2,
                    max: 3,
                    dflt: -.05
                },
                xanchor: {
                    valType: "enumerated",
                    values: ["auto", "left", "center", "right"],
                    dflt: "right"
                },
                y: {
                    valType: "number",
                    min: -2,
                    max: 3,
                    dflt: 1
                },
                yanchor: {
                    valType: "enumerated",
                    values: ["auto", "top", "middle", "bottom"],
                    dflt: "top"
                },
                pad: i(s({
                    editType: "arraydraw"
                }), {}),
                font: n({}),
                bgcolor: {
                    valType: "color"
                },
                bordercolor: {
                    valType: "color",
                    dflt: a.borderLine
                },
                borderwidth: {
                    valType: "number",
                    min: 0,
                    dflt: 1,
                    editType: "arraydraw"
                }
            }), "arraydraw", "from-root")
        }
        , {
            "../../lib/extend": 358,
            "../../plot_api/edit_types": 396,
            "../../plot_api/plot_template": 403,
            "../../plots/font_attributes": 443,
            "../../plots/pad_attributes": 448,
            "../color/attributes": 234
        }],
        335: [function(e, t, r) {
            "use strict";
            t.exports = {
                name: "updatemenus",
                containerClassName: "updatemenu-container",
                headerGroupClassName: "updatemenu-header-group",
                headerClassName: "updatemenu-header",
                headerArrowClassName: "updatemenu-header-arrow",
                dropdownButtonGroupClassName: "updatemenu-dropdown-button-group",
                dropdownButtonClassName: "updatemenu-dropdown-button",
                buttonClassName: "updatemenu-button",
                itemRectClassName: "updatemenu-item-rect",
                itemTextClassName: "updatemenu-item-text",
                menuIndexAttrName: "updatemenu-active-index",
                autoMarginIdRoot: "updatemenu-",
                blankHeaderOpts: {
                    label: "  "
                },
                minWidth: 30,
                minHeight: 30,
                textPadX: 24,
                arrowPadX: 16,
                rx: 2,
                ry: 2,
                textOffsetX: 12,
                textOffsetY: 3,
                arrowOffsetX: 4,
                gapButtonHeader: 5,
                gapButton: 2,
                activeColor: "#F4FAFF",
                hoverColor: "#F4FAFF",
                arrowSymbol: {
                    left: "\u25c4",
                    right: "\u25ba",
                    up: "\u25b2",
                    down: "\u25bc"
                }
            }
        }
        , {}],
        336: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../plots/array_container_defaults")
              , i = e("./attributes")
              , o = e("./constants").name
              , s = i.buttons;
            function l(e, t, r) {
                function o(r, a) {
                    return n.coerce(e, t, i, r, a)
                }
                o("visible", a(e, t, {
                    name: "buttons",
                    handleItemDefaults: c
                }).length > 0) && (o("active"),
                o("direction"),
                o("type"),
                o("showactive"),
                o("x"),
                o("y"),
                n.noneOrAll(e, t, ["x", "y"]),
                o("xanchor"),
                o("yanchor"),
                o("pad.t"),
                o("pad.r"),
                o("pad.b"),
                o("pad.l"),
                n.coerceFont(o, "font", r.font),
                o("bgcolor", r.paper_bgcolor),
                o("bordercolor"),
                o("borderwidth"))
            }
            function c(e, t) {
                function r(r, a) {
                    return n.coerce(e, t, s, r, a)
                }
                r("visible", "skip" === e.method || Array.isArray(e.args)) && (r("method"),
                r("args"),
                r("args2"),
                r("label"),
                r("execute"))
            }
            t.exports = function(e, t) {
                a(e, t, {
                    name: o,
                    handleItemDefaults: l
                })
            }
        }
        , {
            "../../lib": 365,
            "../../plots/array_container_defaults": 409,
            "./attributes": 334,
            "./constants": 335
        }],
        337: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../../plots/plots")
              , i = e("../color")
              , o = e("../drawing")
              , s = e("../../lib")
              , l = e("../../lib/svg_text_utils")
              , c = e("../../plot_api/plot_template").arrayEditor
              , u = e("../../constants/alignment").LINE_SPACING
              , f = e("./constants")
              , d = e("./scrollbox");
            function h(e) {
                return e._index
            }
            function p(e, t) {
                return +e.attr(f.menuIndexAttrName) === t._index
            }
            function g(e, t, r, n, a, i, o, s) {
                t.active = o,
                c(e.layout, f.name, t).applyUpdate("active", o),
                "buttons" === t.type ? v(e, n, null, null, t) : "dropdown" === t.type && (a.attr(f.menuIndexAttrName, "-1"),
                y(e, n, a, i, t),
                s || v(e, n, a, i, t))
            }
            function y(e, t, r, n, a) {
                var i = s.ensureSingle(t, "g", f.headerClassName, (function(e) {
                    e.style("pointer-events", "all")
                }
                ))
                  , l = a._dims
                  , c = a.active
                  , u = a.buttons[c] || f.blankHeaderOpts
                  , d = {
                    y: a.pad.t,
                    yPad: 0,
                    x: a.pad.l,
                    xPad: 0,
                    index: 0
                }
                  , h = {
                    width: l.headerWidth,
                    height: l.headerHeight
                };
                i.call(m, a, u, e).call(M, a, d, h),
                s.ensureSingle(t, "text", f.headerArrowClassName, (function(e) {
                    e.attr("text-anchor", "end").call(o.font, a.font).text(f.arrowSymbol[a.direction])
                }
                )).attr({
                    x: l.headerWidth - f.arrowOffsetX + a.pad.l,
                    y: l.headerHeight / 2 + f.textOffsetY + a.pad.t
                }),
                i.on("click", (function() {
                    r.call(S, String(p(r, a) ? -1 : a._index)),
                    v(e, t, r, n, a)
                }
                )),
                i.on("mouseover", (function() {
                    i.call(w)
                }
                )),
                i.on("mouseout", (function() {
                    i.call(A, a)
                }
                )),
                o.setTranslate(t, l.lx, l.ly)
            }
            function v(e, t, r, i, o) {
                r || (r = t).attr("pointer-events", "all");
                var l = function(e) {
                    return -1 == +e.attr(f.menuIndexAttrName)
                }(r) && "buttons" !== o.type ? [] : o.buttons
                  , c = "dropdown" === o.type ? f.dropdownButtonClassName : f.buttonClassName
                  , u = r.selectAll("g." + c).data(s.filterVisible(l))
                  , d = u.enter().append("g").classed(c, !0)
                  , h = u.exit();
                "dropdown" === o.type ? (d.attr("opacity", "0").transition().attr("opacity", "1"),
                h.transition().attr("opacity", "0").remove()) : h.remove();
                var p = 0
                  , y = 0
                  , v = o._dims
                  , b = -1 !== ["up", "down"].indexOf(o.direction);
                "dropdown" === o.type && (b ? y = v.headerHeight + f.gapButtonHeader : p = v.headerWidth + f.gapButtonHeader),
                "dropdown" === o.type && "up" === o.direction && (y = -f.gapButtonHeader + f.gapButton - v.openHeight),
                "dropdown" === o.type && "left" === o.direction && (p = -f.gapButtonHeader + f.gapButton - v.openWidth);
                var x = {
                    x: v.lx + p + o.pad.l,
                    y: v.ly + y + o.pad.t,
                    yPad: f.gapButton,
                    xPad: f.gapButton,
                    index: 0
                }
                  , k = {
                    l: x.x + o.borderwidth,
                    t: x.y + o.borderwidth
                };
                u.each((function(s, l) {
                    var c = n.select(this);
                    c.call(m, o, s, e).call(M, o, x),
                    c.on("click", (function() {
                        n.event.defaultPrevented || (s.execute && (s.args2 && o.active === l ? (g(e, o, 0, t, r, i, -1),
                        a.executeAPICommand(e, s.method, s.args2)) : (g(e, o, 0, t, r, i, l),
                        a.executeAPICommand(e, s.method, s.args))),
                        e.emit("plotly_buttonclicked", {
                            menu: o,
                            button: s,
                            active: o.active
                        }))
                    }
                    )),
                    c.on("mouseover", (function() {
                        c.call(w)
                    }
                    )),
                    c.on("mouseout", (function() {
                        c.call(A, o),
                        u.call(_, o)
                    }
                    ))
                }
                )),
                u.call(_, o),
                b ? (k.w = Math.max(v.openWidth, v.headerWidth),
                k.h = x.y - k.t) : (k.w = x.x - k.l,
                k.h = Math.max(v.openHeight, v.headerHeight)),
                k.direction = o.direction,
                i && (u.size() ? function(e, t, r, n, a, i) {
                    var o, s, l, c = a.direction, u = "up" === c || "down" === c, d = a._dims, h = a.active;
                    if (u)
                        for (s = 0,
                        l = 0; l < h; l++)
                            s += d.heights[l] + f.gapButton;
                    else
                        for (o = 0,
                        l = 0; l < h; l++)
                            o += d.widths[l] + f.gapButton;
                    n.enable(i, o, s),
                    n.hbar && n.hbar.attr("opacity", "0").transition().attr("opacity", "1");
                    n.vbar && n.vbar.attr("opacity", "0").transition().attr("opacity", "1")
                }(0, 0, 0, i, o, k) : function(e) {
                    var t = !!e.hbar
                      , r = !!e.vbar;
                    t && e.hbar.transition().attr("opacity", "0").each("end", (function() {
                        t = !1,
                        r || e.disable()
                    }
                    ));
                    r && e.vbar.transition().attr("opacity", "0").each("end", (function() {
                        r = !1,
                        t || e.disable()
                    }
                    ))
                }(i))
            }
            function m(e, t, r, n) {
                e.call(b, t).call(x, t, r, n)
            }
            function b(e, t) {
                s.ensureSingle(e, "rect", f.itemRectClassName, (function(e) {
                    e.attr({
                        rx: f.rx,
                        ry: f.ry,
                        "shape-rendering": "crispEdges"
                    })
                }
                )).call(i.stroke, t.bordercolor).call(i.fill, t.bgcolor).style("stroke-width", t.borderwidth + "px")
            }
            function x(e, t, r, n) {
                var a = s.ensureSingle(e, "text", f.itemTextClassName, (function(e) {
                    e.attr({
                        "text-anchor": "start",
                        "data-notex": 1
                    })
                }
                ))
                  , i = r.label
                  , c = n._fullLayout._meta;
                c && (i = s.templateString(i, c)),
                a.call(o.font, t.font).text(i).call(l.convertToTspans, n)
            }
            function _(e, t) {
                var r = t.active;
                e.each((function(e, a) {
                    var o = n.select(this);
                    a === r && t.showactive && o.select("rect." + f.itemRectClassName).call(i.fill, f.activeColor)
                }
                ))
            }
            function w(e) {
                e.select("rect." + f.itemRectClassName).call(i.fill, f.hoverColor)
            }
            function A(e, t) {
                e.select("rect." + f.itemRectClassName).call(i.fill, t.bgcolor)
            }
            function k(e, t) {
                var r = t._dims = {
                    width1: 0,
                    height1: 0,
                    heights: [],
                    widths: [],
                    totalWidth: 0,
                    totalHeight: 0,
                    openWidth: 0,
                    openHeight: 0,
                    lx: 0,
                    ly: 0
                }
                  , i = o.tester.selectAll("g." + f.dropdownButtonClassName).data(s.filterVisible(t.buttons));
                i.enter().append("g").classed(f.dropdownButtonClassName, !0);
                var c = -1 !== ["up", "down"].indexOf(t.direction);
                i.each((function(a, i) {
                    var s = n.select(this);
                    s.call(m, t, a, e);
                    var d = s.select("." + f.itemTextClassName)
                      , h = d.node() && o.bBox(d.node()).width
                      , p = Math.max(h + f.textPadX, f.minWidth)
                      , g = t.font.size * u
                      , y = l.lineCount(d)
                      , v = Math.max(g * y, f.minHeight) + f.textOffsetY;
                    v = Math.ceil(v),
                    p = Math.ceil(p),
                    r.widths[i] = p,
                    r.heights[i] = v,
                    r.height1 = Math.max(r.height1, v),
                    r.width1 = Math.max(r.width1, p),
                    c ? (r.totalWidth = Math.max(r.totalWidth, p),
                    r.openWidth = r.totalWidth,
                    r.totalHeight += v + f.gapButton,
                    r.openHeight += v + f.gapButton) : (r.totalWidth += p + f.gapButton,
                    r.openWidth += p + f.gapButton,
                    r.totalHeight = Math.max(r.totalHeight, v),
                    r.openHeight = r.totalHeight)
                }
                )),
                c ? r.totalHeight -= f.gapButton : r.totalWidth -= f.gapButton,
                r.headerWidth = r.width1 + f.arrowPadX,
                r.headerHeight = r.height1,
                "dropdown" === t.type && (c ? (r.width1 += f.arrowPadX,
                r.totalHeight = r.height1) : r.totalWidth = r.width1,
                r.totalWidth += f.arrowPadX),
                i.remove();
                var d = r.totalWidth + t.pad.l + t.pad.r
                  , h = r.totalHeight + t.pad.t + t.pad.b
                  , p = e._fullLayout._size;
                r.lx = p.l + p.w * t.x,
                r.ly = p.t + p.h * (1 - t.y);
                var g = "left";
                s.isRightAnchor(t) && (r.lx -= d,
                g = "right"),
                s.isCenterAnchor(t) && (r.lx -= d / 2,
                g = "center");
                var y = "top";
                s.isBottomAnchor(t) && (r.ly -= h,
                y = "bottom"),
                s.isMiddleAnchor(t) && (r.ly -= h / 2,
                y = "middle"),
                r.totalWidth = Math.ceil(r.totalWidth),
                r.totalHeight = Math.ceil(r.totalHeight),
                r.lx = Math.round(r.lx),
                r.ly = Math.round(r.ly),
                a.autoMargin(e, T(t), {
                    x: t.x,
                    y: t.y,
                    l: d * ({
                        right: 1,
                        center: .5
                    }[g] || 0),
                    r: d * ({
                        left: 1,
                        center: .5
                    }[g] || 0),
                    b: h * ({
                        top: 1,
                        middle: .5
                    }[y] || 0),
                    t: h * ({
                        bottom: 1,
                        middle: .5
                    }[y] || 0)
                })
            }
            function T(e) {
                return f.autoMarginIdRoot + e._index
            }
            function M(e, t, r, n) {
                n = n || {};
                var a = e.select("." + f.itemRectClassName)
                  , i = e.select("." + f.itemTextClassName)
                  , s = t.borderwidth
                  , c = r.index
                  , d = t._dims;
                o.setTranslate(e, s + r.x, s + r.y);
                var h = -1 !== ["up", "down"].indexOf(t.direction)
                  , p = n.height || (h ? d.heights[c] : d.height1);
                a.attr({
                    x: 0,
                    y: 0,
                    width: n.width || (h ? d.width1 : d.widths[c]),
                    height: p
                });
                var g = t.font.size * u
                  , y = (l.lineCount(i) - 1) * g / 2;
                l.positionText(i, f.textOffsetX, p / 2 - y + f.textOffsetY),
                h ? r.y += d.heights[c] + r.yPad : r.x += d.widths[c] + r.xPad,
                r.index++
            }
            function S(e, t) {
                e.attr(f.menuIndexAttrName, t || "-1").selectAll("g." + f.dropdownButtonClassName).remove()
            }
            t.exports = function(e) {
                var t = e._fullLayout
                  , r = s.filterVisible(t[f.name]);
                function i(t) {
                    a.autoMargin(e, T(t))
                }
                var o = t._menulayer.selectAll("g." + f.containerClassName).data(r.length > 0 ? [0] : []);
                if (o.enter().append("g").classed(f.containerClassName, !0).style("cursor", "pointer"),
                o.exit().each((function() {
                    n.select(this).selectAll("g." + f.headerGroupClassName).each(i)
                }
                )).remove(),
                0 !== r.length) {
                    var l = o.selectAll("g." + f.headerGroupClassName).data(r, h);
                    l.enter().append("g").classed(f.headerGroupClassName, !0);
                    for (var c = s.ensureSingle(o, "g", f.dropdownButtonGroupClassName, (function(e) {
                        e.style("pointer-events", "all")
                    }
                    )), u = 0; u < r.length; u++) {
                        var m = r[u];
                        k(e, m)
                    }
                    var b = "updatemenus" + t._uid
                      , x = new d(e,c,b);
                    l.enter().size() && (c.node().parentNode.appendChild(c.node()),
                    c.call(S)),
                    l.exit().each((function(e) {
                        c.call(S),
                        i(e)
                    }
                    )).remove(),
                    l.each((function(t) {
                        var r = n.select(this)
                          , i = "dropdown" === t.type ? c : null;
                        a.manageCommandObserver(e, t, t.buttons, (function(n) {
                            g(e, t, t.buttons[n.index], r, i, x, n.index, !0)
                        }
                        )),
                        "dropdown" === t.type ? (y(e, r, c, x, t),
                        p(c, t) && v(e, r, c, x, t)) : v(e, r, null, null, t)
                    }
                    ))
                }
            }
        }
        , {
            "../../constants/alignment": 340,
            "../../lib": 365,
            "../../lib/svg_text_utils": 390,
            "../../plot_api/plot_template": 403,
            "../../plots/plots": 449,
            "../color": 235,
            "../drawing": 257,
            "./constants": 335,
            "./scrollbox": 339,
            "@plotly/d3": 6
        }],
        338: [function(e, t, r) {
            arguments[4][332][0].apply(r, arguments)
        }
        , {
            "./attributes": 334,
            "./constants": 335,
            "./defaults": 336,
            "./draw": 337,
            dup: 332
        }],
        339: [function(e, t, r) {
            "use strict";
            t.exports = s;
            var n = e("@plotly/d3")
              , a = e("../color")
              , i = e("../drawing")
              , o = e("../../lib");
            function s(e, t, r) {
                this.gd = e,
                this.container = t,
                this.id = r,
                this.position = null,
                this.translateX = null,
                this.translateY = null,
                this.hbar = null,
                this.vbar = null,
                this.bg = this.container.selectAll("rect.scrollbox-bg").data([0]),
                this.bg.exit().on(".drag", null).on("wheel", null).remove(),
                this.bg.enter().append("rect").classed("scrollbox-bg", !0).style("pointer-events", "all").attr({
                    opacity: 0,
                    x: 0,
                    y: 0,
                    width: 0,
                    height: 0
                })
            }
            s.barWidth = 2,
            s.barLength = 20,
            s.barRadius = 2,
            s.barPad = 1,
            s.barColor = "#808BA4",
            s.prototype.enable = function(e, t, r) {
                var o = this.gd._fullLayout
                  , l = o.width
                  , c = o.height;
                this.position = e;
                var u, f, d, h, p = this.position.l, g = this.position.w, y = this.position.t, v = this.position.h, m = this.position.direction, b = "down" === m, x = "left" === m, _ = "up" === m, w = g, A = v;
                b || x || "right" === m || _ || (this.position.direction = "down",
                b = !0),
                b || _ ? (f = (u = p) + w,
                b ? (d = y,
                A = (h = Math.min(d + A, c)) - d) : A = (h = y + A) - (d = Math.max(h - A, 0))) : (h = (d = y) + A,
                x ? w = (f = p + w) - (u = Math.max(f - w, 0)) : (u = p,
                w = (f = Math.min(u + w, l)) - u)),
                this._box = {
                    l: u,
                    t: d,
                    w: w,
                    h: A
                };
                var k = g > w
                  , T = s.barLength + 2 * s.barPad
                  , M = s.barWidth + 2 * s.barPad
                  , S = p
                  , C = y + v;
                C + M > c && (C = c - M);
                var O = this.container.selectAll("rect.scrollbar-horizontal").data(k ? [0] : []);
                O.exit().on(".drag", null).remove(),
                O.enter().append("rect").classed("scrollbar-horizontal", !0).call(a.fill, s.barColor),
                k ? (this.hbar = O.attr({
                    rx: s.barRadius,
                    ry: s.barRadius,
                    x: S,
                    y: C,
                    width: T,
                    height: M
                }),
                this._hbarXMin = S + T / 2,
                this._hbarTranslateMax = w - T) : (delete this.hbar,
                delete this._hbarXMin,
                delete this._hbarTranslateMax);
                var D = v > A
                  , L = s.barWidth + 2 * s.barPad
                  , E = s.barLength + 2 * s.barPad
                  , z = p + g
                  , F = y;
                z + L > l && (z = l - L);
                var P = this.container.selectAll("rect.scrollbar-vertical").data(D ? [0] : []);
                P.exit().on(".drag", null).remove(),
                P.enter().append("rect").classed("scrollbar-vertical", !0).call(a.fill, s.barColor),
                D ? (this.vbar = P.attr({
                    rx: s.barRadius,
                    ry: s.barRadius,
                    x: z,
                    y: F,
                    width: L,
                    height: E
                }),
                this._vbarYMin = F + E / 2,
                this._vbarTranslateMax = A - E) : (delete this.vbar,
                delete this._vbarYMin,
                delete this._vbarTranslateMax);
                var I = this.id
                  , N = u - .5
                  , R = D ? f + L + .5 : f + .5
                  , j = d - .5
                  , B = k ? h + M + .5 : h + .5
                  , H = o._topdefs.selectAll("#" + I).data(k || D ? [0] : []);
                if (H.exit().remove(),
                H.enter().append("clipPath").attr("id", I).append("rect"),
                k || D ? (this._clipRect = H.select("rect").attr({
                    x: Math.floor(N),
                    y: Math.floor(j),
                    width: Math.ceil(R) - Math.floor(N),
                    height: Math.ceil(B) - Math.floor(j)
                }),
                this.container.call(i.setClipUrl, I, this.gd),
                this.bg.attr({
                    x: p,
                    y: y,
                    width: g,
                    height: v
                })) : (this.bg.attr({
                    width: 0,
                    height: 0
                }),
                this.container.on("wheel", null).on(".drag", null).call(i.setClipUrl, null),
                delete this._clipRect),
                k || D) {
                    var U = n.behavior.drag().on("dragstart", (function() {
                        n.event.sourceEvent.preventDefault()
                    }
                    )).on("drag", this._onBoxDrag.bind(this));
                    this.container.on("wheel", null).on("wheel", this._onBoxWheel.bind(this)).on(".drag", null).call(U);
                    var Y = n.behavior.drag().on("dragstart", (function() {
                        n.event.sourceEvent.preventDefault(),
                        n.event.sourceEvent.stopPropagation()
                    }
                    )).on("drag", this._onBarDrag.bind(this));
                    k && this.hbar.on(".drag", null).call(Y),
                    D && this.vbar.on(".drag", null).call(Y)
                }
                this.setTranslate(t, r)
            }
            ,
            s.prototype.disable = function() {
                (this.hbar || this.vbar) && (this.bg.attr({
                    width: 0,
                    height: 0
                }),
                this.container.on("wheel", null).on(".drag", null).call(i.setClipUrl, null),
                delete this._clipRect),
                this.hbar && (this.hbar.on(".drag", null),
                this.hbar.remove(),
                delete this.hbar,
                delete this._hbarXMin,
                delete this._hbarTranslateMax),
                this.vbar && (this.vbar.on(".drag", null),
                this.vbar.remove(),
                delete this.vbar,
                delete this._vbarYMin,
                delete this._vbarTranslateMax)
            }
            ,
            s.prototype._onBoxDrag = function() {
                var e = this.translateX
                  , t = this.translateY;
                this.hbar && (e -= n.event.dx),
                this.vbar && (t -= n.event.dy),
                this.setTranslate(e, t)
            }
            ,
            s.prototype._onBoxWheel = function() {
                var e = this.translateX
                  , t = this.translateY;
                this.hbar && (e += n.event.deltaY),
                this.vbar && (t += n.event.deltaY),
                this.setTranslate(e, t)
            }
            ,
            s.prototype._onBarDrag = function() {
                var e = this.translateX
                  , t = this.translateY;
                if (this.hbar) {
                    var r = e + this._hbarXMin
                      , a = r + this._hbarTranslateMax;
                    e = (o.constrain(n.event.x, r, a) - r) / (a - r) * (this.position.w - this._box.w)
                }
                if (this.vbar) {
                    var i = t + this._vbarYMin
                      , s = i + this._vbarTranslateMax;
                    t = (o.constrain(n.event.y, i, s) - i) / (s - i) * (this.position.h - this._box.h)
                }
                this.setTranslate(e, t)
            }
            ,
            s.prototype.setTranslate = function(e, t) {
                var r = this.position.w - this._box.w
                  , n = this.position.h - this._box.h;
                if (e = o.constrain(e || 0, 0, r),
                t = o.constrain(t || 0, 0, n),
                this.translateX = e,
                this.translateY = t,
                this.container.call(i.setTranslate, this._box.l - this.position.l - e, this._box.t - this.position.t - t),
                this._clipRect && this._clipRect.attr({
                    x: Math.floor(this.position.l + e - .5),
                    y: Math.floor(this.position.t + t - .5)
                }),
                this.hbar) {
                    var a = e / r;
                    this.hbar.call(i.setTranslate, e + a * this._hbarTranslateMax, t)
                }
                if (this.vbar) {
                    var s = t / n;
                    this.vbar.call(i.setTranslate, e, t + s * this._vbarTranslateMax)
                }
            }
        }
        , {
            "../../lib": 365,
            "../color": 235,
            "../drawing": 257,
            "@plotly/d3": 6
        }],
        340: [function(e, t, r) {
            "use strict";
            t.exports = {
                FROM_BL: {
                    left: 0,
                    center: .5,
                    right: 1,
                    bottom: 0,
                    middle: .5,
                    top: 1
                },
                FROM_TL: {
                    left: 0,
                    center: .5,
                    right: 1,
                    bottom: 1,
                    middle: .5,
                    top: 0
                },
                FROM_BR: {
                    left: 1,
                    center: .5,
                    right: 0,
                    bottom: 0,
                    middle: .5,
                    top: 1
                },
                LINE_SPACING: 1.3,
                CAP_SHIFT: .7,
                MID_SHIFT: .35,
                OPPOSITE_SIDE: {
                    left: "right",
                    right: "left",
                    top: "bottom",
                    bottom: "top"
                }
            }
        }
        , {}],
        341: [function(e, t, r) {
            "use strict";
            t.exports = {
                axisRefDescription: function(e, t, r) {
                    return ["If set to a", e, "axis id (e.g. *" + e + "* or", "*" + e + "2*), the `" + e + "` position refers to a", e, "coordinate. If set to *paper*, the `" + e + "`", "position refers to the distance from the", t, "of the plotting", "area in normalized coordinates where *0* (*1*) corresponds to the", t, "(" + r + "). If set to a", e, "axis ID followed by", "*domain* (separated by a space), the position behaves like for", "*paper*, but refers to the distance in fractions of the domain", "length from the", t, "of the domain of that axis: e.g.,", "*" + e + "2 domain* refers to the domain of the second", e, " axis and a", e, "position of 0.5 refers to the", "point between the", t, "and the", r, "of the domain of the", "second", e, "axis."].join(" ")
                }
            }
        }
        , {}],
        342: [function(e, t, r) {
            "use strict";
            t.exports = {
                FORMAT_LINK: "https://github.com/d3/d3-format/tree/v1.4.5#d3-format",
                DATE_FORMAT_LINK: "https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"
            }
        }
        , {}],
        343: [function(e, t, r) {
            "use strict";
            t.exports = {
                SHOW_PLACEHOLDER: 100,
                HIDE_PLACEHOLDER: 1e3,
                DESELECTDIM: .2
            }
        }
        , {}],
        344: [function(e, t, r) {
            "use strict";
            t.exports = {
                BADNUM: void 0,
                FP_SAFE: 1e-4 * Number.MAX_VALUE,
                ONEMAXYEAR: 316224e5,
                ONEAVGYEAR: 315576e5,
                ONEMINYEAR: 31536e6,
                ONEMAXQUARTER: 79488e5,
                ONEAVGQUARTER: 78894e5,
                ONEMINQUARTER: 76896e5,
                ONEMAXMONTH: 26784e5,
                ONEAVGMONTH: 26298e5,
                ONEMINMONTH: 24192e5,
                ONEWEEK: 6048e5,
                ONEDAY: 864e5,
                ONEHOUR: 36e5,
                ONEMIN: 6e4,
                ONESEC: 1e3,
                EPOCHJD: 2440587.5,
                ALMOST_EQUAL: .999999,
                LOG_CLIP: 10,
                MINUS_SIGN: "\u2212"
            }
        }
        , {}],
        345: [function(e, t, r) {
            "use strict";
            r.xmlns = "http://www.w3.org/2000/xmlns/",
            r.svg = "http://www.w3.org/2000/svg",
            r.xlink = "http://www.w3.org/1999/xlink",
            r.svgAttrs = {
                xmlns: r.svg,
                "xmlns:xlink": r.xlink
            }
        }
        , {}],
        346: [function(e, t, r) {
            "use strict";
            r.version = e("./version").version,
            e("native-promise-only"),
            e("../build/plotcss");
            for (var n = e("./registry"), a = r.register = n.register, i = e("./plot_api"), o = Object.keys(i), s = 0; s < o.length; s++) {
                var l = o[s];
                "_" !== l.charAt(0) && (r[l] = i[l]),
                a({
                    moduleType: "apiMethod",
                    name: l,
                    fn: i[l]
                })
            }
            a(e("./traces/scatter")),
            a([e("./components/legend"), e("./components/fx"), e("./components/annotations"), e("./components/annotations3d"), e("./components/shapes"), e("./components/images"), e("./components/updatemenus"), e("./components/sliders"), e("./components/rangeslider"), e("./components/rangeselector"), e("./components/grid"), e("./components/errorbars"), e("./components/colorscale"), e("./components/colorbar"), e("./components/modebar")]),
            a([e("./locale-en"), e("./locale-en-us")]),
            window.PlotlyLocales && Array.isArray(window.PlotlyLocales) && (a(window.PlotlyLocales),
            delete window.PlotlyLocales),
            r.Icons = e("./fonts/ploticon");
            var c = e("./components/fx")
              , u = e("./plots/plots");
            r.Plots = {
                resize: u.resize,
                graphJson: u.graphJson,
                sendDataToCloud: u.sendDataToCloud
            },
            r.Fx = {
                hover: c.hover,
                unhover: c.unhover,
                loneHover: c.loneHover,
                loneUnhover: c.loneUnhover
            },
            r.Snapshot = e("./snapshot"),
            r.PlotSchema = e("./plot_api/plot_schema")
        }
        , {
            "../build/plotcss": 1,
            "./components/annotations": 226,
            "./components/annotations3d": 231,
            "./components/colorbar": 241,
            "./components/colorscale": 247,
            "./components/errorbars": 263,
            "./components/fx": 275,
            "./components/grid": 279,
            "./components/images": 284,
            "./components/legend": 292,
            "./components/modebar": 298,
            "./components/rangeselector": 306,
            "./components/rangeslider": 313,
            "./components/shapes": 327,
            "./components/sliders": 332,
            "./components/updatemenus": 338,
            "./fonts/ploticon": 347,
            "./locale-en": 394,
            "./locale-en-us": 393,
            "./plot_api": 398,
            "./plot_api/plot_schema": 402,
            "./plots/plots": 449,
            "./registry": 451,
            "./snapshot": 456,
            "./traces/scatter": 475,
            "./version": 504,
            "native-promise-only": 157
        }],
        347: [function(e, t, r) {
            "use strict";
            t.exports = {
                undo: {
                    width: 857.1,
                    height: 1e3,
                    path: "m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",
                    transform: "matrix(1 0 0 -1 0 850)"
                },
                home: {
                    width: 928.6,
                    height: 1e3,
                    path: "m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",
                    transform: "matrix(1 0 0 -1 0 850)"
                },
                "camera-retro": {
                    width: 1e3,
                    height: 1e3,
                    path: "m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",
                    transform: "matrix(1 0 0 -1 0 850)"
                },
                zoombox: {
                    width: 1e3,
                    height: 1e3,
                    path: "m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",
                    transform: "matrix(1 0 0 -1 0 850)"
                },
                pan: {
                    width: 1e3,
                    height: 1e3,
                    path: "m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",
                    transform: "matrix(1 0 0 -1 0 850)"
                },
                zoom_plus: {
                    width: 875,
                    height: 1e3,
                    path: "m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",
                    transform: "matrix(1 0 0 -1 0 850)"
                },
                zoom_minus: {
                    width: 875,
                    height: 1e3,
                    path: "m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",
                    transform: "matrix(1 0 0 -1 0 850)"
                },
                autoscale: {
                    width: 1e3,
                    height: 1e3,
                    path: "m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",
                    transform: "matrix(1 0 0 -1 0 850)"
                },
                tooltip_basic: {
                    width: 1500,
                    height: 1e3,
                    path: "m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",
                    transform: "matrix(1 0 0 -1 0 850)"
                },
                tooltip_compare: {
                    width: 1125,
                    height: 1e3,
                    path: "m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",
                    transform: "matrix(1 0 0 -1 0 850)"
                },
                plotlylogo: {
                    width: 1542,
                    height: 1e3,
                    path: "m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",
                    transform: "matrix(1 0 0 -1 0 850)"
                },
                "z-axis": {
                    width: 1e3,
                    height: 1e3,
                    path: "m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",
                    transform: "matrix(1 0 0 -1 0 850)"
                },
                "3d_rotate": {
                    width: 1e3,
                    height: 1e3,
                    path: "m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",
                    transform: "matrix(1 0 0 -1 0 850)"
                },
                camera: {
                    width: 1e3,
                    height: 1e3,
                    path: "m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",
                    transform: "matrix(1 0 0 -1 0 850)"
                },
                movie: {
                    width: 1e3,
                    height: 1e3,
                    path: "m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",
                    transform: "matrix(1 0 0 -1 0 850)"
                },
                question: {
                    width: 857.1,
                    height: 1e3,
                    path: "m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",
                    transform: "matrix(1 0 0 -1 0 850)"
                },
                disk: {
                    width: 857.1,
                    height: 1e3,
                    path: "m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",
                    transform: "matrix(1 0 0 -1 0 850)"
                },
                drawopenpath: {
                    width: 70,
                    height: 70,
                    path: "M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",
                    transform: "matrix(1 0 0 1 -15 -15)"
                },
                drawclosedpath: {
                    width: 90,
                    height: 90,
                    path: "M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",
                    transform: "matrix(1 0 0 1 -5 -5)"
                },
                lasso: {
                    width: 1031,
                    height: 1e3,
                    path: "m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",
                    transform: "matrix(1 0 0 -1 0 850)"
                },
                selectbox: {
                    width: 1e3,
                    height: 1e3,
                    path: "m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",
                    transform: "matrix(1 0 0 -1 0 850)"
                },
                drawline: {
                    width: 70,
                    height: 70,
                    path: "M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",
                    transform: "matrix(1 0 0 1 -15 -15)"
                },
                drawrect: {
                    width: 80,
                    height: 80,
                    path: "M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",
                    transform: "matrix(1 0 0 1 -10 -10)"
                },
                drawcircle: {
                    width: 80,
                    height: 80,
                    path: "M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",
                    transform: "matrix(1 0 0 1 -10 -10)"
                },
                eraseshape: {
                    width: 80,
                    height: 80,
                    path: "M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",
                    transform: "matrix(1 0 0 1 -10 -10)"
                },
                spikeline: {
                    width: 1e3,
                    height: 1e3,
                    path: "M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",
                    transform: "matrix(1.5 0 0 -1.5 0 850)"
                },
                pencil: {
                    width: 1792,
                    height: 1792,
                    path: "M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",
                    transform: "matrix(1 0 0 1 0 1)"
                },
                newplotlylogo: {
                    name: "newplotlylogo",
                    svg: "<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"
                }
            }
        }
        , {}],
        348: [function(e, t, r) {
            "use strict";
            r.isLeftAnchor = function(e) {
                return "left" === e.xanchor || "auto" === e.xanchor && e.x <= 1 / 3
            }
            ,
            r.isCenterAnchor = function(e) {
                return "center" === e.xanchor || "auto" === e.xanchor && e.x > 1 / 3 && e.x < 2 / 3
            }
            ,
            r.isRightAnchor = function(e) {
                return "right" === e.xanchor || "auto" === e.xanchor && e.x >= 2 / 3
            }
            ,
            r.isTopAnchor = function(e) {
                return "top" === e.yanchor || "auto" === e.yanchor && e.y >= 2 / 3
            }
            ,
            r.isMiddleAnchor = function(e) {
                return "middle" === e.yanchor || "auto" === e.yanchor && e.y > 1 / 3 && e.y < 2 / 3
            }
            ,
            r.isBottomAnchor = function(e) {
                return "bottom" === e.yanchor || "auto" === e.yanchor && e.y <= 1 / 3
            }
        }
        , {}],
        349: [function(e, t, r) {
            "use strict";
            var n = e("./mod")
              , a = n.mod
              , i = n.modHalf
              , o = Math.PI
              , s = 2 * o;
            function l(e) {
                return Math.abs(e[1] - e[0]) > s - 1e-14
            }
            function c(e, t) {
                return i(t - e, s)
            }
            function u(e, t) {
                if (l(t))
                    return !0;
                var r, n;
                t[0] < t[1] ? (r = t[0],
                n = t[1]) : (r = t[1],
                n = t[0]),
                (r = a(r, s)) > (n = a(n, s)) && (n += s);
                var i = a(e, s)
                  , o = i + s;
                return i >= r && i <= n || o >= r && o <= n
            }
            function f(e, t, r, n, a, i, c) {
                a = a || 0,
                i = i || 0;
                var u, f, d, h, p, g = l([r, n]);
                function y(e, t) {
                    return [e * Math.cos(t) + a, i - e * Math.sin(t)]
                }
                g ? (u = 0,
                f = o,
                d = s) : r < n ? (u = r,
                d = n) : (u = n,
                d = r),
                e < t ? (h = e,
                p = t) : (h = t,
                p = e);
                var v, m = Math.abs(d - u) <= o ? 0 : 1;
                function b(e, t, r) {
                    return "A" + [e, e] + " " + [0, m, r] + " " + y(e, t)
                }
                return g ? v = null === h ? "M" + y(p, u) + b(p, f, 0) + b(p, d, 0) + "Z" : "M" + y(h, u) + b(h, f, 0) + b(h, d, 0) + "ZM" + y(p, u) + b(p, f, 1) + b(p, d, 1) + "Z" : null === h ? (v = "M" + y(p, u) + b(p, d, 0),
                c && (v += "L0,0Z")) : v = "M" + y(h, u) + "L" + y(p, u) + b(p, d, 0) + "L" + y(h, d) + b(h, u, 1) + "Z",
                v
            }
            t.exports = {
                deg2rad: function(e) {
                    return e / 180 * o
                },
                rad2deg: function(e) {
                    return e / o * 180
                },
                angleDelta: c,
                angleDist: function(e, t) {
                    return Math.abs(c(e, t))
                },
                isFullCircle: l,
                isAngleInsideSector: u,
                isPtInsideSector: function(e, t, r, n) {
                    return !!u(t, n) && (r[0] < r[1] ? (a = r[0],
                    i = r[1]) : (a = r[1],
                    i = r[0]),
                    e >= a && e <= i);
                    var a, i
                },
                pathArc: function(e, t, r, n, a) {
                    return f(null, e, t, r, n, a, 0)
                },
                pathSector: function(e, t, r, n, a) {
                    return f(null, e, t, r, n, a, 1)
                },
                pathAnnulus: function(e, t, r, n, a, i) {
                    return f(e, t, r, n, a, i, 1)
                }
            }
        }
        , {
            "./mod": 372
        }],
        350: [function(e, t, r) {
            "use strict";
            var n = Array.isArray
              , a = ArrayBuffer
              , i = DataView;
            function o(e) {
                return a.isView(e) && !(e instanceof i)
            }
            function s(e) {
                return n(e) || o(e)
            }
            function l(e, t, r) {
                if (s(e)) {
                    if (s(e[0])) {
                        for (var n = r, a = 0; a < e.length; a++)
                            n = t(n, e[a].length);
                        return n
                    }
                    return e.length
                }
                return 0
            }
            r.isTypedArray = o,
            r.isArrayOrTypedArray = s,
            r.isArray1D = function(e) {
                return !s(e[0])
            }
            ,
            r.ensureArray = function(e, t) {
                return n(e) || (e = []),
                e.length = t,
                e
            }
            ,
            r.concat = function() {
                var e, t, r, a, i, o, s, l, c = [], u = !0, f = 0;
                for (r = 0; r < arguments.length; r++)
                    (o = (a = arguments[r]).length) && (t ? c.push(a) : (t = a,
                    i = o),
                    n(a) ? e = !1 : (u = !1,
                    f ? e !== a.constructor && (e = !1) : e = a.constructor),
                    f += o);
                if (!f)
                    return [];
                if (!c.length)
                    return t;
                if (u)
                    return t.concat.apply(t, c);
                if (e) {
                    for ((s = new e(f)).set(t),
                    r = 0; r < c.length; r++)
                        a = c[r],
                        s.set(a, i),
                        i += a.length;
                    return s
                }
                for (s = new Array(f),
                l = 0; l < t.length; l++)
                    s[l] = t[l];
                for (r = 0; r < c.length; r++) {
                    for (a = c[r],
                    l = 0; l < a.length; l++)
                        s[i + l] = a[l];
                    i += l
                }
                return s
            }
            ,
            r.maxRowLength = function(e) {
                return l(e, Math.max, 0)
            }
            ,
            r.minRowLength = function(e) {
                return l(e, Math.min, 1 / 0)
            }
        }
        , {}],
        351: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("../constants/numerical").BADNUM
              , i = /^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;
            t.exports = function(e) {
                return "string" == typeof e && (e = e.replace(i, "")),
                n(e) ? Number(e) : a
            }
        }
        , {
            "../constants/numerical": 344,
            "fast-isnumeric": 107
        }],
        352: [function(e, t, r) {
            "use strict";
            t.exports = function(e) {
                var t = e._fullLayout;
                t._glcanvas && t._glcanvas.size() && t._glcanvas.each((function(e) {
                    e.regl && e.regl.clear({
                        color: !0,
                        depth: !0
                    })
                }
                ))
            }
        }
        , {}],
        353: [function(e, t, r) {
            "use strict";
            t.exports = function(e) {
                e._responsiveChartHandler && (window.removeEventListener("resize", e._responsiveChartHandler),
                delete e._responsiveChartHandler)
            }
        }
        , {}],
        354: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("tinycolor2")
              , i = e("../plots/attributes")
              , o = e("../components/colorscale/scales")
              , s = e("../components/color")
              , l = e("../constants/interactions").DESELECTDIM
              , c = e("./nested_property")
              , u = e("./regex").counter
              , f = e("./mod").modHalf
              , d = e("./array").isArrayOrTypedArray;
            function h(e, t) {
                var n = r.valObjectMeta[t.valType];
                if (t.arrayOk && d(e))
                    return !0;
                if (n.validateFunction)
                    return n.validateFunction(e, t);
                var a = {}
                  , i = a
                  , o = {
                    set: function(e) {
                        i = e
                    }
                };
                return n.coerceFunction(e, o, a, t),
                i !== a
            }
            r.valObjectMeta = {
                data_array: {
                    coerceFunction: function(e, t, r) {
                        d(e) ? t.set(e) : void 0 !== r && t.set(r)
                    }
                },
                enumerated: {
                    coerceFunction: function(e, t, r, n) {
                        n.coerceNumber && (e = +e),
                        -1 === n.values.indexOf(e) ? t.set(r) : t.set(e)
                    },
                    validateFunction: function(e, t) {
                        t.coerceNumber && (e = +e);
                        for (var r = t.values, n = 0; n < r.length; n++) {
                            var a = String(r[n]);
                            if ("/" === a.charAt(0) && "/" === a.charAt(a.length - 1)) {
                                if (new RegExp(a.substr(1, a.length - 2)).test(e))
                                    return !0
                            } else if (e === r[n])
                                return !0
                        }
                        return !1
                    }
                },
                boolean: {
                    coerceFunction: function(e, t, r) {
                        !0 === e || !1 === e ? t.set(e) : t.set(r)
                    }
                },
                number: {
                    coerceFunction: function(e, t, r, a) {
                        !n(e) || void 0 !== a.min && e < a.min || void 0 !== a.max && e > a.max ? t.set(r) : t.set(+e)
                    }
                },
                integer: {
                    coerceFunction: function(e, t, r, a) {
                        e % 1 || !n(e) || void 0 !== a.min && e < a.min || void 0 !== a.max && e > a.max ? t.set(r) : t.set(+e)
                    }
                },
                string: {
                    coerceFunction: function(e, t, r, n) {
                        if ("string" != typeof e) {
                            var a = "number" == typeof e;
                            !0 !== n.strict && a ? t.set(String(e)) : t.set(r)
                        } else
                            n.noBlank && !e ? t.set(r) : t.set(e)
                    }
                },
                color: {
                    coerceFunction: function(e, t, r) {
                        a(e).isValid() ? t.set(e) : t.set(r)
                    }
                },
                colorlist: {
                    coerceFunction: function(e, t, r) {
                        Array.isArray(e) && e.length && e.every((function(e) {
                            return a(e).isValid()
                        }
                        )) ? t.set(e) : t.set(r)
                    }
                },
                colorscale: {
                    coerceFunction: function(e, t, r) {
                        t.set(o.get(e, r))
                    }
                },
                angle: {
                    coerceFunction: function(e, t, r) {
                        "auto" === e ? t.set("auto") : n(e) ? t.set(f(+e, 360)) : t.set(r)
                    }
                },
                subplotid: {
                    coerceFunction: function(e, t, r, n) {
                        var a = n.regex || u(r);
                        "string" == typeof e && a.test(e) ? t.set(e) : t.set(r)
                    },
                    validateFunction: function(e, t) {
                        var r = t.dflt;
                        return e === r || "string" == typeof e && !!u(r).test(e)
                    }
                },
                flaglist: {
                    coerceFunction: function(e, t, r, n) {
                        if ("string" == typeof e)
                            if (-1 === (n.extras || []).indexOf(e)) {
                                for (var a = e.split("+"), i = 0; i < a.length; ) {
                                    var o = a[i];
                                    -1 === n.flags.indexOf(o) || a.indexOf(o) < i ? a.splice(i, 1) : i++
                                }
                                a.length ? t.set(a.join("+")) : t.set(r)
                            } else
                                t.set(e);
                        else
                            t.set(r)
                    }
                },
                any: {
                    coerceFunction: function(e, t, r) {
                        void 0 === e ? t.set(r) : t.set(e)
                    }
                },
                info_array: {
                    coerceFunction: function(e, t, n, a) {
                        function i(e, t, n) {
                            var a, i = {
                                set: function(e) {
                                    a = e
                                }
                            };
                            return void 0 === n && (n = t.dflt),
                            r.valObjectMeta[t.valType].coerceFunction(e, i, n, t),
                            a
                        }
                        var o = 2 === a.dimensions || "1-2" === a.dimensions && Array.isArray(e) && Array.isArray(e[0]);
                        if (Array.isArray(e)) {
                            var s, l, c, u, f, d, h = a.items, p = [], g = Array.isArray(h), y = g && o && Array.isArray(h[0]), v = o && g && !y, m = g && !v ? h.length : e.length;
                            if (n = Array.isArray(n) ? n : [],
                            o)
                                for (s = 0; s < m; s++)
                                    for (p[s] = [],
                                    c = Array.isArray(e[s]) ? e[s] : [],
                                    f = v ? h.length : g ? h[s].length : c.length,
                                    l = 0; l < f; l++)
                                        u = v ? h[l] : g ? h[s][l] : h,
                                        void 0 !== (d = i(c[l], u, (n[s] || [])[l])) && (p[s][l] = d);
                            else
                                for (s = 0; s < m; s++)
                                    void 0 !== (d = i(e[s], g ? h[s] : h, n[s])) && (p[s] = d);
                            t.set(p)
                        } else
                            t.set(n)
                    },
                    validateFunction: function(e, t) {
                        if (!Array.isArray(e))
                            return !1;
                        var r = t.items
                          , n = Array.isArray(r)
                          , a = 2 === t.dimensions;
                        if (!t.freeLength && e.length !== r.length)
                            return !1;
                        for (var i = 0; i < e.length; i++)
                            if (a) {
                                if (!Array.isArray(e[i]) || !t.freeLength && e[i].length !== r[i].length)
                                    return !1;
                                for (var o = 0; o < e[i].length; o++)
                                    if (!h(e[i][o], n ? r[i][o] : r))
                                        return !1
                            } else if (!h(e[i], n ? r[i] : r))
                                return !1;
                        return !0
                    }
                }
            },
            r.coerce = function(e, t, n, a, i) {
                var o = c(n, a).get()
                  , s = c(e, a)
                  , l = c(t, a)
                  , u = s.get()
                  , f = t._template;
                if (void 0 === u && f && (u = c(f, a).get(),
                f = 0),
                void 0 === i && (i = o.dflt),
                o.arrayOk && d(u))
                    return l.set(u),
                    u;
                var p = r.valObjectMeta[o.valType].coerceFunction;
                p(u, l, i, o);
                var g = l.get();
                return f && g === i && !h(u, o) && (p(u = c(f, a).get(), l, i, o),
                g = l.get()),
                g
            }
            ,
            r.coerce2 = function(e, t, n, a, i) {
                var o = c(e, a)
                  , s = r.coerce(e, t, n, a, i)
                  , l = o.get();
                return null != l && s
            }
            ,
            r.coerceFont = function(e, t, r) {
                var n = {};
                return r = r || {},
                n.family = e(t + ".family", r.family),
                n.size = e(t + ".size", r.size),
                n.color = e(t + ".color", r.color),
                n
            }
            ,
            r.coercePattern = function(e, t, r, n) {
                if (e(t + ".shape")) {
                    e(t + ".solidity"),
                    e(t + ".size");
                    var a = "overlay" === e(t + ".fillmode");
                    if (!n) {
                        var i = e(t + ".bgcolor", a ? r : void 0);
                        e(t + ".fgcolor", a ? s.contrast(i) : r)
                    }
                    e(t + ".fgopacity", a ? .5 : 1)
                }
            }
            ,
            r.coerceHoverinfo = function(e, t, n) {
                var a, o = t._module.attributes, s = o.hoverinfo ? o : i, l = s.hoverinfo;
                if (1 === n._dataLength) {
                    var c = "all" === l.dflt ? l.flags.slice() : l.dflt.split("+");
                    c.splice(c.indexOf("name"), 1),
                    a = c.join("+")
                }
                return r.coerce(e, t, s, "hoverinfo", a)
            }
            ,
            r.coerceSelectionMarkerOpacity = function(e, t) {
                if (e.marker) {
                    var r, n, a = e.marker.opacity;
                    if (void 0 !== a)
                        d(a) || e.selected || e.unselected || (r = a,
                        n = l * a),
                        t("selected.marker.opacity", r),
                        t("unselected.marker.opacity", n)
                }
            }
            ,
            r.validate = h
        }
        , {
            "../components/color": 235,
            "../components/colorscale/scales": 250,
            "../constants/interactions": 343,
            "../plots/attributes": 410,
            "./array": 350,
            "./mod": 372,
            "./nested_property": 373,
            "./regex": 382,
            "fast-isnumeric": 107,
            tinycolor2: 184
        }],
        355: [function(e, t, r) {
            "use strict";
            var n, a, i = e("d3-time-format").timeFormat, o = e("fast-isnumeric"), s = e("./loggers"), l = e("./mod").mod, c = e("../constants/numerical"), u = c.BADNUM, f = c.ONEDAY, d = c.ONEHOUR, h = c.ONEMIN, p = c.ONESEC, g = c.EPOCHJD, y = e("../registry"), v = e("d3-time-format").utcFormat, m = /^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m, b = /^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m, x = (new Date).getFullYear() - 70;
            function _(e) {
                return e && y.componentsRegistry.calendars && "string" == typeof e && "gregorian" !== e
            }
            function w(e, t) {
                return String(e + Math.pow(10, t)).substr(1)
            }
            r.dateTick0 = function(e, t) {
                var n = function(e, t) {
                    return _(e) ? t ? y.getComponentMethod("calendars", "CANONICAL_SUNDAY")[e] : y.getComponentMethod("calendars", "CANONICAL_TICK")[e] : t ? "2000-01-02" : "2000-01-01"
                }(e, !!t);
                if (t < 2)
                    return n;
                var a = r.dateTime2ms(n, e);
                return a += f * (t - 1),
                r.ms2DateTime(a, 0, e)
            }
            ,
            r.dfltRange = function(e) {
                return _(e) ? y.getComponentMethod("calendars", "DFLTRANGE")[e] : ["2000-01-01", "2001-01-01"]
            }
            ,
            r.isJSDate = function(e) {
                return "object" == typeof e && null !== e && "function" == typeof e.getTime
            }
            ,
            r.dateTime2ms = function(e, t) {
                if (r.isJSDate(e)) {
                    var i = e.getTimezoneOffset() * h
                      , o = (e.getUTCMinutes() - e.getMinutes()) * h + (e.getUTCSeconds() - e.getSeconds()) * p + (e.getUTCMilliseconds() - e.getMilliseconds());
                    if (o) {
                        var s = 3 * h;
                        i = i - s / 2 + l(o - i + s / 2, s)
                    }
                    return (e = Number(e) - i) >= n && e <= a ? e : u
                }
                if ("string" != typeof e && "number" != typeof e)
                    return u;
                e = String(e);
                var c = _(t)
                  , v = e.charAt(0);
                !c || "G" !== v && "g" !== v || (e = e.substr(1),
                t = "");
                var w = c && "chinese" === t.substr(0, 7)
                  , A = e.match(w ? b : m);
                if (!A)
                    return u;
                var k = A[1]
                  , T = A[3] || "1"
                  , M = Number(A[5] || 1)
                  , S = Number(A[7] || 0)
                  , C = Number(A[9] || 0)
                  , O = Number(A[11] || 0);
                if (c) {
                    if (2 === k.length)
                        return u;
                    var D;
                    k = Number(k);
                    try {
                        var L = y.getComponentMethod("calendars", "getCal")(t);
                        if (w) {
                            var E = "i" === T.charAt(T.length - 1);
                            T = parseInt(T, 10),
                            D = L.newDate(k, L.toMonthIndex(k, T, E), M)
                        } else
                            D = L.newDate(k, Number(T), M)
                    } catch (e) {
                        return u
                    }
                    return D ? (D.toJD() - g) * f + S * d + C * h + O * p : u
                }
                k = 2 === k.length ? (Number(k) + 2e3 - x) % 100 + x : Number(k),
                T -= 1;
                var z = new Date(Date.UTC(2e3, T, M, S, C));
                return z.setUTCFullYear(k),
                z.getUTCMonth() !== T || z.getUTCDate() !== M ? u : z.getTime() + O * p
            }
            ,
            n = r.MIN_MS = r.dateTime2ms("-9999"),
            a = r.MAX_MS = r.dateTime2ms("9999-12-31 23:59:59.9999"),
            r.isDateTime = function(e, t) {
                return r.dateTime2ms(e, t) !== u
            }
            ;
            var A = 90 * f
              , k = 3 * d
              , T = 5 * h;
            function M(e, t, r, n, a) {
                if ((t || r || n || a) && (e += " " + w(t, 2) + ":" + w(r, 2),
                (n || a) && (e += ":" + w(n, 2),
                a))) {
                    for (var i = 4; a % 10 == 0; )
                        i -= 1,
                        a /= 10;
                    e += "." + w(a, i)
                }
                return e
            }
            r.ms2DateTime = function(e, t, r) {
                if ("number" != typeof e || !(e >= n && e <= a))
                    return u;
                t || (t = 0);
                var i, o, s, c, m, b, x = Math.floor(10 * l(e + .05, 1)), w = Math.round(e - x / 10);
                if (_(r)) {
                    var S = Math.floor(w / f) + g
                      , C = Math.floor(l(e, f));
                    try {
                        i = y.getComponentMethod("calendars", "getCal")(r).fromJD(S).formatDate("yyyy-mm-dd")
                    } catch (e) {
                        i = v("G%Y-%m-%d")(new Date(w))
                    }
                    if ("-" === i.charAt(0))
                        for (; i.length < 11; )
                            i = "-0" + i.substr(1);
                    else
                        for (; i.length < 10; )
                            i = "0" + i;
                    o = t < A ? Math.floor(C / d) : 0,
                    s = t < A ? Math.floor(C % d / h) : 0,
                    c = t < k ? Math.floor(C % h / p) : 0,
                    m = t < T ? C % p * 10 + x : 0
                } else
                    b = new Date(w),
                    i = v("%Y-%m-%d")(b),
                    o = t < A ? b.getUTCHours() : 0,
                    s = t < A ? b.getUTCMinutes() : 0,
                    c = t < k ? b.getUTCSeconds() : 0,
                    m = t < T ? 10 * b.getUTCMilliseconds() + x : 0;
                return M(i, o, s, c, m)
            }
            ,
            r.ms2DateTimeLocal = function(e) {
                if (!(e >= n + f && e <= a - f))
                    return u;
                var t = Math.floor(10 * l(e + .05, 1))
                  , r = new Date(Math.round(e - t / 10));
                return M(i("%Y-%m-%d")(r), r.getHours(), r.getMinutes(), r.getSeconds(), 10 * r.getUTCMilliseconds() + t)
            }
            ,
            r.cleanDate = function(e, t, n) {
                if (e === u)
                    return t;
                if (r.isJSDate(e) || "number" == typeof e && isFinite(e)) {
                    if (_(n))
                        return s.error("JS Dates and milliseconds are incompatible with world calendars", e),
                        t;
                    if (!(e = r.ms2DateTimeLocal(+e)) && void 0 !== t)
                        return t
                } else if (!r.isDateTime(e, n))
                    return s.error("unrecognized date", e),
                    t;
                return e
            }
            ;
            var S = /%\d?f/g
              , C = /%h/g
              , O = {
                1: "1",
                2: "1",
                3: "2",
                4: "2"
            };
            function D(e, t, r, n) {
                e = e.replace(S, (function(e) {
                    var r = Math.min(+e.charAt(1) || 6, 6);
                    return (t / 1e3 % 1 + 2).toFixed(r).substr(2).replace(/0+$/, "") || "0"
                }
                ));
                var a = new Date(Math.floor(t + .05));
                if (e = e.replace(C, (function() {
                    return O[r("%q")(a)]
                }
                )),
                _(n))
                    try {
                        e = y.getComponentMethod("calendars", "worldCalFmt")(e, t, n)
                    } catch (e) {
                        return "Invalid"
                    }
                return r(e)(a)
            }
            var L = [59, 59.9, 59.99, 59.999, 59.9999];
            r.formatDate = function(e, t, r, n, a, i) {
                if (a = _(a) && a,
                !t)
                    if ("y" === r)
                        t = i.year;
                    else if ("m" === r)
                        t = i.month;
                    else {
                        if ("d" !== r)
                            return function(e, t) {
                                var r = l(e + .05, f)
                                  , n = w(Math.floor(r / d), 2) + ":" + w(l(Math.floor(r / h), 60), 2);
                                if ("M" !== t) {
                                    o(t) || (t = 0);
                                    var a = (100 + Math.min(l(e / p, 60), L[t])).toFixed(t).substr(1);
                                    t > 0 && (a = a.replace(/0+$/, "").replace(/[\.]$/, "")),
                                    n += ":" + a
                                }
                                return n
                            }(e, r) + "\n" + D(i.dayMonthYear, e, n, a);
                        t = i.dayMonth + "\n" + i.year
                    }
                return D(t, e, n, a)
            }
            ;
            var E = 3 * f;
            r.incrementMonth = function(e, t, r) {
                r = _(r) && r;
                var n = l(e, f);
                if (e = Math.round(e - n),
                r)
                    try {
                        var a = Math.round(e / f) + g
                          , i = y.getComponentMethod("calendars", "getCal")(r)
                          , o = i.fromJD(a);
                        return t % 12 ? i.add(o, t, "m") : i.add(o, t / 12, "y"),
                        (o.toJD() - g) * f + n
                    } catch (t) {
                        s.error("invalid ms " + e + " in calendar " + r)
                    }
                var c = new Date(e + E);
                return c.setUTCMonth(c.getUTCMonth() + t) + n - E
            }
            ,
            r.findExactDates = function(e, t) {
                for (var r, n, a = 0, i = 0, s = 0, l = 0, c = _(t) && y.getComponentMethod("calendars", "getCal")(t), u = 0; u < e.length; u++)
                    if (n = e[u],
                    o(n)) {
                        if (!(n % f))
                            if (c)
                                try {
                                    1 === (r = c.fromJD(n / f + g)).day() ? 1 === r.month() ? a++ : i++ : s++
                                } catch (e) {}
                            else
                                1 === (r = new Date(n)).getUTCDate() ? 0 === r.getUTCMonth() ? a++ : i++ : s++
                    } else
                        l++;
                s += i += a;
                var d = e.length - l;
                return {
                    exactYears: a / d,
                    exactMonths: i / d,
                    exactDays: s / d
                }
            }
        }
        , {
            "../constants/numerical": 344,
            "../registry": 451,
            "./loggers": 369,
            "./mod": 372,
            "d3-time-format": 39,
            "fast-isnumeric": 107
        }],
        356: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("./loggers")
              , i = e("./matrix")
              , o = e("gl-mat4");
            function s(e) {
                var t = e && e.parentNode;
                t && t.removeChild(e)
            }
            function l(e, t, r) {
                var n = "plotly.js-style-" + e
                  , i = document.getElementById(n);
                i || ((i = document.createElement("style")).setAttribute("id", n),
                i.appendChild(document.createTextNode("")),
                document.head.appendChild(i));
                var o = i.sheet;
                o.insertRule ? o.insertRule(t + "{" + r + "}", 0) : o.addRule ? o.addRule(t, r, 0) : a.warn("addStyleRule failed")
            }
            function c(e) {
                var t = window.getComputedStyle(e, null)
                  , r = t.getPropertyValue("-webkit-transform") || t.getPropertyValue("-moz-transform") || t.getPropertyValue("-ms-transform") || t.getPropertyValue("-o-transform") || t.getPropertyValue("transform");
                return "none" === r ? null : r.replace("matrix", "").replace("3d", "").slice(1, -1).split(",").map((function(e) {
                    return +e
                }
                ))
            }
            function u(e) {
                for (var t = []; f(e); )
                    t.push(e),
                    e = e.parentNode;
                return t
            }
            function f(e) {
                return e && (e instanceof Element || e instanceof HTMLElement)
            }
            t.exports = {
                getGraphDiv: function(e) {
                    var t;
                    if ("string" == typeof e) {
                        if (null === (t = document.getElementById(e)))
                            throw new Error("No DOM element with id '" + e + "' exists on the page.");
                        return t
                    }
                    if (null == e)
                        throw new Error("DOM element provided is null or undefined");
                    return e
                },
                isPlotDiv: function(e) {
                    var t = n.select(e);
                    return t.node()instanceof HTMLElement && t.size() && t.classed("js-plotly-plot")
                },
                removeElement: s,
                addStyleRule: function(e, t) {
                    l("global", e, t)
                },
                addRelatedStyleRule: l,
                deleteRelatedStyleRule: function(e) {
                    var t = "plotly.js-style-" + e
                      , r = document.getElementById(t);
                    r && s(r)
                },
                getFullTransformMatrix: function(e) {
                    var t = u(e)
                      , r = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];
                    return t.forEach((function(e) {
                        var t = c(e);
                        if (t) {
                            var n = i.convertCssMatrix(t);
                            r = o.multiply(r, r, n)
                        }
                    }
                    )),
                    r
                },
                getElementTransformMatrix: c,
                getElementAndAncestors: u,
                equalDomRects: function(e, t) {
                    return e && t && e.x === t.x && e.y === t.y && e.top === t.top && e.left === t.left && e.right === t.right && e.bottom === t.bottom
                }
            }
        }
        , {
            "./loggers": 369,
            "./matrix": 371,
            "@plotly/d3": 6,
            "gl-mat4": 126
        }],
        357: [function(e, t, r) {
            "use strict";
            var n = e("events").EventEmitter
              , a = {
                init: function(e) {
                    if (e._ev instanceof n)
                        return e;
                    var t = new n
                      , r = new n;
                    return e._ev = t,
                    e._internalEv = r,
                    e.on = t.on.bind(t),
                    e.once = t.once.bind(t),
                    e.removeListener = t.removeListener.bind(t),
                    e.removeAllListeners = t.removeAllListeners.bind(t),
                    e._internalOn = r.on.bind(r),
                    e._internalOnce = r.once.bind(r),
                    e._removeInternalListener = r.removeListener.bind(r),
                    e._removeAllInternalListeners = r.removeAllListeners.bind(r),
                    e.emit = function(n, a) {
                        "undefined" != typeof jQuery && jQuery(e).trigger(n, a),
                        t.emit(n, a),
                        r.emit(n, a)
                    }
                    ,
                    e
                },
                triggerHandler: function(e, t, r) {
                    var n, a;
                    "undefined" != typeof jQuery && (n = jQuery(e).triggerHandler(t, r));
                    var i = e._ev;
                    if (!i)
                        return n;
                    var o, s = i._events[t];
                    if (!s)
                        return n;
                    function l(e) {
                        return e.listener ? (i.removeListener(t, e.listener),
                        e.fired ? void 0 : (e.fired = !0,
                        e.listener.apply(i, [r]))) : e.apply(i, [r])
                    }
                    for (s = Array.isArray(s) ? s : [s],
                    o = 0; o < s.length - 1; o++)
                        l(s[o]);
                    return a = l(s[o]),
                    void 0 !== n ? n : a
                },
                purge: function(e) {
                    return delete e._ev,
                    delete e.on,
                    delete e.once,
                    delete e.removeListener,
                    delete e.removeAllListeners,
                    delete e.emit,
                    delete e._ev,
                    delete e._internalEv,
                    delete e._internalOn,
                    delete e._internalOnce,
                    delete e._removeInternalListener,
                    delete e._removeAllInternalListeners,
                    e
                }
            };
            t.exports = a
        }
        , {
            events: 103
        }],
        358: [function(e, t, r) {
            "use strict";
            var n = e("./is_plain_object.js")
              , a = Array.isArray;
            function i(e, t, r, o) {
                var s, l, c, u, f, d, h = e[0], p = e.length;
                if (2 === p && a(h) && a(e[1]) && 0 === h.length) {
                    if (function(e, t) {
                        var r, n;
                        for (r = 0; r < e.length; r++) {
                            if (null !== (n = e[r]) && "object" == typeof n)
                                return !1;
                            void 0 !== n && (t[r] = n)
                        }
                        return !0
                    }(e[1], h))
                        return h;
                    h.splice(0, h.length)
                }
                for (var g = 1; g < p; g++)
                    for (l in s = e[g])
                        c = h[l],
                        u = s[l],
                        o && a(u) ? h[l] = u : t && u && (n(u) || (f = a(u))) ? (f ? (f = !1,
                        d = c && a(c) ? c : []) : d = c && n(c) ? c : {},
                        h[l] = i([d, u], t, r, o)) : (void 0 !== u || r) && (h[l] = u);
                return h
            }
            r.extendFlat = function() {
                return i(arguments, !1, !1, !1)
            }
            ,
            r.extendDeep = function() {
                return i(arguments, !0, !1, !1)
            }
            ,
            r.extendDeepAll = function() {
                return i(arguments, !0, !0, !1)
            }
            ,
            r.extendDeepNoArrays = function() {
                return i(arguments, !0, !1, !0)
            }
        }
        , {
            "./is_plain_object.js": 366
        }],
        359: [function(e, t, r) {
            "use strict";
            t.exports = function(e) {
                for (var t = {}, r = [], n = 0, a = 0; a < e.length; a++) {
                    var i = e[a];
                    1 !== t[i] && (t[i] = 1,
                    r[n++] = i)
                }
                return r
            }
        }
        , {}],
        360: [function(e, t, r) {
            "use strict";
            function n(e) {
                return !0 === e.visible
            }
            function a(e) {
                var t = e[0].trace;
                return !0 === t.visible && 0 !== t._length
            }
            t.exports = function(e) {
                for (var t, r = (t = e,
                Array.isArray(t) && Array.isArray(t[0]) && t[0][0] && t[0][0].trace ? a : n), i = [], o = 0; o < e.length; o++) {
                    var s = e[o];
                    r(s) && i.push(s)
                }
                return i
            }
        }
        , {}],
        361: [function(e, t, r) {
            "use strict";
            var n, a, i, o = e("./mod").mod;
            function s(e, t, r, n, a, i, o, s) {
                var l = r - e
                  , c = a - e
                  , u = o - a
                  , f = n - t
                  , d = i - t
                  , h = s - i
                  , p = l * h - u * f;
                if (0 === p)
                    return null;
                var g = (c * h - u * d) / p
                  , y = (c * f - l * d) / p;
                return y < 0 || y > 1 || g < 0 || g > 1 ? null : {
                    x: e + l * g,
                    y: t + f * g
                }
            }
            function l(e, t, r, n, a) {
                var i = n * e + a * t;
                if (i < 0)
                    return n * n + a * a;
                if (i > r) {
                    var o = n - e
                      , s = a - t;
                    return o * o + s * s
                }
                var l = n * t - a * e;
                return l * l / r
            }
            r.segmentsIntersect = s,
            r.segmentDistance = function(e, t, r, n, a, i, o, c) {
                if (s(e, t, r, n, a, i, o, c))
                    return 0;
                var u = r - e
                  , f = n - t
                  , d = o - a
                  , h = c - i
                  , p = u * u + f * f
                  , g = d * d + h * h
                  , y = Math.min(l(u, f, p, a - e, i - t), l(u, f, p, o - e, c - t), l(d, h, g, e - a, t - i), l(d, h, g, r - a, n - i));
                return Math.sqrt(y)
            }
            ,
            r.getTextLocation = function(e, t, r, s) {
                if (e === a && s === i || (n = {},
                a = e,
                i = s),
                n[r])
                    return n[r];
                var l = e.getPointAtLength(o(r - s / 2, t))
                  , c = e.getPointAtLength(o(r + s / 2, t))
                  , u = Math.atan((c.y - l.y) / (c.x - l.x))
                  , f = e.getPointAtLength(o(r, t))
                  , d = {
                    x: (4 * f.x + l.x + c.x) / 6,
                    y: (4 * f.y + l.y + c.y) / 6,
                    theta: u
                };
                return n[r] = d,
                d
            }
            ,
            r.clearLocationCache = function() {
                a = null
            }
            ,
            r.getVisibleSegment = function(e, t, r) {
                var n, a, i = t.left, o = t.right, s = t.top, l = t.bottom, c = 0, u = e.getTotalLength(), f = u;
                function d(t) {
                    var r = e.getPointAtLength(t);
                    0 === t ? n = r : t === u && (a = r);
                    var c = r.x < i ? i - r.x : r.x > o ? r.x - o : 0
                      , f = r.y < s ? s - r.y : r.y > l ? r.y - l : 0;
                    return Math.sqrt(c * c + f * f)
                }
                for (var h = d(c); h; ) {
                    if ((c += h + r) > f)
                        return;
                    h = d(c)
                }
                for (h = d(f); h; ) {
                    if (c > (f -= h + r))
                        return;
                    h = d(f)
                }
                return {
                    min: c,
                    max: f,
                    len: f - c,
                    total: u,
                    isClosed: 0 === c && f === u && Math.abs(n.x - a.x) < .1 && Math.abs(n.y - a.y) < .1
                }
            }
            ,
            r.findPointOnPath = function(e, t, r, n) {
                for (var a, i, o, s = (n = n || {}).pathLength || e.getTotalLength(), l = n.tolerance || .001, c = n.iterationLimit || 30, u = e.getPointAtLength(0)[r] > e.getPointAtLength(s)[r] ? -1 : 1, f = 0, d = 0, h = s; f < c; ) {
                    if (a = (d + h) / 2,
                    o = (i = e.getPointAtLength(a))[r] - t,
                    Math.abs(o) < l)
                        return i;
                    u * o > 0 ? h = a : d = a,
                    f++
                }
                return i
            }
        }
        , {
            "./mod": 372
        }],
        362: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("tinycolor2")
              , i = e("color-normalize")
              , o = e("../components/colorscale")
              , s = e("../components/color/attributes").defaultLine
              , l = e("./array").isArrayOrTypedArray
              , c = i(s);
            function u(e, t) {
                var r = e;
                return r[3] *= t,
                r
            }
            function f(e) {
                if (n(e))
                    return c;
                var t = i(e);
                return t.length ? t : c
            }
            function d(e) {
                return n(e) ? e : 1
            }
            t.exports = {
                formatColor: function(e, t, r) {
                    var n, a, s, h, p, g = e.color, y = l(g), v = l(t), m = o.extractOpts(e), b = [];
                    if (n = void 0 !== m.colorscale ? o.makeColorScaleFuncFromTrace(e) : f,
                    a = y ? function(e, t) {
                        return void 0 === e[t] ? c : i(n(e[t]))
                    }
                    : f,
                    s = v ? function(e, t) {
                        return void 0 === e[t] ? 1 : d(e[t])
                    }
                    : d,
                    y || v)
                        for (var x = 0; x < r; x++)
                            h = a(g, x),
                            p = s(t, x),
                            b[x] = u(h, p);
                    else
                        b = u(i(g), t);
                    return b
                },
                parseColorScale: function(e) {
                    var t = o.extractOpts(e)
                      , r = t.colorscale;
                    return t.reversescale && (r = o.flipScale(t.colorscale)),
                    r.map((function(e) {
                        var t = e[0]
                          , r = a(e[1]).toRgb();
                        return {
                            index: t,
                            rgb: [r.r, r.g, r.b, r.a]
                        }
                    }
                    ))
                }
            }
        }
        , {
            "../components/color/attributes": 234,
            "../components/colorscale": 247,
            "./array": 350,
            "color-normalize": 21,
            "fast-isnumeric": 107,
            tinycolor2: 184
        }],
        363: [function(e, t, r) {
            "use strict";
            t.exports = function(e) {
                return e
            }
        }
        , {}],
        364: [function(e, t, r) {
            "use strict";
            t.exports = function(e, t) {
                if (!t)
                    return e;
                var r = 1 / Math.abs(t)
                  , n = r > 1 ? (r * e + r * t) / r : e + t
                  , a = String(n).length;
                if (a > 16) {
                    var i = String(t).length;
                    if (a >= String(e).length + i) {
                        var o = parseFloat(n).toPrecision(12);
                        -1 === o.indexOf("e+") && (n = +o)
                    }
                }
                return n
            }
        }
        , {}],
        365: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("d3-time-format").utcFormat
              , i = e("d3-format").format
              , o = e("fast-isnumeric")
              , s = e("../constants/numerical")
              , l = s.FP_SAFE
              , c = -l
              , u = s.BADNUM
              , f = t.exports = {};
            f.adjustFormat = function(e) {
                return !e || /^\d[.]\df/.test(e) || /[.]\d%/.test(e) ? e : "0.f" === e ? "~f" : /^\d%/.test(e) ? "~%" : /^\ds/.test(e) ? "~s" : !/^[~,.0$]/.test(e) && /[&fps]/.test(e) ? "~" + e : e
            }
            ;
            var d = {};
            f.warnBadFormat = function(e) {
                var t = String(e);
                d[t] || (d[t] = 1,
                f.warn('encountered bad format: "' + t + '"'))
            }
            ,
            f.noFormat = function(e) {
                return String(e)
            }
            ,
            f.numberFormat = function(e) {
                var t;
                try {
                    t = i(f.adjustFormat(e))
                } catch (t) {
                    return f.warnBadFormat(e),
                    f.noFormat
                }
                return t
            }
            ,
            f.nestedProperty = e("./nested_property"),
            f.keyedContainer = e("./keyed_container"),
            f.relativeAttr = e("./relative_attr"),
            f.isPlainObject = e("./is_plain_object"),
            f.toLogRange = e("./to_log_range"),
            f.relinkPrivateKeys = e("./relink_private");
            var h = e("./array");
            f.isTypedArray = h.isTypedArray,
            f.isArrayOrTypedArray = h.isArrayOrTypedArray,
            f.isArray1D = h.isArray1D,
            f.ensureArray = h.ensureArray,
            f.concat = h.concat,
            f.maxRowLength = h.maxRowLength,
            f.minRowLength = h.minRowLength;
            var p = e("./mod");
            f.mod = p.mod,
            f.modHalf = p.modHalf;
            var g = e("./coerce");
            f.valObjectMeta = g.valObjectMeta,
            f.coerce = g.coerce,
            f.coerce2 = g.coerce2,
            f.coerceFont = g.coerceFont,
            f.coercePattern = g.coercePattern,
            f.coerceHoverinfo = g.coerceHoverinfo,
            f.coerceSelectionMarkerOpacity = g.coerceSelectionMarkerOpacity,
            f.validate = g.validate;
            var y = e("./dates");
            f.dateTime2ms = y.dateTime2ms,
            f.isDateTime = y.isDateTime,
            f.ms2DateTime = y.ms2DateTime,
            f.ms2DateTimeLocal = y.ms2DateTimeLocal,
            f.cleanDate = y.cleanDate,
            f.isJSDate = y.isJSDate,
            f.formatDate = y.formatDate,
            f.incrementMonth = y.incrementMonth,
            f.dateTick0 = y.dateTick0,
            f.dfltRange = y.dfltRange,
            f.findExactDates = y.findExactDates,
            f.MIN_MS = y.MIN_MS,
            f.MAX_MS = y.MAX_MS;
            var v = e("./search");
            f.findBin = v.findBin,
            f.sorterAsc = v.sorterAsc,
            f.sorterDes = v.sorterDes,
            f.distinctVals = v.distinctVals,
            f.roundUp = v.roundUp,
            f.sort = v.sort,
            f.findIndexOfMin = v.findIndexOfMin,
            f.sortObjectKeys = e("./sort_object_keys");
            var m = e("./stats");
            f.aggNums = m.aggNums,
            f.len = m.len,
            f.mean = m.mean,
            f.median = m.median,
            f.midRange = m.midRange,
            f.variance = m.variance,
            f.stdev = m.stdev,
            f.interp = m.interp;
            var b = e("./matrix");
            f.init2dArray = b.init2dArray,
            f.transposeRagged = b.transposeRagged,
            f.dot = b.dot,
            f.translationMatrix = b.translationMatrix,
            f.rotationMatrix = b.rotationMatrix,
            f.rotationXYMatrix = b.rotationXYMatrix,
            f.apply3DTransform = b.apply3DTransform,
            f.apply2DTransform = b.apply2DTransform,
            f.apply2DTransform2 = b.apply2DTransform2,
            f.convertCssMatrix = b.convertCssMatrix,
            f.inverseTransformMatrix = b.inverseTransformMatrix;
            var x = e("./angles");
            f.deg2rad = x.deg2rad,
            f.rad2deg = x.rad2deg,
            f.angleDelta = x.angleDelta,
            f.angleDist = x.angleDist,
            f.isFullCircle = x.isFullCircle,
            f.isAngleInsideSector = x.isAngleInsideSector,
            f.isPtInsideSector = x.isPtInsideSector,
            f.pathArc = x.pathArc,
            f.pathSector = x.pathSector,
            f.pathAnnulus = x.pathAnnulus;
            var _ = e("./anchor_utils");
            f.isLeftAnchor = _.isLeftAnchor,
            f.isCenterAnchor = _.isCenterAnchor,
            f.isRightAnchor = _.isRightAnchor,
            f.isTopAnchor = _.isTopAnchor,
            f.isMiddleAnchor = _.isMiddleAnchor,
            f.isBottomAnchor = _.isBottomAnchor;
            var w = e("./geometry2d");
            f.segmentsIntersect = w.segmentsIntersect,
            f.segmentDistance = w.segmentDistance,
            f.getTextLocation = w.getTextLocation,
            f.clearLocationCache = w.clearLocationCache,
            f.getVisibleSegment = w.getVisibleSegment,
            f.findPointOnPath = w.findPointOnPath;
            var A = e("./extend");
            f.extendFlat = A.extendFlat,
            f.extendDeep = A.extendDeep,
            f.extendDeepAll = A.extendDeepAll,
            f.extendDeepNoArrays = A.extendDeepNoArrays;
            var k = e("./loggers");
            f.log = k.log,
            f.warn = k.warn,
            f.error = k.error;
            var T = e("./regex");
            f.counterRegex = T.counter;
            var M = e("./throttle");
            f.throttle = M.throttle,
            f.throttleDone = M.done,
            f.clearThrottle = M.clear;
            var S = e("./dom");
            function C(e) {
                var t = {};
                for (var r in e)
                    for (var n = e[r], a = 0; a < n.length; a++)
                        t[n[a]] = +r;
                return t
            }
            f.getGraphDiv = S.getGraphDiv,
            f.isPlotDiv = S.isPlotDiv,
            f.removeElement = S.removeElement,
            f.addStyleRule = S.addStyleRule,
            f.addRelatedStyleRule = S.addRelatedStyleRule,
            f.deleteRelatedStyleRule = S.deleteRelatedStyleRule,
            f.getFullTransformMatrix = S.getFullTransformMatrix,
            f.getElementTransformMatrix = S.getElementTransformMatrix,
            f.getElementAndAncestors = S.getElementAndAncestors,
            f.equalDomRects = S.equalDomRects,
            f.clearResponsive = e("./clear_responsive"),
            f.preserveDrawingBuffer = e("./preserve_drawing_buffer"),
            f.makeTraceGroups = e("./make_trace_groups"),
            f._ = e("./localize"),
            f.notifier = e("./notifier"),
            f.filterUnique = e("./filter_unique"),
            f.filterVisible = e("./filter_visible"),
            f.pushUnique = e("./push_unique"),
            f.increment = e("./increment"),
            f.cleanNumber = e("./clean_number"),
            f.ensureNumber = function(e) {
                return o(e) ? (e = Number(e)) > l || e < c ? u : e : u
            }
            ,
            f.isIndex = function(e, t) {
                return !(void 0 !== t && e >= t) && (o(e) && e >= 0 && e % 1 == 0)
            }
            ,
            f.noop = e("./noop"),
            f.identity = e("./identity"),
            f.repeat = function(e, t) {
                for (var r = new Array(t), n = 0; n < t; n++)
                    r[n] = e;
                return r
            }
            ,
            f.swapAttrs = function(e, t, r, n) {
                r || (r = "x"),
                n || (n = "y");
                for (var a = 0; a < t.length; a++) {
                    var i = t[a]
                      , o = f.nestedProperty(e, i.replace("?", r))
                      , s = f.nestedProperty(e, i.replace("?", n))
                      , l = o.get();
                    o.set(s.get()),
                    s.set(l)
                }
            }
            ,
            f.raiseToTop = function(e) {
                e.parentNode.appendChild(e)
            }
            ,
            f.cancelTransition = function(e) {
                return e.transition().duration(0)
            }
            ,
            f.constrain = function(e, t, r) {
                return t > r ? Math.max(r, Math.min(t, e)) : Math.max(t, Math.min(r, e))
            }
            ,
            f.bBoxIntersect = function(e, t, r) {
                return r = r || 0,
                e.left <= t.right + r && t.left <= e.right + r && e.top <= t.bottom + r && t.top <= e.bottom + r
            }
            ,
            f.simpleMap = function(e, t, r, n, a) {
                for (var i = e.length, o = new Array(i), s = 0; s < i; s++)
                    o[s] = t(e[s], r, n, a);
                return o
            }
            ,
            f.randstr = function e(t, r, n, a) {
                if (n || (n = 16),
                void 0 === r && (r = 24),
                r <= 0)
                    return "0";
                var i, o, s = Math.log(Math.pow(2, r)) / Math.log(n), l = "";
                for (i = 2; s === 1 / 0; i *= 2)
                    s = Math.log(Math.pow(2, r / i)) / Math.log(n) * i;
                var c = s - Math.floor(s);
                for (i = 0; i < Math.floor(s); i++)
                    l = Math.floor(Math.random() * n).toString(n) + l;
                c && (o = Math.pow(n, c),
                l = Math.floor(Math.random() * o).toString(n) + l);
                var u = parseInt(l, n);
                return t && t[l] || u !== 1 / 0 && u >= Math.pow(2, r) ? a > 10 ? (f.warn("randstr failed uniqueness"),
                l) : e(t, r, n, (a || 0) + 1) : l
            }
            ,
            f.OptionControl = function(e, t) {
                e || (e = {}),
                t || (t = "opt");
                var r = {
                    optionList: [],
                    _newoption: function(n) {
                        n[t] = e,
                        r[n.name] = n,
                        r.optionList.push(n)
                    }
                };
                return r["_" + t] = e,
                r
            }
            ,
            f.smooth = function(e, t) {
                if ((t = Math.round(t) || 0) < 2)
                    return e;
                var r, n, a, i, o = e.length, s = 2 * o, l = 2 * t - 1, c = new Array(l), u = new Array(o);
                for (r = 0; r < l; r++)
                    c[r] = (1 - Math.cos(Math.PI * (r + 1) / t)) / (2 * t);
                for (r = 0; r < o; r++) {
                    for (i = 0,
                    n = 0; n < l; n++)
                        (a = r + n + 1 - t) < -o ? a -= s * Math.round(a / s) : a >= s && (a -= s * Math.floor(a / s)),
                        a < 0 ? a = -1 - a : a >= o && (a = s - 1 - a),
                        i += e[a] * c[n];
                    u[r] = i
                }
                return u
            }
            ,
            f.syncOrAsync = function(e, t, r) {
                var n;
                function a() {
                    return f.syncOrAsync(e, t, r)
                }
                for (; e.length; )
                    if ((n = (0,
                    e.splice(0, 1)[0])(t)) && n.then)
                        return n.then(a).then(void 0, f.promiseError);
                return r && r(t)
            }
            ,
            f.stripTrailingSlash = function(e) {
                return "/" === e.substr(-1) ? e.substr(0, e.length - 1) : e
            }
            ,
            f.noneOrAll = function(e, t, r) {
                if (e) {
                    var n, a = !1, i = !0;
                    for (n = 0; n < r.length; n++)
                        null != e[r[n]] ? a = !0 : i = !1;
                    if (a && !i)
                        for (n = 0; n < r.length; n++)
                            e[r[n]] = t[r[n]]
                }
            }
            ,
            f.mergeArray = function(e, t, r, n) {
                var a = "function" == typeof n;
                if (f.isArrayOrTypedArray(e))
                    for (var i = Math.min(e.length, t.length), o = 0; o < i; o++) {
                        var s = e[o];
                        t[o][r] = a ? n(s) : s
                    }
            }
            ,
            f.mergeArrayCastPositive = function(e, t, r) {
                return f.mergeArray(e, t, r, (function(e) {
                    var t = +e;
                    return isFinite(t) && t > 0 ? t : 0
                }
                ))
            }
            ,
            f.fillArray = function(e, t, r, n) {
                if (n = n || f.identity,
                f.isArrayOrTypedArray(e))
                    for (var a = 0; a < t.length; a++)
                        t[a][r] = n(e[a])
            }
            ,
            f.castOption = function(e, t, r, n) {
                n = n || f.identity;
                var a = f.nestedProperty(e, r).get();
                return f.isArrayOrTypedArray(a) ? Array.isArray(t) && f.isArrayOrTypedArray(a[t[0]]) ? n(a[t[0]][t[1]]) : n(a[t]) : a
            }
            ,
            f.extractOption = function(e, t, r, n) {
                if (r in e)
                    return e[r];
                var a = f.nestedProperty(t, n).get();
                return Array.isArray(a) ? void 0 : a
            }
            ,
            f.tagSelected = function(e, t, r) {
                var n, a, i = t.selectedpoints, o = t._indexToPoints;
                o && (n = C(o));
                for (var s = 0; s < i.length; s++) {
                    var l = i[s];
                    if (f.isIndex(l) || f.isArrayOrTypedArray(l) && f.isIndex(l[0]) && f.isIndex(l[1])) {
                        var c = n ? n[l] : l
                          , u = r ? r[c] : c;
                        void 0 !== (a = u) && a < e.length && (e[u].selected = 1)
                    }
                }
            }
            ,
            f.selIndices2selPoints = function(e) {
                var t = e.selectedpoints
                  , r = e._indexToPoints;
                if (r) {
                    for (var n = C(r), a = [], i = 0; i < t.length; i++) {
                        var o = t[i];
                        if (f.isIndex(o)) {
                            var s = n[o];
                            f.isIndex(s) && a.push(s)
                        }
                    }
                    return a
                }
                return t
            }
            ,
            f.getTargetArray = function(e, t) {
                var r = t.target;
                if ("string" == typeof r && r) {
                    var n = f.nestedProperty(e, r).get();
                    return !!Array.isArray(n) && n
                }
                return !!Array.isArray(r) && r
            }
            ,
            f.minExtend = function(e, t) {
                var r = {};
                "object" != typeof t && (t = {});
                var n, a, i, o = Object.keys(e);
                for (n = 0; n < o.length; n++)
                    i = e[a = o[n]],
                    "_" !== a.charAt(0) && "function" != typeof i && ("module" === a ? r[a] = i : Array.isArray(i) ? r[a] = "colorscale" === a ? i.slice() : i.slice(0, 3) : f.isTypedArray(i) ? r[a] = i.subarray(0, 3) : r[a] = i && "object" == typeof i ? f.minExtend(e[a], t[a]) : i);
                for (o = Object.keys(t),
                n = 0; n < o.length; n++)
                    "object" == typeof (i = t[a = o[n]]) && a in r && "object" == typeof r[a] || (r[a] = i);
                return r
            }
            ,
            f.titleCase = function(e) {
                return e.charAt(0).toUpperCase() + e.substr(1)
            }
            ,
            f.containsAny = function(e, t) {
                for (var r = 0; r < t.length; r++)
                    if (-1 !== e.indexOf(t[r]))
                        return !0;
                return !1
            }
            ,
            f.isIE = function() {
                return void 0 !== window.navigator.msSaveBlob
            }
            ;
            var O = /Version\/[\d\.]+.*Safari/;
            f.isSafari = function() {
                return O.test(window.navigator.userAgent)
            }
            ;
            var D = /iPad|iPhone|iPod/;
            f.isIOS = function() {
                return D.test(window.navigator.userAgent)
            }
            ;
            var L = /Firefox\/(\d+)\.\d+/;
            f.getFirefoxVersion = function() {
                var e = L.exec(window.navigator.userAgent);
                if (e && 2 === e.length) {
                    var t = parseInt(e[1]);
                    if (!isNaN(t))
                        return t
                }
                return null
            }
            ,
            f.isD3Selection = function(e) {
                return e instanceof n.selection
            }
            ,
            f.ensureSingle = function(e, t, r, n) {
                var a = e.select(t + (r ? "." + r : ""));
                if (a.size())
                    return a;
                var i = e.append(t);
                return r && i.classed(r, !0),
                n && i.call(n),
                i
            }
            ,
            f.ensureSingleById = function(e, t, r, n) {
                var a = e.select(t + "#" + r);
                if (a.size())
                    return a;
                var i = e.append(t).attr("id", r);
                return n && i.call(n),
                i
            }
            ,
            f.objectFromPath = function(e, t) {
                for (var r, n = e.split("."), a = r = {}, i = 0; i < n.length; i++) {
                    var o = n[i]
                      , s = null
                      , l = n[i].match(/(.*)\[([0-9]+)\]/);
                    l ? (o = l[1],
                    s = l[2],
                    r = r[o] = [],
                    i === n.length - 1 ? r[s] = t : r[s] = {},
                    r = r[s]) : (i === n.length - 1 ? r[o] = t : r[o] = {},
                    r = r[o])
                }
                return a
            }
            ;
            var E = /^([^\[\.]+)\.(.+)?/
              , z = /^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;
            f.expandObjectPaths = function(e) {
                var t, r, n, a, i, o, s;
                if ("object" == typeof e && !Array.isArray(e))
                    for (r in e)
                        e.hasOwnProperty(r) && ((t = r.match(E)) ? (a = e[r],
                        n = t[1],
                        delete e[r],
                        e[n] = f.extendDeepNoArrays(e[n] || {}, f.objectFromPath(r, f.expandObjectPaths(a))[n])) : (t = r.match(z)) ? (a = e[r],
                        n = t[1],
                        i = parseInt(t[2]),
                        delete e[r],
                        e[n] = e[n] || [],
                        "." === t[3] ? (s = t[4],
                        o = e[n][i] = e[n][i] || {},
                        f.extendDeepNoArrays(o, f.objectFromPath(s, f.expandObjectPaths(a)))) : e[n][i] = f.expandObjectPaths(a)) : e[r] = f.expandObjectPaths(e[r]));
                return e
            }
            ,
            f.numSeparate = function(e, t, r) {
                if (r || (r = !1),
                "string" != typeof t || 0 === t.length)
                    throw new Error("Separator string required for formatting!");
                "number" == typeof e && (e = String(e));
                var n = /(\d+)(\d{3})/
                  , a = t.charAt(0)
                  , i = t.charAt(1)
                  , o = e.split(".")
                  , s = o[0]
                  , l = o.length > 1 ? a + o[1] : "";
                if (i && (o.length > 1 || s.length > 4 || r))
                    for (; n.test(s); )
                        s = s.replace(n, "$1" + i + "$2");
                return s + l
            }
            ,
            f.TEMPLATE_STRING_REGEX = /%{([^\s%{}:]*)([:|\|][^}]*)?}/g;
            var F = /^\w*$/;
            f.templateString = function(e, t) {
                var r = {};
                return e.replace(f.TEMPLATE_STRING_REGEX, (function(e, n) {
                    var a;
                    return F.test(n) ? a = t[n] : (r[n] = r[n] || f.nestedProperty(t, n).get,
                    a = r[n]()),
                    f.isValidTextValue(a) ? a : ""
                }
                ))
            }
            ;
            var P = {
                max: 10,
                count: 0,
                name: "hovertemplate"
            };
            f.hovertemplateString = function() {
                return R.apply(P, arguments)
            }
            ;
            var I = {
                max: 10,
                count: 0,
                name: "texttemplate"
            };
            f.texttemplateString = function() {
                return R.apply(I, arguments)
            }
            ;
            var N = /^[:|\|]/;
            function R(e, t, r) {
                var n = this
                  , i = arguments;
                t || (t = {});
                var o = {};
                return e.replace(f.TEMPLATE_STRING_REGEX, (function(e, s, l) {
                    var c, u, d, h = "_xother" === s || "_yother" === s, p = "_xother_" === s || "_yother_" === s, g = "xother_" === s || "yother_" === s, y = "xother" === s || "yother" === s || h || g || p, v = s;
                    if ((h || p) && (v = v.substring(1)),
                    (g || p) && (v = v.substring(0, v.length - 1)),
                    y) {
                        if (void 0 === (c = t[v]))
                            return ""
                    } else
                        for (d = 3; d < i.length; d++)
                            if (u = i[d]) {
                                if (u.hasOwnProperty(v)) {
                                    c = u[v];
                                    break
                                }
                                if (F.test(v) || (c = f.nestedProperty(u, v).get(),
                                (c = o[v] || f.nestedProperty(u, v).get()) && (o[v] = c)),
                                void 0 !== c)
                                    break
                            }
                    if (void 0 === c && n)
                        return n.count < n.max && (f.warn("Variable '" + v + "' in " + n.name + " could not be found!"),
                        c = e),
                        n.count === n.max && f.warn("Too many " + n.name + " warnings - additional warnings will be suppressed"),
                        n.count++,
                        e;
                    if (l) {
                        var m;
                        if (":" === l[0] && (c = (m = r ? r.numberFormat : f.numberFormat)(l.replace(N, ""))(c)),
                        "|" === l[0]) {
                            m = r ? r.timeFormat : a;
                            var b = f.dateTime2ms(c);
                            c = f.formatDate(b, l.replace(N, ""), !1, m)
                        }
                    } else {
                        var x = v + "Label";
                        t.hasOwnProperty(x) && (c = t[x])
                    }
                    return y && (c = "(" + c + ")",
                    (h || p) && (c = " " + c),
                    (g || p) && (c += " ")),
                    c
                }
                ))
            }
            f.subplotSort = function(e, t) {
                for (var r = Math.min(e.length, t.length) + 1, n = 0, a = 0, i = 0; i < r; i++) {
                    var o = e.charCodeAt(i) || 0
                      , s = t.charCodeAt(i) || 0
                      , l = o >= 48 && o <= 57
                      , c = s >= 48 && s <= 57;
                    if (l && (n = 10 * n + o - 48),
                    c && (a = 10 * a + s - 48),
                    !l || !c) {
                        if (n !== a)
                            return n - a;
                        if (o !== s)
                            return o - s
                    }
                }
                return a - n
            }
            ;
            var j = 2e9;
            f.seedPseudoRandom = function() {
                j = 2e9
            }
            ,
            f.pseudoRandom = function() {
                var e = j;
                return j = (69069 * j + 1) % 4294967296,
                Math.abs(j - e) < 429496729 ? f.pseudoRandom() : j / 4294967296
            }
            ,
            f.fillText = function(e, t, r) {
                var n = Array.isArray(r) ? function(e) {
                    r.push(e)
                }
                : function(e) {
                    r.text = e
                }
                  , a = f.extractOption(e, t, "htx", "hovertext");
                if (f.isValidTextValue(a))
                    return n(a);
                var i = f.extractOption(e, t, "tx", "text");
                return f.isValidTextValue(i) ? n(i) : void 0
            }
            ,
            f.isValidTextValue = function(e) {
                return e || 0 === e
            }
            ,
            f.formatPercent = function(e, t) {
                t = t || 0;
                for (var r = (Math.round(100 * e * Math.pow(10, t)) * Math.pow(.1, t)).toFixed(t) + "%", n = 0; n < t; n++)
                    -1 !== r.indexOf(".") && (r = (r = r.replace("0%", "%")).replace(".%", "%"));
                return r
            }
            ,
            f.isHidden = function(e) {
                var t = window.getComputedStyle(e).display;
                return !t || "none" === t
            }
            ,
            f.strTranslate = function(e, t) {
                return e || t ? "translate(" + e + "," + t + ")" : ""
            }
            ,
            f.strRotate = function(e) {
                return e ? "rotate(" + e + ")" : ""
            }
            ,
            f.strScale = function(e) {
                return 1 !== e ? "scale(" + e + ")" : ""
            }
            ,
            f.getTextTransform = function(e) {
                var t = e.noCenter
                  , r = e.textX
                  , n = e.textY
                  , a = e.targetX
                  , i = e.targetY
                  , o = e.anchorX || 0
                  , s = e.anchorY || 0
                  , l = e.rotate
                  , c = e.scale;
                return c ? c > 1 && (c = 1) : c = 0,
                f.strTranslate(a - c * (r + o), i - c * (n + s)) + f.strScale(c) + (l ? "rotate(" + l + (t ? "" : " " + r + " " + n) + ")" : "")
            }
            ,
            f.ensureUniformFontSize = function(e, t) {
                var r = f.extendFlat({}, t);
                return r.size = Math.max(t.size, e._fullLayout.uniformtext.minsize || 0),
                r
            }
            ,
            f.join2 = function(e, t, r) {
                var n = e.length;
                return n > 1 ? e.slice(0, -1).join(t) + r + e[n - 1] : e.join(t)
            }
            ,
            f.bigFont = function(e) {
                return Math.round(1.2 * e)
            }
            ;
            var B = f.getFirefoxVersion()
              , H = null !== B && B < 86;
            f.getPositionFromD3Event = function() {
                return H ? [n.event.layerX, n.event.layerY] : [n.event.offsetX, n.event.offsetY]
            }
        }
        , {
            "../constants/numerical": 344,
            "./anchor_utils": 348,
            "./angles": 349,
            "./array": 350,
            "./clean_number": 351,
            "./clear_responsive": 353,
            "./coerce": 354,
            "./dates": 355,
            "./dom": 356,
            "./extend": 358,
            "./filter_unique": 359,
            "./filter_visible": 360,
            "./geometry2d": 361,
            "./identity": 363,
            "./increment": 364,
            "./is_plain_object": 366,
            "./keyed_container": 367,
            "./localize": 368,
            "./loggers": 369,
            "./make_trace_groups": 370,
            "./matrix": 371,
            "./mod": 372,
            "./nested_property": 373,
            "./noop": 374,
            "./notifier": 375,
            "./preserve_drawing_buffer": 379,
            "./push_unique": 380,
            "./regex": 382,
            "./relative_attr": 383,
            "./relink_private": 384,
            "./search": 385,
            "./sort_object_keys": 388,
            "./stats": 389,
            "./throttle": 391,
            "./to_log_range": 392,
            "@plotly/d3": 6,
            "d3-format": 38,
            "d3-time-format": 39,
            "fast-isnumeric": 107
        }],
        366: [function(e, t, r) {
            "use strict";
            t.exports = function(e) {
                return window && window.process && window.process.versions ? "[object Object]" === Object.prototype.toString.call(e) : "[object Object]" === Object.prototype.toString.call(e) && Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")
            }
        }
        , {}],
        367: [function(e, t, r) {
            "use strict";
            var n = e("./nested_property")
              , a = /^\w*$/;
            t.exports = function(e, t, r, i) {
                var o, s, l;
                r = r || "name",
                i = i || "value";
                var c = {};
                t && t.length ? (l = n(e, t),
                s = l.get()) : s = e,
                t = t || "";
                var u = {};
                if (s)
                    for (o = 0; o < s.length; o++)
                        u[s[o][r]] = o;
                var f = a.test(i)
                  , d = {
                    set: function(e, t) {
                        var a = null === t ? 4 : 0;
                        if (!s) {
                            if (!l || 4 === a)
                                return;
                            s = [],
                            l.set(s)
                        }
                        var o = u[e];
                        if (void 0 === o) {
                            if (4 === a)
                                return;
                            a |= 3,
                            o = s.length,
                            u[e] = o
                        } else
                            t !== (f ? s[o][i] : n(s[o], i).get()) && (a |= 2);
                        var h = s[o] = s[o] || {};
                        return h[r] = e,
                        f ? h[i] = t : n(h, i).set(t),
                        null !== t && (a &= -5),
                        c[o] = c[o] | a,
                        d
                    },
                    get: function(e) {
                        if (s) {
                            var t = u[e];
                            return void 0 === t ? void 0 : f ? s[t][i] : n(s[t], i).get()
                        }
                    },
                    rename: function(e, t) {
                        var n = u[e];
                        return void 0 === n || (c[n] = 1 | c[n],
                        u[t] = n,
                        delete u[e],
                        s[n][r] = t),
                        d
                    },
                    remove: function(e) {
                        var t = u[e];
                        if (void 0 === t)
                            return d;
                        var a = s[t];
                        if (Object.keys(a).length > 2)
                            return c[t] = 2 | c[t],
                            d.set(e, null);
                        if (f) {
                            for (o = t; o < s.length; o++)
                                c[o] = 3 | c[o];
                            for (o = t; o < s.length; o++)
                                u[s[o][r]]--;
                            s.splice(t, 1),
                            delete u[e]
                        } else
                            n(a, i).set(null),
                            c[t] = 6 | c[t];
                        return d
                    },
                    constructUpdate: function() {
                        for (var e, a, o = {}, l = Object.keys(c), u = 0; u < l.length; u++)
                            a = l[u],
                            e = t + "[" + a + "]",
                            s[a] ? (1 & c[a] && (o[e + "." + r] = s[a][r]),
                            2 & c[a] && (o[e + "." + i] = f ? 4 & c[a] ? null : s[a][i] : 4 & c[a] ? null : n(s[a], i).get())) : o[e] = null;
                        return o
                    }
                };
                return d
            }
        }
        , {
            "./nested_property": 373
        }],
        368: [function(e, t, r) {
            "use strict";
            var n = e("../registry");
            t.exports = function(e, t) {
                for (var r = e._context.locale, a = 0; a < 2; a++) {
                    for (var i = e._context.locales, o = 0; o < 2; o++) {
                        var s = (i[r] || {}).dictionary;
                        if (s) {
                            var l = s[t];
                            if (l)
                                return l
                        }
                        i = n.localeRegistry
                    }
                    var c = r.split("-")[0];
                    if (c === r)
                        break;
                    r = c
                }
                return t
            }
        }
        , {
            "../registry": 451
        }],
        369: [function(e, t, r) {
            "use strict";
            var n = e("../plot_api/plot_config").dfltConfig
              , a = e("./notifier")
              , i = t.exports = {};
            i.log = function() {
                var e;
                if (n.logging > 1) {
                    var t = ["LOG:"];
                    for (e = 0; e < arguments.length; e++)
                        t.push(arguments[e]);
                    console.trace.apply(console, t)
                }
                if (n.notifyOnLogging > 1) {
                    var r = [];
                    for (e = 0; e < arguments.length; e++)
                        r.push(arguments[e]);
                    a(r.join("<br>"), "long")
                }
            }
            ,
            i.warn = function() {
                var e;
                if (n.logging > 0) {
                    var t = ["WARN:"];
                    for (e = 0; e < arguments.length; e++)
                        t.push(arguments[e]);
                    console.trace.apply(console, t)
                }
                if (n.notifyOnLogging > 0) {
                    var r = [];
                    for (e = 0; e < arguments.length; e++)
                        r.push(arguments[e]);
                    a(r.join("<br>"), "stick")
                }
            }
            ,
            i.error = function() {
                var e;
                if (n.logging > 0) {
                    var t = ["ERROR:"];
                    for (e = 0; e < arguments.length; e++)
                        t.push(arguments[e]);
                    console.error.apply(console, t)
                }
                if (n.notifyOnLogging > 0) {
                    var r = [];
                    for (e = 0; e < arguments.length; e++)
                        r.push(arguments[e]);
                    a(r.join("<br>"), "stick")
                }
            }
        }
        , {
            "../plot_api/plot_config": 401,
            "./notifier": 375
        }],
        370: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3");
            t.exports = function(e, t, r) {
                var a = e.selectAll("g." + r.replace(/\s/g, ".")).data(t, (function(e) {
                    return e[0].trace.uid
                }
                ));
                a.exit().remove(),
                a.enter().append("g").attr("class", r),
                a.order();
                var i = e.classed("rangeplot") ? "nodeRangePlot3" : "node3";
                return a.each((function(e) {
                    e[0][i] = n.select(this)
                }
                )),
                a
            }
        }
        , {
            "@plotly/d3": 6
        }],
        371: [function(e, t, r) {
            "use strict";
            var n = e("gl-mat4");
            r.init2dArray = function(e, t) {
                for (var r = new Array(e), n = 0; n < e; n++)
                    r[n] = new Array(t);
                return r
            }
            ,
            r.transposeRagged = function(e) {
                var t, r, n = 0, a = e.length;
                for (t = 0; t < a; t++)
                    n = Math.max(n, e[t].length);
                var i = new Array(n);
                for (t = 0; t < n; t++)
                    for (i[t] = new Array(a),
                    r = 0; r < a; r++)
                        i[t][r] = e[r][t];
                return i
            }
            ,
            r.dot = function(e, t) {
                if (!e.length || !t.length || e.length !== t.length)
                    return null;
                var n, a, i = e.length;
                if (e[0].length)
                    for (n = new Array(i),
                    a = 0; a < i; a++)
                        n[a] = r.dot(e[a], t);
                else if (t[0].length) {
                    var o = r.transposeRagged(t);
                    for (n = new Array(o.length),
                    a = 0; a < o.length; a++)
                        n[a] = r.dot(e, o[a])
                } else
                    for (n = 0,
                    a = 0; a < i; a++)
                        n += e[a] * t[a];
                return n
            }
            ,
            r.translationMatrix = function(e, t) {
                return [[1, 0, e], [0, 1, t], [0, 0, 1]]
            }
            ,
            r.rotationMatrix = function(e) {
                var t = e * Math.PI / 180;
                return [[Math.cos(t), -Math.sin(t), 0], [Math.sin(t), Math.cos(t), 0], [0, 0, 1]]
            }
            ,
            r.rotationXYMatrix = function(e, t, n) {
                return r.dot(r.dot(r.translationMatrix(t, n), r.rotationMatrix(e)), r.translationMatrix(-t, -n))
            }
            ,
            r.apply3DTransform = function(e) {
                return function() {
                    var t = arguments
                      , n = 1 === arguments.length ? t[0] : [t[0], t[1], t[2] || 0];
                    return r.dot(e, [n[0], n[1], n[2], 1]).slice(0, 3)
                }
            }
            ,
            r.apply2DTransform = function(e) {
                return function() {
                    var t = arguments;
                    3 === t.length && (t = t[0]);
                    var n = 1 === arguments.length ? t[0] : [t[0], t[1]];
                    return r.dot(e, [n[0], n[1], 1]).slice(0, 2)
                }
            }
            ,
            r.apply2DTransform2 = function(e) {
                var t = r.apply2DTransform(e);
                return function(e) {
                    return t(e.slice(0, 2)).concat(t(e.slice(2, 4)))
                }
            }
            ,
            r.convertCssMatrix = function(e) {
                if (e) {
                    var t = e.length;
                    if (16 === t)
                        return e;
                    if (6 === t)
                        return [e[0], e[1], 0, 0, e[2], e[3], 0, 0, 0, 0, 1, 0, e[4], e[5], 0, 1]
                }
                return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]
            }
            ,
            r.inverseTransformMatrix = function(e) {
                var t = [];
                return n.invert(t, e),
                [[t[0], t[1], t[2], t[3]], [t[4], t[5], t[6], t[7]], [t[8], t[9], t[10], t[11]], [t[12], t[13], t[14], t[15]]]
            }
        }
        , {
            "gl-mat4": 126
        }],
        372: [function(e, t, r) {
            "use strict";
            t.exports = {
                mod: function(e, t) {
                    var r = e % t;
                    return r < 0 ? r + t : r
                },
                modHalf: function(e, t) {
                    return Math.abs(e) > t / 2 ? e - Math.round(e / t) * t : e
                }
            }
        }
        , {}],
        373: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("./array").isArrayOrTypedArray;
            function i(e, t) {
                return function() {
                    var r, n, o, s, l, c = e;
                    for (s = 0; s < t.length - 1; s++) {
                        if (-1 === (r = t[s])) {
                            for (n = !0,
                            o = [],
                            l = 0; l < c.length; l++)
                                o[l] = i(c[l], t.slice(s + 1))(),
                                o[l] !== o[0] && (n = !1);
                            return n ? o[0] : o
                        }
                        if ("number" == typeof r && !a(c))
                            return;
                        if ("object" != typeof (c = c[r]) || null === c)
                            return
                    }
                    if ("object" == typeof c && null !== c && null !== (o = c[t[s]]))
                        return o
                }
            }
            t.exports = function(e, t) {
                if (n(t))
                    t = String(t);
                else if ("string" != typeof t || "[-1]" === t.substr(t.length - 4))
                    throw "bad property string";
                for (var r, a, o, s = 0, c = t.split("."); s < c.length; ) {
                    if (r = String(c[s]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)) {
                        if (r[1])
                            c[s] = r[1];
                        else {
                            if (0 !== s)
                                throw "bad property string";
                            c.splice(0, 1)
                        }
                        for (a = r[2].substr(1, r[2].length - 2).split("]["),
                        o = 0; o < a.length; o++)
                            s++,
                            c.splice(s, 0, Number(a[o]))
                    }
                    s++
                }
                return "object" != typeof e ? function(e, t, r) {
                    return {
                        set: function() {
                            throw "bad container"
                        },
                        get: function() {},
                        astr: t,
                        parts: r,
                        obj: e
                    }
                }(e, t, c) : {
                    set: l(e, c, t),
                    get: i(e, c),
                    astr: t,
                    parts: c,
                    obj: e
                }
            }
            ;
            var o = /(^|\.)args\[/;
            function s(e, t) {
                return void 0 === e || null === e && !t.match(o)
            }
            function l(e, t, r) {
                return function(n) {
                    var i, o, l = e, d = "", h = [[e, d]], p = s(n, r);
                    for (o = 0; o < t.length - 1; o++) {
                        if ("number" == typeof (i = t[o]) && !a(l))
                            throw "array index but container is not an array";
                        if (-1 === i) {
                            if (p = !u(l, t.slice(o + 1), n, r))
                                break;
                            return
                        }
                        if (!f(l, i, t[o + 1], p))
                            break;
                        if ("object" != typeof (l = l[i]) || null === l)
                            throw "container is not an object";
                        d = c(d, i),
                        h.push([l, d])
                    }
                    if (p) {
                        if (o === t.length - 1 && (delete l[t[o]],
                        Array.isArray(l) && +t[o] == l.length - 1))
                            for (; l.length && void 0 === l[l.length - 1]; )
                                l.pop()
                    } else
                        l[t[o]] = n
                }
            }
            function c(e, t) {
                var r = t;
                return n(t) ? r = "[" + t + "]" : e && (r = "." + t),
                e + r
            }
            function u(e, t, r, n) {
                var i, o = a(r), c = !0, u = r, d = n.replace("-1", 0), h = !o && s(r, d), p = t[0];
                for (i = 0; i < e.length; i++)
                    d = n.replace("-1", i),
                    o && (h = s(u = r[i % r.length], d)),
                    h && (c = !1),
                    f(e, i, p, h) && l(e[i], t, n.replace("-1", i))(u);
                return c
            }
            function f(e, t, r, n) {
                if (void 0 === e[t]) {
                    if (n)
                        return !1;
                    e[t] = "number" == typeof r ? [] : {}
                }
                return !0
            }
        }
        , {
            "./array": 350,
            "fast-isnumeric": 107
        }],
        374: [function(e, t, r) {
            "use strict";
            t.exports = function() {}
        }
        , {}],
        375: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("fast-isnumeric")
              , i = [];
            t.exports = function(e, t) {
                if (-1 === i.indexOf(e)) {
                    i.push(e);
                    var r = 1e3;
                    a(t) ? r = t : "long" === t && (r = 3e3);
                    var o = n.select("body").selectAll(".plotly-notifier").data([0]);
                    o.enter().append("div").classed("plotly-notifier", !0),
                    o.selectAll(".notifier-note").data(i).enter().append("div").classed("notifier-note", !0).style("opacity", 0).each((function(e) {
                        var a = n.select(this);
                        a.append("button").classed("notifier-close", !0).html("&times;").on("click", (function() {
                            a.transition().call(s)
                        }
                        ));
                        for (var i = a.append("p"), o = e.split(/<br\s*\/?>/g), l = 0; l < o.length; l++)
                            l && i.append("br"),
                            i.append("span").text(o[l]);
                        "stick" === t ? a.transition().duration(350).style("opacity", 1) : a.transition().duration(700).style("opacity", 1).transition().delay(r).call(s)
                    }
                    ))
                }
                function s(e) {
                    e.duration(700).style("opacity", 0).each("end", (function(e) {
                        var t = i.indexOf(e);
                        -1 !== t && i.splice(t, 1),
                        n.select(this).remove()
                    }
                    ))
                }
            }
        }
        , {
            "@plotly/d3": 6,
            "fast-isnumeric": 107
        }],
        376: [function(e, t, r) {
            "use strict";
            var n = e("./setcursor")
              , a = "data-savedcursor";
            t.exports = function(e, t) {
                var r = e.attr(a);
                if (t) {
                    if (!r) {
                        for (var i = (e.attr("class") || "").split(" "), o = 0; o < i.length; o++) {
                            var s = i[o];
                            0 === s.indexOf("cursor-") && e.attr(a, s.substr(7)).classed(s, !1)
                        }
                        e.attr(a) || e.attr(a, "!!")
                    }
                    n(e, t)
                } else
                    r && (e.attr(a, null),
                    "!!" === r ? n(e) : n(e, r))
            }
        }
        , {
            "./setcursor": 386
        }],
        377: [function(e, t, r) {
            "use strict";
            var n = e("./matrix").dot
              , a = e("../constants/numerical").BADNUM
              , i = t.exports = {};
            i.tester = function(e) {
                var t, r = e.slice(), n = r[0][0], i = n, o = r[0][1], s = o;
                for (r.push(r[0]),
                t = 1; t < r.length; t++)
                    n = Math.min(n, r[t][0]),
                    i = Math.max(i, r[t][0]),
                    o = Math.min(o, r[t][1]),
                    s = Math.max(s, r[t][1]);
                var l, c = !1;
                5 === r.length && (r[0][0] === r[1][0] ? r[2][0] === r[3][0] && r[0][1] === r[3][1] && r[1][1] === r[2][1] && (c = !0,
                l = function(e) {
                    return e[0] === r[0][0]
                }
                ) : r[0][1] === r[1][1] && r[2][1] === r[3][1] && r[0][0] === r[3][0] && r[1][0] === r[2][0] && (c = !0,
                l = function(e) {
                    return e[1] === r[0][1]
                }
                ));
                var u = !0
                  , f = r[0];
                for (t = 1; t < r.length; t++)
                    if (f[0] !== r[t][0] || f[1] !== r[t][1]) {
                        u = !1;
                        break
                    }
                return {
                    xmin: n,
                    xmax: i,
                    ymin: o,
                    ymax: s,
                    pts: r,
                    contains: c ? function(e, t) {
                        var r = e[0]
                          , c = e[1];
                        return !(r === a || r < n || r > i || c === a || c < o || c > s) && (!t || !l(e))
                    }
                    : function(e, t) {
                        var l = e[0]
                          , c = e[1];
                        if (l === a || l < n || l > i || c === a || c < o || c > s)
                            return !1;
                        var u, f, d, h, p, g = r.length, y = r[0][0], v = r[0][1], m = 0;
                        for (u = 1; u < g; u++)
                            if (f = y,
                            d = v,
                            y = r[u][0],
                            v = r[u][1],
                            !(l < (h = Math.min(f, y)) || l > Math.max(f, y) || c > Math.max(d, v)))
                                if (c < Math.min(d, v))
                                    l !== h && m++;
                                else {
                                    if (c === (p = y === f ? c : d + (l - f) * (v - d) / (y - f)))
                                        return 1 !== u || !t;
                                    c <= p && l !== h && m++
                                }
                        return m % 2 == 1
                    }
                    ,
                    isRect: c,
                    degenerate: u
                }
            }
            ,
            i.isSegmentBent = function(e, t, r, a) {
                var i, o, s, l = e[t], c = [e[r][0] - l[0], e[r][1] - l[1]], u = n(c, c), f = Math.sqrt(u), d = [-c[1] / f, c[0] / f];
                for (i = t + 1; i < r; i++)
                    if (o = [e[i][0] - l[0], e[i][1] - l[1]],
                    (s = n(o, c)) < 0 || s > u || Math.abs(n(o, d)) > a)
                        return !0;
                return !1
            }
            ,
            i.filter = function(e, t) {
                var r = [e[0]]
                  , n = 0
                  , a = 0;
                function o(o) {
                    e.push(o);
                    var s = r.length
                      , l = n;
                    r.splice(a + 1);
                    for (var c = l + 1; c < e.length; c++)
                        (c === e.length - 1 || i.isSegmentBent(e, l, c + 1, t)) && (r.push(e[c]),
                        r.length < s - 2 && (n = c,
                        a = r.length - 1),
                        l = c)
                }
                e.length > 1 && o(e.pop());
                return {
                    addPt: o,
                    raw: e,
                    filtered: r
                }
            }
        }
        , {
            "../constants/numerical": 344,
            "./matrix": 371
        }],
        378: [function(e, t, r) {
            (function(r) {
                (function() {
                    "use strict";
                    var n = e("./show_no_webgl_msg")
                      , a = e("regl");
                    t.exports = function(e, t) {
                        var i = e._fullLayout
                          , o = !0;
                        return i._glcanvas.each((function(n) {
                            if (!n.regl && (!n.pick || i._has("parcoords"))) {
                                try {
                                    n.regl = a({
                                        canvas: this,
                                        attributes: {
                                            antialias: !n.pick,
                                            preserveDrawingBuffer: !0
                                        },
                                        pixelRatio: e._context.plotGlPixelRatio || r.devicePixelRatio,
                                        extensions: t || []
                                    })
                                } catch (e) {
                                    o = !1
                                }
                                n.regl || (o = !1),
                                o && this.addEventListener("webglcontextlost", (function(t) {
                                    e && e.emit && e.emit("plotly_webglcontextlost", {
                                        event: t,
                                        layer: n.key
                                    })
                                }
                                ), !1)
                            }
                        }
                        )),
                        o || n({
                            container: i._glcontainer.node()
                        }),
                        o
                    }
                }
                ).call(this)
            }
            ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }
        , {
            "./show_no_webgl_msg": 387,
            regl: 177
        }],
        379: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("is-mobile");
            t.exports = function(e) {
                var t;
                if ("string" != typeof (t = e && e.hasOwnProperty("userAgent") ? e.userAgent : function() {
                    var e;
                    "undefined" != typeof navigator && (e = navigator.userAgent);
                    e && e.headers && "string" == typeof e.headers["user-agent"] && (e = e.headers["user-agent"]);
                    return e
                }()))
                    return !0;
                var r = a({
                    ua: {
                        headers: {
                            "user-agent": t
                        }
                    },
                    tablet: !0,
                    featureDetect: !1
                });
                if (!r)
                    for (var i = t.split(" "), o = 1; o < i.length; o++) {
                        if (-1 !== i[o].indexOf("Safari"))
                            for (var s = o - 1; s > -1; s--) {
                                var l = i[s];
                                if ("Version/" === l.substr(0, 8)) {
                                    var c = l.substr(8).split(".")[0];
                                    if (n(c) && (c = +c),
                                    c >= 13)
                                        return !0
                                }
                            }
                    }
                return r
            }
        }
        , {
            "fast-isnumeric": 107,
            "is-mobile": 150
        }],
        380: [function(e, t, r) {
            "use strict";
            t.exports = function(e, t) {
                if (t instanceof RegExp) {
                    for (var r = t.toString(), n = 0; n < e.length; n++)
                        if (e[n]instanceof RegExp && e[n].toString() === r)
                            return e;
                    e.push(t)
                } else
                    !t && 0 !== t || -1 !== e.indexOf(t) || e.push(t);
                return e
            }
        }
        , {}],
        381: [function(e, t, r) {
            "use strict";
            var n = e("../lib")
              , a = e("../plot_api/plot_config").dfltConfig;
            var i = {
                add: function(e, t, r, n, i) {
                    var o, s;
                    e.undoQueue = e.undoQueue || {
                        index: 0,
                        queue: [],
                        sequence: !1
                    },
                    s = e.undoQueue.index,
                    e.autoplay ? e.undoQueue.inSequence || (e.autoplay = !1) : (!e.undoQueue.sequence || e.undoQueue.beginSequence ? (o = {
                        undo: {
                            calls: [],
                            args: []
                        },
                        redo: {
                            calls: [],
                            args: []
                        }
                    },
                    e.undoQueue.queue.splice(s, e.undoQueue.queue.length - s, o),
                    e.undoQueue.index += 1) : o = e.undoQueue.queue[s - 1],
                    e.undoQueue.beginSequence = !1,
                    o && (o.undo.calls.unshift(t),
                    o.undo.args.unshift(r),
                    o.redo.calls.push(n),
                    o.redo.args.push(i)),
                    e.undoQueue.queue.length > a.queueLength && (e.undoQueue.queue.shift(),
                    e.undoQueue.index--))
                },
                startSequence: function(e) {
                    e.undoQueue = e.undoQueue || {
                        index: 0,
                        queue: [],
                        sequence: !1
                    },
                    e.undoQueue.sequence = !0,
                    e.undoQueue.beginSequence = !0
                },
                stopSequence: function(e) {
                    e.undoQueue = e.undoQueue || {
                        index: 0,
                        queue: [],
                        sequence: !1
                    },
                    e.undoQueue.sequence = !1,
                    e.undoQueue.beginSequence = !1
                },
                undo: function(e) {
                    var t, r;
                    if (!(void 0 === e.undoQueue || isNaN(e.undoQueue.index) || e.undoQueue.index <= 0)) {
                        for (e.undoQueue.index--,
                        t = e.undoQueue.queue[e.undoQueue.index],
                        e.undoQueue.inSequence = !0,
                        r = 0; r < t.undo.calls.length; r++)
                            i.plotDo(e, t.undo.calls[r], t.undo.args[r]);
                        e.undoQueue.inSequence = !1,
                        e.autoplay = !1
                    }
                },
                redo: function(e) {
                    var t, r;
                    if (!(void 0 === e.undoQueue || isNaN(e.undoQueue.index) || e.undoQueue.index >= e.undoQueue.queue.length)) {
                        for (t = e.undoQueue.queue[e.undoQueue.index],
                        e.undoQueue.inSequence = !0,
                        r = 0; r < t.redo.calls.length; r++)
                            i.plotDo(e, t.redo.calls[r], t.redo.args[r]);
                        e.undoQueue.inSequence = !1,
                        e.autoplay = !1,
                        e.undoQueue.index++
                    }
                }
            };
            i.plotDo = function(e, t, r) {
                e.autoplay = !0,
                r = function(e, t) {
                    for (var r, a = [], i = 0; i < t.length; i++)
                        r = t[i],
                        a[i] = r === e ? r : "object" == typeof r ? Array.isArray(r) ? n.extendDeep([], r) : n.extendDeepAll({}, r) : r;
                    return a
                }(e, r),
                t.apply(null, r)
            }
            ,
            t.exports = i
        }
        , {
            "../lib": 365,
            "../plot_api/plot_config": 401
        }],
        382: [function(e, t, r) {
            "use strict";
            r.counter = function(e, t, r, n) {
                var a = (t || "") + (r ? "" : "$")
                  , i = !1 === n ? "" : "^";
                return "xy" === e ? new RegExp(i + "x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?" + a) : new RegExp(i + e + "([2-9]|[1-9][0-9]+)?" + a)
            }
        }
        , {}],
        383: [function(e, t, r) {
            "use strict";
            var n = /^(.*)(\.[^\.\[\]]+|\[\d\])$/
              , a = /^[^\.\[\]]+$/;
            t.exports = function(e, t) {
                for (; t; ) {
                    var r = e.match(n);
                    if (r)
                        e = r[1];
                    else {
                        if (!e.match(a))
                            throw new Error("bad relativeAttr call:" + [e, t]);
                        e = ""
                    }
                    if ("^" !== t.charAt(0))
                        break;
                    t = t.slice(1)
                }
                return e && "[" !== t.charAt(0) ? e + "." + t : e + t
            }
        }
        , {}],
        384: [function(e, t, r) {
            "use strict";
            var n = e("./array").isArrayOrTypedArray
              , a = e("./is_plain_object");
            t.exports = function e(t, r) {
                for (var i in r) {
                    var o = r[i]
                      , s = t[i];
                    if (s !== o)
                        if ("_" === i.charAt(0) || "function" == typeof o) {
                            if (i in t)
                                continue;
                            t[i] = o
                        } else if (n(o) && n(s) && a(o[0])) {
                            if ("customdata" === i || "ids" === i)
                                continue;
                            for (var l = Math.min(o.length, s.length), c = 0; c < l; c++)
                                s[c] !== o[c] && a(o[c]) && a(s[c]) && e(s[c], o[c])
                        } else
                            a(o) && a(s) && (e(s, o),
                            Object.keys(s).length || delete t[i])
                }
            }
        }
        , {
            "./array": 350,
            "./is_plain_object": 366
        }],
        385: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("./loggers")
              , i = e("./identity")
              , o = e("../constants/numerical").BADNUM;
            function s(e, t) {
                return e < t
            }
            function l(e, t) {
                return e <= t
            }
            function c(e, t) {
                return e > t
            }
            function u(e, t) {
                return e >= t
            }
            r.findBin = function(e, t, r) {
                if (n(t.start))
                    return r ? Math.ceil((e - t.start) / t.size - 1e-9) - 1 : Math.floor((e - t.start) / t.size + 1e-9);
                var i, o, f = 0, d = t.length, h = 0, p = d > 1 ? (t[d - 1] - t[0]) / (d - 1) : 1;
                for (o = p >= 0 ? r ? s : l : r ? u : c,
                e += 1e-9 * p * (r ? -1 : 1) * (p >= 0 ? 1 : -1); f < d && h++ < 100; )
                    o(t[i = Math.floor((f + d) / 2)], e) ? f = i + 1 : d = i;
                return h > 90 && a.log("Long binary search..."),
                f - 1
            }
            ,
            r.sorterAsc = function(e, t) {
                return e - t
            }
            ,
            r.sorterDes = function(e, t) {
                return t - e
            }
            ,
            r.distinctVals = function(e) {
                var t, n = e.slice();
                for (n.sort(r.sorterAsc),
                t = n.length - 1; t > -1 && n[t] === o; t--)
                    ;
                for (var a, i = n[t] - n[0] || 1, s = i / (t || 1) / 1e4, l = [], c = 0; c <= t; c++) {
                    var u = n[c]
                      , f = u - a;
                    void 0 === a ? (l.push(u),
                    a = u) : f > s && (i = Math.min(i, f),
                    l.push(u),
                    a = u)
                }
                return {
                    vals: l,
                    minDiff: i
                }
            }
            ,
            r.roundUp = function(e, t, r) {
                for (var n, a = 0, i = t.length - 1, o = 0, s = r ? 0 : 1, l = r ? 1 : 0, c = r ? Math.ceil : Math.floor; a < i && o++ < 100; )
                    t[n = c((a + i) / 2)] <= e ? a = n + s : i = n - l;
                return t[a]
            }
            ,
            r.sort = function(e, t) {
                for (var r = 0, n = 0, a = 1; a < e.length; a++) {
                    var i = t(e[a], e[a - 1]);
                    if (i < 0 ? r = 1 : i > 0 && (n = 1),
                    r && n)
                        return e.sort(t)
                }
                return n ? e : e.reverse()
            }
            ,
            r.findIndexOfMin = function(e, t) {
                t = t || i;
                for (var r, n = 1 / 0, a = 0; a < e.length; a++) {
                    var o = t(e[a]);
                    o < n && (n = o,
                    r = a)
                }
                return r
            }
        }
        , {
            "../constants/numerical": 344,
            "./identity": 363,
            "./loggers": 369,
            "fast-isnumeric": 107
        }],
        386: [function(e, t, r) {
            "use strict";
            t.exports = function(e, t) {
                (e.attr("class") || "").split(" ").forEach((function(t) {
                    0 === t.indexOf("cursor-") && e.classed(t, !1)
                }
                )),
                t && e.classed("cursor-" + t, !0)
            }
        }
        , {}],
        387: [function(e, t, r) {
            "use strict";
            var n = e("../components/color")
              , a = function() {};
            t.exports = function(e) {
                for (var t in e)
                    "function" == typeof e[t] && (e[t] = a);
                e.destroy = function() {
                    e.container.parentNode.removeChild(e.container)
                }
                ;
                var r = document.createElement("div");
                r.className = "no-webgl",
                r.style.cursor = "pointer",
                r.style.fontSize = "24px",
                r.style.color = n.defaults[0],
                r.style.position = "absolute",
                r.style.left = r.style.top = "0px",
                r.style.width = r.style.height = "100%",
                r.style["background-color"] = n.lightLine,
                r.style["z-index"] = 30;
                var i = document.createElement("p");
                return i.textContent = "WebGL is not supported by your browser - visit https://get.webgl.org for more info",
                i.style.position = "relative",
                i.style.top = "50%",
                i.style.left = "50%",
                i.style.height = "30%",
                i.style.width = "50%",
                i.style.margin = "-15% 0 0 -25%",
                r.appendChild(i),
                e.container.appendChild(r),
                e.container.style.background = "#FFFFFF",
                e.container.onclick = function() {
                    window.open("https://get.webgl.org")
                }
                ,
                !1
            }
        }
        , {
            "../components/color": 235
        }],
        388: [function(e, t, r) {
            "use strict";
            t.exports = function(e) {
                return Object.keys(e).sort()
            }
        }
        , {}],
        389: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("./array").isArrayOrTypedArray;
            r.aggNums = function(e, t, i, o) {
                var s, l;
                if ((!o || o > i.length) && (o = i.length),
                n(t) || (t = !1),
                a(i[0])) {
                    for (l = new Array(o),
                    s = 0; s < o; s++)
                        l[s] = r.aggNums(e, t, i[s]);
                    i = l
                }
                for (s = 0; s < o; s++)
                    n(t) ? n(i[s]) && (t = e(+t, +i[s])) : t = i[s];
                return t
            }
            ,
            r.len = function(e) {
                return r.aggNums((function(e) {
                    return e + 1
                }
                ), 0, e)
            }
            ,
            r.mean = function(e, t) {
                return t || (t = r.len(e)),
                r.aggNums((function(e, t) {
                    return e + t
                }
                ), 0, e) / t
            }
            ,
            r.midRange = function(e) {
                if (void 0 !== e && 0 !== e.length)
                    return (r.aggNums(Math.max, null, e) + r.aggNums(Math.min, null, e)) / 2
            }
            ,
            r.variance = function(e, t, a) {
                return t || (t = r.len(e)),
                n(a) || (a = r.mean(e, t)),
                r.aggNums((function(e, t) {
                    return e + Math.pow(t - a, 2)
                }
                ), 0, e) / t
            }
            ,
            r.stdev = function(e, t, n) {
                return Math.sqrt(r.variance(e, t, n))
            }
            ,
            r.median = function(e) {
                var t = e.slice().sort();
                return r.interp(t, .5)
            }
            ,
            r.interp = function(e, t) {
                if (!n(t))
                    throw "n should be a finite number";
                if ((t = t * e.length - .5) < 0)
                    return e[0];
                if (t > e.length - 1)
                    return e[e.length - 1];
                var r = t % 1;
                return r * e[Math.ceil(t)] + (1 - r) * e[Math.floor(t)]
            }
        }
        , {
            "./array": 350,
            "fast-isnumeric": 107
        }],
        390: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../lib")
              , i = a.strTranslate
              , o = e("../constants/xmlns_namespaces")
              , s = e("../constants/alignment").LINE_SPACING;
            function l(e, t) {
                return e.node().getBoundingClientRect()[t]
            }
            var c = /([^$]*)([$]+[^$]*[$]+)([^$]*)/;
            r.convertToTspans = function(e, t, g) {
                var M = e.text()
                  , S = !e.attr("data-notex") && "undefined" != typeof MathJax && M.match(c)
                  , D = n.select(e.node().parentNode);
                if (!D.empty()) {
                    var L = e.attr("class") ? e.attr("class").split(" ")[0] : "text";
                    return L += "-math",
                    D.selectAll("svg." + L).remove(),
                    D.selectAll("g." + L + "-group").remove(),
                    e.style("display", null).attr({
                        "data-unformatted": M,
                        "data-math": "N"
                    }),
                    S ? (t && t._promises || []).push(new Promise((function(t) {
                        e.style("display", "none");
                        var r = parseInt(e.node().style.fontSize, 10)
                          , o = {
                            fontSize: r
                        };
                        !function(e, t, r) {
                            var i, o, s, l;
                            MathJax.Hub.Queue((function() {
                                return o = a.extendDeepAll({}, MathJax.Hub.config),
                                s = MathJax.Hub.processSectionDelay,
                                void 0 !== MathJax.Hub.processSectionDelay && (MathJax.Hub.processSectionDelay = 0),
                                MathJax.Hub.Config({
                                    messageStyle: "none",
                                    tex2jax: {
                                        inlineMath: [["$", "$"], ["\\(", "\\)"]]
                                    },
                                    displayAlign: "left"
                                })
                            }
                            ), (function() {
                                if ("SVG" !== (i = MathJax.Hub.config.menuSettings.renderer))
                                    return MathJax.Hub.setRenderer("SVG")
                            }
                            ), (function() {
                                var r = "math-output-" + a.randstr({}, 64);
                                return l = n.select("body").append("div").attr({
                                    id: r
                                }).style({
                                    visibility: "hidden",
                                    position: "absolute"
                                }).style({
                                    "font-size": t.fontSize + "px"
                                }).text(e.replace(u, "\\lt ").replace(f, "\\gt ")),
                                MathJax.Hub.Typeset(l.node())
                            }
                            ), (function() {
                                var t = n.select("body").select("#MathJax_SVG_glyphs");
                                if (l.select(".MathJax_SVG").empty() || !l.select("svg").node())
                                    a.log("There was an error in the tex syntax.", e),
                                    r();
                                else {
                                    var o = l.select("svg").node().getBoundingClientRect();
                                    r(l.select(".MathJax_SVG"), t, o)
                                }
                                if (l.remove(),
                                "SVG" !== i)
                                    return MathJax.Hub.setRenderer(i)
                            }
                            ), (function() {
                                return void 0 !== s && (MathJax.Hub.processSectionDelay = s),
                                MathJax.Hub.Config(o)
                            }
                            ))
                        }(S[2], o, (function(n, a, o) {
                            D.selectAll("svg." + L).remove(),
                            D.selectAll("g." + L + "-group").remove();
                            var s = n && n.select("svg");
                            if (!s || !s.node())
                                return E(),
                                void t();
                            var c = D.append("g").classed(L + "-group", !0).attr({
                                "pointer-events": "none",
                                "data-unformatted": M,
                                "data-math": "Y"
                            });
                            c.node().appendChild(s.node()),
                            a && a.node() && s.node().insertBefore(a.node().cloneNode(!0), s.node().firstChild),
                            s.attr({
                                class: L,
                                height: o.height,
                                preserveAspectRatio: "xMinYMin meet"
                            }).style({
                                overflow: "visible",
                                "pointer-events": "none"
                            });
                            var u = e.node().style.fill || "black"
                              , f = s.select("g");
                            f.attr({
                                fill: u,
                                stroke: u
                            });
                            var d = l(f, "width")
                              , h = l(f, "height")
                              , p = +e.attr("x") - d * {
                                start: 0,
                                middle: .5,
                                end: 1
                            }[e.attr("text-anchor") || "start"]
                              , y = -(r || l(e, "height")) / 4;
                            "y" === L[0] ? (c.attr({
                                transform: "rotate(" + [-90, +e.attr("x"), +e.attr("y")] + ")" + i(-d / 2, y - h / 2)
                            }),
                            s.attr({
                                x: +e.attr("x"),
                                y: +e.attr("y")
                            })) : "l" === L[0] ? s.attr({
                                x: e.attr("x"),
                                y: y - h / 2
                            }) : "a" === L[0] && 0 !== L.indexOf("atitle") ? s.attr({
                                x: 0,
                                y: y
                            }) : s.attr({
                                x: p,
                                y: +e.attr("y") + y - h / 2
                            }),
                            g && g.call(e, c),
                            t(c)
                        }
                        ))
                    }
                    ))) : E(),
                    e
                }
                function E() {
                    D.empty() || (L = e.attr("class") + "-math",
                    D.select("svg." + L).remove()),
                    e.text("").style("white-space", "pre"),
                    function(e, t) {
                        t = t.replace(y, " ");
                        var r, i = !1, l = [], c = -1;
                        function u() {
                            c++;
                            var t = document.createElementNS(o.svg, "tspan");
                            n.select(t).attr({
                                class: "line",
                                dy: c * s + "em"
                            }),
                            e.appendChild(t),
                            r = t;
                            var a = l;
                            if (l = [{
                                node: t
                            }],
                            a.length > 1)
                                for (var i = 1; i < a.length; i++)
                                    f(a[i])
                        }
                        function f(e) {
                            var t, a = e.type, i = {};
                            if ("a" === a) {
                                t = "a";
                                var s = e.target
                                  , c = e.href
                                  , u = e.popup;
                                c && (i = {
                                    "xlink:xlink:show": "_blank" === s || "_" !== s.charAt(0) ? "new" : "replace",
                                    target: s,
                                    "xlink:xlink:href": c
                                },
                                u && (i.onclick = 'window.open(this.href.baseVal,this.target.baseVal,"' + u + '");return false;'))
                            } else
                                t = "tspan";
                            e.style && (i.style = e.style);
                            var f = document.createElementNS(o.svg, t);
                            if ("sup" === a || "sub" === a) {
                                g(r, "\u200b"),
                                r.appendChild(f);
                                var d = document.createElementNS(o.svg, "tspan");
                                g(d, "\u200b"),
                                n.select(d).attr("dy", p[a]),
                                i.dy = h[a],
                                r.appendChild(f),
                                r.appendChild(d)
                            } else
                                r.appendChild(f);
                            n.select(f).attr(i),
                            r = e.node = f,
                            l.push(e)
                        }
                        function g(e, t) {
                            e.appendChild(document.createTextNode(t))
                        }
                        function M(e) {
                            if (1 !== l.length) {
                                var n = l.pop();
                                e !== n.type && a.log("Start tag <" + n.type + "> doesnt match end tag <" + e + ">. Pretending it did match.", t),
                                r = l[l.length - 1].node
                            } else
                                a.log("Ignoring unexpected end tag </" + e + ">.", t)
                        }
                        b.test(t) ? u() : (r = e,
                        l = [{
                            node: e
                        }]);
                        for (var S = t.split(v), D = 0; D < S.length; D++) {
                            var L = S[D]
                              , E = L.match(m)
                              , z = E && E[2].toLowerCase()
                              , F = d[z];
                            if ("br" === z)
                                u();
                            else if (void 0 === F)
                                g(r, C(L));
                            else if (E[1])
                                M(z);
                            else {
                                var P = E[4]
                                  , I = {
                                    type: z
                                }
                                  , N = k(P, x);
                                if (N ? (N = N.replace(T, "$1 fill:"),
                                F && (N += ";" + F)) : F && (N = F),
                                N && (I.style = N),
                                "a" === z) {
                                    i = !0;
                                    var R = k(P, _);
                                    if (R) {
                                        var j = O(R);
                                        j && (I.href = j,
                                        I.target = k(P, w) || "_blank",
                                        I.popup = k(P, A))
                                    }
                                }
                                f(I)
                            }
                        }
                        return i
                    }(e.node(), M) && e.style("pointer-events", "all"),
                    r.positionText(e),
                    g && g.call(e)
                }
            }
            ;
            var u = /(<|&lt;|&#60;)/g
              , f = /(>|&gt;|&#62;)/g;
            var d = {
                sup: "font-size:70%",
                sub: "font-size:70%",
                b: "font-weight:bold",
                i: "font-style:italic",
                a: "cursor:pointer",
                span: "",
                em: "font-style:italic;font-weight:bold"
            }
              , h = {
                sub: "0.3em",
                sup: "-0.6em"
            }
              , p = {
                sub: "-0.21em",
                sup: "0.42em"
            }
              , g = ["http:", "https:", "mailto:", "", void 0, ":"]
              , y = r.NEWLINES = /(\r\n?|\n)/g
              , v = /(<[^<>]*>)/
              , m = /<(\/?)([^ >]*)(\s+(.*))?>/i
              , b = /<br(\s+.*)?>/i;
            r.BR_TAG_ALL = /<br(\s+.*)?>/gi;
            var x = /(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i
              , _ = /(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i
              , w = /(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i
              , A = /(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;
            function k(e, t) {
                if (!e)
                    return null;
                var r = e.match(t)
                  , n = r && (r[3] || r[4]);
                return n && C(n)
            }
            var T = /(^|;)\s*color:/;
            r.plainText = function(e, t) {
                for (var r = void 0 !== (t = t || {}).len && -1 !== t.len ? t.len : 1 / 0, n = void 0 !== t.allowedTags ? t.allowedTags : ["br"], a = "...".length, i = e.split(v), o = [], s = "", l = 0, c = 0; c < i.length; c++) {
                    var u = i[c]
                      , f = u.match(m)
                      , d = f && f[2].toLowerCase();
                    if (d)
                        -1 !== n.indexOf(d) && (o.push(u),
                        s = d);
                    else {
                        var h = u.length;
                        if (l + h < r)
                            o.push(u),
                            l += h;
                        else if (l < r) {
                            var p = r - l;
                            s && ("br" !== s || p <= a || h <= a) && o.pop(),
                            r > a ? o.push(u.substr(0, p - a) + "...") : o.push(u.substr(0, p));
                            break
                        }
                        s = ""
                    }
                }
                return o.join("")
            }
            ;
            var M = {
                mu: "\u03bc",
                amp: "&",
                lt: "<",
                gt: ">",
                nbsp: "\xa0",
                times: "\xd7",
                plusmn: "\xb1",
                deg: "\xb0"
            }
              , S = /&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;
            function C(e) {
                return e.replace(S, (function(e, t) {
                    return ("#" === t.charAt(0) ? function(e) {
                        if (e > 1114111)
                            return;
                        var t = String.fromCodePoint;
                        if (t)
                            return t(e);
                        var r = String.fromCharCode;
                        return e <= 65535 ? r(e) : r(55232 + (e >> 10), e % 1024 + 56320)
                    }("x" === t.charAt(1) ? parseInt(t.substr(2), 16) : parseInt(t.substr(1), 10)) : M[t]) || e
                }
                ))
            }
            function O(e) {
                var t = encodeURI(decodeURI(e))
                  , r = document.createElement("a")
                  , n = document.createElement("a");
                r.href = e,
                n.href = t;
                var a = r.protocol
                  , i = n.protocol;
                return -1 !== g.indexOf(a) && -1 !== g.indexOf(i) ? t : ""
            }
            function D(e, t, r) {
                var n, i, o, s = r.horizontalAlign, l = r.verticalAlign || "top", c = e.node().getBoundingClientRect(), u = t.node().getBoundingClientRect();
                return i = "bottom" === l ? function() {
                    return c.bottom - n.height
                }
                : "middle" === l ? function() {
                    return c.top + (c.height - n.height) / 2
                }
                : function() {
                    return c.top
                }
                ,
                o = "right" === s ? function() {
                    return c.right - n.width
                }
                : "center" === s ? function() {
                    return c.left + (c.width - n.width) / 2
                }
                : function() {
                    return c.left
                }
                ,
                function() {
                    n = this.node().getBoundingClientRect();
                    var e = o() - u.left
                      , t = i() - u.top
                      , s = r.gd || {};
                    if (r.gd) {
                        s._fullLayout._calcInverseTransform(s);
                        var l = a.apply3DTransform(s._fullLayout._invTransform)(e, t);
                        e = l[0],
                        t = l[1]
                    }
                    return this.style({
                        top: t + "px",
                        left: e + "px",
                        "z-index": 1e3
                    }),
                    this
                }
            }
            r.convertEntities = C,
            r.sanitizeHTML = function(e) {
                e = e.replace(y, " ");
                for (var t = document.createElement("p"), r = t, a = [], i = e.split(v), o = 0; o < i.length; o++) {
                    var s = i[o]
                      , l = s.match(m)
                      , c = l && l[2].toLowerCase();
                    if (c in d)
                        if (l[1])
                            a.length && (r = a.pop());
                        else {
                            var u = l[4]
                              , f = k(u, x)
                              , h = f ? {
                                style: f
                            } : {};
                            if ("a" === c) {
                                var p = k(u, _);
                                if (p) {
                                    var g = O(p);
                                    if (g) {
                                        h.href = g;
                                        var b = k(u, w);
                                        b && (h.target = b)
                                    }
                                }
                            }
                            var A = document.createElement(c);
                            r.appendChild(A),
                            n.select(A).attr(h),
                            r = A,
                            a.push(A)
                        }
                    else
                        r.appendChild(document.createTextNode(C(s)))
                }
                return t.innerHTML
            }
            ,
            r.lineCount = function(e) {
                return e.selectAll("tspan.line").size() || 1
            }
            ,
            r.positionText = function(e, t, r) {
                return e.each((function() {
                    var e = n.select(this);
                    function a(t, r) {
                        return void 0 === r ? null === (r = e.attr(t)) && (e.attr(t, 0),
                        r = 0) : e.attr(t, r),
                        r
                    }
                    var i = a("x", t)
                      , o = a("y", r);
                    "text" === this.nodeName && e.selectAll("tspan.line").attr({
                        x: i,
                        y: o
                    })
                }
                ))
            }
            ;
            r.makeTextShadow = function(e) {
                var t = "1px "
                  , r = "1px "
                  , n = "1px ";
                return t + r + n + e + ", -" + t + "-" + r + n + e + ", " + t + "-" + r + n + e + ", -" + t + r + n + e
            }
            ,
            r.makeEditable = function(e, t) {
                var r = t.gd
                  , a = t.delegate
                  , i = n.dispatch("edit", "input", "cancel")
                  , o = a || e;
                if (e.style({
                    "pointer-events": a ? "none" : "all"
                }),
                1 !== e.size())
                    throw new Error("boo");
                function s() {
                    !function() {
                        var a = n.select(r).select(".svg-container")
                          , o = a.append("div")
                          , s = e.node().style
                          , c = parseFloat(s.fontSize || 12)
                          , u = t.text;
                        void 0 === u && (u = e.attr("data-unformatted"));
                        o.classed("plugin-editable editable", !0).style({
                            position: "absolute",
                            "font-family": s.fontFamily || "Arial",
                            "font-size": c,
                            color: t.fill || s.fill || "black",
                            opacity: 1,
                            "background-color": t.background || "transparent",
                            outline: "#ffffff33 1px solid",
                            margin: [-c / 8 + 1, 0, 0, -1].join("px ") + "px",
                            padding: "0",
                            "box-sizing": "border-box"
                        }).attr({
                            contenteditable: !0
                        }).text(u).call(D(e, a, t)).on("blur", (function() {
                            r._editing = !1,
                            e.text(this.textContent).style({
                                opacity: 1
                            });
                            var t, a = n.select(this).attr("class");
                            (t = a ? "." + a.split(" ")[0] + "-math-group" : "[class*=-math-group]") && n.select(e.node().parentNode).select(t).style({
                                opacity: 0
                            });
                            var o = this.textContent;
                            n.select(this).transition().duration(0).remove(),
                            n.select(document).on("mouseup", null),
                            i.edit.call(e, o)
                        }
                        )).on("focus", (function() {
                            var e = this;
                            r._editing = !0,
                            n.select(document).on("mouseup", (function() {
                                if (n.event.target === e)
                                    return !1;
                                document.activeElement === o.node() && o.node().blur()
                            }
                            ))
                        }
                        )).on("keyup", (function() {
                            27 === n.event.which ? (r._editing = !1,
                            e.style({
                                opacity: 1
                            }),
                            n.select(this).style({
                                opacity: 0
                            }).on("blur", (function() {
                                return !1
                            }
                            )).transition().remove(),
                            i.cancel.call(e, this.textContent)) : (i.input.call(e, this.textContent),
                            n.select(this).call(D(e, a, t)))
                        }
                        )).on("keydown", (function() {
                            13 === n.event.which && this.blur()
                        }
                        )).call(l)
                    }(),
                    e.style({
                        opacity: 0
                    });
                    var a, s = o.attr("class");
                    (a = s ? "." + s.split(" ")[0] + "-math-group" : "[class*=-math-group]") && n.select(e.node().parentNode).select(a).style({
                        opacity: 0
                    })
                }
                function l(e) {
                    var t = e.node()
                      , r = document.createRange();
                    r.selectNodeContents(t);
                    var n = window.getSelection();
                    n.removeAllRanges(),
                    n.addRange(r),
                    t.focus()
                }
                return t.immediate ? s() : o.on("click", s),
                n.rebind(e, i, "on")
            }
        }
        , {
            "../constants/alignment": 340,
            "../constants/xmlns_namespaces": 345,
            "../lib": 365,
            "@plotly/d3": 6
        }],
        391: [function(e, t, r) {
            "use strict";
            var n = {};
            function a(e) {
                e && null !== e.timer && (clearTimeout(e.timer),
                e.timer = null)
            }
            r.throttle = function(e, t, r) {
                var i = n[e]
                  , o = Date.now();
                if (!i) {
                    for (var s in n)
                        n[s].ts < o - 6e4 && delete n[s];
                    i = n[e] = {
                        ts: 0,
                        timer: null
                    }
                }
                function l() {
                    r(),
                    i.ts = Date.now(),
                    i.onDone && (i.onDone(),
                    i.onDone = null)
                }
                a(i),
                o > i.ts + t ? l() : i.timer = setTimeout((function() {
                    l(),
                    i.timer = null
                }
                ), t)
            }
            ,
            r.done = function(e) {
                var t = n[e];
                return t && t.timer ? new Promise((function(e) {
                    var r = t.onDone;
                    t.onDone = function() {
                        r && r(),
                        e(),
                        t.onDone = null
                    }
                }
                )) : Promise.resolve()
            }
            ,
            r.clear = function(e) {
                if (e)
                    a(n[e]),
                    delete n[e];
                else
                    for (var t in n)
                        r.clear(t)
            }
        }
        , {}],
        392: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric");
            t.exports = function(e, t) {
                if (e > 0)
                    return Math.log(e) / Math.LN10;
                var r = Math.log(Math.min(t[0], t[1])) / Math.LN10;
                return n(r) || (r = Math.log(Math.max(t[0], t[1])) / Math.LN10 - 6),
                r
            }
        }
        , {
            "fast-isnumeric": 107
        }],
        393: [function(e, t, r) {
            "use strict";
            t.exports = {
                moduleType: "locale",
                name: "en-US",
                dictionary: {
                    "Click to enter Colorscale title": "Click to enter Colorscale title"
                },
                format: {
                    date: "%m/%d/%Y"
                }
            }
        }
        , {}],
        394: [function(e, t, r) {
            "use strict";
            t.exports = {
                moduleType: "locale",
                name: "en",
                dictionary: {
                    "Click to enter Colorscale title": "Click to enter Colourscale title"
                },
                format: {
                    days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                    shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                    months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                    shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                    periods: ["AM", "PM"],
                    dateTime: "%a %b %e %X %Y",
                    date: "%d/%m/%Y",
                    time: "%H:%M:%S",
                    decimal: ".",
                    thousands: ",",
                    grouping: [3],
                    currency: ["$", ""],
                    year: "%Y",
                    month: "%b %Y",
                    dayMonth: "%b %-d",
                    dayMonthYear: "%b %-d, %Y"
                }
            }
        }
        , {}],
        395: [function(e, t, r) {
            "use strict";
            var n = e("../registry");
            t.exports = function(e) {
                for (var t, r, a = n.layoutArrayContainers, i = n.layoutArrayRegexes, o = e.split("[")[0], s = 0; s < i.length; s++)
                    if ((r = e.match(i[s])) && 0 === r.index) {
                        t = r[0];
                        break
                    }
                if (t || (t = a[a.indexOf(o)]),
                !t)
                    return !1;
                var l = e.substr(t.length);
                return l ? !!(r = l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/)) && {
                    array: t,
                    index: Number(r[1]),
                    property: r[3] || ""
                } : {
                    array: t,
                    index: "",
                    property: ""
                }
            }
        }
        , {
            "../registry": 451
        }],
        396: [function(e, t, r) {
            "use strict";
            var n = e("../lib")
              , a = n.extendFlat
              , i = n.isPlainObject
              , o = {
                valType: "flaglist",
                extras: ["none"],
                flags: ["calc", "clearAxisTypes", "plot", "style", "markerSize", "colorbars"]
            }
              , s = {
                valType: "flaglist",
                extras: ["none"],
                flags: ["calc", "plot", "legend", "ticks", "axrange", "layoutstyle", "modebar", "camera", "arraydraw", "colorbars"]
            }
              , l = o.flags.slice().concat(["fullReplot"])
              , c = s.flags.slice().concat("layoutReplot");
            function u(e) {
                for (var t = {}, r = 0; r < e.length; r++)
                    t[e[r]] = !1;
                return t
            }
            function f(e, t, r) {
                var n = a({}, e);
                for (var o in n) {
                    var s = n[o];
                    i(s) && (n[o] = d(s, t, r, o))
                }
                return "from-root" === r && (n.editType = t),
                n
            }
            function d(e, t, r, n) {
                if (e.valType) {
                    var i = a({}, e);
                    if (i.editType = t,
                    Array.isArray(e.items)) {
                        i.items = new Array(e.items.length);
                        for (var o = 0; o < e.items.length; o++)
                            i.items[o] = d(e.items[o], t, "from-root")
                    }
                    return i
                }
                return f(e, t, "_" === n.charAt(0) ? "nested" : "from-root")
            }
            t.exports = {
                traces: o,
                layout: s,
                traceFlags: function() {
                    return u(l)
                },
                layoutFlags: function() {
                    return u(c)
                },
                update: function(e, t) {
                    var r = t.editType;
                    if (r && "none" !== r)
                        for (var n = r.split("+"), a = 0; a < n.length; a++)
                            e[n[a]] = !0
                },
                overrideAll: f
            }
        }
        , {
            "../lib": 365
        }],
        397: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("gl-mat4/fromQuat")
              , i = e("../registry")
              , o = e("../lib")
              , s = e("../plots/plots")
              , l = e("../plots/cartesian/axis_ids")
              , c = e("../components/color")
              , u = l.cleanId
              , f = l.getFromTrace
              , d = i.traceIs;
            function h(e, t) {
                var r = e[t]
                  , n = t.charAt(0);
                r && "paper" !== r && (e[t] = u(r, n, !0))
            }
            function p(e) {
                function t(t, r) {
                    var n = e[t]
                      , a = e.title && e.title[r];
                    n && !a && (e.title || (e.title = {}),
                    e.title[r] = e[t],
                    delete e[t])
                }
                e && ("string" != typeof e.title && "number" != typeof e.title || (e.title = {
                    text: e.title
                }),
                t("titlefont", "font"),
                t("titleposition", "position"),
                t("titleside", "side"),
                t("titleoffset", "offset"))
            }
            function g(e) {
                if (!o.isPlainObject(e))
                    return !1;
                var t = e.name;
                return delete e.name,
                delete e.showlegend,
                ("string" == typeof t || "number" == typeof t) && String(t)
            }
            function y(e, t, r, n) {
                if (r && !n)
                    return e;
                if (n && !r)
                    return t;
                if (!e.trim())
                    return t;
                if (!t.trim())
                    return e;
                var a, i = Math.min(e.length, t.length);
                for (a = 0; a < i && e.charAt(a) === t.charAt(a); a++)
                    ;
                return e.substr(0, a).trim()
            }
            function v(e) {
                var t = "middle"
                  , r = "center";
                return "string" == typeof e && (-1 !== e.indexOf("top") ? t = "top" : -1 !== e.indexOf("bottom") && (t = "bottom"),
                -1 !== e.indexOf("left") ? r = "left" : -1 !== e.indexOf("right") && (r = "right")),
                t + " " + r
            }
            function m(e, t) {
                return t in e && "object" == typeof e[t] && 0 === Object.keys(e[t]).length
            }
            r.clearPromiseQueue = function(e) {
                Array.isArray(e._promises) && e._promises.length > 0 && o.log("Clearing previous rejected promises from queue."),
                e._promises = []
            }
            ,
            r.cleanLayout = function(e) {
                var t, n;
                e || (e = {}),
                e.xaxis1 && (e.xaxis || (e.xaxis = e.xaxis1),
                delete e.xaxis1),
                e.yaxis1 && (e.yaxis || (e.yaxis = e.yaxis1),
                delete e.yaxis1),
                e.scene1 && (e.scene || (e.scene = e.scene1),
                delete e.scene1);
                var i = (s.subplotsRegistry.cartesian || {}).attrRegex
                  , l = (s.subplotsRegistry.polar || {}).attrRegex
                  , f = (s.subplotsRegistry.ternary || {}).attrRegex
                  , d = (s.subplotsRegistry.gl3d || {}).attrRegex
                  , g = Object.keys(e);
                for (t = 0; t < g.length; t++) {
                    var y = g[t];
                    if (i && i.test(y)) {
                        var v = e[y];
                        v.anchor && "free" !== v.anchor && (v.anchor = u(v.anchor)),
                        v.overlaying && (v.overlaying = u(v.overlaying)),
                        v.type || (v.isdate ? v.type = "date" : v.islog ? v.type = "log" : !1 === v.isdate && !1 === v.islog && (v.type = "linear")),
                        "withzero" !== v.autorange && "tozero" !== v.autorange || (v.autorange = !0,
                        v.rangemode = "tozero"),
                        delete v.islog,
                        delete v.isdate,
                        delete v.categories,
                        m(v, "domain") && delete v.domain,
                        void 0 !== v.autotick && (void 0 === v.tickmode && (v.tickmode = v.autotick ? "auto" : "linear"),
                        delete v.autotick),
                        p(v)
                    } else if (l && l.test(y)) {
                        p(e[y].radialaxis)
                    } else if (f && f.test(y)) {
                        var b = e[y];
                        p(b.aaxis),
                        p(b.baxis),
                        p(b.caxis)
                    } else if (d && d.test(y)) {
                        var x = e[y]
                          , _ = x.cameraposition;
                        if (Array.isArray(_) && 4 === _[0].length) {
                            var w = _[0]
                              , A = _[1]
                              , k = _[2]
                              , T = a([], w)
                              , M = [];
                            for (n = 0; n < 3; ++n)
                                M[n] = A[n] + k * T[2 + 4 * n];
                            x.camera = {
                                eye: {
                                    x: M[0],
                                    y: M[1],
                                    z: M[2]
                                },
                                center: {
                                    x: A[0],
                                    y: A[1],
                                    z: A[2]
                                },
                                up: {
                                    x: 0,
                                    y: 0,
                                    z: 1
                                }
                            },
                            delete x.cameraposition
                        }
                        p(x.xaxis),
                        p(x.yaxis),
                        p(x.zaxis)
                    }
                }
                var S = Array.isArray(e.annotations) ? e.annotations.length : 0;
                for (t = 0; t < S; t++) {
                    var C = e.annotations[t];
                    o.isPlainObject(C) && (C.ref && ("paper" === C.ref ? (C.xref = "paper",
                    C.yref = "paper") : "data" === C.ref && (C.xref = "x",
                    C.yref = "y"),
                    delete C.ref),
                    h(C, "xref"),
                    h(C, "yref"))
                }
                var O = Array.isArray(e.shapes) ? e.shapes.length : 0;
                for (t = 0; t < O; t++) {
                    var D = e.shapes[t];
                    o.isPlainObject(D) && (h(D, "xref"),
                    h(D, "yref"))
                }
                var L = Array.isArray(e.images) ? e.images.length : 0;
                for (t = 0; t < L; t++) {
                    var E = e.images[t];
                    o.isPlainObject(E) && (h(E, "xref"),
                    h(E, "yref"))
                }
                var z = e.legend;
                return z && (z.x > 3 ? (z.x = 1.02,
                z.xanchor = "left") : z.x < -2 && (z.x = -.02,
                z.xanchor = "right"),
                z.y > 3 ? (z.y = 1.02,
                z.yanchor = "bottom") : z.y < -2 && (z.y = -.02,
                z.yanchor = "top")),
                p(e),
                "rotate" === e.dragmode && (e.dragmode = "orbit"),
                c.clean(e),
                e.template && e.template.layout && r.cleanLayout(e.template.layout),
                e
            }
            ,
            r.cleanData = function(e) {
                for (var t = 0; t < e.length; t++) {
                    var n, a = e[t];
                    if ("histogramy" === a.type && "xbins"in a && !("ybins"in a) && (a.ybins = a.xbins,
                    delete a.xbins),
                    a.error_y && "opacity"in a.error_y) {
                        var l = c.defaults
                          , f = a.error_y.color || (d(a, "bar") ? c.defaultLine : l[t % l.length]);
                        a.error_y.color = c.addOpacity(c.rgb(f), c.opacity(f) * a.error_y.opacity),
                        delete a.error_y.opacity
                    }
                    if ("bardir"in a && ("h" !== a.bardir || !d(a, "bar") && "histogram" !== a.type.substr(0, 9) || (a.orientation = "h",
                    r.swapXYData(a)),
                    delete a.bardir),
                    "histogramy" === a.type && r.swapXYData(a),
                    "histogramx" !== a.type && "histogramy" !== a.type || (a.type = "histogram"),
                    "scl"in a && !("colorscale"in a) && (a.colorscale = a.scl,
                    delete a.scl),
                    "reversescl"in a && !("reversescale"in a) && (a.reversescale = a.reversescl,
                    delete a.reversescl),
                    a.xaxis && (a.xaxis = u(a.xaxis, "x")),
                    a.yaxis && (a.yaxis = u(a.yaxis, "y")),
                    d(a, "gl3d") && a.scene && (a.scene = s.subplotsRegistry.gl3d.cleanId(a.scene)),
                    !d(a, "pie-like") && !d(a, "bar-like"))
                        if (Array.isArray(a.textposition))
                            for (n = 0; n < a.textposition.length; n++)
                                a.textposition[n] = v(a.textposition[n]);
                        else
                            a.textposition && (a.textposition = v(a.textposition));
                    var h = i.getModule(a);
                    if (h && h.colorbar) {
                        var b = h.colorbar.container
                          , x = b ? a[b] : a;
                        x && x.colorscale && ("YIGnBu" === x.colorscale && (x.colorscale = "YlGnBu"),
                        "YIOrRd" === x.colorscale && (x.colorscale = "YlOrRd"))
                    }
                    if ("surface" === a.type && o.isPlainObject(a.contours)) {
                        var _ = ["x", "y", "z"];
                        for (n = 0; n < _.length; n++) {
                            var w = a.contours[_[n]];
                            o.isPlainObject(w) && (w.highlightColor && (w.highlightcolor = w.highlightColor,
                            delete w.highlightColor),
                            w.highlightWidth && (w.highlightwidth = w.highlightWidth,
                            delete w.highlightWidth))
                        }
                    }
                    if ("candlestick" === a.type || "ohlc" === a.type) {
                        var A = !1 !== (a.increasing || {}).showlegend
                          , k = !1 !== (a.decreasing || {}).showlegend
                          , T = g(a.increasing)
                          , M = g(a.decreasing);
                        if (!1 !== T && !1 !== M) {
                            var S = y(T, M, A, k);
                            S && (a.name = S)
                        } else
                            !T && !M || a.name || (a.name = T || M)
                    }
                    if (Array.isArray(a.transforms)) {
                        var C = a.transforms;
                        for (n = 0; n < C.length; n++) {
                            var O = C[n];
                            if (o.isPlainObject(O))
                                switch (O.type) {
                                case "filter":
                                    O.filtersrc && (O.target = O.filtersrc,
                                    delete O.filtersrc),
                                    O.calendar && (O.valuecalendar || (O.valuecalendar = O.calendar),
                                    delete O.calendar);
                                    break;
                                case "groupby":
                                    if (O.styles = O.styles || O.style,
                                    O.styles && !Array.isArray(O.styles)) {
                                        var D = O.styles
                                          , L = Object.keys(D);
                                        O.styles = [];
                                        for (var E = 0; E < L.length; E++)
                                            O.styles.push({
                                                target: L[E],
                                                value: D[L[E]]
                                            })
                                    }
                                }
                        }
                    }
                    m(a, "line") && delete a.line,
                    "marker"in a && (m(a.marker, "line") && delete a.marker.line,
                    m(a, "marker") && delete a.marker),
                    c.clean(a),
                    a.autobinx && (delete a.autobinx,
                    delete a.xbins),
                    a.autobiny && (delete a.autobiny,
                    delete a.ybins),
                    p(a),
                    a.colorbar && p(a.colorbar),
                    a.marker && a.marker.colorbar && p(a.marker.colorbar),
                    a.line && a.line.colorbar && p(a.line.colorbar),
                    a.aaxis && p(a.aaxis),
                    a.baxis && p(a.baxis)
                }
            }
            ,
            r.swapXYData = function(e) {
                var t;
                if (o.swapAttrs(e, ["?", "?0", "d?", "?bins", "nbins?", "autobin?", "?src", "error_?"]),
                Array.isArray(e.z) && Array.isArray(e.z[0]) && (e.transpose ? delete e.transpose : e.transpose = !0),
                e.error_x && e.error_y) {
                    var r = e.error_y
                      , n = "copy_ystyle"in r ? r.copy_ystyle : !(r.color || r.thickness || r.width);
                    o.swapAttrs(e, ["error_?.copy_ystyle"]),
                    n && o.swapAttrs(e, ["error_?.color", "error_?.thickness", "error_?.width"])
                }
                if ("string" == typeof e.hoverinfo) {
                    var a = e.hoverinfo.split("+");
                    for (t = 0; t < a.length; t++)
                        "x" === a[t] ? a[t] = "y" : "y" === a[t] && (a[t] = "x");
                    e.hoverinfo = a.join("+")
                }
            }
            ,
            r.coerceTraceIndices = function(e, t) {
                if (n(t))
                    return [t];
                if (!Array.isArray(t) || !t.length)
                    return e.data.map((function(e, t) {
                        return t
                    }
                    ));
                if (Array.isArray(t)) {
                    for (var r = [], a = 0; a < t.length; a++)
                        o.isIndex(t[a], e.data.length) ? r.push(t[a]) : o.warn("trace index (", t[a], ") is not a number or is out of bounds");
                    return r
                }
                return t
            }
            ,
            r.manageArrayContainers = function(e, t, r) {
                var a = e.obj
                  , i = e.parts
                  , s = i.length
                  , l = i[s - 1]
                  , c = n(l);
                if (c && null === t) {
                    var u = i.slice(0, s - 1).join(".");
                    o.nestedProperty(a, u).get().splice(l, 1)
                } else
                    c && void 0 === e.get() ? (void 0 === e.get() && (r[e.astr] = null),
                    e.set(t)) : e.set(t)
            }
            ;
            var b = /(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;
            function x(e) {
                var t = e.search(b);
                if (t > 0)
                    return e.substr(0, t)
            }
            r.hasParent = function(e, t) {
                for (var r = x(t); r; ) {
                    if (r in e)
                        return !0;
                    r = x(r)
                }
                return !1
            }
            ;
            var _ = ["x", "y", "z"];
            r.clearAxisTypes = function(e, t, r) {
                for (var n = 0; n < t.length; n++)
                    for (var a = e._fullData[n], i = 0; i < 3; i++) {
                        var s = f(e, a, _[i]);
                        if (s && "log" !== s.type) {
                            var l = s._name
                              , c = s._id.substr(1);
                            if ("scene" === c.substr(0, 5)) {
                                if (void 0 !== r[c])
                                    continue;
                                l = c + "." + l
                            }
                            var u = l + ".type";
                            void 0 === r[l] && void 0 === r[u] && o.nestedProperty(e.layout, u).set(null)
                        }
                    }
            }
        }
        , {
            "../components/color": 235,
            "../lib": 365,
            "../plots/cartesian/axis_ids": 418,
            "../plots/plots": 449,
            "../registry": 451,
            "fast-isnumeric": 107,
            "gl-mat4/fromQuat": 116
        }],
        398: [function(e, t, r) {
            "use strict";
            var n = e("./plot_api");
            r._doPlot = n._doPlot,
            r.newPlot = n.newPlot,
            r.restyle = n.restyle,
            r.relayout = n.relayout,
            r.redraw = n.redraw,
            r.update = n.update,
            r._guiRestyle = n._guiRestyle,
            r._guiRelayout = n._guiRelayout,
            r._guiUpdate = n._guiUpdate,
            r._storeDirectGUIEdit = n._storeDirectGUIEdit,
            r.react = n.react,
            r.extendTraces = n.extendTraces,
            r.prependTraces = n.prependTraces,
            r.addTraces = n.addTraces,
            r.deleteTraces = n.deleteTraces,
            r.moveTraces = n.moveTraces,
            r.purge = n.purge,
            r.addFrames = n.addFrames,
            r.deleteFrames = n.deleteFrames,
            r.animate = n.animate,
            r.setPlotConfig = n.setPlotConfig,
            r.toImage = e("./to_image"),
            r.validate = e("./validate"),
            r.downloadImage = e("../snapshot/download");
            var a = e("./template_api");
            r.makeTemplate = a.makeTemplate,
            r.validateTemplate = a.validateTemplate
        }
        , {
            "../snapshot/download": 453,
            "./plot_api": 400,
            "./template_api": 405,
            "./to_image": 406,
            "./validate": 407
        }],
        399: [function(e, t, r) {
            "use strict";
            var n = e("../lib/is_plain_object")
              , a = e("../lib/noop")
              , i = e("../lib/loggers")
              , o = e("../lib/search").sorterAsc
              , s = e("../registry");
            r.containerArrayMatch = e("./container_array_match");
            var l = r.isAddVal = function(e) {
                return "add" === e || n(e)
            }
              , c = r.isRemoveVal = function(e) {
                return null === e || "remove" === e
            }
            ;
            r.applyContainerArrayChanges = function(e, t, r, n, u) {
                var f = t.astr
                  , d = s.getComponentMethod(f, "supplyLayoutDefaults")
                  , h = s.getComponentMethod(f, "draw")
                  , p = s.getComponentMethod(f, "drawOne")
                  , g = n.replot || n.recalc || d === a || h === a
                  , y = e.layout
                  , v = e._fullLayout;
                if (r[""]) {
                    Object.keys(r).length > 1 && i.warn("Full array edits are incompatible with other edits", f);
                    var m = r[""][""];
                    if (c(m))
                        t.set(null);
                    else {
                        if (!Array.isArray(m))
                            return i.warn("Unrecognized full array edit value", f, m),
                            !0;
                        t.set(m)
                    }
                    return !g && (d(y, v),
                    h(e),
                    !0)
                }
                var b, x, _, w, A, k, T, M, S = Object.keys(r).map(Number).sort(o), C = t.get(), O = C || [], D = u(v, f).get(), L = [], E = -1, z = O.length;
                for (b = 0; b < S.length; b++)
                    if (w = r[_ = S[b]],
                    A = Object.keys(w),
                    k = w[""],
                    T = l(k),
                    _ < 0 || _ > O.length - (T ? 0 : 1))
                        i.warn("index out of range", f, _);
                    else if (void 0 !== k)
                        A.length > 1 && i.warn("Insertion & removal are incompatible with edits to the same index.", f, _),
                        c(k) ? L.push(_) : T ? ("add" === k && (k = {}),
                        O.splice(_, 0, k),
                        D && D.splice(_, 0, {})) : i.warn("Unrecognized full object edit value", f, _, k),
                        -1 === E && (E = _);
                    else
                        for (x = 0; x < A.length; x++)
                            M = f + "[" + _ + "].",
                            u(O[_], A[x], M).set(w[A[x]]);
                for (b = L.length - 1; b >= 0; b--)
                    O.splice(L[b], 1),
                    D && D.splice(L[b], 1);
                if (O.length ? C || t.set(O) : t.set(null),
                g)
                    return !1;
                if (d(y, v),
                p !== a) {
                    var F;
                    if (-1 === E)
                        F = S;
                    else {
                        for (z = Math.max(O.length, z),
                        F = [],
                        b = 0; b < S.length && !((_ = S[b]) >= E); b++)
                            F.push(_);
                        for (b = E; b < z; b++)
                            F.push(b)
                    }
                    for (b = 0; b < F.length; b++)
                        p(e, F[b])
                } else
                    h(e);
                return !0
            }
        }
        , {
            "../lib/is_plain_object": 366,
            "../lib/loggers": 369,
            "../lib/noop": 374,
            "../lib/search": 385,
            "../registry": 451,
            "./container_array_match": 395
        }],
        400: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("fast-isnumeric")
              , i = e("has-hover")
              , o = e("../lib")
              , s = o.nestedProperty
              , l = e("../lib/events")
              , c = e("../lib/queue")
              , u = e("../registry")
              , f = e("./plot_schema")
              , d = e("../plots/plots")
              , h = e("../plots/cartesian/axes")
              , p = e("../components/drawing")
              , g = e("../components/color")
              , y = e("../plots/cartesian/graph_interact").initInteractions
              , v = e("../constants/xmlns_namespaces")
              , m = e("../plots/cartesian/select").clearSelect
              , b = e("./plot_config").dfltConfig
              , x = e("./manage_arrays")
              , _ = e("./helpers")
              , w = e("./subroutines")
              , A = e("./edit_types")
              , k = e("../plots/cartesian/constants").AX_NAME_PATTERN
              , T = 0;
            function M(e) {
                var t = e._fullLayout;
                t._redrawFromAutoMarginCount ? t._redrawFromAutoMarginCount-- : e.emit("plotly_afterplot")
            }
            function S(e, t) {
                try {
                    e._fullLayout._paper.style("background", t)
                } catch (e) {
                    o.error(e)
                }
            }
            function C(e, t) {
                S(e, g.combine(t, "white"))
            }
            function O(e, t) {
                if (!e._context) {
                    e._context = o.extendDeep({}, b);
                    var r = n.select("base");
                    e._context._baseUrl = r.size() && r.attr("href") ? window.location.href.split("#")[0] : ""
                }
                var a, s, l, c = e._context;
                if (t) {
                    for (s = Object.keys(t),
                    a = 0; a < s.length; a++)
                        "editable" !== (l = s[a]) && "edits" !== l && l in c && ("setBackground" === l && "opaque" === t[l] ? c[l] = C : c[l] = t[l]);
                    t.plot3dPixelRatio && !c.plotGlPixelRatio && (c.plotGlPixelRatio = c.plot3dPixelRatio);
                    var u = t.editable;
                    if (void 0 !== u)
                        for (c.editable = u,
                        s = Object.keys(c.edits),
                        a = 0; a < s.length; a++)
                            c.edits[s[a]] = u;
                    if (t.edits)
                        for (s = Object.keys(t.edits),
                        a = 0; a < s.length; a++)
                            (l = s[a])in c.edits && (c.edits[l] = t.edits[l]);
                    c._exportedPlot = t._exportedPlot
                }
                c.staticPlot && (c.editable = !1,
                c.edits = {},
                c.autosizable = !1,
                c.scrollZoom = !1,
                c.doubleClick = !1,
                c.showTips = !1,
                c.showLink = !1,
                c.displayModeBar = !1),
                "hover" !== c.displayModeBar || i || (c.displayModeBar = !0),
                "transparent" !== c.setBackground && "function" == typeof c.setBackground || (c.setBackground = S),
                c._hasZeroHeight = c._hasZeroHeight || 0 === e.clientHeight,
                c._hasZeroWidth = c._hasZeroWidth || 0 === e.clientWidth;
                var f = c.scrollZoom
                  , d = c._scrollZoom = {};
                if (!0 === f)
                    d.cartesian = 1,
                    d.gl3d = 1,
                    d.geo = 1,
                    d.mapbox = 1;
                else if ("string" == typeof f) {
                    var h = f.split("+");
                    for (a = 0; a < h.length; a++)
                        d[h[a]] = 1
                } else
                    !1 !== f && (d.gl3d = 1,
                    d.geo = 1,
                    d.mapbox = 1)
            }
            function D(e, t) {
                var r, n, a = t + 1, i = [];
                for (r = 0; r < e.length; r++)
                    (n = e[r]) < 0 ? i.push(a + n) : i.push(n);
                return i
            }
            function L(e, t, r) {
                var n, a;
                for (n = 0; n < t.length; n++) {
                    if ((a = t[n]) !== parseInt(a, 10))
                        throw new Error("all values in " + r + " must be integers");
                    if (a >= e.data.length || a < -e.data.length)
                        throw new Error(r + " must be valid indices for gd.data.");
                    if (t.indexOf(a, n + 1) > -1 || a >= 0 && t.indexOf(-e.data.length + a) > -1 || a < 0 && t.indexOf(e.data.length + a) > -1)
                        throw new Error("each index in " + r + " must be unique.")
                }
            }
            function E(e, t, r) {
                if (!Array.isArray(e.data))
                    throw new Error("gd.data must be an array.");
                if (void 0 === t)
                    throw new Error("currentIndices is a required argument.");
                if (Array.isArray(t) || (t = [t]),
                L(e, t, "currentIndices"),
                void 0 === r || Array.isArray(r) || (r = [r]),
                void 0 !== r && L(e, r, "newIndices"),
                void 0 !== r && t.length !== r.length)
                    throw new Error("current and new indices must be of equal length.")
            }
            function z(e, t, r, n, i) {
                !function(e, t, r, n) {
                    var a = o.isPlainObject(n);
                    if (!Array.isArray(e.data))
                        throw new Error("gd.data must be an array");
                    if (!o.isPlainObject(t))
                        throw new Error("update must be a key:value object");
                    if (void 0 === r)
                        throw new Error("indices must be an integer or array of integers");
                    for (var i in L(e, r, "indices"),
                    t) {
                        if (!Array.isArray(t[i]) || t[i].length !== r.length)
                            throw new Error("attribute " + i + " must be an array of length equal to indices array length");
                        if (a && (!(i in n) || !Array.isArray(n[i]) || n[i].length !== t[i].length))
                            throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")
                    }
                }(e, t, r, n);
                for (var l = function(e, t, r, n) {
                    var i, l, c, u, f, d = o.isPlainObject(n), h = [];
                    for (var p in Array.isArray(r) || (r = [r]),
                    r = D(r, e.data.length - 1),
                    t)
                        for (var g = 0; g < r.length; g++) {
                            if (i = e.data[r[g]],
                            l = (c = s(i, p)).get(),
                            u = t[p][g],
                            !o.isArrayOrTypedArray(u))
                                throw new Error("attribute: " + p + " index: " + g + " must be an array");
                            if (!o.isArrayOrTypedArray(l))
                                throw new Error("cannot extend missing or non-array attribute: " + p);
                            if (l.constructor !== u.constructor)
                                throw new Error("cannot extend array with an array of a different type: " + p);
                            f = d ? n[p][g] : n,
                            a(f) || (f = -1),
                            h.push({
                                prop: c,
                                target: l,
                                insert: u,
                                maxp: Math.floor(f)
                            })
                        }
                    return h
                }(e, t, r, n), c = {}, u = {}, f = 0; f < l.length; f++) {
                    var d = l[f].prop
                      , h = l[f].maxp
                      , p = i(l[f].target, l[f].insert, h);
                    d.set(p[0]),
                    Array.isArray(c[d.astr]) || (c[d.astr] = []),
                    c[d.astr].push(p[1]),
                    Array.isArray(u[d.astr]) || (u[d.astr] = []),
                    u[d.astr].push(l[f].target.length)
                }
                return {
                    update: c,
                    maxPoints: u
                }
            }
            function F(e, t) {
                var r = new e.constructor(e.length + t.length);
                return r.set(e),
                r.set(t, e.length),
                r
            }
            function P(e, t, n, a) {
                e = o.getGraphDiv(e),
                _.clearPromiseQueue(e);
                var i = {};
                if ("string" == typeof t)
                    i[t] = n;
                else {
                    if (!o.isPlainObject(t))
                        return o.warn("Restyle fail.", t, n, a),
                        Promise.reject();
                    i = o.extendFlat({}, t),
                    void 0 === a && (a = n)
                }
                Object.keys(i).length && (e.changed = !0);
                var s = _.coerceTraceIndices(e, a)
                  , l = j(e, i, s)
                  , u = l.flags;
                u.calc && (e.calcdata = void 0),
                u.clearAxisTypes && _.clearAxisTypes(e, s, {});
                var f = [];
                u.fullReplot ? f.push(r._doPlot) : (f.push(d.previousPromises),
                d.supplyDefaults(e),
                u.markerSize && (d.doCalcdata(e),
                Y(f)),
                u.style && f.push(w.doTraceStyle),
                u.colorbars && f.push(w.doColorBars),
                f.push(M)),
                f.push(d.rehover, d.redrag),
                c.add(e, P, [e, l.undoit, l.traces], P, [e, l.redoit, l.traces]);
                var h = o.syncOrAsync(f, e);
                return h && h.then || (h = Promise.resolve()),
                h.then((function() {
                    return e.emit("plotly_restyle", l.eventData),
                    e
                }
                ))
            }
            function I(e) {
                return void 0 === e ? null : e
            }
            function N(e, t) {
                return t ? function(t, r, n) {
                    var a = s(t, r)
                      , i = a.set;
                    return a.set = function(t) {
                        R((n || "") + r, a.get(), t, e),
                        i(t)
                    }
                    ,
                    a
                }
                : s
            }
            function R(e, t, r, n) {
                if (Array.isArray(t) || Array.isArray(r))
                    for (var a = Array.isArray(t) ? t : [], i = Array.isArray(r) ? r : [], s = Math.max(a.length, i.length), l = 0; l < s; l++)
                        R(e + "[" + l + "]", a[l], i[l], n);
                else if (o.isPlainObject(t) || o.isPlainObject(r)) {
                    var c = o.isPlainObject(t) ? t : {}
                      , u = o.isPlainObject(r) ? r : {}
                      , f = o.extendFlat({}, c, u);
                    for (var d in f)
                        R(e + "." + d, c[d], u[d], n)
                } else
                    void 0 === n[e] && (n[e] = I(t))
            }
            function j(e, t, r) {
                var n, a = e._fullLayout, i = e._fullData, l = e.data, c = a._guiEditing, p = N(a._preGUI, c), g = o.extendDeepAll({}, t);
                B(t);
                var y, v = A.traceFlags(), m = {}, b = {};
                function x() {
                    return r.map((function() {}
                    ))
                }
                function w(e) {
                    var t = h.id2name(e);
                    -1 === y.indexOf(t) && y.push(t)
                }
                function k(e) {
                    return "LAYOUT" + e + ".autorange"
                }
                function T(e) {
                    return "LAYOUT" + e + ".range"
                }
                function M(e) {
                    for (var t = e; t < i.length; t++)
                        if (i[t]._input === l[e])
                            return i[t]
                }
                function S(n, i, o) {
                    if (Array.isArray(n))
                        n.forEach((function(e) {
                            S(e, i, o)
                        }
                        ));
                    else if (!(n in t) && !_.hasParent(t, n)) {
                        var s;
                        if ("LAYOUT" === n.substr(0, 6))
                            s = p(e.layout, n.replace("LAYOUT", ""));
                        else {
                            var u = r[o];
                            s = N(a._tracePreGUI[M(u)._fullInput.uid], c)(l[u], n)
                        }
                        n in b || (b[n] = x()),
                        void 0 === b[n][o] && (b[n][o] = I(s.get())),
                        void 0 !== i && s.set(i)
                    }
                }
                function C(e) {
                    return function(t) {
                        return i[t][e]
                    }
                }
                function O(e) {
                    return function(t, n) {
                        return !1 === t ? i[r[n]][e] : null
                    }
                }
                for (var D in t) {
                    if (_.hasParent(t, D))
                        throw new Error("cannot set " + D + " and a parent attribute simultaneously");
                    var L, E, z, F, P, R, j = t[D];
                    if ("autobinx" !== D && "autobiny" !== D || (D = D.charAt(D.length - 1) + "bins",
                    j = Array.isArray(j) ? j.map(O(D)) : !1 === j ? r.map(C(D)) : null),
                    m[D] = j,
                    "LAYOUT" !== D.substr(0, 6)) {
                        for (b[D] = x(),
                        n = 0; n < r.length; n++) {
                            if (L = l[r[n]],
                            E = M(r[n]),
                            F = (z = N(a._tracePreGUI[E._fullInput.uid], c)(L, D)).get(),
                            void 0 !== (P = Array.isArray(j) ? j[n % j.length] : j)) {
                                var H = z.parts[z.parts.length - 1]
                                  , U = D.substr(0, D.length - H.length - 1)
                                  , Y = U ? U + "." : ""
                                  , V = U ? s(E, U).get() : E;
                                if ((R = f.getTraceValObject(E, z.parts)) && R.impliedEdits && null !== P)
                                    for (var q in R.impliedEdits)
                                        S(o.relativeAttr(D, q), R.impliedEdits[q], n);
                                else if ("thicknessmode" !== H && "lenmode" !== H || F === P || "fraction" !== P && "pixels" !== P || !V) {
                                    if ("type" === D && ("pie" === P != ("pie" === F) || "funnelarea" === P != ("funnelarea" === F))) {
                                        var W = "x"
                                          , G = "y";
                                        "bar" !== P && "bar" !== F || "h" !== L.orientation || (W = "y",
                                        G = "x"),
                                        o.swapAttrs(L, ["?", "?src"], "labels", W),
                                        o.swapAttrs(L, ["d?", "?0"], "label", W),
                                        o.swapAttrs(L, ["?", "?src"], "values", G),
                                        "pie" === F || "funnelarea" === F ? (s(L, "marker.color").set(s(L, "marker.colors").get()),
                                        a._pielayer.selectAll("g.trace").remove()) : u.traceIs(L, "cartesian") && s(L, "marker.colors").set(s(L, "marker.color").get())
                                    }
                                } else {
                                    var Z = a._size
                                      , J = V.orient
                                      , X = "top" === J || "bottom" === J;
                                    if ("thicknessmode" === H) {
                                        var Q = X ? Z.h : Z.w;
                                        S(Y + "thickness", V.thickness * ("fraction" === P ? 1 / Q : Q), n)
                                    } else {
                                        var $ = X ? Z.w : Z.h;
                                        S(Y + "len", V.len * ("fraction" === P ? 1 / $ : $), n)
                                    }
                                }
                                b[D][n] = I(F);
                                if (-1 !== ["swapxy", "swapxyaxes", "orientation", "orientationaxes"].indexOf(D)) {
                                    if ("orientation" === D) {
                                        z.set(P);
                                        var K = L.x && !L.y ? "h" : "v";
                                        if ((z.get() || K) === E.orientation)
                                            continue
                                    } else
                                        "orientationaxes" === D && (L.orientation = {
                                            v: "h",
                                            h: "v"
                                        }[E.orientation]);
                                    _.swapXYData(L),
                                    v.calc = v.clearAxisTypes = !0
                                } else
                                    -1 !== d.dataArrayContainers.indexOf(z.parts[0]) ? (_.manageArrayContainers(z, P, b),
                                    v.calc = !0) : (R ? R.arrayOk && !u.traceIs(E, "regl") && (o.isArrayOrTypedArray(P) || o.isArrayOrTypedArray(F)) ? v.calc = !0 : A.update(v, R) : v.calc = !0,
                                    z.set(P))
                            }
                        }
                        if (-1 !== ["swapxyaxes", "orientationaxes"].indexOf(D) && h.swap(e, r),
                        "orientationaxes" === D) {
                            var ee = s(e.layout, "hovermode")
                              , te = ee.get();
                            "x" === te ? ee.set("y") : "y" === te ? ee.set("x") : "x unified" === te ? ee.set("y unified") : "y unified" === te && ee.set("x unified")
                        }
                        if (-1 !== ["orientation", "type"].indexOf(D)) {
                            for (y = [],
                            n = 0; n < r.length; n++) {
                                var re = l[r[n]];
                                u.traceIs(re, "cartesian") && (w(re.xaxis || "x"),
                                w(re.yaxis || "y"))
                            }
                            S(y.map(k), !0, 0),
                            S(y.map(T), [0, 1], 0)
                        }
                    } else
                        z = p(e.layout, D.replace("LAYOUT", "")),
                        b[D] = [I(z.get())],
                        z.set(Array.isArray(j) ? j[0] : j),
                        v.calc = !0
                }
                return (v.calc || v.plot) && (v.fullReplot = !0),
                {
                    flags: v,
                    undoit: b,
                    redoit: m,
                    traces: r,
                    eventData: o.extendDeepNoArrays([], [g, r])
                }
            }
            function B(e) {
                var t, r, n, a = o.counterRegex("axis", ".title", !1, !1), i = /colorbar\.title$/, s = Object.keys(e);
                for (t = 0; t < s.length; t++)
                    r = s[t],
                    n = e[r],
                    "title" !== r && !a.test(r) && !i.test(r) || "string" != typeof n && "number" != typeof n ? r.indexOf("titlefont") > -1 ? l(r, r.replace("titlefont", "title.font")) : r.indexOf("titleposition") > -1 ? l(r, r.replace("titleposition", "title.position")) : r.indexOf("titleside") > -1 ? l(r, r.replace("titleside", "title.side")) : r.indexOf("titleoffset") > -1 && l(r, r.replace("titleoffset", "title.offset")) : l(r, r.replace("title", "title.text"));
                function l(t, r) {
                    e[r] = e[t],
                    delete e[t]
                }
            }
            function H(e, t, r) {
                e = o.getGraphDiv(e),
                _.clearPromiseQueue(e);
                var n = {};
                if ("string" == typeof t)
                    n[t] = r;
                else {
                    if (!o.isPlainObject(t))
                        return o.warn("Relayout fail.", t, r),
                        Promise.reject();
                    n = o.extendFlat({}, t)
                }
                Object.keys(n).length && (e.changed = !0);
                var a = G(e, n)
                  , i = a.flags;
                i.calc && (e.calcdata = void 0);
                var s = [d.previousPromises];
                i.layoutReplot ? s.push(w.layoutReplot) : Object.keys(n).length && (U(e, i, a) || d.supplyDefaults(e),
                i.legend && s.push(w.doLegend),
                i.layoutstyle && s.push(w.layoutStyles),
                i.axrange && Y(s, a.rangesAltered),
                i.ticks && s.push(w.doTicksRelayout),
                i.modebar && s.push(w.doModeBar),
                i.camera && s.push(w.doCamera),
                i.colorbars && s.push(w.doColorBars),
                s.push(M)),
                s.push(d.rehover, d.redrag),
                c.add(e, H, [e, a.undoit], H, [e, a.redoit]);
                var l = o.syncOrAsync(s, e);
                return l && l.then || (l = Promise.resolve(e)),
                l.then((function() {
                    return e.emit("plotly_relayout", a.eventData),
                    e
                }
                ))
            }
            function U(e, t, r) {
                var n = e._fullLayout;
                if (!t.axrange)
                    return !1;
                for (var a in t)
                    if ("axrange" !== a && t[a])
                        return !1;
                for (var i in r.rangesAltered) {
                    var o = h.id2name(i)
                      , s = e.layout[o]
                      , l = n[o];
                    if (l.autorange = s.autorange,
                    s.range && (l.range = s.range.slice()),
                    l.cleanRange(),
                    l._matchGroup)
                        for (var c in l._matchGroup)
                            if (c !== i) {
                                var u = n[h.id2name(c)];
                                u.autorange = l.autorange,
                                u.range = l.range.slice(),
                                u._input.range = l.range.slice()
                            }
                }
                return !0
            }
            function Y(e, t) {
                var r = t ? function(e) {
                    var r = []
                      , n = !0;
                    for (var a in t) {
                        var i = h.getFromId(e, a);
                        if (r.push(a),
                        -1 !== (i.ticklabelposition || "").indexOf("inside") && i._anchorAxis && r.push(i._anchorAxis._id),
                        i._matchGroup)
                            for (var o in i._matchGroup)
                                t[o] || r.push(o);
                        i.automargin && (n = !1)
                    }
                    return h.draw(e, r, {
                        skipTitle: n
                    })
                }
                : function(e) {
                    return h.draw(e, "redraw")
                }
                ;
                e.push(m, w.doAutoRangeAndConstraints, r, w.drawData, w.finalDraw)
            }
            var V = /^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/
              , q = /^[xyz]axis[0-9]*\.autorange$/
              , W = /^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;
            function G(e, t) {
                var r, n, a, i = e.layout, l = e._fullLayout, c = l._guiEditing, d = N(l._preGUI, c), p = Object.keys(t), g = h.list(e), y = o.extendDeepAll({}, t), v = {};
                for (B(t),
                p = Object.keys(t),
                n = 0; n < p.length; n++)
                    if (0 === p[n].indexOf("allaxes")) {
                        for (a = 0; a < g.length; a++) {
                            var m = g[a]._id.substr(1)
                              , b = -1 !== m.indexOf("scene") ? m + "." : ""
                              , w = p[n].replace("allaxes", b + g[a]._name);
                            t[w] || (t[w] = t[p[n]])
                        }
                        delete t[p[n]]
                    }
                var T = A.layoutFlags()
                  , M = {}
                  , S = {};
                function C(e, r) {
                    if (Array.isArray(e))
                        e.forEach((function(e) {
                            C(e, r)
                        }
                        ));
                    else if (!(e in t) && !_.hasParent(t, e)) {
                        var n = d(i, e);
                        e in S || (S[e] = I(n.get())),
                        void 0 !== r && n.set(r)
                    }
                }
                var O, D = {};
                function L(e) {
                    var t = h.name2id(e.split(".")[0]);
                    return D[t] = 1,
                    t
                }
                for (var E in t) {
                    if (_.hasParent(t, E))
                        throw new Error("cannot set " + E + " and a parent attribute simultaneously");
                    for (var z = d(i, E), F = t[E], P = z.parts.length - 1; P > 0 && "string" != typeof z.parts[P]; )
                        P--;
                    var R = z.parts[P]
                      , j = z.parts[P - 1] + "." + R
                      , H = z.parts.slice(0, P).join(".")
                      , U = s(e.layout, H).get()
                      , Y = s(l, H).get()
                      , G = z.get();
                    if (void 0 !== F) {
                        M[E] = F,
                        S[E] = "reverse" === R ? F : I(G);
                        var J = f.getLayoutValObject(l, z.parts);
                        if (J && J.impliedEdits && null !== F)
                            for (var X in J.impliedEdits)
                                C(o.relativeAttr(E, X), J.impliedEdits[X]);
                        if (-1 !== ["width", "height"].indexOf(E))
                            if (F) {
                                C("autosize", null);
                                var Q = "height" === E ? "width" : "height";
                                C(Q, l[Q])
                            } else
                                l[E] = e._initialAutoSize[E];
                        else if ("autosize" === E)
                            C("width", F ? null : l.width),
                            C("height", F ? null : l.height);
                        else if (j.match(V))
                            L(j),
                            s(l, H + "._inputRange").set(null);
                        else if (j.match(q)) {
                            L(j),
                            s(l, H + "._inputRange").set(null);
                            var $ = s(l, H).get();
                            $._inputDomain && ($._input.domain = $._inputDomain.slice())
                        } else
                            j.match(W) && s(l, H + "._inputDomain").set(null);
                        if ("type" === R) {
                            O = U;
                            var K = "linear" === Y.type && "log" === F
                              , ee = "log" === Y.type && "linear" === F;
                            if (K || ee) {
                                if (O && O.range)
                                    if (Y.autorange)
                                        K && (O.range = O.range[1] > O.range[0] ? [1, 2] : [2, 1]);
                                    else {
                                        var te = O.range[0]
                                          , re = O.range[1];
                                        K ? (te <= 0 && re <= 0 && C(H + ".autorange", !0),
                                        te <= 0 ? te = re / 1e6 : re <= 0 && (re = te / 1e6),
                                        C(H + ".range[0]", Math.log(te) / Math.LN10),
                                        C(H + ".range[1]", Math.log(re) / Math.LN10)) : (C(H + ".range[0]", Math.pow(10, te)),
                                        C(H + ".range[1]", Math.pow(10, re)))
                                    }
                                else
                                    C(H + ".autorange", !0);
                                Array.isArray(l._subplots.polar) && l._subplots.polar.length && l[z.parts[0]] && "radialaxis" === z.parts[1] && delete l[z.parts[0]]._subplot.viewInitial["radialaxis.range"],
                                u.getComponentMethod("annotations", "convertCoords")(e, Y, F, C),
                                u.getComponentMethod("images", "convertCoords")(e, Y, F, C)
                            } else
                                C(H + ".autorange", !0),
                                C(H + ".range", null);
                            s(l, H + "._inputRange").set(null)
                        } else if (R.match(k)) {
                            var ne = s(l, E).get()
                              , ae = (F || {}).type;
                            ae && "-" !== ae || (ae = "linear"),
                            u.getComponentMethod("annotations", "convertCoords")(e, ne, ae, C),
                            u.getComponentMethod("images", "convertCoords")(e, ne, ae, C)
                        }
                        var ie = x.containerArrayMatch(E);
                        if (ie) {
                            r = ie.array,
                            n = ie.index;
                            var oe = ie.property
                              , se = J || {
                                editType: "calc"
                            };
                            "" !== n && "" === oe && (x.isAddVal(F) ? S[E] = null : x.isRemoveVal(F) ? S[E] = (s(i, r).get() || [])[n] : o.warn("unrecognized full object value", t)),
                            A.update(T, se),
                            v[r] || (v[r] = {});
                            var le = v[r][n];
                            le || (le = v[r][n] = {}),
                            le[oe] = F,
                            delete t[E]
                        } else
                            "reverse" === R ? (U.range ? U.range.reverse() : (C(H + ".autorange", !0),
                            U.range = [1, 0]),
                            Y.autorange ? T.calc = !0 : T.plot = !0) : (l._has("scatter-like") && l._has("regl") && "dragmode" === E && ("lasso" === F || "select" === F) && "lasso" !== G && "select" !== G || l._has("gl2d") ? T.plot = !0 : J ? A.update(T, J) : T.calc = !0,
                            z.set(F))
                    }
                }
                for (r in v) {
                    x.applyContainerArrayChanges(e, d(i, r), v[r], T, d) || (T.plot = !0)
                }
                for (var ce in D) {
                    var ue = (O = h.getFromId(e, ce)) && O._constraintGroup;
                    if (ue)
                        for (var fe in T.calc = !0,
                        ue)
                            D[fe] || (h.getFromId(e, fe)._constraintShrinkable = !0)
                }
                return (Z(e) || t.height || t.width) && (T.plot = !0),
                (T.plot || T.calc) && (T.layoutReplot = !0),
                {
                    flags: T,
                    rangesAltered: D,
                    undoit: S,
                    redoit: M,
                    eventData: y
                }
            }
            function Z(e) {
                var t = e._fullLayout
                  , r = t.width
                  , n = t.height;
                return e.layout.autosize && d.plotAutoSize(e, e.layout, t),
                t.width !== r || t.height !== n
            }
            function J(e, t, n, a) {
                e = o.getGraphDiv(e),
                _.clearPromiseQueue(e),
                o.isPlainObject(t) || (t = {}),
                o.isPlainObject(n) || (n = {}),
                Object.keys(t).length && (e.changed = !0),
                Object.keys(n).length && (e.changed = !0);
                var i = _.coerceTraceIndices(e, a)
                  , s = j(e, o.extendFlat({}, t), i)
                  , l = s.flags
                  , u = G(e, o.extendFlat({}, n))
                  , f = u.flags;
                (l.calc || f.calc) && (e.calcdata = void 0),
                l.clearAxisTypes && _.clearAxisTypes(e, i, n);
                var h = [];
                f.layoutReplot ? h.push(w.layoutReplot) : l.fullReplot ? h.push(r._doPlot) : (h.push(d.previousPromises),
                U(e, f, u) || d.supplyDefaults(e),
                l.style && h.push(w.doTraceStyle),
                (l.colorbars || f.colorbars) && h.push(w.doColorBars),
                f.legend && h.push(w.doLegend),
                f.layoutstyle && h.push(w.layoutStyles),
                f.axrange && Y(h, u.rangesAltered),
                f.ticks && h.push(w.doTicksRelayout),
                f.modebar && h.push(w.doModeBar),
                f.camera && h.push(w.doCamera),
                h.push(M)),
                h.push(d.rehover, d.redrag),
                c.add(e, J, [e, s.undoit, u.undoit, s.traces], J, [e, s.redoit, u.redoit, s.traces]);
                var p = o.syncOrAsync(h, e);
                return p && p.then || (p = Promise.resolve(e)),
                p.then((function() {
                    return e.emit("plotly_update", {
                        data: s.eventData,
                        layout: u.eventData
                    }),
                    e
                }
                ))
            }
            function X(e) {
                return function(t) {
                    t._fullLayout._guiEditing = !0;
                    var r = e.apply(null, arguments);
                    return t._fullLayout._guiEditing = !1,
                    r
                }
            }
            var Q = [{
                pattern: /^hiddenlabels/,
                attr: "legend.uirevision"
            }, {
                pattern: /^((x|y)axis\d*)\.((auto)?range|title\.text)/
            }, {
                pattern: /axis\d*\.showspikes$/,
                attr: "modebar.uirevision"
            }, {
                pattern: /(hover|drag)mode$/,
                attr: "modebar.uirevision"
            }, {
                pattern: /^(scene\d*)\.camera/
            }, {
                pattern: /^(geo\d*)\.(projection|center|fitbounds)/
            }, {
                pattern: /^(ternary\d*\.[abc]axis)\.(min|title\.text)$/
            }, {
                pattern: /^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/
            }, {
                pattern: /^(polar\d*\.angularaxis)\.rotation/
            }, {
                pattern: /^(mapbox\d*)\.(center|zoom|bearing|pitch)/
            }, {
                pattern: /^legend\.(x|y)$/,
                attr: "editrevision"
            }, {
                pattern: /^(shapes|annotations)/,
                attr: "editrevision"
            }, {
                pattern: /^title\.text$/,
                attr: "editrevision"
            }]
              , $ = [{
                pattern: /^selectedpoints$/,
                attr: "selectionrevision"
            }, {
                pattern: /(^|value\.)visible$/,
                attr: "legend.uirevision"
            }, {
                pattern: /^dimensions\[\d+\]\.constraintrange/
            }, {
                pattern: /^node\.(x|y|groups)/
            }, {
                pattern: /^level$/
            }, {
                pattern: /(^|value\.)name$/
            }, {
                pattern: /colorbar\.title\.text$/
            }, {
                pattern: /colorbar\.(x|y)$/,
                attr: "editrevision"
            }];
            function K(e, t) {
                for (var r = 0; r < t.length; r++) {
                    var n = t[r]
                      , a = e.match(n.pattern);
                    if (a)
                        return {
                            head: a[1],
                            attr: n.attr
                        }
                }
            }
            function ee(e, t) {
                var r = s(t, e).get();
                if (void 0 !== r)
                    return r;
                var n = e.split(".");
                for (n.pop(); n.length > 1; )
                    if (n.pop(),
                    void 0 !== (r = s(t, n.join(".") + ".uirevision").get()))
                        return r;
                return t.uirevision
            }
            function te(e, t) {
                for (var r = 0; r < t.length; r++)
                    if (t[r]._fullInput.uid === e)
                        return r;
                return -1
            }
            function re(e, t, r) {
                for (var n = 0; n < t.length; n++)
                    if (t[n].uid === e)
                        return n;
                return !t[r] || t[r].uid ? -1 : r
            }
            function ne(e, t) {
                var r = o.isPlainObject(e)
                  , n = Array.isArray(e);
                return r || n ? (r && o.isPlainObject(t) || n && Array.isArray(t)) && JSON.stringify(e) === JSON.stringify(t) : e === t
            }
            function ae(e, t, r, n) {
                var a, i, l, c = n.getValObject, u = n.flags, f = n.immutable, d = n.inArray, h = n.arrayIndex;
                function p() {
                    var e = a.editType;
                    d && -1 !== e.indexOf("arraydraw") ? o.pushUnique(u.arrays[d], h) : (A.update(u, a),
                    "none" !== e && u.nChanges++,
                    n.transition && a.anim && u.nChangesAnim++,
                    (V.test(l) || q.test(l)) && (u.rangesAltered[r[0]] = 1),
                    W.test(l) && s(t, "_inputDomain").set(null),
                    "datarevision" === i && (u.newDataRevision = 1))
                }
                function g(e) {
                    return "data_array" === e.valType || e.arrayOk
                }
                for (i in e) {
                    if (u.calc && !n.transition)
                        return;
                    var y = e[i]
                      , v = t[i]
                      , m = r.concat(i);
                    if (l = m.join("."),
                    "_" !== i.charAt(0) && "function" != typeof y && y !== v) {
                        if (("tick0" === i || "dtick" === i) && "geo" !== r[0]) {
                            var b = t.tickmode;
                            if ("auto" === b || "array" === b || !b)
                                continue
                        }
                        if (("range" !== i || !t.autorange) && ("zmin" !== i && "zmax" !== i || "contourcarpet" !== t.type) && (a = c(m)) && (!a._compareAsJSON || JSON.stringify(y) !== JSON.stringify(v))) {
                            var x, _ = a.valType, w = g(a), k = Array.isArray(y), T = Array.isArray(v);
                            if (k && T) {
                                var M = "_input_" + i
                                  , S = e[M]
                                  , C = t[M];
                                if (Array.isArray(S) && S === C)
                                    continue
                            }
                            if (void 0 === v)
                                w && k ? u.calc = !0 : p();
                            else if (a._isLinkedToArray) {
                                var O = []
                                  , D = !1;
                                d || (u.arrays[i] = O);
                                var L = Math.min(y.length, v.length)
                                  , E = Math.max(y.length, v.length);
                                if (L !== E) {
                                    if ("arraydraw" !== a.editType) {
                                        p();
                                        continue
                                    }
                                    D = !0
                                }
                                for (x = 0; x < L; x++)
                                    ae(y[x], v[x], m.concat(x), o.extendFlat({
                                        inArray: i,
                                        arrayIndex: x
                                    }, n));
                                if (D)
                                    for (x = L; x < E; x++)
                                        O.push(x)
                            } else
                                !_ && o.isPlainObject(y) ? ae(y, v, m, n) : w ? k && T ? (f && (u.calc = !0),
                                (f || n.newDataRevision) && p()) : k !== T ? u.calc = !0 : p() : k && T && y.length === v.length && String(y) === String(v) || p()
                        }
                    }
                }
                for (i in t)
                    if (!(i in e) && "_" !== i.charAt(0) && "function" != typeof t[i]) {
                        if (g(a = c(r.concat(i))) && Array.isArray(t[i]))
                            return void (u.calc = !0);
                        p()
                    }
            }
            function ie(e) {
                var t = e._fullLayout
                  , r = e.getBoundingClientRect();
                if (!o.equalDomRects(r, t._lastBBox)) {
                    var n = t._invTransform = o.inverseTransformMatrix(o.getFullTransformMatrix(e));
                    t._invScaleX = Math.sqrt(n[0][0] * n[0][0] + n[0][1] * n[0][1] + n[0][2] * n[0][2]),
                    t._invScaleY = Math.sqrt(n[1][0] * n[1][0] + n[1][1] * n[1][1] + n[1][2] * n[1][2]),
                    t._lastBBox = r
                }
            }
            r.animate = function(e, t, r) {
                if (e = o.getGraphDiv(e),
                !o.isPlotDiv(e))
                    throw new Error("This element is not a Plotly plot: " + e + ". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");
                var n = e._transitionData;
                n._frameQueue || (n._frameQueue = []);
                var a = (r = d.supplyAnimationDefaults(r)).transition
                  , i = r.frame;
                function s(e) {
                    return Array.isArray(a) ? e >= a.length ? a[0] : a[e] : a
                }
                function l(e) {
                    return Array.isArray(i) ? e >= i.length ? i[0] : i[e] : i
                }
                function c(e, t) {
                    var r = 0;
                    return function() {
                        if (e && ++r === t)
                            return e()
                    }
                }
                return void 0 === n._frameWaitingCnt && (n._frameWaitingCnt = 0),
                new Promise((function(i, u) {
                    function f() {
                        n._currentFrame && n._currentFrame.onComplete && n._currentFrame.onComplete();
                        var t = n._currentFrame = n._frameQueue.shift();
                        if (t) {
                            var r = t.name ? t.name.toString() : null;
                            e._fullLayout._currentFrame = r,
                            n._lastFrameAt = Date.now(),
                            n._timeToNext = t.frameOpts.duration,
                            d.transition(e, t.frame.data, t.frame.layout, _.coerceTraceIndices(e, t.frame.traces), t.frameOpts, t.transitionOpts).then((function() {
                                t.onComplete && t.onComplete()
                            }
                            )),
                            e.emit("plotly_animatingframe", {
                                name: r,
                                frame: t.frame,
                                animation: {
                                    frame: t.frameOpts,
                                    transition: t.transitionOpts
                                }
                            })
                        } else
                            e.emit("plotly_animated"),
                            window.cancelAnimationFrame(n._animationRaf),
                            n._animationRaf = null
                    }
                    function h() {
                        e.emit("plotly_animating"),
                        n._lastFrameAt = -1 / 0,
                        n._timeToNext = 0,
                        n._runningTransitions = 0,
                        n._currentFrame = null;
                        var t = function() {
                            n._animationRaf = window.requestAnimationFrame(t),
                            Date.now() - n._lastFrameAt > n._timeToNext && f()
                        };
                        t()
                    }
                    var p, g, y = 0;
                    function v(e) {
                        return Array.isArray(a) ? y >= a.length ? e.transitionOpts = a[y] : e.transitionOpts = a[0] : e.transitionOpts = a,
                        y++,
                        e
                    }
                    var m = []
                      , b = null == t
                      , x = Array.isArray(t);
                    if (!b && !x && o.isPlainObject(t))
                        m.push({
                            type: "object",
                            data: v(o.extendFlat({}, t))
                        });
                    else if (b || -1 !== ["string", "number"].indexOf(typeof t))
                        for (p = 0; p < n._frames.length; p++)
                            (g = n._frames[p]) && (b || String(g.group) === String(t)) && m.push({
                                type: "byname",
                                name: String(g.name),
                                data: v({
                                    name: g.name
                                })
                            });
                    else if (x)
                        for (p = 0; p < t.length; p++) {
                            var w = t[p];
                            -1 !== ["number", "string"].indexOf(typeof w) ? (w = String(w),
                            m.push({
                                type: "byname",
                                name: w,
                                data: v({
                                    name: w
                                })
                            })) : o.isPlainObject(w) && m.push({
                                type: "object",
                                data: v(o.extendFlat({}, w))
                            })
                        }
                    for (p = 0; p < m.length; p++)
                        if ("byname" === (g = m[p]).type && !n._frameHash[g.data.name])
                            return o.warn('animate failure: frame not found: "' + g.data.name + '"'),
                            void u();
                    -1 !== ["next", "immediate"].indexOf(r.mode) && function() {
                        if (0 !== n._frameQueue.length) {
                            for (; n._frameQueue.length; ) {
                                var t = n._frameQueue.pop();
                                t.onInterrupt && t.onInterrupt()
                            }
                            e.emit("plotly_animationinterrupted", [])
                        }
                    }(),
                    "reverse" === r.direction && m.reverse();
                    var A = e._fullLayout._currentFrame;
                    if (A && r.fromcurrent) {
                        var k = -1;
                        for (p = 0; p < m.length; p++)
                            if ("byname" === (g = m[p]).type && g.name === A) {
                                k = p;
                                break
                            }
                        if (k > 0 && k < m.length - 1) {
                            var T = [];
                            for (p = 0; p < m.length; p++)
                                g = m[p],
                                ("byname" !== m[p].type || p > k) && T.push(g);
                            m = T
                        }
                    }
                    m.length > 0 ? function(t) {
                        if (0 !== t.length) {
                            for (var a = 0; a < t.length; a++) {
                                var o;
                                o = "byname" === t[a].type ? d.computeFrame(e, t[a].name) : t[a].data;
                                var f = l(a)
                                  , p = s(a);
                                p.duration = Math.min(p.duration, f.duration);
                                var g = {
                                    frame: o,
                                    name: t[a].name,
                                    frameOpts: f,
                                    transitionOpts: p
                                };
                                a === t.length - 1 && (g.onComplete = c(i, 2),
                                g.onInterrupt = u),
                                n._frameQueue.push(g)
                            }
                            "immediate" === r.mode && (n._lastFrameAt = -1 / 0),
                            n._animationRaf || h()
                        }
                    }(m) : (e.emit("plotly_animated"),
                    i())
                }
                ))
            }
            ,
            r.addFrames = function(e, t, r) {
                if (e = o.getGraphDiv(e),
                null == t)
                    return Promise.resolve();
                if (!o.isPlotDiv(e))
                    throw new Error("This element is not a Plotly plot: " + e + ". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");
                var n, a, i, s, l = e._transitionData._frames, u = e._transitionData._frameHash;
                if (!Array.isArray(t))
                    throw new Error("addFrames failure: frameList must be an Array of frame definitions" + t);
                var f = l.length + 2 * t.length
                  , h = []
                  , p = {};
                for (n = t.length - 1; n >= 0; n--)
                    if (o.isPlainObject(t[n])) {
                        var g = t[n].name
                          , y = (u[g] || p[g] || {}).name
                          , v = t[n].name
                          , m = u[y] || p[y];
                        y && v && "number" == typeof v && m && T < 5 && (T++,
                        o.warn('addFrames: overwriting frame "' + (u[y] || p[y]).name + '" with a frame whose name of type "number" also equates to "' + y + '". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),
                        5 === T && o.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),
                        p[g] = {
                            name: g
                        },
                        h.push({
                            frame: d.supplyFrameDefaults(t[n]),
                            index: r && void 0 !== r[n] && null !== r[n] ? r[n] : f + n
                        })
                    }
                h.sort((function(e, t) {
                    return e.index > t.index ? -1 : e.index < t.index ? 1 : 0
                }
                ));
                var b = []
                  , x = []
                  , _ = l.length;
                for (n = h.length - 1; n >= 0; n--) {
                    if ("number" == typeof (a = h[n].frame).name && o.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),
                    !a.name)
                        for (; u[a.name = "frame " + e._transitionData._counter++]; )
                            ;
                    if (u[a.name]) {
                        for (i = 0; i < l.length && (l[i] || {}).name !== a.name; i++)
                            ;
                        b.push({
                            type: "replace",
                            index: i,
                            value: a
                        }),
                        x.unshift({
                            type: "replace",
                            index: i,
                            value: l[i]
                        })
                    } else
                        s = Math.max(0, Math.min(h[n].index, _)),
                        b.push({
                            type: "insert",
                            index: s,
                            value: a
                        }),
                        x.unshift({
                            type: "delete",
                            index: s
                        }),
                        _++
                }
                var w = d.modifyFrames
                  , A = d.modifyFrames
                  , k = [e, x]
                  , M = [e, b];
                return c && c.add(e, w, k, A, M),
                d.modifyFrames(e, b)
            }
            ,
            r.deleteFrames = function(e, t) {
                if (e = o.getGraphDiv(e),
                !o.isPlotDiv(e))
                    throw new Error("This element is not a Plotly plot: " + e);
                var r, n, a = e._transitionData._frames, i = [], s = [];
                if (!t)
                    for (t = [],
                    r = 0; r < a.length; r++)
                        t.push(r);
                for ((t = t.slice()).sort(),
                r = t.length - 1; r >= 0; r--)
                    n = t[r],
                    i.push({
                        type: "delete",
                        index: n
                    }),
                    s.unshift({
                        type: "insert",
                        index: n,
                        value: a[n]
                    });
                var l = d.modifyFrames
                  , u = d.modifyFrames
                  , f = [e, s]
                  , h = [e, i];
                return c && c.add(e, l, f, u, h),
                d.modifyFrames(e, i)
            }
            ,
            r.addTraces = function e(t, n, a) {
                t = o.getGraphDiv(t);
                var i, s, l = [], u = r.deleteTraces, f = e, d = [t, l], h = [t, n];
                for (function(e, t, r) {
                    var n, a;
                    if (!Array.isArray(e.data))
                        throw new Error("gd.data must be an array.");
                    if (void 0 === t)
                        throw new Error("traces must be defined.");
                    for (Array.isArray(t) || (t = [t]),
                    n = 0; n < t.length; n++)
                        if ("object" != typeof (a = t[n]) || Array.isArray(a) || null === a)
                            throw new Error("all values in traces array must be non-array objects");
                    if (void 0 === r || Array.isArray(r) || (r = [r]),
                    void 0 !== r && r.length !== t.length)
                        throw new Error("if indices is specified, traces.length must equal indices.length")
                }(t, n, a),
                Array.isArray(n) || (n = [n]),
                n = n.map((function(e) {
                    return o.extendFlat({}, e)
                }
                )),
                _.cleanData(n),
                i = 0; i < n.length; i++)
                    t.data.push(n[i]);
                for (i = 0; i < n.length; i++)
                    l.push(-n.length + i);
                if (void 0 === a)
                    return s = r.redraw(t),
                    c.add(t, u, d, f, h),
                    s;
                Array.isArray(a) || (a = [a]);
                try {
                    E(t, l, a)
                } catch (e) {
                    throw t.data.splice(t.data.length - n.length, n.length),
                    e
                }
                return c.startSequence(t),
                c.add(t, u, d, f, h),
                s = r.moveTraces(t, l, a),
                c.stopSequence(t),
                s
            }
            ,
            r.deleteTraces = function e(t, n) {
                t = o.getGraphDiv(t);
                var a, i, s = [], l = r.addTraces, u = e, f = [t, s, n], d = [t, n];
                if (void 0 === n)
                    throw new Error("indices must be an integer or array of integers.");
                for (Array.isArray(n) || (n = [n]),
                L(t, n, "indices"),
                (n = D(n, t.data.length - 1)).sort(o.sorterDes),
                a = 0; a < n.length; a += 1)
                    i = t.data.splice(n[a], 1)[0],
                    s.push(i);
                var h = r.redraw(t);
                return c.add(t, l, f, u, d),
                h
            }
            ,
            r.extendTraces = function e(t, n, a, i) {
                function s(e, t, r) {
                    var n, a;
                    if (o.isTypedArray(e))
                        if (r < 0) {
                            var i = new e.constructor(0)
                              , s = F(e, t);
                            r < 0 ? (n = s,
                            a = i) : (n = i,
                            a = s)
                        } else if (n = new e.constructor(r),
                        a = new e.constructor(e.length + t.length - r),
                        r === t.length)
                            n.set(t),
                            a.set(e);
                        else if (r < t.length) {
                            var l = t.length - r;
                            n.set(t.subarray(l)),
                            a.set(e),
                            a.set(t.subarray(0, l), e.length)
                        } else {
                            var c = r - t.length
                              , u = e.length - c;
                            n.set(e.subarray(u)),
                            n.set(t, c),
                            a.set(e.subarray(0, u))
                        }
                    else
                        n = e.concat(t),
                        a = r >= 0 && r < n.length ? n.splice(0, n.length - r) : [];
                    return [n, a]
                }
                var l = z(t = o.getGraphDiv(t), n, a, i, s)
                  , u = r.redraw(t)
                  , f = [t, l.update, a, l.maxPoints];
                return c.add(t, r.prependTraces, f, e, arguments),
                u
            }
            ,
            r.moveTraces = function e(t, n, a) {
                var i, s = [], l = [], u = e, f = e, d = [t = o.getGraphDiv(t), a, n], h = [t, n, a];
                if (E(t, n, a),
                n = Array.isArray(n) ? n : [n],
                void 0 === a)
                    for (a = [],
                    i = 0; i < n.length; i++)
                        a.push(-n.length + i);
                for (a = Array.isArray(a) ? a : [a],
                n = D(n, t.data.length - 1),
                a = D(a, t.data.length - 1),
                i = 0; i < t.data.length; i++)
                    -1 === n.indexOf(i) && s.push(t.data[i]);
                for (i = 0; i < n.length; i++)
                    l.push({
                        newIndex: a[i],
                        trace: t.data[n[i]]
                    });
                for (l.sort((function(e, t) {
                    return e.newIndex - t.newIndex
                }
                )),
                i = 0; i < l.length; i += 1)
                    s.splice(l[i].newIndex, 0, l[i].trace);
                t.data = s;
                var p = r.redraw(t);
                return c.add(t, u, d, f, h),
                p
            }
            ,
            r.prependTraces = function e(t, n, a, i) {
                function s(e, t, r) {
                    var n, a;
                    if (o.isTypedArray(e))
                        if (r <= 0) {
                            var i = new e.constructor(0)
                              , s = F(t, e);
                            r < 0 ? (n = s,
                            a = i) : (n = i,
                            a = s)
                        } else if (n = new e.constructor(r),
                        a = new e.constructor(e.length + t.length - r),
                        r === t.length)
                            n.set(t),
                            a.set(e);
                        else if (r < t.length) {
                            var l = t.length - r;
                            n.set(t.subarray(0, l)),
                            a.set(t.subarray(l)),
                            a.set(e, l)
                        } else {
                            var c = r - t.length;
                            n.set(t),
                            n.set(e.subarray(0, c), t.length),
                            a.set(e.subarray(c))
                        }
                    else
                        n = t.concat(e),
                        a = r >= 0 && r < n.length ? n.splice(r, n.length) : [];
                    return [n, a]
                }
                var l = z(t = o.getGraphDiv(t), n, a, i, s)
                  , u = r.redraw(t)
                  , f = [t, l.update, a, l.maxPoints];
                return c.add(t, r.extendTraces, f, e, arguments),
                u
            }
            ,
            r.newPlot = function(e, t, n, a) {
                return e = o.getGraphDiv(e),
                d.cleanPlot([], {}, e._fullData || [], e._fullLayout || {}),
                d.purge(e),
                r._doPlot(e, t, n, a)
            }
            ,
            r._doPlot = function(e, t, a, i) {
                var s;
                if (e = o.getGraphDiv(e),
                l.init(e),
                o.isPlainObject(t)) {
                    var c = t;
                    t = c.data,
                    a = c.layout,
                    i = c.config,
                    s = c.frames
                }
                if (!1 === l.triggerHandler(e, "plotly_beforeplot", [t, a, i]))
                    return Promise.reject();
                t || a || o.isPlotDiv(e) || o.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.", e),
                O(e, i),
                a || (a = {}),
                n.select(e).classed("js-plotly-plot", !0),
                p.makeTester(),
                Array.isArray(e._promises) || (e._promises = []);
                var f = 0 === (e.data || []).length && Array.isArray(t);
                Array.isArray(t) && (_.cleanData(t),
                f ? e.data = t : e.data.push.apply(e.data, t),
                e.empty = !1),
                e.layout && !f || (e.layout = _.cleanLayout(a)),
                d.supplyDefaults(e);
                var g = e._fullLayout
                  , m = g._has("cartesian");
                g._replotting = !0,
                (f || g._shouldCreateBgLayer) && (!function(e) {
                    var t = n.select(e)
                      , r = e._fullLayout;
                    if (r._calcInverseTransform = ie,
                    r._calcInverseTransform(e),
                    r._container = t.selectAll(".plot-container").data([0]),
                    r._container.enter().insert("div", ":first-child").classed("plot-container", !0).classed("plotly", !0),
                    r._paperdiv = r._container.selectAll(".svg-container").data([0]),
                    r._paperdiv.enter().append("div").classed("user-select-none", !0).classed("svg-container", !0).style("position", "relative"),
                    r._glcontainer = r._paperdiv.selectAll(".gl-container").data([{}]),
                    r._glcontainer.enter().append("div").classed("gl-container", !0),
                    r._paperdiv.selectAll(".main-svg").remove(),
                    r._paperdiv.select(".modebar-container").remove(),
                    r._paper = r._paperdiv.insert("svg", ":first-child").classed("main-svg", !0),
                    r._toppaper = r._paperdiv.append("svg").classed("main-svg", !0),
                    r._modebardiv = r._paperdiv.append("div"),
                    delete r._modeBar,
                    r._hoverpaper = r._paperdiv.append("svg").classed("main-svg", !0),
                    !r._uid) {
                        var a = {};
                        n.selectAll("defs").each((function() {
                            this.id && (a[this.id.split("-")[1]] = 1)
                        }
                        )),
                        r._uid = o.randstr(a)
                    }
                    r._paperdiv.selectAll(".main-svg").attr(v.svgAttrs),
                    r._defs = r._paper.append("defs").attr("id", "defs-" + r._uid),
                    r._clips = r._defs.append("g").classed("clips", !0),
                    r._topdefs = r._toppaper.append("defs").attr("id", "topdefs-" + r._uid),
                    r._topclips = r._topdefs.append("g").classed("clips", !0),
                    r._bgLayer = r._paper.append("g").classed("bglayer", !0),
                    r._draggers = r._paper.append("g").classed("draglayer", !0);
                    var i = r._paper.append("g").classed("layer-below", !0);
                    r._imageLowerLayer = i.append("g").classed("imagelayer", !0),
                    r._shapeLowerLayer = i.append("g").classed("shapelayer", !0),
                    r._cartesianlayer = r._paper.append("g").classed("cartesianlayer", !0),
                    r._polarlayer = r._paper.append("g").classed("polarlayer", !0),
                    r._ternarylayer = r._paper.append("g").classed("ternarylayer", !0),
                    r._geolayer = r._paper.append("g").classed("geolayer", !0),
                    r._funnelarealayer = r._paper.append("g").classed("funnelarealayer", !0),
                    r._pielayer = r._paper.append("g").classed("pielayer", !0),
                    r._iciclelayer = r._paper.append("g").classed("iciclelayer", !0),
                    r._treemaplayer = r._paper.append("g").classed("treemaplayer", !0),
                    r._sunburstlayer = r._paper.append("g").classed("sunburstlayer", !0),
                    r._indicatorlayer = r._toppaper.append("g").classed("indicatorlayer", !0),
                    r._glimages = r._paper.append("g").classed("glimages", !0);
                    var s = r._toppaper.append("g").classed("layer-above", !0);
                    r._imageUpperLayer = s.append("g").classed("imagelayer", !0),
                    r._shapeUpperLayer = s.append("g").classed("shapelayer", !0),
                    r._infolayer = r._toppaper.append("g").classed("infolayer", !0),
                    r._menulayer = r._toppaper.append("g").classed("menulayer", !0),
                    r._zoomlayer = r._toppaper.append("g").classed("zoomlayer", !0),
                    r._hoverlayer = r._hoverpaper.append("g").classed("hoverlayer", !0),
                    r._modebardiv.classed("modebar-container", !0).style("position", "absolute").style("top", "0px").style("right", "0px"),
                    e.emit("plotly_framework")
                }(e),
                g._shouldCreateBgLayer && delete g._shouldCreateBgLayer),
                p.initGradients(e),
                p.initPatterns(e),
                f && h.saveShowSpikeInitial(e);
                var b = !e.calcdata || e.calcdata.length !== (e._fullData || []).length;
                b && d.doCalcdata(e);
                for (var x = 0; x < e.calcdata.length; x++)
                    e.calcdata[x][0].trace = e._fullData[x];
                e._context.responsive ? e._responsiveChartHandler || (e._responsiveChartHandler = function() {
                    o.isHidden(e) || d.resize(e)
                }
                ,
                window.addEventListener("resize", e._responsiveChartHandler)) : o.clearResponsive(e);
                var A = o.extendFlat({}, g._size)
                  , k = 0;
                function T() {
                    if (d.clearAutoMarginIds(e),
                    w.drawMarginPushers(e),
                    h.allowAutoMargin(e),
                    g._has("pie"))
                        for (var t = e._fullData, r = 0; r < t.length; r++) {
                            var n = t[r];
                            "pie" === n.type && n.automargin && d.allowAutoMargin(e, "pie." + n.uid + ".automargin")
                        }
                    return d.doAutoMargin(e),
                    d.previousPromises(e)
                }
                function S() {
                    e._transitioning || (w.doAutoRangeAndConstraints(e),
                    f && h.saveRangeInitial(e),
                    u.getComponentMethod("rangeslider", "calcAutorange")(e))
                }
                var C = [d.previousPromises, function() {
                    if (s)
                        return r.addFrames(e, s)
                }
                , function t() {
                    for (var r = g._basePlotModules, n = 0; n < r.length; n++)
                        r[n].drawFramework && r[n].drawFramework(e);
                    !g._glcanvas && g._has("gl") && (g._glcanvas = g._glcontainer.selectAll(".gl-canvas").data([{
                        key: "contextLayer",
                        context: !0,
                        pick: !1
                    }, {
                        key: "focusLayer",
                        context: !1,
                        pick: !1
                    }, {
                        key: "pickLayer",
                        context: !1,
                        pick: !0
                    }], (function(e) {
                        return e.key
                    }
                    )),
                    g._glcanvas.enter().append("canvas").attr("class", (function(e) {
                        return "gl-canvas gl-canvas-" + e.key.replace("Layer", "")
                    }
                    )).style({
                        position: "absolute",
                        top: 0,
                        left: 0,
                        overflow: "visible",
                        "pointer-events": "none"
                    }));
                    var a = e._context.plotGlPixelRatio;
                    if (g._glcanvas) {
                        g._glcanvas.attr("width", g.width * a).attr("height", g.height * a).style("width", g.width + "px").style("height", g.height + "px");
                        var i = g._glcanvas.data()[0].regl;
                        if (i && (Math.floor(g.width * a) !== i._gl.drawingBufferWidth || Math.floor(g.height * a) !== i._gl.drawingBufferHeight)) {
                            var s = "WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";
                            if (!k)
                                return o.log(s + " Clearing graph and plotting again."),
                                d.cleanPlot([], {}, e._fullData, g),
                                d.supplyDefaults(e),
                                g = e._fullLayout,
                                d.doCalcdata(e),
                                k++,
                                t();
                            o.error(s)
                        }
                    }
                    return "h" === g.modebar.orientation ? g._modebardiv.style("height", null).style("width", "100%") : g._modebardiv.style("width", null).style("height", g.height + "px"),
                    d.previousPromises(e)
                }
                , T, function() {
                    if (d.didMarginChange(A, g._size))
                        return o.syncOrAsync([T, w.layoutStyles], e)
                }
                ];
                m && C.push((function() {
                    if (b)
                        return o.syncOrAsync([u.getComponentMethod("shapes", "calcAutorange"), u.getComponentMethod("annotations", "calcAutorange"), S], e);
                    S()
                }
                )),
                C.push(w.layoutStyles),
                m && C.push((function() {
                    return h.draw(e, f ? "" : "redraw")
                }
                ), (function(e) {
                    e._fullLayout._insideTickLabelsAutorange && H(e, e._fullLayout._insideTickLabelsAutorange).then((function() {
                        e._fullLayout._insideTickLabelsAutorange = void 0
                    }
                    ))
                }
                )),
                C.push(w.drawData, w.finalDraw, y, d.addLinks, d.rehover, d.redrag, d.doAutoMargin, (function(e) {
                    e._fullLayout._insideTickLabelsAutorange && f && h.saveRangeInitial(e, !0)
                }
                ), d.previousPromises);
                var D = o.syncOrAsync(C, e);
                return D && D.then || (D = Promise.resolve()),
                D.then((function() {
                    return M(e),
                    e
                }
                ))
            }
            ,
            r.purge = function(e) {
                var t = (e = o.getGraphDiv(e))._fullLayout || {}
                  , r = e._fullData || [];
                return d.cleanPlot([], {}, r, t),
                d.purge(e),
                l.purge(e),
                t._container && t._container.remove(),
                delete e._context,
                e
            }
            ,
            r.react = function(e, t, n, a) {
                var i, l;
                e = o.getGraphDiv(e),
                _.clearPromiseQueue(e);
                var c = e._fullData
                  , h = e._fullLayout;
                if (o.isPlotDiv(e) && c && h) {
                    if (o.isPlainObject(t)) {
                        var p = t;
                        t = p.data,
                        n = p.layout,
                        a = p.config,
                        i = p.frames
                    }
                    var g = !1;
                    if (a) {
                        var y = o.extendDeep({}, e._context);
                        e._context = void 0,
                        O(e, a),
                        g = function e(t, r) {
                            var n;
                            for (n in t)
                                if ("_" !== n.charAt(0)) {
                                    var a = t[n]
                                      , i = r[n];
                                    if (a !== i)
                                        if (o.isPlainObject(a) && o.isPlainObject(i)) {
                                            if (e(a, i))
                                                return !0
                                        } else {
                                            if (!Array.isArray(a) || !Array.isArray(i))
                                                return !0;
                                            if (a.length !== i.length)
                                                return !0;
                                            for (var s = 0; s < a.length; s++)
                                                if (a[s] !== i[s]) {
                                                    if (!o.isPlainObject(a[s]) || !o.isPlainObject(i[s]))
                                                        return !0;
                                                    if (e(a[s], i[s]))
                                                        return !0
                                                }
                                        }
                                }
                        }(y, e._context)
                    }
                    e.data = t || [],
                    _.cleanData(e.data),
                    e.layout = n || {},
                    _.cleanLayout(e.layout),
                    function(e, t, r, n) {
                        var a, i, l, c, u, f, d, h, p = n._preGUI, g = [], y = {};
                        for (a in p) {
                            if (u = K(a, Q)) {
                                if (i = u.attr || u.head + ".uirevision",
                                (c = (l = s(n, i).get()) && ee(i, t)) && c === l && (null === (f = p[a]) && (f = void 0),
                                ne(h = (d = s(t, a)).get(), f))) {
                                    void 0 === h && "autorange" === a.substr(a.length - 9) && g.push(a.substr(0, a.length - 10)),
                                    d.set(I(s(n, a).get()));
                                    continue
                                }
                            } else
                                o.warn("unrecognized GUI edit: " + a);
                            delete p[a],
                            "range[" === a.substr(a.length - 8, 6) && (y[a.substr(0, a.length - 9)] = 1)
                        }
                        for (var v = 0; v < g.length; v++) {
                            var m = g[v];
                            if (y[m]) {
                                var b = s(t, m).get();
                                b && delete b.autorange
                            }
                        }
                        var x = n._tracePreGUI;
                        for (var _ in x) {
                            var w, A = x[_], k = null;
                            for (a in A) {
                                if (!k) {
                                    var T = te(_, r);
                                    if (T < 0) {
                                        delete x[_];
                                        break
                                    }
                                    var M = re(_, e, (w = r[T]._fullInput).index);
                                    if (M < 0) {
                                        delete x[_];
                                        break
                                    }
                                    k = e[M]
                                }
                                if (u = K(a, $)) {
                                    if (u.attr ? c = (l = s(n, u.attr).get()) && ee(u.attr, t) : (l = w.uirevision,
                                    void 0 === (c = k.uirevision) && (c = t.uirevision)),
                                    c && c === l && (null === (f = A[a]) && (f = void 0),
                                    ne(h = (d = s(k, a)).get(), f))) {
                                        d.set(I(s(w, a).get()));
                                        continue
                                    }
                                } else
                                    o.warn("unrecognized GUI edit: " + a + " in trace uid " + _);
                                delete A[a]
                            }
                        }
                    }(e.data, e.layout, c, h),
                    d.supplyDefaults(e, {
                        skipUpdateCalc: !0
                    });
                    var v = e._fullData
                      , m = e._fullLayout
                      , b = void 0 === m.datarevision
                      , x = m.transition
                      , k = function(e, t, r, n, a) {
                        var i = A.layoutFlags();
                        function o(e) {
                            return f.getLayoutValObject(r, e)
                        }
                        i.arrays = {},
                        i.rangesAltered = {},
                        i.nChanges = 0,
                        i.nChangesAnim = 0,
                        ae(t, r, [], {
                            getValObject: o,
                            flags: i,
                            immutable: n,
                            transition: a,
                            gd: e
                        }),
                        (i.plot || i.calc) && (i.layoutReplot = !0);
                        a && i.nChanges && i.nChangesAnim && (i.anim = i.nChanges === i.nChangesAnim ? "all" : "some");
                        return i
                    }(e, h, m, b, x)
                      , T = k.newDataRevision
                      , S = function(e, t, r, n, a, i) {
                        var o = t.length === r.length;
                        if (!a && !o)
                            return {
                                fullReplot: !0,
                                calc: !0
                            };
                        var s, l, c = A.traceFlags();
                        c.arrays = {},
                        c.nChanges = 0,
                        c.nChangesAnim = 0;
                        var u = {
                            getValObject: function(e) {
                                var t = f.getTraceValObject(l, e);
                                return !l._module.animatable && t.anim && (t.anim = !1),
                                t
                            },
                            flags: c,
                            immutable: n,
                            transition: a,
                            newDataRevision: i,
                            gd: e
                        }
                          , h = {};
                        for (s = 0; s < t.length; s++)
                            if (r[s]) {
                                if (l = r[s]._fullInput,
                                d.hasMakesDataTransform(l) && (l = r[s]),
                                h[l.uid])
                                    continue;
                                h[l.uid] = 1,
                                ae(t[s]._fullInput, l, [], u)
                            }
                        (c.calc || c.plot) && (c.fullReplot = !0);
                        a && c.nChanges && c.nChangesAnim && (c.anim = c.nChanges === c.nChangesAnim && o ? "all" : "some");
                        return c
                    }(e, c, v, b, x, T);
                    if (Z(e) && (k.layoutReplot = !0),
                    S.calc || k.calc) {
                        e.calcdata = void 0;
                        for (var C = Object.getOwnPropertyNames(m), D = 0; D < C.length; D++) {
                            var L = C[D]
                              , E = L.substring(0, 5);
                            if ("xaxis" === E || "yaxis" === E) {
                                var z = m[L]._emptyCategories;
                                z && z()
                            }
                        }
                    } else
                        d.supplyDefaultsUpdateCalc(e.calcdata, v);
                    var F = [];
                    if (i && (e._transitionData = {},
                    d.createTransitionData(e),
                    F.push((function() {
                        return r.addFrames(e, i)
                    }
                    ))),
                    m.transition && !g && (S.anim || k.anim))
                        k.ticks && F.push(w.doTicksRelayout),
                        d.doCalcdata(e),
                        w.doAutoRangeAndConstraints(e),
                        F.push((function() {
                            return d.transitionFromReact(e, S, k, h)
                        }
                        ));
                    else if (S.fullReplot || k.layoutReplot || g)
                        e._fullLayout._skipDefaults = !0,
                        F.push(r._doPlot);
                    else {
                        for (var P in k.arrays) {
                            var N = k.arrays[P];
                            if (N.length) {
                                var R = u.getComponentMethod(P, "drawOne");
                                if (R !== o.noop)
                                    for (var j = 0; j < N.length; j++)
                                        R(e, N[j]);
                                else {
                                    var B = u.getComponentMethod(P, "draw");
                                    if (B === o.noop)
                                        throw new Error("cannot draw components: " + P);
                                    B(e)
                                }
                            }
                        }
                        F.push(d.previousPromises),
                        S.style && F.push(w.doTraceStyle),
                        (S.colorbars || k.colorbars) && F.push(w.doColorBars),
                        k.legend && F.push(w.doLegend),
                        k.layoutstyle && F.push(w.layoutStyles),
                        k.axrange && Y(F),
                        k.ticks && F.push(w.doTicksRelayout),
                        k.modebar && F.push(w.doModeBar),
                        k.camera && F.push(w.doCamera),
                        F.push(M)
                    }
                    F.push(d.rehover, d.redrag),
                    (l = o.syncOrAsync(F, e)) && l.then || (l = Promise.resolve(e))
                } else
                    l = r.newPlot(e, t, n, a);
                return l.then((function() {
                    return e.emit("plotly_react", {
                        data: t,
                        layout: n
                    }),
                    e
                }
                ))
            }
            ,
            r.redraw = function(e) {
                if (e = o.getGraphDiv(e),
                !o.isPlotDiv(e))
                    throw new Error("This element is not a Plotly plot: " + e);
                return _.cleanData(e.data),
                _.cleanLayout(e.layout),
                e.calcdata = void 0,
                r._doPlot(e).then((function() {
                    return e.emit("plotly_redraw"),
                    e
                }
                ))
            }
            ,
            r.relayout = H,
            r.restyle = P,
            r.setPlotConfig = function(e) {
                return o.extendFlat(b, e)
            }
            ,
            r.update = J,
            r._guiRelayout = X(H),
            r._guiRestyle = X(P),
            r._guiUpdate = X(J),
            r._storeDirectGUIEdit = function(e, t, r) {
                for (var n in r) {
                    R(n, s(e, n).get(), r[n], t)
                }
            }
        }
        , {
            "../components/color": 235,
            "../components/drawing": 257,
            "../constants/xmlns_namespaces": 345,
            "../lib": 365,
            "../lib/events": 357,
            "../lib/queue": 381,
            "../plots/cartesian/axes": 414,
            "../plots/cartesian/constants": 421,
            "../plots/cartesian/graph_interact": 424,
            "../plots/cartesian/select": 434,
            "../plots/plots": 449,
            "../registry": 451,
            "./edit_types": 396,
            "./helpers": 397,
            "./manage_arrays": 399,
            "./plot_config": 401,
            "./plot_schema": 402,
            "./subroutines": 404,
            "@plotly/d3": 6,
            "fast-isnumeric": 107,
            "has-hover": 145
        }],
        401: [function(e, t, r) {
            "use strict";
            var n = {
                staticPlot: {
                    valType: "boolean",
                    dflt: !1
                },
                plotlyServerURL: {
                    valType: "string",
                    dflt: ""
                },
                editable: {
                    valType: "boolean",
                    dflt: !1
                },
                edits: {
                    annotationPosition: {
                        valType: "boolean",
                        dflt: !1
                    },
                    annotationTail: {
                        valType: "boolean",
                        dflt: !1
                    },
                    annotationText: {
                        valType: "boolean",
                        dflt: !1
                    },
                    axisTitleText: {
                        valType: "boolean",
                        dflt: !1
                    },
                    colorbarPosition: {
                        valType: "boolean",
                        dflt: !1
                    },
                    colorbarTitleText: {
                        valType: "boolean",
                        dflt: !1
                    },
                    legendPosition: {
                        valType: "boolean",
                        dflt: !1
                    },
                    legendText: {
                        valType: "boolean",
                        dflt: !1
                    },
                    shapePosition: {
                        valType: "boolean",
                        dflt: !1
                    },
                    titleText: {
                        valType: "boolean",
                        dflt: !1
                    }
                },
                autosizable: {
                    valType: "boolean",
                    dflt: !1
                },
                responsive: {
                    valType: "boolean",
                    dflt: !1
                },
                fillFrame: {
                    valType: "boolean",
                    dflt: !1
                },
                frameMargins: {
                    valType: "number",
                    dflt: 0,
                    min: 0,
                    max: .5
                },
                scrollZoom: {
                    valType: "flaglist",
                    flags: ["cartesian", "gl3d", "geo", "mapbox"],
                    extras: [!0, !1],
                    dflt: "gl3d+geo+mapbox"
                },
                doubleClick: {
                    valType: "enumerated",
                    values: [!1, "reset", "autosize", "reset+autosize"],
                    dflt: "reset+autosize"
                },
                doubleClickDelay: {
                    valType: "number",
                    dflt: 300,
                    min: 0
                },
                showAxisDragHandles: {
                    valType: "boolean",
                    dflt: !0
                },
                showAxisRangeEntryBoxes: {
                    valType: "boolean",
                    dflt: !0
                },
                showTips: {
                    valType: "boolean",
                    dflt: !0
                },
                showLink: {
                    valType: "boolean",
                    dflt: !1
                },
                linkText: {
                    valType: "string",
                    dflt: "Edit chart",
                    noBlank: !0
                },
                sendData: {
                    valType: "boolean",
                    dflt: !0
                },
                showSources: {
                    valType: "any",
                    dflt: !1
                },
                displayModeBar: {
                    valType: "enumerated",
                    values: ["hover", !0, !1],
                    dflt: "hover"
                },
                showSendToCloud: {
                    valType: "boolean",
                    dflt: !1
                },
                showEditInChartStudio: {
                    valType: "boolean",
                    dflt: !1
                },
                modeBarButtonsToRemove: {
                    valType: "any",
                    dflt: []
                },
                modeBarButtonsToAdd: {
                    valType: "any",
                    dflt: []
                },
                modeBarButtons: {
                    valType: "any",
                    dflt: !1
                },
                toImageButtonOptions: {
                    valType: "any",
                    dflt: {}
                },
                displaylogo: {
                    valType: "boolean",
                    dflt: !0
                },
                watermark: {
                    valType: "boolean",
                    dflt: !1
                },
                plotGlPixelRatio: {
                    valType: "number",
                    dflt: 2,
                    min: 1,
                    max: 4
                },
                setBackground: {
                    valType: "any",
                    dflt: "transparent"
                },
                topojsonURL: {
                    valType: "string",
                    noBlank: !0,
                    dflt: "https://cdn.plot.ly/"
                },
                mapboxAccessToken: {
                    valType: "string",
                    dflt: null
                },
                logging: {
                    valType: "integer",
                    min: 0,
                    max: 2,
                    dflt: 1
                },
                notifyOnLogging: {
                    valType: "integer",
                    min: 0,
                    max: 2,
                    dflt: 0
                },
                queueLength: {
                    valType: "integer",
                    min: 0,
                    dflt: 0
                },
                globalTransforms: {
                    valType: "any",
                    dflt: []
                },
                locale: {
                    valType: "string",
                    dflt: "en-US"
                },
                locales: {
                    valType: "any",
                    dflt: {}
                }
            }
              , a = {};
            !function e(t, r) {
                for (var n in t) {
                    var a = t[n];
                    a.valType ? r[n] = a.dflt : (r[n] || (r[n] = {}),
                    e(a, r[n]))
                }
            }(n, a),
            t.exports = {
                configAttributes: n,
                dfltConfig: a
            }
        }
        , {}],
        402: [function(e, t, r) {
            "use strict";
            var n = e("../registry")
              , a = e("../lib")
              , i = e("../plots/attributes")
              , o = e("../plots/layout_attributes")
              , s = e("../plots/frame_attributes")
              , l = e("../plots/animation_attributes")
              , c = e("./plot_config").configAttributes
              , u = e("./edit_types")
              , f = a.extendDeepAll
              , d = a.isPlainObject
              , h = a.isArrayOrTypedArray
              , p = a.nestedProperty
              , g = a.valObjectMeta
              , y = ["_isSubplotObj", "_isLinkedToArray", "_arrayAttrRegexps", "_deprecated"];
            function v(e, t, r) {
                if (!e)
                    return !1;
                if (e._isLinkedToArray)
                    if (m(t[r]))
                        r++;
                    else if (r < t.length)
                        return !1;
                for (; r < t.length; r++) {
                    var n = e[t[r]];
                    if (!d(n))
                        break;
                    if (e = n,
                    r === t.length - 1)
                        break;
                    if (e._isLinkedToArray) {
                        if (!m(t[++r]))
                            return !1
                    } else if ("info_array" === e.valType) {
                        var a = t[++r];
                        if (!m(a))
                            return !1;
                        var i = e.items;
                        if (Array.isArray(i)) {
                            if (a >= i.length)
                                return !1;
                            if (2 === e.dimensions) {
                                if (r++,
                                t.length === r)
                                    return e;
                                var o = t[r];
                                if (!m(o))
                                    return !1;
                                e = i[a][o]
                            } else
                                e = i[a]
                        } else
                            e = i
                    }
                }
                return e
            }
            function m(e) {
                return e === Math.round(e) && e >= 0
            }
            function b() {
                var e, t, r = {};
                for (e in f(r, o),
                n.subplotsRegistry) {
                    if ((t = n.subplotsRegistry[e]).layoutAttributes)
                        if (Array.isArray(t.attr))
                            for (var a = 0; a < t.attr.length; a++)
                                w(r, t, t.attr[a]);
                        else
                            w(r, t, "subplot" === t.attr ? t.name : t.attr)
                }
                for (e in n.componentsRegistry) {
                    var i = (t = n.componentsRegistry[e]).schema;
                    if (i && (i.subplots || i.layout)) {
                        var s = i.subplots;
                        if (s && s.xaxis && !s.yaxis)
                            for (var l in s.xaxis)
                                delete r.yaxis[l]
                    } else
                        "colorscale" === t.name ? f(r, t.layoutAttributes) : t.layoutAttributes && A(r, t.layoutAttributes, t.name)
                }
                return {
                    layoutAttributes: _(r)
                }
            }
            function x() {
                var e = {
                    frames: f({}, s)
                };
                return _(e),
                e.frames
            }
            function _(e) {
                return function(e) {
                    r.crawl(e, (function(e, t, n) {
                        r.isValObject(e) ? !0 !== e.arrayOk && "data_array" !== e.valType || (n[t + "src"] = {
                            valType: "string",
                            editType: "none"
                        }) : d(e) && (e.role = "object")
                    }
                    ))
                }(e),
                function(e) {
                    r.crawl(e, (function(e, t, r) {
                        if (e) {
                            var n = e._isLinkedToArray;
                            n && (delete e._isLinkedToArray,
                            r[t] = {
                                items: {}
                            },
                            r[t].items[n] = e,
                            r[t].role = "object")
                        }
                    }
                    ))
                }(e),
                function(e) {
                    !function e(t) {
                        for (var r in t)
                            if (d(t[r]))
                                e(t[r]);
                            else if (Array.isArray(t[r]))
                                for (var n = 0; n < t[r].length; n++)
                                    e(t[r][n]);
                            else
                                t[r]instanceof RegExp && (t[r] = t[r].toString())
                    }(e)
                }(e),
                e
            }
            function w(e, t, r) {
                var n = p(e, r)
                  , a = f({}, t.layoutAttributes);
                a._isSubplotObj = !0,
                n.set(a)
            }
            function A(e, t, r) {
                var n = p(e, r);
                n.set(f(n.get() || {}, t))
            }
            r.IS_SUBPLOT_OBJ = "_isSubplotObj",
            r.IS_LINKED_TO_ARRAY = "_isLinkedToArray",
            r.DEPRECATED = "_deprecated",
            r.UNDERSCORE_ATTRS = y,
            r.get = function() {
                var e = {};
                n.allTypes.forEach((function(t) {
                    e[t] = function(e) {
                        var t, a;
                        t = n.modules[e]._module,
                        a = t.basePlotModule;
                        var o = {
                            type: null
                        }
                          , s = f({}, i)
                          , l = f({}, t.attributes);
                        r.crawl(l, (function(e, t, r, n, a) {
                            p(s, a).set(void 0),
                            void 0 === e && p(l, a).set(void 0)
                        }
                        )),
                        f(o, s),
                        n.traceIs(e, "noOpacity") && delete o.opacity;
                        n.traceIs(e, "showLegend") || (delete o.showlegend,
                        delete o.legendgroup);
                        n.traceIs(e, "noHover") && (delete o.hoverinfo,
                        delete o.hoverlabel);
                        t.selectPoints || delete o.selectedpoints;
                        f(o, l),
                        a.attributes && f(o, a.attributes);
                        o.type = e;
                        var c = {
                            meta: t.meta || {},
                            categories: t.categories || {},
                            animatable: Boolean(t.animatable),
                            type: e,
                            attributes: _(o)
                        };
                        if (t.layoutAttributes) {
                            var u = {};
                            f(u, t.layoutAttributes),
                            c.layoutAttributes = _(u)
                        }
                        t.animatable || r.crawl(c, (function(e) {
                            r.isValObject(e) && "anim"in e && delete e.anim
                        }
                        ));
                        return c
                    }(t)
                }
                ));
                var t = {};
                return Object.keys(n.transformsRegistry).forEach((function(e) {
                    t[e] = function(e) {
                        var t = n.transformsRegistry[e]
                          , r = f({}, t.attributes);
                        return Object.keys(n.componentsRegistry).forEach((function(t) {
                            var a = n.componentsRegistry[t];
                            a.schema && a.schema.transforms && a.schema.transforms[e] && Object.keys(a.schema.transforms[e]).forEach((function(t) {
                                A(r, a.schema.transforms[e][t], t)
                            }
                            ))
                        }
                        )),
                        {
                            attributes: _(r)
                        }
                    }(e)
                }
                )),
                {
                    defs: {
                        valObjects: g,
                        metaKeys: y.concat(["description", "role", "editType", "impliedEdits"]),
                        editType: {
                            traces: u.traces,
                            layout: u.layout
                        },
                        impliedEdits: {}
                    },
                    traces: e,
                    layout: b(),
                    transforms: t,
                    frames: x(),
                    animation: _(l),
                    config: _(c)
                }
            }
            ,
            r.crawl = function(e, t, n, a) {
                var i = n || 0;
                a = a || "",
                Object.keys(e).forEach((function(n) {
                    var o = e[n];
                    if (-1 === y.indexOf(n)) {
                        var s = (a ? a + "." : "") + n;
                        t(o, n, e, i, s),
                        r.isValObject(o) || d(o) && "impliedEdits" !== n && r.crawl(o, t, i + 1, s)
                    }
                }
                ))
            }
            ,
            r.isValObject = function(e) {
                return e && void 0 !== e.valType
            }
            ,
            r.findArrayAttributes = function(e) {
                var t, n, a = [], o = [], s = [];
                function l(e, r, i, l) {
                    o = o.slice(0, l).concat([r]),
                    s = s.slice(0, l).concat([e && e._isLinkedToArray]),
                    e && ("data_array" === e.valType || !0 === e.arrayOk) && !("colorbar" === o[l - 1] && ("ticktext" === r || "tickvals" === r)) && function e(t, r, i) {
                        var l = t[o[r]]
                          , c = i + o[r];
                        if (r === o.length - 1)
                            h(l) && a.push(n + c);
                        else if (s[r]) {
                            if (Array.isArray(l))
                                for (var u = 0; u < l.length; u++)
                                    d(l[u]) && e(l[u], r + 1, c + "[" + u + "].")
                        } else
                            d(l) && e(l, r + 1, c + ".")
                    }(t, 0, "")
                }
                t = e,
                n = "",
                r.crawl(i, l),
                e._module && e._module.attributes && r.crawl(e._module.attributes, l);
                var c = e.transforms;
                if (c)
                    for (var u = 0; u < c.length; u++) {
                        var f = c[u]
                          , p = f._module;
                        p && (n = "transforms[" + u + "].",
                        t = f,
                        r.crawl(p.attributes, l))
                    }
                return a
            }
            ,
            r.getTraceValObject = function(e, t) {
                var r, a, o = t[0], s = 1;
                if ("transforms" === o) {
                    if (1 === t.length)
                        return i.transforms;
                    var l = e.transforms;
                    if (!Array.isArray(l) || !l.length)
                        return !1;
                    var c = t[1];
                    if (!m(c) || c >= l.length)
                        return !1;
                    a = (r = (n.transformsRegistry[l[c].type] || {}).attributes) && r[t[2]],
                    s = 3
                } else {
                    var u = e._module;
                    if (u || (u = (n.modules[e.type || i.type.dflt] || {})._module),
                    !u)
                        return !1;
                    if (!(a = (r = u.attributes) && r[o])) {
                        var f = u.basePlotModule;
                        f && f.attributes && (a = f.attributes[o])
                    }
                    a || (a = i[o])
                }
                return v(a, t, s)
            }
            ,
            r.getLayoutValObject = function(e, t) {
                return v(function(e, t) {
                    var r, a, i, s, l = e._basePlotModules;
                    if (l) {
                        var c;
                        for (r = 0; r < l.length; r++) {
                            if ((i = l[r]).attrRegex && i.attrRegex.test(t)) {
                                if (i.layoutAttrOverrides)
                                    return i.layoutAttrOverrides;
                                !c && i.layoutAttributes && (c = i.layoutAttributes)
                            }
                            var u = i.baseLayoutAttrOverrides;
                            if (u && t in u)
                                return u[t]
                        }
                        if (c)
                            return c
                    }
                    var f = e._modules;
                    if (f)
                        for (r = 0; r < f.length; r++)
                            if ((s = f[r].layoutAttributes) && t in s)
                                return s[t];
                    for (a in n.componentsRegistry) {
                        if ("colorscale" === (i = n.componentsRegistry[a]).name && 0 === t.indexOf("coloraxis"))
                            return i.layoutAttributes[t];
                        if (!i.schema && t === i.name)
                            return i.layoutAttributes
                    }
                    return t in o && o[t]
                }(e, t[0]), t, 1)
            }
        }
        , {
            "../lib": 365,
            "../plots/animation_attributes": 408,
            "../plots/attributes": 410,
            "../plots/frame_attributes": 444,
            "../plots/layout_attributes": 447,
            "../registry": 451,
            "./edit_types": 396,
            "./plot_config": 401
        }],
        403: [function(e, t, r) {
            "use strict";
            var n = e("../lib")
              , a = e("../plots/attributes")
              , i = {
                name: {
                    valType: "string",
                    editType: "none"
                }
            };
            function o(e) {
                return e && "string" == typeof e
            }
            function s(e) {
                var t = e.length - 1;
                return "s" !== e.charAt(t) && n.warn("bad argument to arrayDefaultKey: " + e),
                e.substr(0, e.length - 1) + "defaults"
            }
            i.templateitemname = {
                valType: "string",
                editType: "calc"
            },
            r.templatedArray = function(e, t) {
                return t._isLinkedToArray = e,
                t.name = i.name,
                t.templateitemname = i.templateitemname,
                t
            }
            ,
            r.traceTemplater = function(e) {
                var t, r, i = {};
                for (t in e)
                    r = e[t],
                    Array.isArray(r) && r.length && (i[t] = 0);
                return {
                    newTrace: function(o) {
                        var s = {
                            type: t = n.coerce(o, {}, a, "type"),
                            _template: null
                        };
                        if (t in i) {
                            r = e[t];
                            var l = i[t] % r.length;
                            i[t]++,
                            s._template = r[l]
                        }
                        return s
                    }
                }
            }
            ,
            r.newContainer = function(e, t, r) {
                var a = e._template
                  , i = a && (a[t] || r && a[r]);
                return n.isPlainObject(i) || (i = null),
                e[t] = {
                    _template: i
                }
            }
            ,
            r.arrayTemplater = function(e, t, r) {
                var n = e._template
                  , a = n && n[s(t)]
                  , i = n && n[t];
                Array.isArray(i) && i.length || (i = []);
                var l = {};
                return {
                    newItem: function(e) {
                        var t = {
                            name: e.name,
                            _input: e
                        }
                          , n = t.templateitemname = e.templateitemname;
                        if (!o(n))
                            return t._template = a,
                            t;
                        for (var s = 0; s < i.length; s++) {
                            var c = i[s];
                            if (c.name === n)
                                return l[n] = 1,
                                t._template = c,
                                t
                        }
                        return t[r] = e[r] || !1,
                        t._template = !1,
                        t
                    },
                    defaultItems: function() {
                        for (var e = [], t = 0; t < i.length; t++) {
                            var r = i[t]
                              , n = r.name;
                            if (o(n) && !l[n]) {
                                var a = {
                                    _template: r,
                                    name: n,
                                    _input: {
                                        _templateitemname: n
                                    }
                                };
                                a.templateitemname = r.templateitemname,
                                e.push(a),
                                l[n] = 1
                            }
                        }
                        return e
                    }
                }
            }
            ,
            r.arrayDefaultKey = s,
            r.arrayEditor = function(e, t, r) {
                var a = (n.nestedProperty(e, t).get() || []).length
                  , i = r._index
                  , o = i >= a && (r._input || {})._templateitemname;
                o && (i = a);
                var s, l = t + "[" + i + "]";
                function c() {
                    s = {},
                    o && (s[l] = {},
                    s[l].templateitemname = o)
                }
                function u(e, t) {
                    o ? n.nestedProperty(s[l], e).set(t) : s[l + "." + e] = t
                }
                function f() {
                    var e = s;
                    return c(),
                    e
                }
                return c(),
                {
                    modifyBase: function(e, t) {
                        s[e] = t
                    },
                    modifyItem: u,
                    getUpdateObj: f,
                    applyUpdate: function(t, r) {
                        t && u(t, r);
                        var a = f();
                        for (var i in a)
                            n.nestedProperty(e, i).set(a[i])
                    }
                }
            }
        }
        , {
            "../lib": 365,
            "../plots/attributes": 410
        }],
        404: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../registry")
              , i = e("../plots/plots")
              , o = e("../lib")
              , s = e("../lib/clear_gl_canvases")
              , l = e("../components/color")
              , c = e("../components/drawing")
              , u = e("../components/titles")
              , f = e("../components/modebar")
              , d = e("../plots/cartesian/axes")
              , h = e("../constants/alignment")
              , p = e("../plots/cartesian/constraints")
              , g = p.enforce
              , y = p.clean
              , v = e("../plots/cartesian/autorange").doAutoRange;
            function m(e, t, r) {
                for (var n = 0; n < r.length; n++) {
                    var a = r[n][0]
                      , i = r[n][1];
                    if (!(a[0] >= e[1] || a[1] <= e[0]) && (i[0] < t[1] && i[1] > t[0]))
                        return !0
                }
                return !1
            }
            function b(e) {
                var t, a, s, u, p, g, y = e._fullLayout, v = y._size, b = v.p, _ = d.list(e, "", !0);
                if (y._paperdiv.style({
                    width: e._context.responsive && y.autosize && !e._context._hasZeroWidth && !e.layout.width ? "100%" : y.width + "px",
                    height: e._context.responsive && y.autosize && !e._context._hasZeroHeight && !e.layout.height ? "100%" : y.height + "px"
                }).selectAll(".main-svg").call(c.setSize, y.width, y.height),
                e._context.setBackground(e, y.paper_bgcolor),
                r.drawMainTitle(e),
                f.manage(e),
                !y._has("cartesian"))
                    return i.previousPromises(e);
                function A(e, t, r) {
                    var n = e._lw / 2;
                    return "x" === e._id.charAt(0) ? t ? "top" === r ? t._offset - b - n : t._offset + t._length + b + n : v.t + v.h * (1 - (e.position || 0)) + n % 1 : t ? "right" === r ? t._offset + t._length + b + n : t._offset - b - n : v.l + v.w * (e.position || 0) + n % 1
                }
                for (t = 0; t < _.length; t++) {
                    var k = (u = _[t])._anchorAxis;
                    u._linepositions = {},
                    u._lw = c.crispRound(e, u.linewidth, 1),
                    u._mainLinePosition = A(u, k, u.side),
                    u._mainMirrorPosition = u.mirror && k ? A(u, k, h.OPPOSITE_SIDE[u.side]) : null
                }
                var T = []
                  , M = []
                  , S = []
                  , C = 1 === l.opacity(y.paper_bgcolor) && 1 === l.opacity(y.plot_bgcolor) && y.paper_bgcolor === y.plot_bgcolor;
                for (a in y._plots)
                    if ((s = y._plots[a]).mainplot)
                        s.bg && s.bg.remove(),
                        s.bg = void 0;
                    else {
                        var O = s.xaxis.domain
                          , D = s.yaxis.domain
                          , L = s.plotgroup;
                        if (m(O, D, S)) {
                            var E = L.node()
                              , z = s.bg = o.ensureSingle(L, "rect", "bg");
                            E.insertBefore(z.node(), E.childNodes[0]),
                            M.push(a)
                        } else
                            L.select("rect.bg").remove(),
                            S.push([O, D]),
                            C || (T.push(a),
                            M.push(a))
                    }
                var F, P, I, N, R, j, B, H, U, Y, V, q, W, G = y._bgLayer.selectAll(".bg").data(T);
                for (G.enter().append("rect").classed("bg", !0),
                G.exit().remove(),
                G.each((function(e) {
                    y._plots[e].bg = n.select(this)
                }
                )),
                t = 0; t < M.length; t++)
                    s = y._plots[M[t]],
                    p = s.xaxis,
                    g = s.yaxis,
                    s.bg && void 0 !== p._offset && void 0 !== g._offset && s.bg.call(c.setRect, p._offset - b, g._offset - b, p._length + 2 * b, g._length + 2 * b).call(l.fill, y.plot_bgcolor).style("stroke-width", 0);
                if (!y._hasOnlyLargeSploms)
                    for (a in y._plots) {
                        s = y._plots[a],
                        p = s.xaxis,
                        g = s.yaxis;
                        var Z, J, X = s.clipId = "clip" + y._uid + a + "plot", Q = o.ensureSingleById(y._clips, "clipPath", X, (function(e) {
                            e.classed("plotclip", !0).append("rect")
                        }
                        ));
                        s.clipRect = Q.select("rect").attr({
                            width: p._length,
                            height: g._length
                        }),
                        c.setTranslate(s.plot, p._offset, g._offset),
                        s._hasClipOnAxisFalse ? (Z = null,
                        J = X) : (Z = X,
                        J = null),
                        c.setClipUrl(s.plot, Z, e),
                        s.layerClipId = J
                    }
                function $(e) {
                    return "M" + F + "," + e + "H" + P
                }
                function K(e) {
                    return "M" + p._offset + "," + e + "h" + p._length
                }
                function ee(e) {
                    return "M" + e + "," + H + "V" + B
                }
                function te(e) {
                    return "M" + e + "," + g._offset + "v" + g._length
                }
                function re(e, t, r) {
                    if (!e.showline || a !== e._mainSubplot)
                        return "";
                    if (!e._anchorAxis)
                        return r(e._mainLinePosition);
                    var n = t(e._mainLinePosition);
                    return e.mirror && (n += t(e._mainMirrorPosition)),
                    n
                }
                for (a in y._plots) {
                    s = y._plots[a],
                    p = s.xaxis,
                    g = s.yaxis;
                    var ne = "M0,0";
                    x(p, a) && (R = w(p, "left", g, _),
                    F = p._offset - (R ? b + R : 0),
                    j = w(p, "right", g, _),
                    P = p._offset + p._length + (j ? b + j : 0),
                    I = A(p, g, "bottom"),
                    N = A(p, g, "top"),
                    !(W = !p._anchorAxis || a !== p._mainSubplot) || "allticks" !== p.mirror && "all" !== p.mirror || (p._linepositions[a] = [I, N]),
                    ne = re(p, $, K),
                    W && p.showline && ("all" === p.mirror || "allticks" === p.mirror) && (ne += $(I) + $(N)),
                    s.xlines.style("stroke-width", p._lw + "px").call(l.stroke, p.showline ? p.linecolor : "rgba(0,0,0,0)")),
                    s.xlines.attr("d", ne);
                    var ae = "M0,0";
                    x(g, a) && (V = w(g, "bottom", p, _),
                    B = g._offset + g._length + (V ? b : 0),
                    q = w(g, "top", p, _),
                    H = g._offset - (q ? b : 0),
                    U = A(g, p, "left"),
                    Y = A(g, p, "right"),
                    !(W = !g._anchorAxis || a !== g._mainSubplot) || "allticks" !== g.mirror && "all" !== g.mirror || (g._linepositions[a] = [U, Y]),
                    ae = re(g, ee, te),
                    W && g.showline && ("all" === g.mirror || "allticks" === g.mirror) && (ae += ee(U) + ee(Y)),
                    s.ylines.style("stroke-width", g._lw + "px").call(l.stroke, g.showline ? g.linecolor : "rgba(0,0,0,0)")),
                    s.ylines.attr("d", ae)
                }
                return d.makeClipPaths(e),
                i.previousPromises(e)
            }
            function x(e, t) {
                return (e.ticks || e.showline) && (t === e._mainSubplot || "all" === e.mirror || "allticks" === e.mirror)
            }
            function _(e, t, r) {
                if (!r.showline || !r._lw)
                    return !1;
                if ("all" === r.mirror || "allticks" === r.mirror)
                    return !0;
                var n = r._anchorAxis;
                if (!n)
                    return !1;
                var a = h.FROM_BL[t];
                return r.side === t ? n.domain[a] === e.domain[a] : r.mirror && n.domain[1 - a] === e.domain[1 - a]
            }
            function w(e, t, r, n) {
                if (_(e, t, r))
                    return r._lw;
                for (var a = 0; a < n.length; a++) {
                    var i = n[a];
                    if (i._mainAxis === r._mainAxis && _(e, t, i))
                        return i._lw
                }
                return 0
            }
            function A(e, t) {
                var r = e.title
                  , n = e._size
                  , a = 0;
                switch ("start" === t ? a = r.pad.l : "end" === t && (a = -r.pad.r),
                r.xref) {
                case "paper":
                    return n.l + n.w * r.x + a;
                case "container":
                default:
                    return e.width * r.x + a
                }
            }
            function k(e, t) {
                var r = e.title
                  , n = e._size
                  , a = 0;
                if ("0em" !== t && t ? t === h.CAP_SHIFT + "em" && (a = r.pad.t) : a = -r.pad.b,
                "auto" === r.y)
                    return n.t / 2;
                switch (r.yref) {
                case "paper":
                    return n.t + n.h - n.h * r.y + a;
                case "container":
                default:
                    return e.height - e.height * r.y + a
                }
            }
            r.layoutStyles = function(e) {
                return o.syncOrAsync([i.doAutoMargin, b], e)
            }
            ,
            r.drawMainTitle = function(e) {
                var t = e._fullLayout
                  , r = function(e) {
                    var t = e.title
                      , r = "middle";
                    o.isRightAnchor(t) ? r = "end" : o.isLeftAnchor(t) && (r = "start");
                    return r
                }(t)
                  , n = function(e) {
                    var t = e.title
                      , r = "0em";
                    o.isTopAnchor(t) ? r = h.CAP_SHIFT + "em" : o.isMiddleAnchor(t) && (r = h.MID_SHIFT + "em");
                    return r
                }(t);
                u.draw(e, "gtitle", {
                    propContainer: t,
                    propName: "title.text",
                    placeholder: t._dfltTitle.plot,
                    attributes: {
                        x: A(t, r),
                        y: k(t, n),
                        "text-anchor": r,
                        dy: n
                    }
                })
            }
            ,
            r.doTraceStyle = function(e) {
                var t, n = e.calcdata, o = [];
                for (t = 0; t < n.length; t++) {
                    var l = n[t]
                      , c = l[0] || {}
                      , u = c.trace || {}
                      , f = u._module || {}
                      , d = f.arraysToCalcdata;
                    d && d(l, u);
                    var h = f.editStyle;
                    h && o.push({
                        fn: h,
                        cd0: c
                    })
                }
                if (o.length) {
                    for (t = 0; t < o.length; t++) {
                        var p = o[t];
                        p.fn(e, p.cd0)
                    }
                    s(e),
                    r.redrawReglTraces(e)
                }
                return i.style(e),
                a.getComponentMethod("legend", "draw")(e),
                i.previousPromises(e)
            }
            ,
            r.doColorBars = function(e) {
                return a.getComponentMethod("colorbar", "draw")(e),
                i.previousPromises(e)
            }
            ,
            r.layoutReplot = function(e) {
                var t = e.layout;
                return e.layout = void 0,
                a.call("_doPlot", e, "", t)
            }
            ,
            r.doLegend = function(e) {
                return a.getComponentMethod("legend", "draw")(e),
                i.previousPromises(e)
            }
            ,
            r.doTicksRelayout = function(e) {
                return d.draw(e, "redraw"),
                e._fullLayout._hasOnlyLargeSploms && (a.subplotsRegistry.splom.updateGrid(e),
                s(e),
                r.redrawReglTraces(e)),
                r.drawMainTitle(e),
                i.previousPromises(e)
            }
            ,
            r.doModeBar = function(e) {
                var t = e._fullLayout;
                f.manage(e);
                for (var r = 0; r < t._basePlotModules.length; r++) {
                    var n = t._basePlotModules[r].updateFx;
                    n && n(e)
                }
                return i.previousPromises(e)
            }
            ,
            r.doCamera = function(e) {
                for (var t = e._fullLayout, r = t._subplots.gl3d, n = 0; n < r.length; n++) {
                    var a = t[r[n]];
                    a._scene.setViewport(a)
                }
            }
            ,
            r.drawData = function(e) {
                var t = e._fullLayout;
                s(e);
                for (var n = t._basePlotModules, o = 0; o < n.length; o++)
                    n[o].plot(e);
                return r.redrawReglTraces(e),
                i.style(e),
                a.getComponentMethod("shapes", "draw")(e),
                a.getComponentMethod("annotations", "draw")(e),
                a.getComponentMethod("images", "draw")(e),
                t._replotting = !1,
                i.previousPromises(e)
            }
            ,
            r.redrawReglTraces = function(e) {
                var t = e._fullLayout;
                if (t._has("regl")) {
                    var r, n, a = e._fullData, i = [], s = [];
                    for (t._hasOnlyLargeSploms && t._splomGrid.draw(),
                    r = 0; r < a.length; r++) {
                        var l = a[r];
                        !0 === l.visible && 0 !== l._length && ("splom" === l.type ? t._splomScenes[l.uid].draw() : "scattergl" === l.type ? o.pushUnique(i, l.xaxis + l.yaxis) : "scatterpolargl" === l.type && o.pushUnique(s, l.subplot))
                    }
                    for (r = 0; r < i.length; r++)
                        (n = t._plots[i[r]])._scene && n._scene.draw();
                    for (r = 0; r < s.length; r++)
                        (n = t[s[r]]._subplot)._scene && n._scene.draw()
                }
            }
            ,
            r.doAutoRangeAndConstraints = function(e) {
                for (var t, r = d.list(e, "", !0), n = {}, a = 0; a < r.length; a++)
                    if (!n[(t = r[a])._id]) {
                        n[t._id] = 1,
                        y(e, t),
                        v(e, t);
                        var i = t._matchGroup;
                        if (i)
                            for (var o in i) {
                                var s = d.getFromId(e, o);
                                v(e, s, t.range),
                                n[o] = 1
                            }
                    }
                g(e)
            }
            ,
            r.finalDraw = function(e) {
                a.getComponentMethod("rangeslider", "draw")(e),
                a.getComponentMethod("rangeselector", "draw")(e)
            }
            ,
            r.drawMarginPushers = function(e) {
                a.getComponentMethod("legend", "draw")(e),
                a.getComponentMethod("rangeselector", "draw")(e),
                a.getComponentMethod("sliders", "draw")(e),
                a.getComponentMethod("updatemenus", "draw")(e),
                a.getComponentMethod("colorbar", "draw")(e)
            }
        }
        , {
            "../components/color": 235,
            "../components/drawing": 257,
            "../components/modebar": 298,
            "../components/titles": 333,
            "../constants/alignment": 340,
            "../lib": 365,
            "../lib/clear_gl_canvases": 352,
            "../plots/cartesian/autorange": 413,
            "../plots/cartesian/axes": 414,
            "../plots/cartesian/constraints": 422,
            "../plots/plots": 449,
            "../registry": 451,
            "@plotly/d3": 6
        }],
        405: [function(e, t, r) {
            "use strict";
            var n = e("../lib")
              , a = n.isPlainObject
              , i = e("./plot_schema")
              , o = e("../plots/plots")
              , s = e("../plots/attributes")
              , l = e("./plot_template")
              , c = e("./plot_config").dfltConfig;
            function u(e, t) {
                e = n.extendDeep({}, e);
                var r, i, o = Object.keys(e).sort();
                function s(t, r, n) {
                    if (a(r) && a(t))
                        u(t, r);
                    else if (Array.isArray(r) && Array.isArray(t)) {
                        var o = l.arrayTemplater({
                            _template: e
                        }, n);
                        for (i = 0; i < r.length; i++) {
                            var s = r[i]
                              , c = o.newItem(s)._template;
                            c && u(c, s)
                        }
                        var f = o.defaultItems();
                        for (i = 0; i < f.length; i++)
                            r.push(f[i]._template);
                        for (i = 0; i < r.length; i++)
                            delete r[i].templateitemname
                    }
                }
                for (r = 0; r < o.length; r++) {
                    var c = o[r]
                      , d = e[c];
                    if (c in t ? s(d, t[c], c) : t[c] = d,
                    f(c) === c)
                        for (var h in t) {
                            var p = f(h);
                            h === p || p !== c || h in e || s(d, t[h], c)
                        }
                }
            }
            function f(e) {
                return e.replace(/[0-9]+$/, "")
            }
            function d(e, t, r, i, o) {
                var s = o && r(o);
                for (var c in e) {
                    var u = e[c]
                      , h = g(e, c, i)
                      , p = g(e, c, o)
                      , y = r(p);
                    if (!y) {
                        var v = f(c);
                        v !== c && (y = r(p = g(e, v, o)))
                    }
                    if ((!s || s !== y) && !(!y || y._noTemplating || "data_array" === y.valType || y.arrayOk && Array.isArray(u)))
                        if (!y.valType && a(u))
                            d(u, t, r, h, p);
                        else if (y._isLinkedToArray && Array.isArray(u))
                            for (var m = !1, b = 0, x = {}, _ = 0; _ < u.length; _++) {
                                var w = u[_];
                                if (a(w)) {
                                    var A = w.name;
                                    if (A)
                                        x[A] || (d(w, t, r, g(u, b, h), g(u, b, p)),
                                        b++,
                                        x[A] = 1);
                                    else if (!m) {
                                        var k = g(e, l.arrayDefaultKey(c), i)
                                          , T = g(u, b, h);
                                        d(w, t, r, T, g(u, b, p));
                                        var M = n.nestedProperty(t, T);
                                        n.nestedProperty(t, k).set(M.get()),
                                        M.set(null),
                                        m = !0
                                    }
                                }
                            }
                        else {
                            n.nestedProperty(t, h).set(u)
                        }
                }
            }
            function h(e, t) {
                return i.getLayoutValObject(e, n.nestedProperty({}, t).parts)
            }
            function p(e, t) {
                return i.getTraceValObject(e, n.nestedProperty({}, t).parts)
            }
            function g(e, t, r) {
                return r ? Array.isArray(e) ? r + "[" + t + "]" : r + "." + t : t
            }
            function y(e) {
                for (var t = 0; t < e.length; t++)
                    if (a(e[t]))
                        return !0
            }
            function v(e) {
                var t;
                switch (e.code) {
                case "data":
                    t = "The template has no key data.";
                    break;
                case "layout":
                    t = "The template has no key layout.";
                    break;
                case "missing":
                    t = e.path ? "There are no templates for item " + e.path + " with name " + e.templateitemname : "There are no templates for trace " + e.index + ", of type " + e.traceType + ".";
                    break;
                case "unused":
                    t = e.path ? "The template item at " + e.path + " was not used in constructing the plot." : e.dataCount ? "Some of the templates of type " + e.traceType + " were not used. The template has " + e.templateCount + " traces, the data only has " + e.dataCount + " of this type." : "The template has " + e.templateCount + " traces of type " + e.traceType + " but there are none in the data.";
                    break;
                case "reused":
                    t = "Some of the templates of type " + e.traceType + " were used more than once. The template has " + e.templateCount + " traces, the data has " + e.dataCount + " of this type."
                }
                return e.msg = t,
                e
            }
            r.makeTemplate = function(e) {
                e = n.isPlainObject(e) ? e : n.getGraphDiv(e),
                e = n.extendDeep({
                    _context: c
                }, {
                    data: e.data,
                    layout: e.layout
                }),
                o.supplyDefaults(e);
                var t = e.data || []
                  , r = e.layout || {};
                r._basePlotModules = e._fullLayout._basePlotModules,
                r._modules = e._fullLayout._modules;
                var i = {
                    data: {},
                    layout: {}
                };
                t.forEach((function(e) {
                    var t = {};
                    d(e, t, p.bind(null, e));
                    var r = n.coerce(e, {}, s, "type")
                      , a = i.data[r];
                    a || (a = i.data[r] = []),
                    a.push(t)
                }
                )),
                d(r, i.layout, h.bind(null, r)),
                delete i.layout.template;
                var l = r.template;
                if (a(l)) {
                    var f, g, y, v, m, b, x = l.layout;
                    a(x) && u(x, i.layout);
                    var _ = l.data;
                    if (a(_)) {
                        for (g in i.data)
                            if (y = _[g],
                            Array.isArray(y)) {
                                for (b = (m = i.data[g]).length,
                                v = y.length,
                                f = 0; f < b; f++)
                                    u(y[f % v], m[f]);
                                for (f = b; f < v; f++)
                                    m.push(n.extendDeep({}, y[f]))
                            }
                        for (g in _)
                            g in i.data || (i.data[g] = n.extendDeep([], _[g]))
                    }
                }
                return i
            }
            ,
            r.validateTemplate = function(e, t) {
                var r = n.extendDeep({}, {
                    _context: c,
                    data: e.data,
                    layout: e.layout
                })
                  , i = r.layout || {};
                a(t) || (t = i.template || {});
                var s = t.layout
                  , l = t.data
                  , u = [];
                r.layout = i,
                r.layout.template = t,
                o.supplyDefaults(r);
                var d = r._fullLayout
                  , h = r._fullData
                  , p = {};
                if (a(s) ? (!function e(t, r) {
                    for (var n in t)
                        if ("_" !== n.charAt(0) && a(t[n])) {
                            var i, o = f(n), s = [];
                            for (i = 0; i < r.length; i++)
                                s.push(g(t, n, r[i])),
                                o !== n && s.push(g(t, o, r[i]));
                            for (i = 0; i < s.length; i++)
                                p[s[i]] = 1;
                            e(t[n], s)
                        }
                }(d, ["layout"]),
                function e(t, r) {
                    for (var n in t)
                        if (-1 === n.indexOf("defaults") && a(t[n])) {
                            var i = g(t, n, r);
                            p[i] ? e(t[n], i) : u.push({
                                code: "unused",
                                path: i
                            })
                        }
                }(s, "layout")) : u.push({
                    code: "layout"
                }),
                a(l)) {
                    for (var m, b = {}, x = 0; x < h.length; x++) {
                        var _ = h[x];
                        b[m = _.type] = (b[m] || 0) + 1,
                        _._fullInput._template || u.push({
                            code: "missing",
                            index: _._fullInput.index,
                            traceType: m
                        })
                    }
                    for (m in l) {
                        var w = l[m].length
                          , A = b[m] || 0;
                        w > A ? u.push({
                            code: "unused",
                            traceType: m,
                            templateCount: w,
                            dataCount: A
                        }) : A > w && u.push({
                            code: "reused",
                            traceType: m,
                            templateCount: w,
                            dataCount: A
                        })
                    }
                } else
                    u.push({
                        code: "data"
                    });
                if (function e(t, r) {
                    for (var n in t)
                        if ("_" !== n.charAt(0)) {
                            var i = t[n]
                              , o = g(t, n, r);
                            a(i) ? (Array.isArray(t) && !1 === i._template && i.templateitemname && u.push({
                                code: "missing",
                                path: o,
                                templateitemname: i.templateitemname
                            }),
                            e(i, o)) : Array.isArray(i) && y(i) && e(i, o)
                        }
                }({
                    data: h,
                    layout: d
                }, ""),
                u.length)
                    return u.map(v)
            }
        }
        , {
            "../lib": 365,
            "../plots/attributes": 410,
            "../plots/plots": 449,
            "./plot_config": 401,
            "./plot_schema": 402,
            "./plot_template": 403
        }],
        406: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("./plot_api")
              , i = e("../plots/plots")
              , o = e("../lib")
              , s = e("../snapshot/helpers")
              , l = e("../snapshot/tosvg")
              , c = e("../snapshot/svgtoimg")
              , u = e("../version").version
              , f = {
                format: {
                    valType: "enumerated",
                    values: ["png", "jpeg", "webp", "svg", "full-json"],
                    dflt: "png"
                },
                width: {
                    valType: "number",
                    min: 1
                },
                height: {
                    valType: "number",
                    min: 1
                },
                scale: {
                    valType: "number",
                    min: 0,
                    dflt: 1
                },
                setBackground: {
                    valType: "any",
                    dflt: !1
                },
                imageDataOnly: {
                    valType: "boolean",
                    dflt: !1
                }
            };
            t.exports = function(e, t) {
                var r, d, h, p;
                function g(e) {
                    return !(e in t) || o.validate(t[e], f[e])
                }
                if (t = t || {},
                o.isPlainObject(e) ? (r = e.data || [],
                d = e.layout || {},
                h = e.config || {},
                p = {}) : (e = o.getGraphDiv(e),
                r = o.extendDeep([], e.data),
                d = o.extendDeep({}, e.layout),
                h = e._context,
                p = e._fullLayout || {}),
                !g("width") && null !== t.width || !g("height") && null !== t.height)
                    throw new Error("Height and width should be pixel values.");
                if (!g("format"))
                    throw new Error("Export format is not " + o.join2(f.format.values, ", ", " or ") + ".");
                var y = {};
                function v(e, r) {
                    return o.coerce(t, y, f, e, r)
                }
                var m = v("format")
                  , b = v("width")
                  , x = v("height")
                  , _ = v("scale")
                  , w = v("setBackground")
                  , A = v("imageDataOnly")
                  , k = document.createElement("div");
                k.style.position = "absolute",
                k.style.left = "-5000px",
                document.body.appendChild(k);
                var T = o.extendFlat({}, d);
                b ? T.width = b : null === t.width && n(p.width) && (T.width = p.width),
                x ? T.height = x : null === t.height && n(p.height) && (T.height = p.height);
                var M = o.extendFlat({}, h, {
                    _exportedPlot: !0,
                    staticPlot: !0,
                    setBackground: w
                })
                  , S = s.getRedrawFunc(k);
                function C() {
                    return new Promise((function(e) {
                        setTimeout(e, s.getDelay(k._fullLayout))
                    }
                    ))
                }
                function O() {
                    return new Promise((function(e, t) {
                        var r = l(k, m, _)
                          , n = k._fullLayout.width
                          , f = k._fullLayout.height;
                        function d() {
                            a.purge(k),
                            document.body.removeChild(k)
                        }
                        if ("full-json" === m) {
                            var h = i.graphJson(k, !1, "keepdata", "object", !0, !0);
                            return h.version = u,
                            h = JSON.stringify(h),
                            d(),
                            e(A ? h : s.encodeJSON(h))
                        }
                        if (d(),
                        "svg" === m)
                            return e(A ? r : s.encodeSVG(r));
                        var p = document.createElement("canvas");
                        p.id = o.randstr(),
                        c({
                            format: m,
                            width: n,
                            height: f,
                            scale: _,
                            canvas: p,
                            svg: r,
                            promise: !0
                        }).then(e).catch(t)
                    }
                    ))
                }
                return new Promise((function(e, t) {
                    a.newPlot(k, r, T, M).then(S).then(C).then(O).then((function(t) {
                        e(function(e) {
                            return A ? e.replace(s.IMAGE_URL_PREFIX, "") : e
                        }(t))
                    }
                    )).catch((function(e) {
                        t(e)
                    }
                    ))
                }
                ))
            }
        }
        , {
            "../lib": 365,
            "../plots/plots": 449,
            "../snapshot/helpers": 455,
            "../snapshot/svgtoimg": 457,
            "../snapshot/tosvg": 459,
            "../version": 504,
            "./plot_api": 400,
            "fast-isnumeric": 107
        }],
        407: [function(e, t, r) {
            "use strict";
            var n = e("../lib")
              , a = e("../plots/plots")
              , i = e("./plot_schema")
              , o = e("./plot_config").dfltConfig
              , s = n.isPlainObject
              , l = Array.isArray
              , c = n.isArrayOrTypedArray;
            function u(e, t, r, a, i, o) {
                o = o || [];
                for (var f = Object.keys(e), d = 0; d < f.length; d++) {
                    var h = f[d];
                    if ("transforms" !== h) {
                        var v = o.slice();
                        v.push(h);
                        var m = e[h]
                          , b = t[h]
                          , x = y(r, h)
                          , _ = (x || {}).valType
                          , w = "info_array" === _
                          , A = "colorscale" === _
                          , k = (x || {}).items;
                        if (g(r, h))
                            if (s(m) && s(b) && "any" !== _)
                                u(m, b, x, a, i, v);
                            else if (w && l(m)) {
                                m.length > b.length && a.push(p("unused", i, v.concat(b.length)));
                                var T, M, S, C, O, D = b.length, L = Array.isArray(k);
                                if (L && (D = Math.min(D, k.length)),
                                2 === x.dimensions)
                                    for (M = 0; M < D; M++)
                                        if (l(m[M])) {
                                            m[M].length > b[M].length && a.push(p("unused", i, v.concat(M, b[M].length)));
                                            var E = b[M].length;
                                            for (T = 0; T < (L ? Math.min(E, k[M].length) : E); T++)
                                                S = L ? k[M][T] : k,
                                                C = m[M][T],
                                                O = b[M][T],
                                                n.validate(C, S) ? O !== C && O !== +C && a.push(p("dynamic", i, v.concat(M, T), C, O)) : a.push(p("value", i, v.concat(M, T), C))
                                        } else
                                            a.push(p("array", i, v.concat(M), m[M]));
                                else
                                    for (M = 0; M < D; M++)
                                        S = L ? k[M] : k,
                                        C = m[M],
                                        O = b[M],
                                        n.validate(C, S) ? O !== C && O !== +C && a.push(p("dynamic", i, v.concat(M), C, O)) : a.push(p("value", i, v.concat(M), C))
                            } else if (x.items && !w && l(m)) {
                                var z, F, P = k[Object.keys(k)[0]], I = [];
                                for (z = 0; z < b.length; z++) {
                                    var N = b[z]._index || z;
                                    if ((F = v.slice()).push(N),
                                    s(m[N]) && s(b[z])) {
                                        I.push(N);
                                        var R = m[N]
                                          , j = b[z];
                                        s(R) && !1 !== R.visible && !1 === j.visible ? a.push(p("invisible", i, F)) : u(R, j, P, a, i, F)
                                    }
                                }
                                for (z = 0; z < m.length; z++)
                                    (F = v.slice()).push(z),
                                    s(m[z]) ? -1 === I.indexOf(z) && a.push(p("unused", i, F)) : a.push(p("object", i, F, m[z]))
                            } else
                                !s(m) && s(b) ? a.push(p("object", i, v, m)) : c(m) || !c(b) || w || A ? h in t ? n.validate(m, x) ? "enumerated" === x.valType && (x.coerceNumber && m !== +b || m !== b) && a.push(p("dynamic", i, v, m, b)) : a.push(p("value", i, v, m)) : a.push(p("unused", i, v, m)) : a.push(p("array", i, v, m));
                        else
                            a.push(p("schema", i, v))
                    }
                }
                return a
            }
            function f(e, t) {
                for (var r = e.layout.layoutAttributes, a = 0; a < t.length; a++) {
                    var i = t[a]
                      , o = e.traces[i.type]
                      , s = o.layoutAttributes;
                    s && (i.subplot ? n.extendFlat(r[o.attributes.subplot.dflt], s) : n.extendFlat(r, s))
                }
                return r
            }
            t.exports = function(e, t) {
                void 0 === e && (e = []),
                void 0 === t && (t = {});
                var r, c, d = i.get(), h = [], g = {
                    _context: n.extendFlat({}, o)
                };
                l(e) ? (g.data = n.extendDeep([], e),
                r = e) : (g.data = [],
                r = [],
                h.push(p("array", "data"))),
                s(t) ? (g.layout = n.extendDeep({}, t),
                c = t) : (g.layout = {},
                c = {},
                arguments.length > 1 && h.push(p("object", "layout"))),
                a.supplyDefaults(g);
                for (var y = g._fullData, v = r.length, m = 0; m < v; m++) {
                    var b = r[m]
                      , x = ["data", m];
                    if (s(b)) {
                        var _ = y[m]
                          , w = _.type
                          , A = d.traces[w].attributes;
                        A.type = {
                            valType: "enumerated",
                            values: [w]
                        },
                        !1 === _.visible && !1 !== b.visible && h.push(p("invisible", x)),
                        u(b, _, A, h, x);
                        var k = b.transforms
                          , T = _.transforms;
                        if (k) {
                            l(k) || h.push(p("array", x, ["transforms"])),
                            x.push("transforms");
                            for (var M = 0; M < k.length; M++) {
                                var S = ["transforms", M]
                                  , C = k[M].type;
                                if (s(k[M])) {
                                    var O = d.transforms[C] ? d.transforms[C].attributes : {};
                                    O.type = {
                                        valType: "enumerated",
                                        values: Object.keys(d.transforms)
                                    },
                                    u(k[M], T[M], O, h, x, S)
                                } else
                                    h.push(p("object", x, S))
                            }
                        }
                    } else
                        h.push(p("object", x))
                }
                var D = g._fullLayout
                  , L = f(d, y);
                return u(c, D, L, h, "layout"),
                0 === h.length ? void 0 : h
            }
            ;
            var d = {
                object: function(e, t) {
                    return ("layout" === e && "" === t ? "The layout argument" : "data" === e[0] && "" === t ? "Trace " + e[1] + " in the data argument" : h(e) + "key " + t) + " must be linked to an object container"
                },
                array: function(e, t) {
                    return ("data" === e ? "The data argument" : h(e) + "key " + t) + " must be linked to an array container"
                },
                schema: function(e, t) {
                    return h(e) + "key " + t + " is not part of the schema"
                },
                unused: function(e, t, r) {
                    var n = s(r) ? "container" : "key";
                    return h(e) + n + " " + t + " did not get coerced"
                },
                dynamic: function(e, t, r, n) {
                    return [h(e) + "key", t, "(set to '" + r + "')", "got reset to", "'" + n + "'", "during defaults."].join(" ")
                },
                invisible: function(e, t) {
                    return (t ? h(e) + "item " + t : "Trace " + e[1]) + " got defaulted to be not visible"
                },
                value: function(e, t, r) {
                    return [h(e) + "key " + t, "is set to an invalid value (" + r + ")"].join(" ")
                }
            };
            function h(e) {
                return l(e) ? "In data trace " + e[1] + ", " : "In " + e + ", "
            }
            function p(e, t, r, a, i) {
                var o, s;
                r = r || "",
                l(t) ? (o = t[0],
                s = t[1]) : (o = t,
                s = null);
                var c = function(e) {
                    if (!l(e))
                        return String(e);
                    for (var t = "", r = 0; r < e.length; r++) {
                        var n = e[r];
                        "number" == typeof n ? t = t.substr(0, t.length - 1) + "[" + n + "]" : t += n,
                        r < e.length - 1 && (t += ".")
                    }
                    return t
                }(r)
                  , u = d[e](t, c, a, i);
                return n.log(u),
                {
                    code: e,
                    container: o,
                    trace: s,
                    path: r,
                    astr: c,
                    msg: u
                }
            }
            function g(e, t) {
                var r = m(t)
                  , n = r.keyMinusId
                  , a = r.id;
                return !!(n in e && e[n]._isSubplotObj && a) || t in e
            }
            function y(e, t) {
                return t in e ? e[t] : e[m(t).keyMinusId]
            }
            var v = n.counterRegex("([a-z]+)");
            function m(e) {
                var t = e.match(v);
                return {
                    keyMinusId: t && t[1],
                    id: t && t[2]
                }
            }
        }
        , {
            "../lib": 365,
            "../plots/plots": 449,
            "./plot_config": 401,
            "./plot_schema": 402
        }],
        408: [function(e, t, r) {
            "use strict";
            t.exports = {
                mode: {
                    valType: "enumerated",
                    dflt: "afterall",
                    values: ["immediate", "next", "afterall"]
                },
                direction: {
                    valType: "enumerated",
                    values: ["forward", "reverse"],
                    dflt: "forward"
                },
                fromcurrent: {
                    valType: "boolean",
                    dflt: !1
                },
                frame: {
                    duration: {
                        valType: "number",
                        min: 0,
                        dflt: 500
                    },
                    redraw: {
                        valType: "boolean",
                        dflt: !0
                    }
                },
                transition: {
                    duration: {
                        valType: "number",
                        min: 0,
                        dflt: 500,
                        editType: "none"
                    },
                    easing: {
                        valType: "enumerated",
                        dflt: "cubic-in-out",
                        values: ["linear", "quad", "cubic", "sin", "exp", "circle", "elastic", "back", "bounce", "linear-in", "quad-in", "cubic-in", "sin-in", "exp-in", "circle-in", "elastic-in", "back-in", "bounce-in", "linear-out", "quad-out", "cubic-out", "sin-out", "exp-out", "circle-out", "elastic-out", "back-out", "bounce-out", "linear-in-out", "quad-in-out", "cubic-in-out", "sin-in-out", "exp-in-out", "circle-in-out", "elastic-in-out", "back-in-out", "bounce-in-out"],
                        editType: "none"
                    },
                    ordering: {
                        valType: "enumerated",
                        values: ["layout first", "traces first"],
                        dflt: "layout first",
                        editType: "none"
                    }
                }
            }
        }
        , {}],
        409: [function(e, t, r) {
            "use strict";
            var n = e("../lib")
              , a = e("../plot_api/plot_template");
            t.exports = function(e, t, r) {
                var i, o, s = r.name, l = r.inclusionAttr || "visible", c = t[s], u = n.isArrayOrTypedArray(e[s]) ? e[s] : [], f = t[s] = [], d = a.arrayTemplater(t, s, l);
                for (i = 0; i < u.length; i++) {
                    var h = u[i];
                    n.isPlainObject(h) ? o = d.newItem(h) : (o = d.newItem({}))[l] = !1,
                    o._index = i,
                    !1 !== o[l] && r.handleItemDefaults(h, o, t, r),
                    f.push(o)
                }
                var p = d.defaultItems();
                for (i = 0; i < p.length; i++)
                    (o = p[i])._index = f.length,
                    r.handleItemDefaults({}, o, t, r, {}),
                    f.push(o);
                if (n.isArrayOrTypedArray(c)) {
                    var g = Math.min(c.length, f.length);
                    for (i = 0; i < g; i++)
                        n.relinkPrivateKeys(f[i], c[i])
                }
                return f
            }
        }
        , {
            "../lib": 365,
            "../plot_api/plot_template": 403
        }],
        410: [function(e, t, r) {
            "use strict";
            var n = e("./font_attributes")
              , a = e("../components/fx/attributes");
            t.exports = {
                type: {
                    valType: "enumerated",
                    values: [],
                    dflt: "scatter",
                    editType: "calc+clearAxisTypes",
                    _noTemplating: !0
                },
                visible: {
                    valType: "enumerated",
                    values: [!0, !1, "legendonly"],
                    dflt: !0,
                    editType: "calc"
                },
                showlegend: {
                    valType: "boolean",
                    dflt: !0,
                    editType: "style"
                },
                legendgroup: {
                    valType: "string",
                    dflt: "",
                    editType: "style"
                },
                legendgrouptitle: {
                    text: {
                        valType: "string",
                        dflt: "",
                        editType: "style"
                    },
                    font: n({
                        editType: "style"
                    }),
                    editType: "style"
                },
                legendrank: {
                    valType: "number",
                    dflt: 1e3,
                    editType: "style"
                },
                opacity: {
                    valType: "number",
                    min: 0,
                    max: 1,
                    dflt: 1,
                    editType: "style"
                },
                name: {
                    valType: "string",
                    editType: "style"
                },
                uid: {
                    valType: "string",
                    editType: "plot",
                    anim: !0
                },
                ids: {
                    valType: "data_array",
                    editType: "calc",
                    anim: !0
                },
                customdata: {
                    valType: "data_array",
                    editType: "calc"
                },
                meta: {
                    valType: "any",
                    arrayOk: !0,
                    editType: "plot"
                },
                selectedpoints: {
                    valType: "any",
                    editType: "calc"
                },
                hoverinfo: {
                    valType: "flaglist",
                    flags: ["x", "y", "z", "text", "name"],
                    extras: ["all", "none", "skip"],
                    arrayOk: !0,
                    dflt: "all",
                    editType: "none"
                },
                hoverlabel: a.hoverlabel,
                stream: {
                    token: {
                        valType: "string",
                        noBlank: !0,
                        strict: !0,
                        editType: "calc"
                    },
                    maxpoints: {
                        valType: "number",
                        min: 0,
                        max: 1e4,
                        dflt: 500,
                        editType: "calc"
                    },
                    editType: "calc"
                },
                transforms: {
                    _isLinkedToArray: "transform",
                    editType: "calc"
                },
                uirevision: {
                    valType: "any",
                    editType: "none"
                }
            }
        }
        , {
            "../components/fx/attributes": 266,
            "./font_attributes": 443
        }],
        411: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("../../lib")
              , i = a.dateTime2ms
              , o = a.incrementMonth
              , s = e("../../constants/numerical").ONEAVGMONTH;
            t.exports = function(e, t, r, a) {
                if ("date" !== t.type)
                    return {
                        vals: a
                    };
                var l = e[r + "periodalignment"];
                if (!l)
                    return {
                        vals: a
                    };
                var c, u = e[r + "period"];
                if (n(u)) {
                    if ((u = +u) <= 0)
                        return {
                            vals: a
                        }
                } else if ("string" == typeof u && "M" === u.charAt(0)) {
                    var f = +u.substring(1);
                    if (!(f > 0 && Math.round(f) === f))
                        return {
                            vals: a
                        };
                    c = f
                }
                for (var d = t.calendar, h = "start" === l, p = "end" === l, g = e[r + "period0"], y = i(g, d) || 0, v = [], m = [], b = [], x = a.length, _ = 0; _ < x; _++) {
                    var w, A, k, T = a[_];
                    if (c) {
                        for (w = Math.round((T - y) / (c * s)),
                        k = o(y, c * w, d); k > T; )
                            k = o(k, -c, d);
                        for (; k <= T; )
                            k = o(k, c, d);
                        A = o(k, -c, d)
                    } else {
                        for (k = y + (w = Math.round((T - y) / u)) * u; k > T; )
                            k -= u;
                        for (; k <= T; )
                            k += u;
                        A = k - u
                    }
                    v[_] = h ? A : p ? k : (A + k) / 2,
                    m[_] = A,
                    b[_] = k
                }
                return {
                    vals: v,
                    starts: m,
                    ends: b
                }
            }
        }
        , {
            "../../constants/numerical": 344,
            "../../lib": 365,
            "fast-isnumeric": 107
        }],
        412: [function(e, t, r) {
            "use strict";
            t.exports = {
                xaxis: {
                    valType: "subplotid",
                    dflt: "x",
                    editType: "calc+clearAxisTypes"
                },
                yaxis: {
                    valType: "subplotid",
                    dflt: "y",
                    editType: "calc+clearAxisTypes"
                }
            }
        }
        , {}],
        413: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("fast-isnumeric")
              , i = e("../../lib")
              , o = e("../../constants/numerical").FP_SAFE
              , s = e("../../registry")
              , l = e("../../components/drawing")
              , c = e("./axis_ids")
              , u = c.getFromId
              , f = c.isLinked;
            function d(e, t) {
                var r, n, a = [], o = e._fullLayout, s = p(o, t, 0), l = p(o, t, 1), c = g(e, t), u = c.min, f = c.max;
                if (0 === u.length || 0 === f.length)
                    return i.simpleMap(t.range, t.r2l);
                var d = u[0].val
                  , y = f[0].val;
                for (r = 1; r < u.length && d === y; r++)
                    d = Math.min(d, u[r].val);
                for (r = 1; r < f.length && d === y; r++)
                    y = Math.max(y, f[r].val);
                var v = !1;
                if (t.range) {
                    var m = i.simpleMap(t.range, t.r2l);
                    v = m[1] < m[0]
                }
                "reversed" === t.autorange && (v = !0,
                t.autorange = !0);
                var b, x, _, w, A, k, T = t.rangemode, M = "tozero" === T, S = "nonnegative" === T, C = t._length, O = C / 10, D = 0;
                for (r = 0; r < u.length; r++)
                    for (b = u[r],
                    n = 0; n < f.length; n++)
                        (k = (x = f[n]).val - b.val - h(t, b.val, x.val)) > 0 && ((A = C - s(b) - l(x)) > O ? k / A > D && (_ = b,
                        w = x,
                        D = k / A) : k / C > D && (_ = {
                            val: b.val,
                            nopad: 1
                        },
                        w = {
                            val: x.val,
                            nopad: 1
                        },
                        D = k / C));
                if (d === y) {
                    var L = d - 1
                      , E = d + 1;
                    if (M)
                        if (0 === d)
                            a = [0, 1];
                        else {
                            var z = (d > 0 ? f : u).reduce((function(e, t) {
                                return Math.max(e, l(t))
                            }
                            ), 0)
                              , F = d / (1 - Math.min(.5, z / C));
                            a = d > 0 ? [0, F] : [F, 0]
                        }
                    else
                        a = S ? [Math.max(0, L), Math.max(1, E)] : [L, E]
                } else
                    M ? (_.val >= 0 && (_ = {
                        val: 0,
                        nopad: 1
                    }),
                    w.val <= 0 && (w = {
                        val: 0,
                        nopad: 1
                    })) : S && (_.val - D * s(_) < 0 && (_ = {
                        val: 0,
                        nopad: 1
                    }),
                    w.val <= 0 && (w = {
                        val: 1,
                        nopad: 1
                    })),
                    D = (w.val - _.val - h(t, b.val, x.val)) / (C - s(_) - l(w)),
                    a = [_.val - D * s(_), w.val + D * l(w)];
                return v && a.reverse(),
                i.simpleMap(a, t.l2r || Number)
            }
            function h(e, t, r) {
                var n = 0;
                if (e.rangebreaks)
                    for (var a = e.locateBreaks(t, r), i = 0; i < a.length; i++) {
                        var o = a[i];
                        n += o.max - o.min
                    }
                return n
            }
            function p(e, t, r) {
                var a = .05 * t._length
                  , o = t._anchorAxis || {};
                if (-1 !== (t.ticklabelposition || "").indexOf("inside") || -1 !== (o.ticklabelposition || "").indexOf("inside")) {
                    var s = "reversed" === t.autorange;
                    if (!s) {
                        var c = i.simpleMap(t.range, t.r2l);
                        s = c[1] < c[0]
                    }
                    s && (r = !r)
                }
                var u = 0;
                return f(e, t._id) || (u = function(e, t, r) {
                    var a = 0
                      , o = "x" === t._id.charAt(0);
                    for (var s in e._plots) {
                        var c = e._plots[s];
                        if (t._id === c.xaxis._id || t._id === c.yaxis._id) {
                            var u = (o ? c.yaxis : c.xaxis) || {};
                            if (-1 !== (u.ticklabelposition || "").indexOf("inside") && (!r && ("left" === u.side || "bottom" === u.side) || r && ("top" === u.side || "right" === u.side))) {
                                if (u._vals) {
                                    var f = i.deg2rad(u._tickAngles[u._id + "tick"] || 0)
                                      , d = Math.abs(Math.cos(f))
                                      , h = Math.abs(Math.sin(f));
                                    if (!u._vals[0].bb) {
                                        var p = u._id + "tick";
                                        u._selections[p].each((function(e) {
                                            var t = n.select(this);
                                            t.select(".text-math-group").empty() && (e.bb = l.bBox(t.node()))
                                        }
                                        ))
                                    }
                                    for (var g = 0; g < u._vals.length; g++) {
                                        var y = u._vals[g].bb;
                                        if (y) {
                                            var v = 6 + y.width
                                              , m = 6 + y.height;
                                            a = Math.max(a, o ? Math.max(v * d, m * h) : Math.max(m * d, v * h))
                                        }
                                    }
                                }
                                "inside" === u.ticks && "inside" === u.ticklabelposition && (a += u.ticklen || 0)
                            }
                        }
                    }
                    return a
                }(e, t, r)),
                a = Math.max(u, a),
                "domain" === t.constrain && t._inputDomain && (a *= (t._inputDomain[1] - t._inputDomain[0]) / (t.domain[1] - t.domain[0])),
                function(e) {
                    return e.nopad ? 0 : e.pad + (e.extrapad ? a : u)
                }
            }
            t.exports = {
                getAutoRange: d,
                makePadFn: p,
                doAutoRange: function(e, t, r) {
                    if (t.setScale(),
                    t.autorange) {
                        t.range = r ? r.slice() : d(e, t),
                        t._r = t.range.slice(),
                        t._rl = i.simpleMap(t._r, t.r2l);
                        var n = t._input
                          , a = {};
                        a[t._attr + ".range"] = t.range,
                        a[t._attr + ".autorange"] = t.autorange,
                        s.call("_storeDirectGUIEdit", e.layout, e._fullLayout._preGUI, a),
                        n.range = t.range.slice(),
                        n.autorange = t.autorange
                    }
                    var o = t._anchorAxis;
                    if (o && o.rangeslider) {
                        var l = o.rangeslider[t._name];
                        l && "auto" === l.rangemode && (l.range = d(e, t)),
                        o._input.rangeslider[t._name] = i.extendFlat({}, l)
                    }
                },
                findExtremes: function(e, t, r) {
                    r || (r = {});
                    e._m || e.setScale();
                    var n, i, s, l, c, u, f, d, h, p = [], g = [], m = t.length, x = r.padded || !1, _ = r.tozero && ("linear" === e.type || "-" === e.type), w = "log" === e.type, A = !1, k = r.vpadLinearized || !1;
                    function T(e) {
                        if (Array.isArray(e))
                            return A = !0,
                            function(t) {
                                return Math.max(Number(e[t] || 0), 0)
                            }
                            ;
                        var t = Math.max(Number(e || 0), 0);
                        return function() {
                            return t
                        }
                    }
                    var M = T((e._m > 0 ? r.ppadplus : r.ppadminus) || r.ppad || 0)
                      , S = T((e._m > 0 ? r.ppadminus : r.ppadplus) || r.ppad || 0)
                      , C = T(r.vpadplus || r.vpad)
                      , O = T(r.vpadminus || r.vpad);
                    if (!A) {
                        if (d = 1 / 0,
                        h = -1 / 0,
                        w)
                            for (n = 0; n < m; n++)
                                (i = t[n]) < d && i > 0 && (d = i),
                                i > h && i < o && (h = i);
                        else
                            for (n = 0; n < m; n++)
                                (i = t[n]) < d && i > -o && (d = i),
                                i > h && i < o && (h = i);
                        t = [d, h],
                        m = 2
                    }
                    var D = {
                        tozero: _,
                        extrapad: x
                    };
                    function L(r) {
                        s = t[r],
                        a(s) && (u = M(r),
                        f = S(r),
                        k ? (l = e.c2l(s) - O(r),
                        c = e.c2l(s) + C(r)) : (d = s - O(r),
                        h = s + C(r),
                        w && d < h / 10 && (d = h / 10),
                        l = e.c2l(d),
                        c = e.c2l(h)),
                        _ && (l = Math.min(0, l),
                        c = Math.max(0, c)),
                        b(l) && y(p, l, f, D),
                        b(c) && v(g, c, u, D))
                    }
                    var E = Math.min(6, m);
                    for (n = 0; n < E; n++)
                        L(n);
                    for (n = m - 1; n >= E; n--)
                        L(n);
                    return {
                        min: p,
                        max: g,
                        opts: r
                    }
                },
                concatExtremes: g
            };
            function g(e, t, r) {
                var n, a, i, o = t._id, s = e._fullData, l = e._fullLayout, c = [], f = [];
                function d(e, t) {
                    for (n = 0; n < t.length; n++) {
                        var r = e[t[n]]
                          , s = (r._extremes || {})[o];
                        if (!0 === r.visible && s) {
                            for (a = 0; a < s.min.length; a++)
                                i = s.min[a],
                                y(c, i.val, i.pad, {
                                    extrapad: i.extrapad
                                });
                            for (a = 0; a < s.max.length; a++)
                                i = s.max[a],
                                v(f, i.val, i.pad, {
                                    extrapad: i.extrapad
                                })
                        }
                    }
                }
                if (d(s, t._traceIndices),
                d(l.annotations || [], t._annIndices || []),
                d(l.shapes || [], t._shapeIndices || []),
                t._matchGroup && !r)
                    for (var h in t._matchGroup)
                        if (h !== t._id) {
                            var p = u(e, h)
                              , m = g(e, p, !0)
                              , b = t._length / p._length;
                            for (a = 0; a < m.min.length; a++)
                                i = m.min[a],
                                y(c, i.val, i.pad * b, {
                                    extrapad: i.extrapad
                                });
                            for (a = 0; a < m.max.length; a++)
                                i = m.max[a],
                                v(f, i.val, i.pad * b, {
                                    extrapad: i.extrapad
                                })
                        }
                return {
                    min: c,
                    max: f
                }
            }
            function y(e, t, r, n) {
                m(e, t, r, n, x)
            }
            function v(e, t, r, n) {
                m(e, t, r, n, _)
            }
            function m(e, t, r, n, a) {
                for (var i = n.tozero, o = n.extrapad, s = !0, l = 0; l < e.length && s; l++) {
                    var c = e[l];
                    if (a(c.val, t) && c.pad >= r && (c.extrapad || !o)) {
                        s = !1;
                        break
                    }
                    a(t, c.val) && c.pad <= r && (o || !c.extrapad) && (e.splice(l, 1),
                    l--)
                }
                if (s) {
                    var u = i && 0 === t;
                    e.push({
                        val: t,
                        pad: u ? 0 : r,
                        extrapad: !u && o
                    })
                }
            }
            function b(e) {
                return a(e) && Math.abs(e) < o
            }
            function x(e, t) {
                return e <= t
            }
            function _(e, t) {
                return e >= t
            }
        }
        , {
            "../../components/drawing": 257,
            "../../constants/numerical": 344,
            "../../lib": 365,
            "../../registry": 451,
            "./axis_ids": 418,
            "@plotly/d3": 6,
            "fast-isnumeric": 107
        }],
        414: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("fast-isnumeric")
              , i = e("../../plots/plots")
              , o = e("../../registry")
              , s = e("../../lib")
              , l = s.strTranslate
              , c = e("../../lib/svg_text_utils")
              , u = e("../../components/titles")
              , f = e("../../components/color")
              , d = e("../../components/drawing")
              , h = e("./layout_attributes")
              , p = e("./clean_ticks")
              , g = e("../../constants/numerical")
              , y = g.ONEMAXYEAR
              , v = g.ONEAVGYEAR
              , m = g.ONEMINYEAR
              , b = g.ONEMAXQUARTER
              , x = g.ONEAVGQUARTER
              , _ = g.ONEMINQUARTER
              , w = g.ONEMAXMONTH
              , A = g.ONEAVGMONTH
              , k = g.ONEMINMONTH
              , T = g.ONEWEEK
              , M = g.ONEDAY
              , S = M / 2
              , C = g.ONEHOUR
              , O = g.ONEMIN
              , D = g.ONESEC
              , L = g.MINUS_SIGN
              , E = g.BADNUM
              , z = {
                K: "zeroline"
            }
              , F = {
                K: "gridline",
                L: "path"
            }
              , P = {
                K: "tick",
                L: "path"
            }
              , I = {
                K: "tick",
                L: "text"
            }
              , N = e("../../constants/alignment")
              , R = N.MID_SHIFT
              , j = N.CAP_SHIFT
              , B = N.LINE_SPACING
              , H = N.OPPOSITE_SIDE
              , U = t.exports = {};
            U.setConvert = e("./set_convert");
            var Y = e("./axis_autotype")
              , V = e("./axis_ids")
              , q = V.idSort
              , W = V.isLinked;
            U.id2name = V.id2name,
            U.name2id = V.name2id,
            U.cleanId = V.cleanId,
            U.list = V.list,
            U.listIds = V.listIds,
            U.getFromId = V.getFromId,
            U.getFromTrace = V.getFromTrace;
            var G = e("./autorange");
            U.getAutoRange = G.getAutoRange,
            U.findExtremes = G.findExtremes;
            function Z(e) {
                var t = 1e-4 * (e[1] - e[0]);
                return [e[0] - t, e[1] + t]
            }
            U.coerceRef = function(e, t, r, n, a, i) {
                var o = n.charAt(n.length - 1)
                  , l = r._fullLayout._subplots[o + "axis"]
                  , c = n + "ref"
                  , u = {};
                return a || (a = l[0] || ("string" == typeof i ? i : i[0])),
                i || (i = a),
                l = l.concat(l.map((function(e) {
                    return e + " domain"
                }
                ))),
                u[c] = {
                    valType: "enumerated",
                    values: l.concat(i ? "string" == typeof i ? [i] : i : []),
                    dflt: a
                },
                s.coerce(e, t, u, c)
            }
            ,
            U.getRefType = function(e) {
                return void 0 === e ? e : "paper" === e ? "paper" : "pixel" === e ? "pixel" : /( domain)$/.test(e) ? "domain" : "range"
            }
            ,
            U.coercePosition = function(e, t, r, n, a, i) {
                var o, l;
                if ("range" !== U.getRefType(n))
                    o = s.ensureNumber,
                    l = r(a, i);
                else {
                    var c = U.getFromId(t, n);
                    l = r(a, i = c.fraction2r(i)),
                    o = c.cleanPos
                }
                e[a] = o(l)
            }
            ,
            U.cleanPosition = function(e, t, r) {
                return ("paper" === r || "pixel" === r ? s.ensureNumber : U.getFromId(t, r).cleanPos)(e)
            }
            ,
            U.redrawComponents = function(e, t) {
                t = t || U.listIds(e);
                var r = e._fullLayout;
                function n(n, a, i, s) {
                    for (var l = o.getComponentMethod(n, a), c = {}, u = 0; u < t.length; u++)
                        for (var f = r[U.id2name(t[u])][i], d = 0; d < f.length; d++) {
                            var h = f[d];
                            if (!c[h] && (l(e, h),
                            c[h] = 1,
                            s))
                                return
                        }
                }
                n("annotations", "drawOne", "_annIndices"),
                n("shapes", "drawOne", "_shapeIndices"),
                n("images", "draw", "_imgIndices", !0)
            }
            ;
            var J = U.getDataConversions = function(e, t, r, n) {
                var a, i = "x" === r || "y" === r || "z" === r ? r : n;
                if (Array.isArray(i)) {
                    if (a = {
                        type: Y(n, void 0, {
                            autotypenumbers: e._fullLayout.autotypenumbers
                        }),
                        _categories: []
                    },
                    U.setConvert(a),
                    "category" === a.type)
                        for (var o = 0; o < n.length; o++)
                            a.d2c(n[o])
                } else
                    a = U.getFromTrace(e, t, i);
                return a ? {
                    d2c: a.d2c,
                    c2d: a.c2d
                } : "ids" === i ? {
                    d2c: Q,
                    c2d: Q
                } : {
                    d2c: X,
                    c2d: X
                }
            }
            ;
            function X(e) {
                return +e
            }
            function Q(e) {
                return String(e)
            }
            function $(e) {
                return +e.substring(1)
            }
            U.getDataToCoordFunc = function(e, t, r, n) {
                return J(e, t, r, n).d2c
            }
            ,
            U.counterLetter = function(e) {
                var t = e.charAt(0);
                return "x" === t ? "y" : "y" === t ? "x" : void 0
            }
            ,
            U.minDtick = function(e, t, r, n) {
                -1 === ["log", "category", "multicategory"].indexOf(e.type) && n ? void 0 === e._minDtick ? (e._minDtick = t,
                e._forceTick0 = r) : e._minDtick && ((e._minDtick / t + 1e-6) % 1 < 2e-6 && ((r - e._forceTick0) / t % 1 + 1.000001) % 1 < 2e-6 ? (e._minDtick = t,
                e._forceTick0 = r) : ((t / e._minDtick + 1e-6) % 1 > 2e-6 || ((r - e._forceTick0) / e._minDtick % 1 + 1.000001) % 1 > 2e-6) && (e._minDtick = 0)) : e._minDtick = 0
            }
            ,
            U.saveRangeInitial = function(e, t) {
                for (var r = U.list(e, "", !0), n = !1, a = 0; a < r.length; a++) {
                    var i = r[a]
                      , o = void 0 === i._rangeInitial
                      , s = o || !(i.range[0] === i._rangeInitial[0] && i.range[1] === i._rangeInitial[1]);
                    (o && !1 === i.autorange || t && s) && (i._rangeInitial = i.range.slice(),
                    n = !0)
                }
                return n
            }
            ,
            U.saveShowSpikeInitial = function(e, t) {
                for (var r = U.list(e, "", !0), n = !1, a = "on", i = 0; i < r.length; i++) {
                    var o = r[i]
                      , s = void 0 === o._showSpikeInitial
                      , l = s || !(o.showspikes === o._showspikes);
                    (s || t && l) && (o._showSpikeInitial = o.showspikes,
                    n = !0),
                    "on" !== a || o.showspikes || (a = "off")
                }
                return e._fullLayout._cartesianSpikesEnabled = a,
                n
            }
            ,
            U.autoBin = function(e, t, r, n, i, o) {
                var l, c = s.aggNums(Math.min, null, e), u = s.aggNums(Math.max, null, e);
                if ("category" === t.type || "multicategory" === t.type)
                    return {
                        start: c - .5,
                        end: u + .5,
                        size: Math.max(1, Math.round(o) || 1),
                        _dataSpan: u - c
                    };
                if (i || (i = t.calendar),
                l = "log" === t.type ? {
                    type: "linear",
                    range: [c, u]
                } : {
                    type: t.type,
                    range: s.simpleMap([c, u], t.c2r, 0, i),
                    calendar: i
                },
                U.setConvert(l),
                o = o && p.dtick(o, l.type))
                    l.dtick = o,
                    l.tick0 = p.tick0(void 0, l.type, i);
                else {
                    var f;
                    if (r)
                        f = (u - c) / r;
                    else {
                        var d = s.distinctVals(e)
                          , h = Math.pow(10, Math.floor(Math.log(d.minDiff) / Math.LN10))
                          , g = h * s.roundUp(d.minDiff / h, [.9, 1.9, 4.9, 9.9], !0);
                        f = Math.max(g, 2 * s.stdev(e) / Math.pow(e.length, n ? .25 : .4)),
                        a(f) || (f = 1)
                    }
                    U.autoTicks(l, f)
                }
                var y, v = l.dtick, m = U.tickIncrement(U.tickFirst(l), v, "reverse", i);
                if ("number" == typeof v)
                    y = (m = function(e, t, r, n, i) {
                        var o = 0
                          , s = 0
                          , l = 0
                          , c = 0;
                        function u(t) {
                            return (1 + 100 * (t - e) / r.dtick) % 100 < 2
                        }
                        for (var f = 0; f < t.length; f++)
                            t[f] % 1 == 0 ? l++ : a(t[f]) || c++,
                            u(t[f]) && o++,
                            u(t[f] + r.dtick / 2) && s++;
                        var d = t.length - c;
                        if (l === d && "date" !== r.type)
                            r.dtick < 1 ? e = n - .5 * r.dtick : (e -= .5) + r.dtick < n && (e += r.dtick);
                        else if (s < .1 * d && (o > .3 * d || u(n) || u(i))) {
                            var h = r.dtick / 2;
                            e += e + h < n ? h : -h
                        }
                        return e
                    }(m, e, l, c, u)) + (1 + Math.floor((u - m) / v)) * v;
                else
                    for ("M" === l.dtick.charAt(0) && (m = function(e, t, r, n, a) {
                        var i = s.findExactDates(t, a);
                        if (i.exactDays > .8) {
                            var o = Number(r.substr(1));
                            i.exactYears > .8 && o % 12 == 0 ? e = U.tickIncrement(e, "M6", "reverse") + 1.5 * M : i.exactMonths > .8 ? e = U.tickIncrement(e, "M1", "reverse") + 15.5 * M : e -= S;
                            var l = U.tickIncrement(e, r);
                            if (l <= n)
                                return l
                        }
                        return e
                    }(m, e, v, c, i)),
                    y = m,
                    0; y <= u; )
                        y = U.tickIncrement(y, v, !1, i);
                return {
                    start: t.c2r(m, 0, i),
                    end: t.c2r(y, 0, i),
                    size: v,
                    _dataSpan: u - c
                }
            }
            ,
            U.prepTicks = function(e, t) {
                var r = s.simpleMap(e.range, e.r2l, void 0, void 0, t);
                if (e._dtickInit = e.dtick,
                e._tick0Init = e.tick0,
                "auto" === e.tickmode || !e.dtick) {
                    var n, i = e.nticks;
                    i || ("category" === e.type || "multicategory" === e.type ? (n = e.tickfont ? s.bigFont(e.tickfont.size || 12) : 15,
                    i = e._length / n) : (n = "y" === e._id.charAt(0) ? 40 : 80,
                    i = s.constrain(e._length / n, 4, 9) + 1),
                    "radialaxis" === e._name && (i *= 2)),
                    "array" === e.tickmode && (i *= 100),
                    e._roughDTick = Math.abs(r[1] - r[0]) / i,
                    U.autoTicks(e, e._roughDTick),
                    e._minDtick > 0 && e.dtick < 2 * e._minDtick && (e.dtick = e._minDtick,
                    e.tick0 = e.l2r(e._forceTick0))
                }
                "period" === e.ticklabelmode && function(e) {
                    var t;
                    function r() {
                        return !(a(e.dtick) || "M" !== e.dtick.charAt(0))
                    }
                    var n = r()
                      , i = U.getTickFormat(e);
                    if (i) {
                        var o = e._dtickInit !== e.dtick;
                        /%[fLQsSMX]/.test(i) || (/%[HI]/.test(i) ? (t = C,
                        o && !n && e.dtick < C && (e.dtick = C)) : /%p/.test(i) ? (t = S,
                        o && !n && e.dtick < S && (e.dtick = S)) : /%[Aadejuwx]/.test(i) ? (t = M,
                        o && !n && e.dtick < M && (e.dtick = M)) : /%[UVW]/.test(i) ? (t = T,
                        o && !n && e.dtick < T && (e.dtick = T)) : /%[Bbm]/.test(i) ? (t = A,
                        o && (n ? $(e.dtick) < 1 : e.dtick < k) && (e.dtick = "M1")) : /%[q]/.test(i) ? (t = x,
                        o && (n ? $(e.dtick) < 3 : e.dtick < _) && (e.dtick = "M3")) : /%[Yy]/.test(i) && (t = v,
                        o && (n ? $(e.dtick) < 12 : e.dtick < m) && (e.dtick = "M12")))
                    }
                    (n = r()) && e.tick0 === e._dowTick0 && (e.tick0 = e._rawTick0);
                    e._definedDelta = t
                }(e),
                e.tick0 || (e.tick0 = "date" === e.type ? "2000-01-01" : 0),
                "date" === e.type && e.dtick < .1 && (e.dtick = .1),
                se(e)
            }
            ,
            U.calcTicks = function(e, t) {
                U.prepTicks(e, t);
                var r = s.simpleMap(e.range, e.r2l, void 0, void 0, t);
                if ("array" === e.tickmode)
                    return function(e) {
                        var t = e.tickvals
                          , r = e.ticktext
                          , n = new Array(t.length)
                          , a = Z(s.simpleMap(e.range, e.r2l))
                          , i = Math.min(a[0], a[1])
                          , o = Math.max(a[0], a[1])
                          , l = 0;
                        Array.isArray(r) || (r = []);
                        var c = "category" === e.type ? e.d2l_noadd : e.d2l;
                        "log" === e.type && "L" !== String(e.dtick).charAt(0) && (e.dtick = "L" + Math.pow(10, Math.floor(Math.min(e.range[0], e.range[1])) - 1));
                        for (var u = 0; u < t.length; u++) {
                            var f = c(t[u]);
                            f > i && f < o && (void 0 === r[u] ? n[l] = U.tickText(e, f) : n[l] = le(e, f, String(r[u])),
                            l++)
                        }
                        l < t.length && n.splice(l, t.length - l);
                        e.rangebreaks && (n = n.filter((function(t) {
                            return e.maskBreaks(t.x) !== E
                        }
                        )));
                        return n
                    }(e);
                var n = Z(r)
                  , i = n[0]
                  , o = n[1]
                  , l = r[1] < r[0]
                  , c = Math.min(r[0], r[1])
                  , u = Math.max(r[0], r[1])
                  , f = "log" === e.type && !(a(e.dtick) || "L" === e.dtick.charAt(0))
                  , d = "period" === e.ticklabelmode;
                if (e._tmin = U.tickFirst(e, t),
                e._tmin < i !== l)
                    return [];
                "category" !== e.type && "multicategory" !== e.type || (o = l ? Math.max(-.5, o) : Math.min(e._categories.length - .5, o));
                var h = e._tmin;
                e.rangebreaks && e._tick0Init !== e.tick0 && (h = Me(h, e),
                l || (h = U.tickIncrement(h, e.dtick, !l, e.calendar))),
                d && (h = U.tickIncrement(h, e.dtick, !l, e.calendar));
                for (var p, g = Math.max(1e3, e._length || 0), O = [], D = null; l ? h >= o : h <= o; h = U.tickIncrement(h, e.dtick, l, e.calendar)) {
                    if (e.rangebreaks && !l) {
                        if (h < i)
                            continue;
                        if (e.maskBreaks(h) === E && Me(h, e) >= u)
                            break
                    }
                    if (O.length > g || h === D)
                        break;
                    D = h;
                    var L = !1;
                    f && h !== (0 | h) && (L = !0),
                    O.push({
                        minor: L,
                        value: h
                    })
                }
                if (d && function(e, t, r) {
                    for (var n = 0; n < e.length; n++) {
                        var a = e[n].value
                          , i = n
                          , o = n + 1;
                        n < e.length - 1 ? (i = n,
                        o = n + 1) : n > 0 ? (i = n - 1,
                        o = n) : (i = n,
                        o = n);
                        var s, l = e[i].value, c = e[o].value, u = Math.abs(c - l), f = r || u, d = 0;
                        f >= m ? d = u >= m && u <= y ? u : v : r === x && f >= _ ? d = u >= _ && u <= b ? u : x : f >= k ? d = u >= k && u <= w ? u : A : r === T && f >= T ? d = T : f >= M ? d = M : r === S && f >= S ? d = S : r === C && f >= C && (d = C),
                        d >= u && (d = u,
                        s = !0);
                        var h = a + d;
                        if (t.rangebreaks && d > 0) {
                            for (var p = 0, g = 0; g < 84; g++) {
                                var O = (g + .5) / 84;
                                t.maskBreaks(a * (1 - O) + O * h) !== E && p++
                            }
                            (d *= p / 84) || (e[n].drop = !0),
                            s && u > T && (d = u)
                        }
                        (d > 0 || 0 === n) && (e[n].periodX = a + d / 2)
                    }
                }(O, e, e._definedDelta),
                e.rangebreaks) {
                    var z = "y" === e._id.charAt(0)
                      , F = 1;
                    "auto" === e.tickmode && (F = e.tickfont ? e.tickfont.size : 12);
                    var P = NaN;
                    for (p = O.length - 1; p > -1; p--)
                        if (O[p].drop)
                            O.splice(p, 1);
                        else {
                            O[p].value = Me(O[p].value, e);
                            var I = e.c2p(O[p].value);
                            (z ? P > I - F : P < I + F) ? O.splice(l ? p + 1 : p, 1) : P = I
                        }
                }
                Te(e) && 360 === Math.abs(r[1] - r[0]) && O.pop(),
                e._tmax = (O[O.length - 1] || {}).value,
                e._prevDateHead = "",
                e._inCalcTicks = !0;
                var N, R, j = [];
                for (p = 0; p < O.length; p++) {
                    var B = O[p].minor
                      , H = O[p].value;
                    N = U.tickText(e, H, !1, B),
                    void 0 !== (R = O[p].periodX) && (N.periodX = R,
                    (R > u || R < c) && (R > u && (N.periodX = u),
                    R < c && (N.periodX = c),
                    N.text = " ",
                    e._prevDateHead = "")),
                    j.push(N)
                }
                return e._inCalcTicks = !1,
                j
            }
            ;
            var K = [2, 5, 10]
              , ee = [1, 2, 3, 6, 12]
              , te = [1, 2, 5, 10, 15, 30]
              , re = [1, 2, 3, 7, 14]
              , ne = [-.046, 0, .301, .477, .602, .699, .778, .845, .903, .954, 1]
              , ae = [-.301, 0, .301, .699, 1]
              , ie = [15, 30, 45, 90, 180];
            function oe(e, t, r) {
                return t * s.roundUp(e / t, r)
            }
            function se(e) {
                var t = e.dtick;
                if (e._tickexponent = 0,
                a(t) || "string" == typeof t || (t = 1),
                "category" !== e.type && "multicategory" !== e.type || (e._tickround = null),
                "date" === e.type) {
                    var r = e.r2l(e.tick0)
                      , n = e.l2r(r).replace(/(^-|i)/g, "")
                      , i = n.length;
                    if ("M" === String(t).charAt(0))
                        i > 10 || "01-01" !== n.substr(5) ? e._tickround = "d" : e._tickround = +t.substr(1) % 12 == 0 ? "y" : "m";
                    else if (t >= M && i <= 10 || t >= 15 * M)
                        e._tickround = "d";
                    else if (t >= O && i <= 16 || t >= C)
                        e._tickround = "M";
                    else if (t >= D && i <= 19 || t >= O)
                        e._tickround = "S";
                    else {
                        var o = e.l2r(r + t).replace(/^-/, "").length;
                        e._tickround = Math.max(i, o) - 20,
                        e._tickround < 0 && (e._tickround = 4)
                    }
                } else if (a(t) || "L" === t.charAt(0)) {
                    var s = e.range.map(e.r2d || Number);
                    a(t) || (t = Number(t.substr(1))),
                    e._tickround = 2 - Math.floor(Math.log(t) / Math.LN10 + .01);
                    var l = Math.max(Math.abs(s[0]), Math.abs(s[1]))
                      , c = Math.floor(Math.log(l) / Math.LN10 + .01)
                      , u = void 0 === e.minexponent ? 3 : e.minexponent;
                    Math.abs(c) > u && (ue(e.exponentformat) && !fe(c) ? e._tickexponent = 3 * Math.round((c - 1) / 3) : e._tickexponent = c)
                } else
                    e._tickround = null
            }
            function le(e, t, r) {
                var n = e.tickfont || {};
                return {
                    x: t,
                    dx: 0,
                    dy: 0,
                    text: r || "",
                    fontSize: n.size,
                    font: n.family,
                    fontColor: n.color
                }
            }
            U.autoTicks = function(e, t) {
                var r;
                function n(e) {
                    return Math.pow(e, Math.floor(Math.log(t) / Math.LN10))
                }
                if ("date" === e.type) {
                    e.tick0 = s.dateTick0(e.calendar, 0);
                    var i = 2 * t;
                    if (i > v)
                        t /= v,
                        r = n(10),
                        e.dtick = "M" + 12 * oe(t, r, K);
                    else if (i > A)
                        t /= A,
                        e.dtick = "M" + oe(t, 1, ee);
                    else if (i > M) {
                        e.dtick = oe(t, M, e._hasDayOfWeekBreaks ? [1, 2, 7, 14] : re);
                        var o = U.getTickFormat(e)
                          , l = "period" === e.ticklabelmode;
                        l && (e._rawTick0 = e.tick0),
                        /%[uVW]/.test(o) ? e.tick0 = s.dateTick0(e.calendar, 2) : e.tick0 = s.dateTick0(e.calendar, 1),
                        l && (e._dowTick0 = e.tick0)
                    } else
                        i > C ? e.dtick = oe(t, C, ee) : i > O ? e.dtick = oe(t, O, te) : i > D ? e.dtick = oe(t, D, te) : (r = n(10),
                        e.dtick = oe(t, r, K))
                } else if ("log" === e.type) {
                    e.tick0 = 0;
                    var c = s.simpleMap(e.range, e.r2l);
                    if (t > .7)
                        e.dtick = Math.ceil(t);
                    else if (Math.abs(c[1] - c[0]) < 1) {
                        var u = 1.5 * Math.abs((c[1] - c[0]) / t);
                        t = Math.abs(Math.pow(10, c[1]) - Math.pow(10, c[0])) / u,
                        r = n(10),
                        e.dtick = "L" + oe(t, r, K)
                    } else
                        e.dtick = t > .3 ? "D2" : "D1"
                } else
                    "category" === e.type || "multicategory" === e.type ? (e.tick0 = 0,
                    e.dtick = Math.ceil(Math.max(t, 1))) : Te(e) ? (e.tick0 = 0,
                    r = 1,
                    e.dtick = oe(t, r, ie)) : (e.tick0 = 0,
                    r = n(10),
                    e.dtick = oe(t, r, K));
                if (0 === e.dtick && (e.dtick = 1),
                !a(e.dtick) && "string" != typeof e.dtick) {
                    var f = e.dtick;
                    throw e.dtick = 1,
                    "ax.dtick error: " + String(f)
                }
            }
            ,
            U.tickIncrement = function(e, t, r, i) {
                var o = r ? -1 : 1;
                if (a(t))
                    return s.increment(e, o * t);
                var l = t.charAt(0)
                  , c = o * Number(t.substr(1));
                if ("M" === l)
                    return s.incrementMonth(e, c, i);
                if ("L" === l)
                    return Math.log(Math.pow(10, e) + c) / Math.LN10;
                if ("D" === l) {
                    var u = "D2" === t ? ae : ne
                      , f = e + .01 * o
                      , d = s.roundUp(s.mod(f, 1), u, r);
                    return Math.floor(f) + Math.log(n.round(Math.pow(10, d), 1)) / Math.LN10
                }
                throw "unrecognized dtick " + String(t)
            }
            ,
            U.tickFirst = function(e, t) {
                var r = e.r2l || Number
                  , i = s.simpleMap(e.range, r, void 0, void 0, t)
                  , o = i[1] < i[0]
                  , l = o ? Math.floor : Math.ceil
                  , c = Z(i)[0]
                  , u = e.dtick
                  , f = r(e.tick0);
                if (a(u)) {
                    var d = l((c - f) / u) * u + f;
                    return "category" !== e.type && "multicategory" !== e.type || (d = s.constrain(d, 0, e._categories.length - 1)),
                    d
                }
                var h = u.charAt(0)
                  , p = Number(u.substr(1));
                if ("M" === h) {
                    for (var g, y, v, m = 0, b = f; m < 10; ) {
                        if (((g = U.tickIncrement(b, u, o, e.calendar)) - c) * (b - c) <= 0)
                            return o ? Math.min(b, g) : Math.max(b, g);
                        y = (c - (b + g) / 2) / (g - b),
                        v = h + (Math.abs(Math.round(y)) || 1) * p,
                        b = U.tickIncrement(b, v, y < 0 ? !o : o, e.calendar),
                        m++
                    }
                    return s.error("tickFirst did not converge", e),
                    b
                }
                if ("L" === h)
                    return Math.log(l((Math.pow(10, c) - f) / p) * p + f) / Math.LN10;
                if ("D" === h) {
                    var x = "D2" === u ? ae : ne
                      , _ = s.roundUp(s.mod(c, 1), x, o);
                    return Math.floor(c) + Math.log(n.round(Math.pow(10, _), 1)) / Math.LN10
                }
                throw "unrecognized dtick " + String(u)
            }
            ,
            U.tickText = function(e, t, r, n) {
                var i, o = le(e, t), l = "array" === e.tickmode, c = r || l, u = e.type, f = "category" === u ? e.d2l_noadd : e.d2l;
                if (l && Array.isArray(e.ticktext)) {
                    var d = s.simpleMap(e.range, e.r2l)
                      , h = (Math.abs(d[1] - d[0]) - (e._lBreaks || 0)) / 1e4;
                    for (i = 0; i < e.ticktext.length && !(Math.abs(t - f(e.tickvals[i])) < h); i++)
                        ;
                    if (i < e.ticktext.length)
                        return o.text = String(e.ticktext[i]),
                        o
                }
                function p(n) {
                    if (void 0 === n)
                        return !0;
                    if (r)
                        return "none" === n;
                    var a = {
                        first: e._tmin,
                        last: e._tmax
                    }[n];
                    return "all" !== n && t !== a
                }
                var g = r ? "never" : "none" !== e.exponentformat && p(e.showexponent) ? "hide" : "";
                if ("date" === u ? function(e, t, r, n) {
                    var i = e._tickround
                      , o = r && e.hoverformat || U.getTickFormat(e);
                    n && (i = a(i) ? 4 : {
                        y: "m",
                        m: "d",
                        d: "M",
                        M: "S",
                        S: 4
                    }[i]);
                    var l, c = s.formatDate(t.x, o, i, e._dateFormat, e.calendar, e._extraFormat), u = c.indexOf("\n");
                    -1 !== u && (l = c.substr(u + 1),
                    c = c.substr(0, u));
                    n && ("00:00:00" === c || "00:00" === c ? (c = l,
                    l = "") : 8 === c.length && (c = c.replace(/:00$/, "")));
                    if (l)
                        if (r)
                            "d" === i ? c += ", " + l : c = l + (c ? ", " + c : "");
                        else if (e._inCalcTicks && e._prevDateHead === l) {
                            var f = Se(e)
                              , d = e._realSide || e.side;
                            (!f && "top" === d || f && "bottom" === d) && (c += "<br> ")
                        } else
                            e._prevDateHead = l,
                            c += "<br>" + l;
                    t.text = c
                }(e, o, r, c) : "log" === u ? function(e, t, r, n, i) {
                    var o = e.dtick
                      , l = t.x
                      , c = e.tickformat
                      , u = "string" == typeof o && o.charAt(0);
                    "never" === i && (i = "");
                    n && "L" !== u && (o = "L3",
                    u = "L");
                    if (c || "L" === u)
                        t.text = de(Math.pow(10, l), e, i, n);
                    else if (a(o) || "D" === u && s.mod(l + .01, 1) < .1) {
                        var f = Math.round(l)
                          , d = Math.abs(f)
                          , h = e.exponentformat;
                        "power" === h || ue(h) && fe(f) ? (t.text = 0 === f ? 1 : 1 === f ? "10" : "10<sup>" + (f > 1 ? "" : L) + d + "</sup>",
                        t.fontSize *= 1.25) : ("e" === h || "E" === h) && d > 2 ? t.text = "1" + h + (f > 0 ? "+" : L) + d : (t.text = de(Math.pow(10, l), e, "", "fakehover"),
                        "D1" === o && "y" === e._id.charAt(0) && (t.dy -= t.fontSize / 6))
                    } else {
                        if ("D" !== u)
                            throw "unrecognized dtick " + String(o);
                        t.text = String(Math.round(Math.pow(10, s.mod(l, 1)))),
                        t.fontSize *= .75
                    }
                    if ("D1" === e.dtick) {
                        var p = String(t.text).charAt(0);
                        "0" !== p && "1" !== p || ("y" === e._id.charAt(0) ? t.dx -= t.fontSize / 4 : (t.dy += t.fontSize / 2,
                        t.dx += (e.range[1] > e.range[0] ? 1 : -1) * t.fontSize * (l < 0 ? .5 : .25)))
                    }
                }(e, o, 0, c, g) : "category" === u ? function(e, t) {
                    var r = e._categories[Math.round(t.x)];
                    void 0 === r && (r = "");
                    t.text = String(r)
                }(e, o) : "multicategory" === u ? function(e, t, r) {
                    var n = Math.round(t.x)
                      , a = e._categories[n] || []
                      , i = void 0 === a[1] ? "" : String(a[1])
                      , o = void 0 === a[0] ? "" : String(a[0]);
                    r ? t.text = o + " - " + i : (t.text = i,
                    t.text2 = o)
                }(e, o, r) : Te(e) ? function(e, t, r, n, a) {
                    if ("radians" !== e.thetaunit || r)
                        t.text = de(t.x, e, a, n);
                    else {
                        var i = t.x / 180;
                        if (0 === i)
                            t.text = "0";
                        else {
                            var o = function(e) {
                                function t(e, t) {
                                    return Math.abs(e - t) <= 1e-6
                                }
                                var r = function(e) {
                                    for (var r = 1; !t(Math.round(e * r) / r, e); )
                                        r *= 10;
                                    return r
                                }(e)
                                  , n = e * r
                                  , a = Math.abs(function e(r, n) {
                                    return t(n, 0) ? r : e(n, r % n)
                                }(n, r));
                                return [Math.round(n / a), Math.round(r / a)]
                            }(i);
                            if (o[1] >= 100)
                                t.text = de(s.deg2rad(t.x), e, a, n);
                            else {
                                var l = t.x < 0;
                                1 === o[1] ? 1 === o[0] ? t.text = "\u03c0" : t.text = o[0] + "\u03c0" : t.text = ["<sup>", o[0], "</sup>", "\u2044", "<sub>", o[1], "</sub>", "\u03c0"].join(""),
                                l && (t.text = L + t.text)
                            }
                        }
                    }
                }(e, o, r, c, g) : function(e, t, r, n, a) {
                    "never" === a ? a = "" : "all" === e.showexponent && Math.abs(t.x / e.dtick) < 1e-6 && (a = "hide");
                    t.text = de(t.x, e, a, n)
                }(e, o, 0, c, g),
                n || (e.tickprefix && !p(e.showtickprefix) && (o.text = e.tickprefix + o.text),
                e.ticksuffix && !p(e.showticksuffix) && (o.text += e.ticksuffix)),
                "boundaries" === e.tickson || e.showdividers) {
                    var y = function(t) {
                        var r = e.l2p(t);
                        return r >= 0 && r <= e._length ? t : null
                    };
                    o.xbnd = [y(o.x - .5), y(o.x + e.dtick - .5)]
                }
                return o
            }
            ,
            U.hoverLabelText = function(e, t, r) {
                r && (e = s.extendFlat({}, e, {
                    hoverformat: r
                }));
                var n = Array.isArray(t) ? t[0] : t
                  , a = Array.isArray(t) ? t[1] : void 0;
                if (void 0 !== a && a !== n)
                    return U.hoverLabelText(e, n, r) + " - " + U.hoverLabelText(e, a, r);
                var i = "log" === e.type && n <= 0
                  , o = U.tickText(e, e.c2l(i ? -n : n), "hover").text;
                return i ? 0 === n ? "0" : L + o : o
            }
            ;
            var ce = ["f", "p", "n", "\u03bc", "m", "", "k", "M", "G", "T"];
            function ue(e) {
                return "SI" === e || "B" === e
            }
            function fe(e) {
                return e > 14 || e < -15
            }
            function de(e, t, r, n) {
                var i = e < 0
                  , o = t._tickround
                  , l = r || t.exponentformat || "B"
                  , c = t._tickexponent
                  , u = U.getTickFormat(t)
                  , f = t.separatethousands;
                if (n) {
                    var d = {
                        exponentformat: l,
                        minexponent: t.minexponent,
                        dtick: "none" === t.showexponent ? t.dtick : a(e) && Math.abs(e) || 1,
                        range: "none" === t.showexponent ? t.range.map(t.r2d) : [0, e || 1]
                    };
                    se(d),
                    o = (Number(d._tickround) || 0) + 4,
                    c = d._tickexponent,
                    t.hoverformat && (u = t.hoverformat)
                }
                if (u)
                    return t._numFormat(u)(e).replace(/-/g, L);
                var h, p = Math.pow(10, -o) / 2;
                if ("none" === l && (c = 0),
                (e = Math.abs(e)) < p)
                    e = "0",
                    i = !1;
                else {
                    if (e += p,
                    c && (e *= Math.pow(10, -c),
                    o += c),
                    0 === o)
                        e = String(Math.floor(e));
                    else if (o < 0) {
                        e = (e = String(Math.round(e))).substr(0, e.length + o);
                        for (var g = o; g < 0; g++)
                            e += "0"
                    } else {
                        var y = (e = String(e)).indexOf(".") + 1;
                        y && (e = e.substr(0, y + o).replace(/\.?0+$/, ""))
                    }
                    e = s.numSeparate(e, t._separators, f)
                }
                c && "hide" !== l && (ue(l) && fe(c) && (l = "power"),
                h = c < 0 ? L + -c : "power" !== l ? "+" + c : String(c),
                "e" === l || "E" === l ? e += l + h : "power" === l ? e += "\xd710<sup>" + h + "</sup>" : "B" === l && 9 === c ? e += "B" : ue(l) && (e += ce[c / 3 + 5]));
                return i ? L + e : e
            }
            function he(e, t) {
                for (var r = [], n = {}, a = 0; a < t.length; a++) {
                    var i = t[a];
                    n[i.text2] ? n[i.text2].push(i.x) : n[i.text2] = [i.x]
                }
                for (var o in n)
                    r.push(le(e, s.interp(n[o], .5), o));
                return r
            }
            function pe(e) {
                return void 0 !== e.periodX ? e.periodX : e.x
            }
            function ge(e) {
                return [e.text, e.x, e.axInfo, e.font, e.fontSize, e.fontColor].join("_")
            }
            function ye(e) {
                var t = e.title.font.size
                  , r = (e.title.text.match(c.BR_TAG_ALL) || []).length;
                return e.title.hasOwnProperty("standoff") ? r ? t * (j + r * B) : t * j : r ? t * (r + 1) * B : t
            }
            function ve(e, t) {
                var r = e.l2p(t);
                return r > 1 && r < e._length - 1
            }
            function me(e) {
                var t = n.select(e)
                  , r = t.select(".text-math-group");
                return r.empty() ? t.select("text") : r
            }
            function be(e) {
                return e._id + ".automargin"
            }
            function xe(e) {
                return be(e) + ".mirror"
            }
            function _e(e) {
                return e._id + ".rangeslider"
            }
            function we(e, t) {
                for (var r = 0; r < t.length; r++)
                    -1 === e.indexOf(t[r]) && e.push(t[r])
            }
            function Ae(e, t, r) {
                var n, a, i = [], o = [], l = e.layout;
                for (n = 0; n < t.length; n++)
                    i.push(U.getFromId(e, t[n]));
                for (n = 0; n < r.length; n++)
                    o.push(U.getFromId(e, r[n]));
                var c = Object.keys(h)
                  , u = ["anchor", "domain", "overlaying", "position", "side", "tickangle", "editType"]
                  , f = ["linear", "log"];
                for (n = 0; n < c.length; n++) {
                    var d = c[n]
                      , p = i[0][d]
                      , g = o[0][d]
                      , y = !0
                      , v = !1
                      , m = !1;
                    if ("_" !== d.charAt(0) && "function" != typeof p && -1 === u.indexOf(d)) {
                        for (a = 1; a < i.length && y; a++) {
                            var b = i[a][d];
                            "type" === d && -1 !== f.indexOf(p) && -1 !== f.indexOf(b) && p !== b ? v = !0 : b !== p && (y = !1)
                        }
                        for (a = 1; a < o.length && y; a++) {
                            var x = o[a][d];
                            "type" === d && -1 !== f.indexOf(g) && -1 !== f.indexOf(x) && g !== x ? m = !0 : o[a][d] !== g && (y = !1)
                        }
                        y && (v && (l[i[0]._name].type = "linear"),
                        m && (l[o[0]._name].type = "linear"),
                        ke(l, d, i, o, e._fullLayout._dfltTitle))
                    }
                }
                for (n = 0; n < e._fullLayout.annotations.length; n++) {
                    var _ = e._fullLayout.annotations[n];
                    -1 !== t.indexOf(_.xref) && -1 !== r.indexOf(_.yref) && s.swapAttrs(l.annotations[n], ["?"])
                }
            }
            function ke(e, t, r, n, a) {
                var i, o = s.nestedProperty, l = o(e[r[0]._name], t).get(), c = o(e[n[0]._name], t).get();
                for ("title" === t && (l && l.text === a.x && (l.text = a.y),
                c && c.text === a.y && (c.text = a.x)),
                i = 0; i < r.length; i++)
                    o(e, r[i]._name + "." + t).set(c);
                for (i = 0; i < n.length; i++)
                    o(e, n[i]._name + "." + t).set(l)
            }
            function Te(e) {
                return "angularaxis" === e._id
            }
            function Me(e, t) {
                for (var r = t._rangebreaks.length, n = 0; n < r; n++) {
                    var a = t._rangebreaks[n];
                    if (e >= a.min && e < a.max)
                        return a.max
                }
                return e
            }
            function Se(e) {
                return -1 !== (e.ticklabelposition || "").indexOf("inside")
            }
            function Ce(e, t) {
                Se(e._anchorAxis || {}) && e._hideCounterAxisInsideTickLabels && e._hideCounterAxisInsideTickLabels(t)
            }
            U.getTickFormat = function(e) {
                var t, r, n, a, i, o, s, l;
                function c(e) {
                    return "string" != typeof e ? e : Number(e.replace("M", "")) * A
                }
                function u(e, t) {
                    var r = ["L", "D"];
                    if (typeof e == typeof t) {
                        if ("number" == typeof e)
                            return e - t;
                        var n = r.indexOf(e.charAt(0))
                          , a = r.indexOf(t.charAt(0));
                        return n === a ? Number(e.replace(/(L|D)/g, "")) - Number(t.replace(/(L|D)/g, "")) : n - a
                    }
                    return "number" == typeof e ? 1 : -1
                }
                function f(e, t) {
                    var r = null === t[0]
                      , n = null === t[1]
                      , a = u(e, t[0]) >= 0
                      , i = u(e, t[1]) <= 0;
                    return (r || a) && (n || i)
                }
                if (e.tickformatstops && e.tickformatstops.length > 0)
                    switch (e.type) {
                    case "date":
                    case "linear":
                        for (t = 0; t < e.tickformatstops.length; t++)
                            if ((n = e.tickformatstops[t]).enabled && (a = e.dtick,
                            i = n.dtickrange,
                            o = void 0,
                            s = void 0,
                            l = void 0,
                            o = c || function(e) {
                                return e
                            }
                            ,
                            s = i[0],
                            l = i[1],
                            (!s && "number" != typeof s || o(s) <= o(a)) && (!l && "number" != typeof l || o(l) >= o(a)))) {
                                r = n;
                                break
                            }
                        break;
                    case "log":
                        for (t = 0; t < e.tickformatstops.length; t++)
                            if ((n = e.tickformatstops[t]).enabled && f(e.dtick, n.dtickrange)) {
                                r = n;
                                break
                            }
                    }
                return r ? r.value : e.tickformat
            }
            ,
            U.getSubplots = function(e, t) {
                var r = e._fullLayout._subplots
                  , n = r.cartesian.concat(r.gl2d || [])
                  , a = t ? U.findSubplotsWithAxis(n, t) : n;
                return a.sort((function(e, t) {
                    var r = e.substr(1).split("y")
                      , n = t.substr(1).split("y");
                    return r[0] === n[0] ? +r[1] - +n[1] : +r[0] - +n[0]
                }
                )),
                a
            }
            ,
            U.findSubplotsWithAxis = function(e, t) {
                for (var r = new RegExp("x" === t._id.charAt(0) ? "^" + t._id + "y" : t._id + "$"), n = [], a = 0; a < e.length; a++) {
                    var i = e[a];
                    r.test(i) && n.push(i)
                }
                return n
            }
            ,
            U.makeClipPaths = function(e) {
                var t = e._fullLayout;
                if (!t._hasOnlyLargeSploms) {
                    var r, a, i = {
                        _offset: 0,
                        _length: t.width,
                        _id: ""
                    }, o = {
                        _offset: 0,
                        _length: t.height,
                        _id: ""
                    }, s = U.list(e, "x", !0), l = U.list(e, "y", !0), c = [];
                    for (r = 0; r < s.length; r++)
                        for (c.push({
                            x: s[r],
                            y: o
                        }),
                        a = 0; a < l.length; a++)
                            0 === r && c.push({
                                x: i,
                                y: l[a]
                            }),
                            c.push({
                                x: s[r],
                                y: l[a]
                            });
                    var u = t._clips.selectAll(".axesclip").data(c, (function(e) {
                        return e.x._id + e.y._id
                    }
                    ));
                    u.enter().append("clipPath").classed("axesclip", !0).attr("id", (function(e) {
                        return "clip" + t._uid + e.x._id + e.y._id
                    }
                    )).append("rect"),
                    u.exit().remove(),
                    u.each((function(e) {
                        n.select(this).select("rect").attr({
                            x: e.x._offset || 0,
                            y: e.y._offset || 0,
                            width: e.x._length || 1,
                            height: e.y._length || 1
                        })
                    }
                    ))
                }
            }
            ,
            U.draw = function(e, t, r) {
                var n = e._fullLayout;
                "redraw" === t && n._paper.selectAll("g.subplot").each((function(e) {
                    var t = e[0]
                      , r = n._plots[t];
                    if (r) {
                        var a = r.xaxis
                          , i = r.yaxis;
                        r.xaxislayer.selectAll("." + a._id + "tick").remove(),
                        r.yaxislayer.selectAll("." + i._id + "tick").remove(),
                        r.xaxislayer.selectAll("." + a._id + "tick2").remove(),
                        r.yaxislayer.selectAll("." + i._id + "tick2").remove(),
                        r.xaxislayer.selectAll("." + a._id + "divider").remove(),
                        r.yaxislayer.selectAll("." + i._id + "divider").remove(),
                        r.gridlayer && r.gridlayer.selectAll("path").remove(),
                        r.zerolinelayer && r.zerolinelayer.selectAll("path").remove(),
                        n._infolayer.select(".g-" + a._id + "title").remove(),
                        n._infolayer.select(".g-" + i._id + "title").remove()
                    }
                }
                ));
                var a = t && "redraw" !== t ? t : U.listIds(e);
                return s.syncOrAsync(a.map((function(t) {
                    return function() {
                        if (t) {
                            var n = U.getFromId(e, t)
                              , a = U.drawOne(e, n, r);
                            return n._r = n.range.slice(),
                            n._rl = s.simpleMap(n._r, n.r2l),
                            a
                        }
                    }
                }
                )))
            }
            ,
            U.drawOne = function(e, t, r) {
                var n, a, l;
                r = r || {},
                t.setScale();
                var c = e._fullLayout
                  , h = t._id
                  , p = h.charAt(0)
                  , g = U.counterLetter(h)
                  , y = c._plots[t._mainSubplot];
                if (y) {
                    var v = y[p + "axislayer"]
                      , m = t._mainLinePosition
                      , b = t._mainMirrorPosition
                      , x = t._vals = U.calcTicks(t)
                      , _ = [t.mirror, m, b].join("_");
                    for (n = 0; n < x.length; n++)
                        x[n].axInfo = _;
                    t._selections = {},
                    t._tickAngles && (t._prevTickAngles = t._tickAngles),
                    t._tickAngles = {},
                    t._depth = null;
                    var w = {};
                    if (t.visible) {
                        var A, k, T = U.makeTransTickFn(t), M = U.makeTransTickLabelFn(t), S = "inside" === t.ticks, C = "outside" === t.ticks;
                        if ("boundaries" === t.tickson) {
                            var O = function(e, t) {
                                var r, n = [], a = function(e, t) {
                                    var r = e.xbnd[t];
                                    null !== r && n.push(s.extendFlat({}, e, {
                                        x: r
                                    }))
                                };
                                if (t.length) {
                                    for (r = 0; r < t.length; r++)
                                        a(t[r], 0);
                                    a(t[r - 1], 1)
                                }
                                return n
                            }(0, x);
                            k = U.clipEnds(t, O),
                            A = S ? k : O
                        } else
                            k = U.clipEnds(t, x),
                            A = S && "period" !== t.ticklabelmode ? k : x;
                        var D = t._gridVals = k
                          , L = function(e, t) {
                            var r, n, a = [], i = t.length && t[t.length - 1].x < t[0].x, o = function(e, t) {
                                var r = e.xbnd[t];
                                null !== r && a.push(s.extendFlat({}, e, {
                                    x: r
                                }))
                            };
                            if (e.showdividers && t.length) {
                                for (r = 0; r < t.length; r++) {
                                    var l = t[r];
                                    l.text2 !== n && o(l, i ? 1 : 0),
                                    n = l.text2
                                }
                                o(t[r - 1], i ? 0 : 1)
                            }
                            return a
                        }(t, x);
                        if (!c._hasOnlyLargeSploms) {
                            var E = t._subplotsWith
                              , z = {};
                            for (n = 0; n < E.length; n++) {
                                a = E[n];
                                var F = (l = c._plots[a])[g + "axis"]
                                  , P = F._mainAxis._id;
                                if (!z[P]) {
                                    z[P] = 1;
                                    var I = "x" === p ? "M0," + F._offset + "v" + F._length : "M" + F._offset + ",0h" + F._length;
                                    U.drawGrid(e, t, {
                                        vals: D,
                                        counterAxis: F,
                                        layer: l.gridlayer.select("." + h),
                                        path: I,
                                        transFn: T
                                    }),
                                    U.drawZeroLine(e, t, {
                                        counterAxis: F,
                                        layer: l.zerolinelayer,
                                        path: I,
                                        transFn: T
                                    })
                                }
                            }
                        }
                        var N = U.getTickSigns(t)
                          , R = [];
                        if (t.ticks) {
                            var j, Y, V, q = U.makeTickPath(t, m, N[2]);
                            if (t._anchorAxis && t.mirror && !0 !== t.mirror ? (j = U.makeTickPath(t, b, N[3]),
                            Y = q + j) : (j = "",
                            Y = q),
                            t.showdividers && C && "boundaries" === t.tickson) {
                                var W = {};
                                for (n = 0; n < L.length; n++)
                                    W[L[n].x] = 1;
                                V = function(e) {
                                    return W[e.x] ? j : Y
                                }
                            } else
                                V = Y;
                            U.drawTicks(e, t, {
                                vals: A,
                                layer: v,
                                path: V,
                                transFn: T
                            }),
                            "allticks" === t.mirror && (R = Object.keys(t._linepositions || {}))
                        }
                        for (n = 0; n < R.length; n++) {
                            a = R[n],
                            l = c._plots[a];
                            var G = t._linepositions[a] || []
                              , Z = U.makeTickPath(t, G[0], N[0]) + U.makeTickPath(t, G[1], N[1]);
                            U.drawTicks(e, t, {
                                vals: A,
                                layer: l[p + "axislayer"],
                                path: Z,
                                transFn: T
                            })
                        }
                        var J = [];
                        if (J.push((function() {
                            return U.drawLabels(e, t, {
                                vals: x,
                                layer: v,
                                plotinfo: l,
                                transFn: M,
                                labelFns: U.makeLabelFns(t, m)
                            })
                        }
                        )),
                        "multicategory" === t.type) {
                            var X = {
                                x: 2,
                                y: 10
                            }[p];
                            J.push((function() {
                                var r = {
                                    x: "height",
                                    y: "width"
                                }[p]
                                  , n = $()[r] + X + (t._tickAngles[h + "tick"] ? t.tickfont.size * B : 0);
                                return U.drawLabels(e, t, {
                                    vals: he(t, x),
                                    layer: v,
                                    cls: h + "tick2",
                                    repositionOnUpdate: !0,
                                    secondary: !0,
                                    transFn: T,
                                    labelFns: U.makeLabelFns(t, m + n * N[4])
                                })
                            }
                            )),
                            J.push((function() {
                                return t._depth = N[4] * ($("tick2")[t.side] - m),
                                function(e, t, r) {
                                    var n = t._id + "divider"
                                      , a = r.vals
                                      , i = r.layer.selectAll("path." + n).data(a, ge);
                                    i.exit().remove(),
                                    i.enter().insert("path", ":first-child").classed(n, 1).classed("crisp", 1).call(f.stroke, t.dividercolor).style("stroke-width", d.crispRound(e, t.dividerwidth, 1) + "px"),
                                    i.attr("transform", r.transFn).attr("d", r.path)
                                }(e, t, {
                                    vals: L,
                                    layer: v,
                                    path: U.makeTickPath(t, m, N[4], t._depth),
                                    transFn: T
                                })
                            }
                            ))
                        } else
                            t.title.hasOwnProperty("standoff") && J.push((function() {
                                t._depth = N[4] * ($()[t.side] - m)
                            }
                            ));
                        var Q = o.getComponentMethod("rangeslider", "isVisible")(t);
                        return J.push((function() {
                            var r, n, a, s, l = t.side.charAt(0), u = H[t.side].charAt(0), f = U.getPxPosition(e, t), d = C ? t.ticklen : 0;
                            if ((t.automargin || Q) && ("multicategory" === t.type ? r = $("tick2") : (r = $(),
                            "x" === p && "b" === l && (t._depth = Math.max(r.width > 0 ? r.bottom - f : 0, d)))),
                            t.automargin) {
                                n = {
                                    x: 0,
                                    y: 0,
                                    r: 0,
                                    l: 0,
                                    t: 0,
                                    b: 0
                                };
                                var h = [0, 1];
                                if ("x" === p) {
                                    if ("b" === l ? n[l] = t._depth : (n[l] = t._depth = Math.max(r.width > 0 ? f - r.top : 0, d),
                                    h.reverse()),
                                    r.width > 0) {
                                        var y = r.right - (t._offset + t._length);
                                        y > 0 && (n.xr = 1,
                                        n.r = y);
                                        var v = t._offset - r.left;
                                        v > 0 && (n.xl = 0,
                                        n.l = v)
                                    }
                                } else if ("l" === l ? n[l] = t._depth = Math.max(r.height > 0 ? f - r.left : 0, d) : (n[l] = t._depth = Math.max(r.height > 0 ? r.right - f : 0, d),
                                h.reverse()),
                                r.height > 0) {
                                    var m = r.bottom - (t._offset + t._length);
                                    m > 0 && (n.yb = 0,
                                    n.b = m);
                                    var b = t._offset - r.top;
                                    b > 0 && (n.yt = 1,
                                    n.t = b)
                                }
                                n[g] = "free" === t.anchor ? t.position : t._anchorAxis.domain[h[0]],
                                t.title.text !== c._dfltTitle[p] && (n[l] += ye(t) + (t.title.standoff || 0)),
                                t.mirror && "free" !== t.anchor && ((a = {
                                    x: 0,
                                    y: 0,
                                    r: 0,
                                    l: 0,
                                    t: 0,
                                    b: 0
                                })[u] = t.linewidth,
                                t.mirror && !0 !== t.mirror && (a[u] += d),
                                !0 === t.mirror || "ticks" === t.mirror ? a[g] = t._anchorAxis.domain[h[1]] : "all" !== t.mirror && "allticks" !== t.mirror || (a[g] = [t._counterDomainMin, t._counterDomainMax][h[1]]))
                            }
                            Q && (s = o.getComponentMethod("rangeslider", "autoMarginOpts")(e, t)),
                            i.autoMargin(e, be(t), n),
                            i.autoMargin(e, xe(t), a),
                            i.autoMargin(e, _e(t), s)
                        }
                        )),
                        r.skipTitle || Q && "bottom" === t.side || J.push((function() {
                            return function(e, t) {
                                var r, n = e._fullLayout, a = t._id, i = a.charAt(0), o = t.title.font.size;
                                if (t.title.hasOwnProperty("standoff"))
                                    r = t._depth + t.title.standoff + ye(t);
                                else {
                                    var s = Se(t);
                                    if ("multicategory" === t.type)
                                        r = t._depth;
                                    else {
                                        var l = 1.5 * o;
                                        s && (l = .5 * o,
                                        "outside" === t.ticks && (l += t.ticklen)),
                                        r = 10 + l + (t.linewidth ? t.linewidth - 1 : 0)
                                    }
                                    s || (r += "x" === i ? "top" === t.side ? o * (t.showticklabels ? 1 : 0) : o * (t.showticklabels ? 1.5 : .5) : "right" === t.side ? o * (t.showticklabels ? 1 : .5) : o * (t.showticklabels ? .5 : 0))
                                }
                                var c, f, h, p, g = U.getPxPosition(e, t);
                                "x" === i ? (f = t._offset + t._length / 2,
                                h = "top" === t.side ? g - r : g + r) : (h = t._offset + t._length / 2,
                                f = "right" === t.side ? g + r : g - r,
                                c = {
                                    rotate: "-90",
                                    offset: 0
                                });
                                if ("multicategory" !== t.type) {
                                    var y = t._selections[t._id + "tick"];
                                    if (p = {
                                        selection: y,
                                        side: t.side
                                    },
                                    y && y.node() && y.node().parentNode) {
                                        var v = d.getTranslate(y.node().parentNode);
                                        p.offsetLeft = v.x,
                                        p.offsetTop = v.y
                                    }
                                    t.title.hasOwnProperty("standoff") && (p.pad = 0)
                                }
                                return u.draw(e, a + "title", {
                                    propContainer: t,
                                    propName: t._name + ".title.text",
                                    placeholder: n._dfltTitle[i],
                                    avoid: p,
                                    transform: c,
                                    attributes: {
                                        x: f,
                                        y: h,
                                        "text-anchor": "middle"
                                    }
                                })
                            }(e, t)
                        }
                        )),
                        s.syncOrAsync(J)
                    }
                }
                function $(e) {
                    var r = h + (e || "tick");
                    return w[r] || (w[r] = function(e, t) {
                        var r, n, a, i;
                        e._selections[t].size() ? (r = 1 / 0,
                        n = -1 / 0,
                        a = 1 / 0,
                        i = -1 / 0,
                        e._selections[t].each((function() {
                            var e = me(this)
                              , t = d.bBox(e.node().parentNode);
                            r = Math.min(r, t.top),
                            n = Math.max(n, t.bottom),
                            a = Math.min(a, t.left),
                            i = Math.max(i, t.right)
                        }
                        ))) : (r = 0,
                        n = 0,
                        a = 0,
                        i = 0);
                        return {
                            top: r,
                            bottom: n,
                            left: a,
                            right: i,
                            height: n - r,
                            width: i - a
                        }
                    }(t, r)),
                    w[r]
                }
            }
            ,
            U.getTickSigns = function(e) {
                var t = e._id.charAt(0)
                  , r = {
                    x: "top",
                    y: "right"
                }[t]
                  , n = e.side === r ? 1 : -1
                  , a = [-1, 1, n, -n];
                return "inside" !== e.ticks == ("x" === t) && (a = a.map((function(e) {
                    return -e
                }
                ))),
                e.side && a.push({
                    l: -1,
                    t: -1,
                    r: 1,
                    b: 1
                }[e.side.charAt(0)]),
                a
            }
            ,
            U.makeTransTickFn = function(e) {
                return "x" === e._id.charAt(0) ? function(t) {
                    return l(e._offset + e.l2p(t.x), 0)
                }
                : function(t) {
                    return l(0, e._offset + e.l2p(t.x))
                }
            }
            ,
            U.makeTransTickLabelFn = function(e) {
                var t = function(e) {
                    var t = e.ticklabelposition || ""
                      , r = function(e) {
                        return -1 !== t.indexOf(e)
                    }
                      , n = r("top")
                      , a = r("left")
                      , i = r("right")
                      , o = r("bottom")
                      , s = r("inside")
                      , l = o || a || n || i;
                    if (!l && !s)
                        return [0, 0];
                    var c = e.side
                      , u = l ? (e.tickwidth || 0) / 2 : 0
                      , f = 3
                      , d = e.tickfont ? e.tickfont.size : 12;
                    (o || n) && (u += d * j,
                    f += (e.linewidth || 0) / 2);
                    (a || i) && (u += (e.linewidth || 0) / 2,
                    f += 3);
                    s && "top" === c && (f -= d * (1 - j));
                    (a || n) && (u = -u);
                    "bottom" !== c && "right" !== c || (f = -f);
                    return [l ? u : 0, s ? f : 0]
                }(e)
                  , r = t[0]
                  , n = t[1];
                return "x" === e._id.charAt(0) ? function(t) {
                    return l(r + e._offset + e.l2p(pe(t)), n)
                }
                : function(t) {
                    return l(n, r + e._offset + e.l2p(pe(t)))
                }
            }
            ,
            U.makeTickPath = function(e, t, r, n) {
                n = void 0 !== n ? n : e.ticklen;
                var a = e._id.charAt(0)
                  , i = (e.linewidth || 1) / 2;
                return "x" === a ? "M0," + (t + i * r) + "v" + n * r : "M" + (t + i * r) + ",0h" + n * r
            }
            ,
            U.makeLabelFns = function(e, t, r) {
                var n = e.ticklabelposition || ""
                  , i = function(e) {
                    return -1 !== n.indexOf(e)
                }
                  , o = i("top")
                  , l = i("left")
                  , c = i("right")
                  , u = i("bottom") || l || o || c
                  , f = i("inside")
                  , d = "inside" === n && "inside" === e.ticks || !f && "outside" === e.ticks && "boundaries" !== e.tickson
                  , h = 0
                  , p = 0
                  , g = d ? e.ticklen : 0;
                if (f ? g *= -1 : u && (g = 0),
                d && (h += g,
                r)) {
                    var y = s.deg2rad(r);
                    h = g * Math.cos(y) + 1,
                    p = g * Math.sin(y)
                }
                e.showticklabels && (d || e.showline) && (h += .2 * e.tickfont.size);
                var v, m, b, x, _, w = {
                    labelStandoff: h += (e.linewidth || 1) / 2 * (f ? -1 : 1),
                    labelShift: p
                }, A = 0, k = e.side, T = e._id.charAt(0), M = e.tickangle;
                if ("x" === T)
                    x = (_ = !f && "bottom" === k || f && "top" === k) ? 1 : -1,
                    f && (x *= -1),
                    v = p * x,
                    m = t + h * x,
                    b = _ ? 1 : -.2,
                    90 === Math.abs(M) && (f ? b += R : b = -90 === M && "bottom" === k ? j : 90 === M && "top" === k ? R : .5,
                    A = R / 2 * (M / 90)),
                    w.xFn = function(e) {
                        return e.dx + v + A * e.fontSize
                    }
                    ,
                    w.yFn = function(e) {
                        return e.dy + m + e.fontSize * b
                    }
                    ,
                    w.anchorFn = function(e, t) {
                        if (u) {
                            if (l)
                                return "end";
                            if (c)
                                return "start"
                        }
                        return a(t) && 0 !== t && 180 !== t ? t * x < 0 !== f ? "end" : "start" : "middle"
                    }
                    ,
                    w.heightFn = function(t, r, n) {
                        return r < -60 || r > 60 ? -.5 * n : "top" === e.side !== f ? -n : 0
                    }
                    ;
                else if ("y" === T) {
                    if (x = (_ = !f && "left" === k || f && "right" === k) ? 1 : -1,
                    f && (x *= -1),
                    v = h,
                    m = p * x,
                    b = 0,
                    f || 90 !== Math.abs(M) || (b = -90 === M && "left" === k || 90 === M && "right" === k ? j : .5),
                    f) {
                        var S = a(M) ? +M : 0;
                        if (0 !== S) {
                            var C = s.deg2rad(S);
                            A = Math.abs(Math.sin(C)) * j * x,
                            b = 0
                        }
                    }
                    w.xFn = function(e) {
                        return e.dx + t - (v + e.fontSize * b) * x + A * e.fontSize
                    }
                    ,
                    w.yFn = function(e) {
                        return e.dy + m + e.fontSize * R
                    }
                    ,
                    w.anchorFn = function(e, t) {
                        return a(t) && 90 === Math.abs(t) ? "middle" : _ ? "end" : "start"
                    }
                    ,
                    w.heightFn = function(t, r, n) {
                        return "right" === e.side && (r *= -1),
                        r < -30 ? -n : r < 30 ? -.5 * n : 0
                    }
                }
                return w
            }
            ,
            U.drawTicks = function(e, t, r) {
                r = r || {};
                var n = t._id + "tick"
                  , a = r.vals;
                "period" === t.ticklabelmode && (a = a.slice()).shift();
                var i = r.layer.selectAll("path." + n).data(t.ticks ? a : [], ge);
                i.exit().remove(),
                i.enter().append("path").classed(n, 1).classed("ticks", 1).classed("crisp", !1 !== r.crisp).call(f.stroke, t.tickcolor).style("stroke-width", d.crispRound(e, t.tickwidth, 1) + "px").attr("d", r.path).style("display", null),
                Ce(t, [P]),
                i.attr("transform", r.transFn)
            }
            ,
            U.drawGrid = function(e, t, r) {
                r = r || {};
                var n = t._id + "grid"
                  , a = r.vals
                  , i = r.counterAxis;
                if (!1 === t.showgrid)
                    a = [];
                else if (i && U.shouldShowZeroLine(e, t, i))
                    for (var o = "array" === t.tickmode, s = 0; s < a.length; s++) {
                        var l = a[s].x;
                        if (o ? !l : Math.abs(l) < t.dtick / 100) {
                            if (a = a.slice(0, s).concat(a.slice(s + 1)),
                            !o)
                                break;
                            s--
                        }
                    }
                var c = r.layer.selectAll("path." + n).data(a, ge);
                c.exit().remove(),
                c.enter().append("path").classed(n, 1).classed("crisp", !1 !== r.crisp),
                t._gw = d.crispRound(e, t.gridwidth, 1),
                c.attr("transform", r.transFn).attr("d", r.path).call(f.stroke, t.gridcolor || "#ddd").style("stroke-width", t._gw + "px").style("display", null),
                Ce(t, [F]),
                "function" == typeof r.path && c.attr("d", r.path)
            }
            ,
            U.drawZeroLine = function(e, t, r) {
                r = r || r;
                var n = t._id + "zl"
                  , a = U.shouldShowZeroLine(e, t, r.counterAxis)
                  , i = r.layer.selectAll("path." + n).data(a ? [{
                    x: 0,
                    id: t._id
                }] : []);
                i.exit().remove(),
                i.enter().append("path").classed(n, 1).classed("zl", 1).classed("crisp", !1 !== r.crisp).each((function() {
                    r.layer.selectAll("path").sort((function(e, t) {
                        return q(e.id, t.id)
                    }
                    ))
                }
                )),
                i.attr("transform", r.transFn).attr("d", r.path).call(f.stroke, t.zerolinecolor || f.defaultLine).style("stroke-width", d.crispRound(e, t.zerolinewidth, t._gw || 1) + "px").style("display", null),
                Ce(t, [z])
            }
            ,
            U.drawLabels = function(e, t, r) {
                r = r || {};
                var i = e._fullLayout
                  , o = t._id
                  , u = o.charAt(0)
                  , f = r.cls || o + "tick"
                  , h = r.vals
                  , p = r.labelFns
                  , g = r.secondary ? 0 : t.tickangle
                  , y = (t._prevTickAngles || {})[f]
                  , v = r.layer.selectAll("g." + f).data(t.showticklabels ? h : [], ge)
                  , m = [];
                function b(e, i) {
                    e.each((function(e) {
                        var o = n.select(this)
                          , s = o.select(".text-math-group")
                          , u = p.anchorFn(e, i)
                          , f = r.transFn.call(o.node(), e) + (a(i) && 0 != +i ? " rotate(" + i + "," + p.xFn(e) + "," + (p.yFn(e) - e.fontSize / 2) + ")" : "")
                          , h = c.lineCount(o)
                          , g = B * e.fontSize
                          , y = p.heightFn(e, a(i) ? +i : 0, (h - 1) * g);
                        if (y && (f += l(0, y)),
                        s.empty()) {
                            var v = o.select("text");
                            v.attr({
                                transform: f,
                                "text-anchor": u
                            }),
                            v.style("opacity", 1),
                            t._adjustTickLabelsOverflow && t._adjustTickLabelsOverflow()
                        } else {
                            var m = d.bBox(s.node()).width * {
                                end: -.5,
                                start: .5
                            }[u];
                            s.attr("transform", f + l(m, 0))
                        }
                    }
                    ))
                }
                v.enter().append("g").classed(f, 1).append("text").attr("text-anchor", "middle").each((function(t) {
                    var r = n.select(this)
                      , a = e._promises.length;
                    r.call(c.positionText, p.xFn(t), p.yFn(t)).call(d.font, t.font, t.fontSize, t.fontColor).text(t.text).call(c.convertToTspans, e),
                    e._promises[a] ? m.push(e._promises.pop().then((function() {
                        b(r, g)
                    }
                    ))) : b(r, g)
                }
                )),
                Ce(t, [I]),
                v.exit().remove(),
                r.repositionOnUpdate && v.each((function(e) {
                    n.select(this).select("text").call(c.positionText, p.xFn(e), p.yFn(e))
                }
                )),
                t._adjustTickLabelsOverflow = function() {
                    var r = t.ticklabeloverflow;
                    if (r && "allow" !== r) {
                        var a = -1 !== r.indexOf("hide")
                          , o = "x" === t._id.charAt(0)
                          , l = 0
                          , c = o ? e._fullLayout.width : e._fullLayout.height;
                        if (-1 !== r.indexOf("domain")) {
                            var u = s.simpleMap(t.range, t.r2l);
                            l = t.l2p(u[0]) + t._offset,
                            c = t.l2p(u[1]) + t._offset
                        }
                        var f = Math.min(l, c)
                          , h = Math.max(l, c)
                          , p = t.side
                          , g = 1 / 0
                          , y = -1 / 0;
                        for (var m in v.each((function(e) {
                            var r = n.select(this);
                            if (r.select(".text-math-group").empty()) {
                                var i = d.bBox(r.node())
                                  , s = 0;
                                o ? (i.right > h || i.left < f) && (s = 1) : (i.bottom > h || i.top + (t.tickangle ? 0 : e.fontSize / 4) < f) && (s = 1);
                                var l = r.select("text");
                                s ? a && l.style("opacity", 0) : (l.style("opacity", 1),
                                g = "bottom" === p || "right" === p ? Math.min(g, o ? i.top : i.left) : -1 / 0,
                                y = "top" === p || "left" === p ? Math.max(y, o ? i.bottom : i.right) : 1 / 0)
                            }
                        }
                        )),
                        i._plots) {
                            var b = i._plots[m];
                            if (t._id === b.xaxis._id || t._id === b.yaxis._id) {
                                var x = o ? b.yaxis : b.xaxis;
                                x && (x["_visibleLabelMin_" + t._id] = g,
                                x["_visibleLabelMax_" + t._id] = y)
                            }
                        }
                    }
                }
                ,
                t._hideCounterAxisInsideTickLabels = function(e) {
                    var r = "x" === t._id.charAt(0)
                      , a = [];
                    for (var o in i._plots) {
                        var s = i._plots[o];
                        t._id !== s.xaxis._id && t._id !== s.yaxis._id || a.push(r ? s.yaxis : s.xaxis)
                    }
                    a.forEach((function(r, a) {
                        r && Se(r) && (e || [z, F, P, I]).forEach((function(e) {
                            var o = "tick" === e.K && "text" === e.L && "period" === t.ticklabelmode
                              , s = i._plots[t._mainSubplot];
                            (e.K === z.K ? s.zerolinelayer.selectAll("." + t._id + "zl") : e.K === F.K ? s.gridlayer.selectAll("." + t._id) : s[t._id.charAt(0) + "axislayer"]).each((function() {
                                var i = n.select(this);
                                e.L && (i = i.selectAll(e.L)),
                                i.each((function(i) {
                                    var s = t.l2p(o ? pe(i) : i.x) + t._offset
                                      , l = n.select(this);
                                    s < t["_visibleLabelMax_" + r._id] && s > t["_visibleLabelMin_" + r._id] ? l.style("display", "none") : "tick" !== e.K || a || l.style("display", null)
                                }
                                ))
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }
                ,
                b(v, y + 1 ? y : g);
                var x = null;
                t._selections && (t._selections[f] = v);
                var _ = [function() {
                    return m.length && Promise.all(m)
                }
                ];
                t.automargin && i._redrawFromAutoMarginCount && 90 === y ? (x = 90,
                _.push((function() {
                    b(v, y)
                }
                ))) : _.push((function() {
                    if (b(v, g),
                    h.length && "x" === u && !a(g) && ("log" !== t.type || "D" !== String(t.dtick).charAt(0))) {
                        x = 0;
                        var e, n = 0, i = [];
                        if (v.each((function(e) {
                            n = Math.max(n, e.fontSize);
                            var r = t.l2p(e.x)
                              , a = me(this)
                              , o = d.bBox(a.node());
                            i.push({
                                top: 0,
                                bottom: 10,
                                height: 10,
                                left: r - o.width / 2,
                                right: r + o.width / 2 + 2,
                                width: o.width + 2
                            })
                        }
                        )),
                        "boundaries" !== t.tickson && !t.showdividers || r.secondary) {
                            var o = h.length
                              , l = Math.abs((h[o - 1].x - h[0].x) * t._m) / (o - 1)
                              , c = t.ticklabelposition || ""
                              , f = function(e) {
                                return -1 !== c.indexOf(e)
                            }
                              , p = f("top")
                              , y = f("left")
                              , m = f("right")
                              , _ = f("bottom") || y || p || m ? (t.tickwidth || 0) + 6 : 0
                              , w = l < 2.5 * n || "multicategory" === t.type;
                            for (e = 0; e < i.length - 1; e++)
                                if (s.bBoxIntersect(i[e], i[e + 1], _)) {
                                    x = w ? 90 : 30;
                                    break
                                }
                        } else {
                            var A = 2;
                            for (t.ticks && (A += t.tickwidth / 2),
                            e = 0; e < i.length; e++) {
                                var k = h[e].xbnd
                                  , T = i[e];
                                if (null !== k[0] && T.left - t.l2p(k[0]) < A || null !== k[1] && t.l2p(k[1]) - T.right < A) {
                                    x = 90;
                                    break
                                }
                            }
                        }
                        x && b(v, x)
                    }
                }
                )),
                t._tickAngles && _.push((function() {
                    t._tickAngles[f] = null === x ? a(g) ? g : 0 : x
                }
                ));
                var w = t._anchorAxis;
                w && w.autorange && Se(t) && !W(i, t._id) && (i._insideTickLabelsAutorange || (i._insideTickLabelsAutorange = {}),
                i._insideTickLabelsAutorange[w._name + ".autorange"] = w.autorange,
                _.push((function() {
                    v.each((function(e, r) {
                        var n = me(this);
                        n.select(".text-math-group").empty() && (t._vals[r].bb = d.bBox(n.node()))
                    }
                    ))
                }
                )));
                var A = s.syncOrAsync(_);
                return A && A.then && e._promises.push(A),
                A
            }
            ,
            U.getPxPosition = function(e, t) {
                var r, n = e._fullLayout._size, a = t._id.charAt(0), i = t.side;
                return "free" !== t.anchor ? r = t._anchorAxis : "x" === a ? r = {
                    _offset: n.t + (1 - (t.position || 0)) * n.h,
                    _length: 0
                } : "y" === a && (r = {
                    _offset: n.l + (t.position || 0) * n.w,
                    _length: 0
                }),
                "top" === i || "left" === i ? r._offset : "bottom" === i || "right" === i ? r._offset + r._length : void 0
            }
            ,
            U.shouldShowZeroLine = function(e, t, r) {
                var n = s.simpleMap(t.range, t.r2l);
                return n[0] * n[1] <= 0 && t.zeroline && ("linear" === t.type || "-" === t.type) && !(t.rangebreaks && t.maskBreaks(0) === E) && (ve(t, 0) || !function(e, t, r, n) {
                    var a = r._mainAxis;
                    if (!a)
                        return;
                    var i = e._fullLayout
                      , o = t._id.charAt(0)
                      , s = U.counterLetter(t._id)
                      , l = t._offset + (Math.abs(n[0]) < Math.abs(n[1]) == ("x" === o) ? 0 : t._length);
                    function c(e) {
                        if (!e.showline || !e.linewidth)
                            return !1;
                        var r = Math.max((e.linewidth + t.zerolinewidth) / 2, 1);
                        function n(e) {
                            return "number" == typeof e && Math.abs(e - l) < r
                        }
                        if (n(e._mainLinePosition) || n(e._mainMirrorPosition))
                            return !0;
                        var a = e._linepositions || {};
                        for (var i in a)
                            if (n(a[i][0]) || n(a[i][1]))
                                return !0
                    }
                    var u = i._plots[r._mainSubplot];
                    if (!(u.mainplotinfo || u).overlays.length)
                        return c(r);
                    for (var f = U.list(e, s), d = 0; d < f.length; d++) {
                        var h = f[d];
                        if (h._mainAxis === a && c(h))
                            return !0
                    }
                }(e, t, r, n) || function(e, t) {
                    for (var r = e._fullData, n = t._mainSubplot, a = t._id.charAt(0), i = 0; i < r.length; i++) {
                        var s = r[i];
                        if (!0 === s.visible && s.xaxis + s.yaxis === n) {
                            if (o.traceIs(s, "bar-like") && s.orientation === {
                                x: "h",
                                y: "v"
                            }[a])
                                return !0;
                            if (s.fill && s.fill.charAt(s.fill.length - 1) === a)
                                return !0
                        }
                    }
                    return !1
                }(e, t))
            }
            ,
            U.clipEnds = function(e, t) {
                return t.filter((function(t) {
                    return ve(e, t.x)
                }
                ))
            }
            ,
            U.allowAutoMargin = function(e) {
                for (var t = U.list(e, "", !0), r = 0; r < t.length; r++) {
                    var n = t[r];
                    n.automargin && (i.allowAutoMargin(e, be(n)),
                    n.mirror && i.allowAutoMargin(e, xe(n))),
                    o.getComponentMethod("rangeslider", "isVisible")(n) && i.allowAutoMargin(e, _e(n))
                }
            }
            ,
            U.swap = function(e, t) {
                for (var r = function(e, t) {
                    var r, n, a = [];
                    for (r = 0; r < t.length; r++) {
                        var i = []
                          , o = e._fullData[t[r]].xaxis
                          , s = e._fullData[t[r]].yaxis;
                        if (o && s) {
                            for (n = 0; n < a.length; n++)
                                -1 === a[n].x.indexOf(o) && -1 === a[n].y.indexOf(s) || i.push(n);
                            if (i.length) {
                                var l, c = a[i[0]];
                                if (i.length > 1)
                                    for (n = 1; n < i.length; n++)
                                        l = a[i[n]],
                                        we(c.x, l.x),
                                        we(c.y, l.y);
                                we(c.x, [o]),
                                we(c.y, [s])
                            } else
                                a.push({
                                    x: [o],
                                    y: [s]
                                })
                        }
                    }
                    return a
                }(e, t), n = 0; n < r.length; n++)
                    Ae(e, r[n].x, r[n].y)
            }
        }
        , {
            "../../components/color": 235,
            "../../components/drawing": 257,
            "../../components/titles": 333,
            "../../constants/alignment": 340,
            "../../constants/numerical": 344,
            "../../lib": 365,
            "../../lib/svg_text_utils": 390,
            "../../plots/plots": 449,
            "../../registry": 451,
            "./autorange": 413,
            "./axis_autotype": 415,
            "./axis_ids": 418,
            "./clean_ticks": 420,
            "./layout_attributes": 429,
            "./set_convert": 435,
            "@plotly/d3": 6,
            "fast-isnumeric": 107
        }],
        415: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("../../lib")
              , i = e("../../constants/numerical").BADNUM
              , o = a.isArrayOrTypedArray
              , s = a.isDateTime
              , l = a.cleanNumber
              , c = Math.round;
            function u(e, t) {
                return t ? n(e) : "number" == typeof e
            }
            function f(e) {
                return Math.max(1, (e - 1) / 1e3)
            }
            t.exports = function(e, t, r) {
                var a = e
                  , d = r.noMultiCategory;
                if (o(a) && !a.length)
                    return "-";
                if (!d && function(e) {
                    return o(e[0]) && o(e[1])
                }(a))
                    return "multicategory";
                if (d && Array.isArray(a[0])) {
                    for (var h = [], p = 0; p < a.length; p++)
                        if (o(a[p]))
                            for (var g = 0; g < a[p].length; g++)
                                h.push(a[p][g]);
                    a = h
                }
                if (function(e, t) {
                    for (var r = e.length, a = f(r), i = 0, o = 0, l = {}, u = 0; u < r; u += a) {
                        var d = c(u)
                          , h = e[d]
                          , p = String(h);
                        l[p] || (l[p] = 1,
                        s(h, t) && i++,
                        n(h) && o++)
                    }
                    return i > 2 * o
                }(a, t))
                    return "date";
                var y = "strict" !== r.autotypenumbers;
                return function(e, t) {
                    for (var r = e.length, n = f(r), a = 0, o = 0, s = {}, u = 0; u < r; u += n) {
                        var d = c(u)
                          , h = e[d]
                          , p = String(h);
                        if (!s[p]) {
                            s[p] = 1;
                            var g = typeof h;
                            "boolean" === g ? o++ : (t ? l(h) !== i : "number" === g) ? a++ : "string" === g && o++
                        }
                    }
                    return o > 2 * a
                }(a, y) ? "category" : function(e, t) {
                    for (var r = e.length, n = 0; n < r; n++)
                        if (u(e[n], t))
                            return !0;
                    return !1
                }(a, y) ? "linear" : "-"
            }
        }
        , {
            "../../constants/numerical": 344,
            "../../lib": 365,
            "fast-isnumeric": 107
        }],
        416: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("../../registry")
              , i = e("../../lib")
              , o = e("../array_container_defaults")
              , s = e("./layout_attributes")
              , l = e("./tick_value_defaults")
              , c = e("./tick_mark_defaults")
              , u = e("./tick_label_defaults")
              , f = e("./category_order_defaults")
              , d = e("./line_grid_defaults")
              , h = e("./set_convert")
              , p = e("./constants").WEEKDAY_PATTERN
              , g = e("./constants").HOUR_PATTERN;
            function y(e, t, r) {
                function a(r, n) {
                    return i.coerce(e, t, s.rangebreaks, r, n)
                }
                if (a("enabled")) {
                    var o = a("bounds");
                    if (o && o.length >= 2) {
                        var l, c, u = "";
                        if (2 === o.length)
                            for (l = 0; l < 2; l++)
                                if (c = m(o[l])) {
                                    u = p;
                                    break
                                }
                        var f = a("pattern", u);
                        if (f === p)
                            for (l = 0; l < 2; l++)
                                (c = m(o[l])) && (t.bounds[l] = o[l] = c - 1);
                        if (f)
                            for (l = 0; l < 2; l++)
                                switch (c = o[l],
                                f) {
                                case p:
                                    if (!n(c))
                                        return void (t.enabled = !1);
                                    if ((c = +c) !== Math.floor(c) || c < 0 || c >= 7)
                                        return void (t.enabled = !1);
                                    t.bounds[l] = o[l] = c;
                                    break;
                                case g:
                                    if (!n(c))
                                        return void (t.enabled = !1);
                                    if ((c = +c) < 0 || c > 24)
                                        return void (t.enabled = !1);
                                    t.bounds[l] = o[l] = c
                                }
                        if (!1 === r.autorange) {
                            var d = r.range;
                            if (d[0] < d[1]) {
                                if (o[0] < d[0] && o[1] > d[1])
                                    return void (t.enabled = !1)
                            } else if (o[0] > d[0] && o[1] < d[1])
                                return void (t.enabled = !1)
                        }
                    } else {
                        var h = a("values");
                        if (!h || !h.length)
                            return void (t.enabled = !1);
                        a("dvalue")
                    }
                }
            }
            t.exports = function(e, t, r, n, g) {
                var v, m = n.letter, b = n.font || {}, x = n.splomStash || {}, _ = r("visible", !n.visibleDflt), w = t._template || {}, A = t.type || w.type || "-";
                "date" === A && (a.getComponentMethod("calendars", "handleDefaults")(e, t, "calendar", n.calendar),
                n.noTicklabelmode || (v = r("ticklabelmode")));
                var k = "";
                n.noTicklabelposition && "multicategory" !== A || (k = i.coerce(e, t, {
                    ticklabelposition: {
                        valType: "enumerated",
                        dflt: "outside",
                        values: "period" === v ? ["outside", "inside"] : "x" === m ? ["outside", "inside", "outside left", "inside left", "outside right", "inside right"] : ["outside", "inside", "outside top", "inside top", "outside bottom", "inside bottom"]
                    }
                }, "ticklabelposition")),
                n.noTicklabeloverflow || r("ticklabeloverflow", -1 !== k.indexOf("inside") ? "hide past domain" : "category" === A || "multicategory" === A ? "allow" : "hide past div"),
                h(t, g);
                var T = !t.isValidRange(e.range);
                T && n.reverseDflt && (T = "reversed"),
                !r("autorange", T) || "linear" !== A && "-" !== A || r("rangemode"),
                r("range"),
                t.cleanRange(),
                f(e, t, r, n),
                "category" === A || n.noHover || r("hoverformat");
                var M = r("color")
                  , S = M !== s.color.dflt ? M : b.color
                  , C = x.label || g._dfltTitle[m];
                if (u(e, t, r, A, n, {
                    pass: 1
                }),
                !_)
                    return t;
                r("title.text", C),
                i.coerceFont(r, "title.font", {
                    family: b.family,
                    size: i.bigFont(b.size),
                    color: S
                }),
                l(e, t, r, A),
                u(e, t, r, A, n, {
                    pass: 2
                }),
                c(e, t, r, n),
                d(e, t, r, {
                    dfltColor: M,
                    bgColor: n.bgColor,
                    showGrid: n.showGrid,
                    attributes: s
                }),
                (t.showline || t.ticks) && r("mirror"),
                n.automargin && r("automargin");
                var O, D = "multicategory" === A;
                n.noTickson || "category" !== A && !D || !t.ticks && !t.showgrid || (D && (O = "boundaries"),
                "boundaries" === r("tickson", O) && delete t.ticklabelposition);
                D && (r("showdividers") && (r("dividercolor"),
                r("dividerwidth")));
                if ("date" === A)
                    if (o(e, t, {
                        name: "rangebreaks",
                        inclusionAttr: "enabled",
                        handleItemDefaults: y
                    }),
                    t.rangebreaks.length) {
                        for (var L = 0; L < t.rangebreaks.length; L++)
                            if (t.rangebreaks[L].pattern === p) {
                                t._hasDayOfWeekBreaks = !0;
                                break
                            }
                        if (h(t, g),
                        g._has("scattergl") || g._has("splom"))
                            for (var E = 0; E < n.data.length; E++) {
                                var z = n.data[E];
                                "scattergl" !== z.type && "splom" !== z.type || (z.visible = !1,
                                i.warn(z.type + " traces do not work on axes with rangebreaks. Setting trace " + z.index + " to `visible: false`."))
                            }
                    } else
                        delete t.rangebreaks;
                return t
            }
            ;
            var v = {
                sun: 1,
                mon: 2,
                tue: 3,
                wed: 4,
                thu: 5,
                fri: 6,
                sat: 7
            };
            function m(e) {
                if ("string" == typeof e)
                    return v[e.substr(0, 3).toLowerCase()]
            }
        }
        , {
            "../../lib": 365,
            "../../registry": 451,
            "../array_container_defaults": 409,
            "./category_order_defaults": 419,
            "./constants": 421,
            "./layout_attributes": 429,
            "./line_grid_defaults": 431,
            "./set_convert": 435,
            "./tick_label_defaults": 436,
            "./tick_mark_defaults": 437,
            "./tick_value_defaults": 438,
            "fast-isnumeric": 107
        }],
        417: [function(e, t, r) {
            "use strict";
            var n = e("../../constants/docs")
              , a = n.FORMAT_LINK
              , i = n.DATE_FORMAT_LINK;
            function o(e, t) {
                return ["Sets the " + e + " formatting rule" + (t ? "for `" + t + "` " : ""), "using d3 formatting mini-languages", "which are very similar to those in Python. For numbers, see: " + a + "."].join(" ")
            }
            function s(e, t) {
                return o(e, t) + [" And for dates see: " + i + ".", "We add two items to d3's date formatter:", "*%h* for half of the year as a decimal number as well as", "*%{n}f* for fractional seconds", "with n digits. For example, *2016-10-13 09:15:23.456* with tickformat", "*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")
            }
            t.exports = {
                axisHoverFormat: function(e, t) {
                    return {
                        valType: "string",
                        dflt: "",
                        editType: "none",
                        description: (t ? o : s)("hover text", e) + ["By default the values are formatted using " + (t ? "generic number format" : "`" + e + "axis.hoverformat`") + "."].join(" ")
                    }
                },
                descriptionOnlyNumbers: o,
                descriptionWithDates: s
            }
        }
        , {
            "../../constants/docs": 342
        }],
        418: [function(e, t, r) {
            "use strict";
            var n = e("../../registry")
              , a = e("./constants");
            function i(e, t) {
                if (t && t.length)
                    for (var r = 0; r < t.length; r++)
                        if (t[r][e])
                            return !0;
                return !1
            }
            r.id2name = function(e) {
                if ("string" == typeof e && e.match(a.AX_ID_PATTERN)) {
                    var t = e.split(" ")[0].substr(1);
                    return "1" === t && (t = ""),
                    e.charAt(0) + "axis" + t
                }
            }
            ,
            r.name2id = function(e) {
                if (e.match(a.AX_NAME_PATTERN)) {
                    var t = e.substr(5);
                    return "1" === t && (t = ""),
                    e.charAt(0) + t
                }
            }
            ,
            r.cleanId = function(e, t, r) {
                var n = /( domain)$/.test(e);
                if ("string" == typeof e && e.match(a.AX_ID_PATTERN) && (!t || e.charAt(0) === t) && (!n || r)) {
                    var i = e.split(" ")[0].substr(1).replace(/^0+/, "");
                    return "1" === i && (i = ""),
                    e.charAt(0) + i + (n && r ? " domain" : "")
                }
            }
            ,
            r.list = function(e, t, n) {
                var a = e._fullLayout;
                if (!a)
                    return [];
                var i, o = r.listIds(e, t), s = new Array(o.length);
                for (i = 0; i < o.length; i++) {
                    var l = o[i];
                    s[i] = a[l.charAt(0) + "axis" + l.substr(1)]
                }
                if (!n) {
                    var c = a._subplots.gl3d || [];
                    for (i = 0; i < c.length; i++) {
                        var u = a[c[i]];
                        t ? s.push(u[t + "axis"]) : s.push(u.xaxis, u.yaxis, u.zaxis)
                    }
                }
                return s
            }
            ,
            r.listIds = function(e, t) {
                var r = e._fullLayout;
                if (!r)
                    return [];
                var n = r._subplots;
                return t ? n[t + "axis"] : n.xaxis.concat(n.yaxis)
            }
            ,
            r.getFromId = function(e, t, n) {
                var a = e._fullLayout;
                return t = void 0 === t || "string" != typeof t ? t : t.replace(" domain", ""),
                "x" === n ? t = t.replace(/y[0-9]*/, "") : "y" === n && (t = t.replace(/x[0-9]*/, "")),
                a[r.id2name(t)]
            }
            ,
            r.getFromTrace = function(e, t, a) {
                var i = e._fullLayout
                  , o = null;
                if (n.traceIs(t, "gl3d")) {
                    var s = t.scene;
                    "scene" === s.substr(0, 5) && (o = i[s][a + "axis"])
                } else
                    o = r.getFromId(e, t[a + "axis"] || a);
                return o
            }
            ,
            r.idSort = function(e, t) {
                var r = e.charAt(0)
                  , n = t.charAt(0);
                return r !== n ? r > n ? 1 : -1 : +(e.substr(1) || 1) - +(t.substr(1) || 1)
            }
            ,
            r.ref2id = function(e) {
                return !!/^[xyz]/.test(e) && e.split(" ")[0]
            }
            ,
            r.isLinked = function(e, t) {
                return i(t, e._axisMatchGroups) || i(t, e._axisConstraintGroups)
            }
        }
        , {
            "../../registry": 451,
            "./constants": 421
        }],
        419: [function(e, t, r) {
            "use strict";
            t.exports = function(e, t, r, n) {
                if ("category" === t.type) {
                    var a, i = e.categoryarray, o = Array.isArray(i) && i.length > 0;
                    o && (a = "array");
                    var s, l = r("categoryorder", a);
                    "array" === l && (s = r("categoryarray")),
                    o || "array" !== l || (l = t.categoryorder = "trace"),
                    "trace" === l ? t._initialCategories = [] : "array" === l ? t._initialCategories = s.slice() : (s = function(e, t) {
                        var r, n, a, i = t.dataAttr || e._id.charAt(0), o = {};
                        if (t.axData)
                            r = t.axData;
                        else
                            for (r = [],
                            n = 0; n < t.data.length; n++) {
                                var s = t.data[n];
                                s[i + "axis"] === e._id && r.push(s)
                            }
                        for (n = 0; n < r.length; n++) {
                            var l = r[n][i];
                            for (a = 0; a < l.length; a++) {
                                var c = l[a];
                                null != c && (o[c] = 1)
                            }
                        }
                        return Object.keys(o)
                    }(t, n).sort(),
                    "category ascending" === l ? t._initialCategories = s : "category descending" === l && (t._initialCategories = s.reverse()))
                }
            }
        }
        , {}],
        420: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("../../lib")
              , i = e("../../constants/numerical")
              , o = i.ONEDAY
              , s = i.ONEWEEK;
            r.dtick = function(e, t) {
                var r = "log" === t
                  , a = "date" === t
                  , i = "category" === t
                  , s = a ? o : 1;
                if (!e)
                    return s;
                if (n(e))
                    return (e = Number(e)) <= 0 ? s : i ? Math.max(1, Math.round(e)) : a ? Math.max(.1, e) : e;
                if ("string" != typeof e || !a && !r)
                    return s;
                var l = e.charAt(0)
                  , c = e.substr(1);
                return (c = n(c) ? Number(c) : 0) <= 0 || !(a && "M" === l && c === Math.round(c) || r && "L" === l || r && "D" === l && (1 === c || 2 === c)) ? s : e
            }
            ,
            r.tick0 = function(e, t, r, i) {
                return "date" === t ? a.cleanDate(e, a.dateTick0(r, i % s == 0 ? 1 : 0)) : "D1" !== i && "D2" !== i ? n(e) ? Number(e) : 0 : void 0
            }
        }
        , {
            "../../constants/numerical": 344,
            "../../lib": 365,
            "fast-isnumeric": 107
        }],
        421: [function(e, t, r) {
            "use strict";
            var n = e("../../lib/regex").counter;
            t.exports = {
                idRegex: {
                    x: n("x", "( domain)?"),
                    y: n("y", "( domain)?")
                },
                attrRegex: n("[xy]axis"),
                xAxisMatch: n("xaxis"),
                yAxisMatch: n("yaxis"),
                AX_ID_PATTERN: /^[xyz][0-9]*( domain)?$/,
                AX_NAME_PATTERN: /^[xyz]axis[0-9]*$/,
                SUBPLOT_PATTERN: /^x([0-9]*)y([0-9]*)$/,
                HOUR_PATTERN: "hour",
                WEEKDAY_PATTERN: "day of week",
                MINDRAG: 8,
                MINSELECT: 12,
                MINZOOM: 20,
                DRAGGERSIZE: 20,
                BENDPX: 1.5,
                REDRAWDELAY: 50,
                SELECTDELAY: 100,
                SELECTID: "-select",
                DFLTRANGEX: [-1, 6],
                DFLTRANGEY: [-1, 4],
                traceLayerClasses: ["imagelayer", "heatmaplayer", "contourcarpetlayer", "contourlayer", "funnellayer", "waterfalllayer", "barlayer", "carpetlayer", "violinlayer", "boxlayer", "ohlclayer", "scattercarpetlayer", "scatterlayer"],
                clipOnAxisFalseQuery: [".scatterlayer", ".barlayer", ".funnellayer", ".waterfalllayer"],
                layerValue2layerClass: {
                    "above traces": "above",
                    "below traces": "below"
                }
            }
        }
        , {
            "../../lib/regex": 382
        }],
        422: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("./autorange")
              , i = e("./axis_ids").id2name
              , o = e("./layout_attributes")
              , s = e("./scale_zoom")
              , l = e("./set_convert")
              , c = e("../../constants/numerical").ALMOST_EQUAL
              , u = e("../../constants/alignment").FROM_BL;
            function f(e, t, r) {
                var a = r.axIds
                  , s = r.layoutOut
                  , l = r.hasImage
                  , c = s._axisConstraintGroups
                  , u = s._axisMatchGroups
                  , f = t._id
                  , g = f.charAt(0)
                  , y = ((s._splomAxes || {})[g] || {})[f] || {}
                  , v = t._id
                  , m = "x" === v.charAt(0);
                function b(r, a) {
                    return n.coerce(e, t, o, r, a)
                }
                t._matchGroup = null,
                t._constraintGroup = null,
                b("constrain", l ? "domain" : "range"),
                n.coerce(e, t, {
                    constraintoward: {
                        valType: "enumerated",
                        values: m ? ["left", "center", "right"] : ["bottom", "middle", "top"],
                        dflt: m ? "center" : "middle"
                    }
                }, "constraintoward");
                var x, _, w = t.type, A = [];
                for (x = 0; x < a.length; x++) {
                    if ((_ = a[x]) !== v)
                        s[i(_)].type === w && A.push(_)
                }
                var k = h(c, v);
                if (k) {
                    var T = [];
                    for (x = 0; x < A.length; x++)
                        k[_ = A[x]] || T.push(_);
                    A = T
                }
                var M, S, C = A.length;
                C && (e.matches || y.matches) && (M = n.coerce(e, t, {
                    matches: {
                        valType: "enumerated",
                        values: A,
                        dflt: -1 !== A.indexOf(y.matches) ? y.matches : void 0
                    }
                }, "matches"));
                var O = l && !m ? t.anchor : void 0;
                if (C && !M && (e.scaleanchor || O) && (S = n.coerce(e, t, {
                    scaleanchor: {
                        valType: "enumerated",
                        values: A
                    }
                }, "scaleanchor", O)),
                M) {
                    t._matchGroup = p(u, v, M, 1);
                    var D = s[i(M)]
                      , L = d(s, t) / d(s, D);
                    m !== ("x" === M.charAt(0)) && (L = (m ? "x" : "y") + L),
                    p(c, v, M, L)
                } else
                    e.matches && -1 !== a.indexOf(e.matches) && n.warn("ignored " + t._name + '.matches: "' + e.matches + '" to avoid an infinite loop');
                if (S) {
                    var E = b("scaleratio");
                    E || (E = t.scaleratio = 1),
                    p(c, v, S, E)
                } else
                    e.scaleanchor && -1 !== a.indexOf(e.scaleanchor) && n.warn("ignored " + t._name + '.scaleanchor: "' + e.scaleanchor + '" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')
            }
            function d(e, t) {
                var r = t.domain;
                return r || (r = e[i(t.overlaying)].domain),
                r[1] - r[0]
            }
            function h(e, t) {
                for (var r = 0; r < e.length; r++)
                    if (e[r][t])
                        return e[r];
                return null
            }
            function p(e, t, r, n) {
                var a, i, o, s, l, c = h(e, t);
                null === c ? ((c = {})[t] = 1,
                l = e.length,
                e.push(c)) : l = e.indexOf(c);
                var u = Object.keys(c);
                for (a = 0; a < e.length; a++)
                    if (o = e[a],
                    a !== l && o[r]) {
                        var f = o[r];
                        for (i = 0; i < u.length; i++)
                            o[s = u[i]] = g(f, g(n, c[s]));
                        return void e.splice(l, 1)
                    }
                if (1 !== n)
                    for (i = 0; i < u.length; i++) {
                        var d = u[i];
                        c[d] = g(n, c[d])
                    }
                c[r] = 1
            }
            function g(e, t) {
                var r, n, a = "", i = "";
                "string" == typeof e && (r = (a = e.match(/^[xy]*/)[0]).length,
                e = +e.substr(r)),
                "string" == typeof t && (n = (i = t.match(/^[xy]*/)[0]).length,
                t = +t.substr(n));
                var o = e * t;
                return r || n ? r && n && a.charAt(0) !== i.charAt(0) ? r === n ? o : (r > n ? a.substr(n) : i.substr(r)) + o : a + i + e * t : o
            }
            function y(e, t) {
                for (var r = t._size, n = r.h / r.w, a = {}, i = Object.keys(e), o = 0; o < i.length; o++) {
                    var s = i[o]
                      , l = e[s];
                    if ("string" == typeof l) {
                        var c = l.match(/^[xy]*/)[0]
                          , u = c.length;
                        l = +l.substr(u);
                        for (var f = "y" === c.charAt(0) ? n : 1 / n, d = 0; d < u; d++)
                            l *= f
                    }
                    a[s] = l
                }
                return a
            }
            function v(e, t) {
                var r = e._inputDomain
                  , n = u[e.constraintoward]
                  , a = r[0] + (r[1] - r[0]) * n;
                e.domain = e._input.domain = [a + (r[0] - a) / t, a + (r[1] - a) / t],
                e.setScale()
            }
            r.handleDefaults = function(e, t, r) {
                var a, o, s, c, u, d, h, p, g = r.axIds, y = r.axHasImage, v = t._axisConstraintGroups = [], m = t._axisMatchGroups = [];
                for (a = 0; a < g.length; a++)
                    f(u = e[c = i(g[a])], d = t[c], {
                        axIds: g,
                        layoutOut: t,
                        hasImage: y[c]
                    });
                function b(e, r) {
                    for (a = 0; a < e.length; a++)
                        for (s in o = e[a])
                            t[i(s)][r] = o
                }
                for (b(m, "_matchGroup"),
                a = 0; a < v.length; a++)
                    for (s in o = v[a])
                        if ((d = t[i(s)]).fixedrange) {
                            for (var x in o) {
                                var _ = i(x);
                                !1 === (e[_] || {}).fixedrange && n.warn("fixedrange was specified as false for axis " + _ + " but was overridden because another axis in its constraint group has fixedrange true"),
                                t[_].fixedrange = !0
                            }
                            break
                        }
                for (a = 0; a < v.length; ) {
                    for (s in o = v[a]) {
                        (d = t[i(s)])._matchGroup && Object.keys(d._matchGroup).length === Object.keys(o).length && (v.splice(a, 1),
                        a--);
                        break
                    }
                    a++
                }
                b(v, "_constraintGroup");
                var w = ["constrain", "range", "autorange", "rangemode", "rangebreaks", "categoryorder", "categoryarray"]
                  , A = !1
                  , k = !1;
                function T() {
                    p = d[h],
                    "rangebreaks" === h && (k = d._hasDayOfWeekBreaks)
                }
                for (a = 0; a < m.length; a++) {
                    o = m[a];
                    for (var M = 0; M < w.length; M++) {
                        var S;
                        for (s in h = w[M],
                        p = null,
                        o)
                            if (u = e[c = i(s)],
                            d = t[c],
                            h in d) {
                                if (!d.matches && (S = d,
                                h in u)) {
                                    T();
                                    break
                                }
                                null === p && h in u && T()
                            }
                        if ("range" === h && p && (A = !0),
                        "autorange" === h && null === p && A && (p = !1),
                        null === p && h in S && (p = S[h]),
                        null !== p)
                            for (s in o)
                                (d = t[i(s)])[h] = "range" === h ? p.slice() : p,
                                "rangebreaks" === h && (d._hasDayOfWeekBreaks = k,
                                l(d, t))
                    }
                }
            }
            ,
            r.enforce = function(e) {
                var t, r, n, o, l, u, f, d, h = e._fullLayout, p = h._axisConstraintGroups || [];
                for (t = 0; t < p.length; t++) {
                    n = y(p[t], h);
                    var g = Object.keys(n)
                      , m = 1 / 0
                      , b = 0
                      , x = 1 / 0
                      , _ = {}
                      , w = {}
                      , A = !1;
                    for (r = 0; r < g.length; r++)
                        w[o = g[r]] = l = h[i(o)],
                        l._inputDomain ? l.domain = l._inputDomain.slice() : l._inputDomain = l.domain.slice(),
                        l._inputRange || (l._inputRange = l.range.slice()),
                        l.setScale(),
                        _[o] = u = Math.abs(l._m) / n[o],
                        m = Math.min(m, u),
                        "domain" !== l.constrain && l._constraintShrinkable || (x = Math.min(x, u)),
                        delete l._constraintShrinkable,
                        b = Math.max(b, u),
                        "domain" === l.constrain && (A = !0);
                    if (!(m > c * b) || A)
                        for (r = 0; r < g.length; r++)
                            if (u = _[o = g[r]],
                            f = (l = w[o]).constrain,
                            u !== x || "domain" === f)
                                if (d = u / x,
                                "range" === f)
                                    s(l, d);
                                else {
                                    var k = l._inputDomain
                                      , T = (l.domain[1] - l.domain[0]) / (k[1] - k[0])
                                      , M = (l.r2l(l.range[1]) - l.r2l(l.range[0])) / (l.r2l(l._inputRange[1]) - l.r2l(l._inputRange[0]));
                                    if ((d /= T) * M < 1) {
                                        l.domain = l._input.domain = k.slice(),
                                        s(l, d);
                                        continue
                                    }
                                    if (M < 1 && (l.range = l._input.range = l._inputRange.slice(),
                                    d *= M),
                                    l.autorange) {
                                        var S = l.r2l(l.range[0])
                                          , C = l.r2l(l.range[1])
                                          , O = (S + C) / 2
                                          , D = O
                                          , L = O
                                          , E = Math.abs(C - O)
                                          , z = O - E * d * 1.0001
                                          , F = O + E * d * 1.0001
                                          , P = a.makePadFn(h, l, 0)
                                          , I = a.makePadFn(h, l, 1);
                                        v(l, d);
                                        var N, R, j = Math.abs(l._m), B = a.concatExtremes(e, l), H = B.min, U = B.max;
                                        for (R = 0; R < H.length; R++)
                                            (N = H[R].val - P(H[R]) / j) > z && N < D && (D = N);
                                        for (R = 0; R < U.length; R++)
                                            (N = U[R].val + I(U[R]) / j) < F && N > L && (L = N);
                                        d /= (L - D) / (2 * E),
                                        D = l.l2r(D),
                                        L = l.l2r(L),
                                        l.range = l._input.range = S < C ? [D, L] : [L, D]
                                    }
                                    v(l, d)
                                }
                }
            }
            ,
            r.getAxisGroup = function(e, t) {
                for (var r = e._axisMatchGroups, n = 0; n < r.length; n++) {
                    if (r[n][t])
                        return "g" + n
                }
                return t
            }
            ,
            r.clean = function(e, t) {
                if (t._inputDomain) {
                    for (var r = !1, n = t._id, a = e._fullLayout._axisConstraintGroups, i = 0; i < a.length; i++)
                        if (a[i][n]) {
                            r = !0;
                            break
                        }
                    r && "domain" === t.constrain || (t._input.domain = t.domain = t._inputDomain,
                    delete t._inputDomain)
                }
            }
        }
        , {
            "../../constants/alignment": 340,
            "../../constants/numerical": 344,
            "../../lib": 365,
            "./autorange": 413,
            "./axis_ids": 418,
            "./layout_attributes": 429,
            "./scale_zoom": 433,
            "./set_convert": 435
        }],
        423: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../../lib")
              , i = a.numberFormat
              , o = e("tinycolor2")
              , s = e("has-passive-events")
              , l = e("../../registry")
              , c = a.strTranslate
              , u = e("../../lib/svg_text_utils")
              , f = e("../../components/color")
              , d = e("../../components/drawing")
              , h = e("../../components/fx")
              , p = e("./axes")
              , g = e("../../lib/setcursor")
              , y = e("../../components/dragelement")
              , v = e("../../components/dragelement/helpers")
              , m = v.selectingOrDrawing
              , b = v.freeMode
              , x = e("../../constants/alignment").FROM_TL
              , _ = e("../../lib/clear_gl_canvases")
              , w = e("../../plot_api/subroutines").redrawReglTraces
              , A = e("../plots")
              , k = e("./axis_ids").getFromId
              , T = e("./select").prepSelect
              , M = e("./select").clearSelect
              , S = e("./select").selectOnClick
              , C = e("./scale_zoom")
              , O = e("./constants")
              , D = O.MINDRAG
              , L = O.MINZOOM
              , E = !0;
            function z(e, t, r, n) {
                var i = a.ensureSingle(e.draglayer, t, r, (function(t) {
                    t.classed("drag", !0).style({
                        fill: "transparent",
                        "stroke-width": 0
                    }).attr("data-subplot", e.id)
                }
                ));
                return i.call(g, n),
                i.node()
            }
            function F(e, t, r, a, i, o, s) {
                var l = z(e, "rect", t, r);
                return n.select(l).call(d.setRect, a, i, o, s),
                l
            }
            function P(e, t) {
                for (var r = 0; r < e.length; r++)
                    if (!e[r].fixedrange)
                        return t;
                return ""
            }
            function I(e, t, r, n, a) {
                for (var i = 0; i < e.length; i++) {
                    var o = e[i];
                    if (!o.fixedrange)
                        if (o.rangebreaks) {
                            var s = "y" === o._id.charAt(0)
                              , l = s ? 1 - t : t
                              , c = s ? 1 - r : r;
                            n[o._name + ".range[0]"] = o.l2r(o.p2l(l * o._length)),
                            n[o._name + ".range[1]"] = o.l2r(o.p2l(c * o._length))
                        } else {
                            var u = o._rl[0]
                              , f = o._rl[1] - u;
                            n[o._name + ".range[0]"] = o.l2r(u + f * t),
                            n[o._name + ".range[1]"] = o.l2r(u + f * r)
                        }
                }
                if (a && a.length) {
                    var d = (t + (1 - r)) / 2;
                    I(a, d, 1 - d, n, [])
                }
            }
            function N(e, t) {
                for (var r = 0; r < e.length; r++) {
                    var n = e[r];
                    if (!n.fixedrange)
                        if (n.rangebreaks) {
                            var a = n._length
                              , i = (n.p2l(0 + t) - n.p2l(0) + (n.p2l(a + t) - n.p2l(a))) / 2;
                            n.range = [n.l2r(n._rl[0] - i), n.l2r(n._rl[1] - i)]
                        } else
                            n.range = [n.l2r(n._rl[0] - t / n._m), n.l2r(n._rl[1] - t / n._m)]
                }
            }
            function R(e) {
                return 1 - (e >= 0 ? Math.min(e, .9) : 1 / (1 / Math.max(e, -.3) + 3.222))
            }
            function j(e, t, r, n, a) {
                return e.append("path").attr("class", "zoombox").style({
                    fill: t > .2 ? "rgba(0,0,0,0)" : "rgba(255,255,255,0)",
                    "stroke-width": 0
                }).attr("transform", c(r, n)).attr("d", a + "Z")
            }
            function B(e, t, r) {
                return e.append("path").attr("class", "zoombox-corners").style({
                    fill: f.background,
                    stroke: f.defaultLine,
                    "stroke-width": 1,
                    opacity: 0
                }).attr("transform", c(t, r)).attr("d", "M0,0Z")
            }
            function H(e, t, r, n, a, i) {
                e.attr("d", n + "M" + r.l + "," + r.t + "v" + r.h + "h" + r.w + "v-" + r.h + "h-" + r.w + "Z"),
                U(e, t, a, i)
            }
            function U(e, t, r, n) {
                r || (e.transition().style("fill", n > .2 ? "rgba(0,0,0,0.4)" : "rgba(255,255,255,0.3)").duration(200),
                t.transition().style("opacity", 1).duration(200))
            }
            function Y(e) {
                n.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()
            }
            function V(e) {
                E && e.data && e._context.showTips && (a.notifier(a._(e, "Double-click to zoom back out"), "long"),
                E = !1)
            }
            function q(e) {
                var t = Math.floor(Math.min(e.b - e.t, e.r - e.l, L) / 2);
                return "M" + (e.l - 3.5) + "," + (e.t - .5 + t) + "h3v" + -t + "h" + t + "v-3h-" + (t + 3) + "ZM" + (e.r + 3.5) + "," + (e.t - .5 + t) + "h-3v" + -t + "h" + -t + "v-3h" + (t + 3) + "ZM" + (e.r + 3.5) + "," + (e.b + .5 - t) + "h-3v" + t + "h" + -t + "v3h" + (t + 3) + "ZM" + (e.l - 3.5) + "," + (e.b + .5 - t) + "h3v" + t + "h" + t + "v3h-" + (t + 3) + "Z"
            }
            function W(e, t, r, n, i) {
                for (var o, s, l, c, u = !1, f = {}, d = {}, h = (i || {}).xaHash, p = (i || {}).yaHash, g = 0; g < t.length; g++) {
                    var y = t[g];
                    for (o in r)
                        if (y[o]) {
                            for (l in y)
                                i && (h[l] || p[l]) || ("x" === l.charAt(0) ? r : n)[l] || (f[l] = o);
                            for (s in n)
                                i && (h[s] || p[s]) || !y[s] || (u = !0)
                        }
                    for (s in n)
                        if (y[s])
                            for (c in y)
                                i && (h[c] || p[c]) || ("x" === c.charAt(0) ? r : n)[c] || (d[c] = s)
                }
                u && (a.extendFlat(f, d),
                d = {});
                var v = {}
                  , m = [];
                for (l in f) {
                    var b = k(e, l);
                    m.push(b),
                    v[b._id] = b
                }
                var x = {}
                  , _ = [];
                for (c in d) {
                    var w = k(e, c);
                    _.push(w),
                    x[w._id] = w
                }
                return {
                    xaHash: v,
                    yaHash: x,
                    xaxes: m,
                    yaxes: _,
                    xLinks: f,
                    yLinks: d,
                    isSubplotConstrained: u
                }
            }
            function G(e, t) {
                if (s) {
                    var r = void 0 !== e.onwheel ? "wheel" : "mousewheel";
                    e._onwheel && e.removeEventListener(r, e._onwheel),
                    e._onwheel = t,
                    e.addEventListener(r, t, {
                        passive: !1
                    })
                } else
                    void 0 !== e.onwheel ? e.onwheel = t : void 0 !== e.onmousewheel ? e.onmousewheel = t : e.isAddedWheelEvent || (e.isAddedWheelEvent = !0,
                    e.addEventListener("wheel", t, {
                        passive: !1
                    }))
            }
            function Z(e) {
                var t = [];
                for (var r in e)
                    t.push(e[r]);
                return t
            }
            t.exports = {
                makeDragBox: function(e, t, r, s, c, f, g, v) {
                    var E, z, U, J, X, Q, $, K, ee, te, re, ne, ae, ie, oe, se, le, ce, ue, fe, de, he, pe, ge = e._fullLayout._zoomlayer, ye = g + v === "nsew", ve = 1 === (g + v).length;
                    function me() {
                        if (E = t.xaxis,
                        z = t.yaxis,
                        ee = E._length,
                        te = z._length,
                        $ = E._offset,
                        K = z._offset,
                        (U = {})[E._id] = E,
                        (J = {})[z._id] = z,
                        g && v)
                            for (var r = t.overlays, n = 0; n < r.length; n++) {
                                var a = r[n].xaxis;
                                U[a._id] = a;
                                var i = r[n].yaxis;
                                J[i._id] = i
                            }
                        X = Z(U),
                        Q = Z(J),
                        ae = P(X, v),
                        ie = P(Q, g),
                        oe = !ie && !ae,
                        ne = W(e, e._fullLayout._axisMatchGroups, U, J);
                        var o = (re = W(e, e._fullLayout._axisConstraintGroups, U, J, ne)).isSubplotConstrained || ne.isSubplotConstrained;
                        se = v || o,
                        le = g || o;
                        var s = e._fullLayout;
                        ce = s._has("scattergl"),
                        ue = s._has("splom"),
                        fe = s._has("svg")
                    }
                    me();
                    var be = function(e, t, r) {
                        if (!e)
                            return "pointer";
                        if ("nsew" === e)
                            return r ? "" : "pan" === t ? "move" : "crosshair";
                        return e.toLowerCase() + "-resize"
                    }(ie + ae, e._fullLayout.dragmode, ye)
                      , xe = F(t, g + v + "drag", be, r, s, c, f);
                    if (oe && !ye)
                        return xe.onmousedown = null,
                        xe.style.pointerEvents = "none",
                        xe;
                    var _e, we, Ae, ke, Te, Me, Se, Ce, Oe, De, Le = {
                        element: xe,
                        gd: e,
                        plotinfo: t
                    };
                    function Ee() {
                        Le.plotinfo.selection = !1,
                        M(e)
                    }
                    function ze(e, r) {
                        var a = Le.gd;
                        if (a._fullLayout._activeShapeIndex >= 0)
                            a._fullLayout._deactivateShape(a);
                        else {
                            var o = a._fullLayout.clickmode;
                            if (Y(a),
                            2 !== e || ve || Ve(),
                            ye)
                                o.indexOf("select") > -1 && S(r, a, X, Q, t.id, Le),
                                o.indexOf("event") > -1 && h.click(a, r, t.id);
                            else if (1 === e && ve) {
                                var s = g ? z : E
                                  , c = "s" === g || "w" === v ? 0 : 1
                                  , f = s._name + ".range[" + c + "]"
                                  , d = function(e, t) {
                                    var r, n = e.range[t], a = Math.abs(n - e.range[1 - t]);
                                    return "date" === e.type ? n : "log" === e.type ? (r = Math.ceil(Math.max(0, -Math.log(a) / Math.LN10)) + 3,
                                    i("." + r + "g")(Math.pow(10, n))) : (r = Math.floor(Math.log(Math.abs(n)) / Math.LN10) - Math.floor(Math.log(a) / Math.LN10) + 4,
                                    i("." + String(r) + "g")(n))
                                }(s, c)
                                  , p = "left"
                                  , y = "middle";
                                if (s.fixedrange)
                                    return;
                                g ? (y = "n" === g ? "top" : "bottom",
                                "right" === s.side && (p = "right")) : "e" === v && (p = "right"),
                                a._context.showAxisRangeEntryBoxes && n.select(xe).call(u.makeEditable, {
                                    gd: a,
                                    immediate: !0,
                                    background: a._fullLayout.paper_bgcolor,
                                    text: String(d),
                                    fill: s.tickfont ? s.tickfont.color : "#444",
                                    horizontalAlign: p,
                                    verticalAlign: y
                                }).on("edit", (function(e) {
                                    var t = s.d2r(e);
                                    void 0 !== t && l.call("_guiRelayout", a, f, t)
                                }
                                ))
                            }
                        }
                    }
                    function Fe(t, r) {
                        if (e._transitioningWithDuration)
                            return !1;
                        var n = Math.max(0, Math.min(ee, he * t + _e))
                          , a = Math.max(0, Math.min(te, pe * r + we))
                          , i = Math.abs(n - _e)
                          , o = Math.abs(a - we);
                        function s() {
                            Se = "",
                            Ae.r = Ae.l,
                            Ae.t = Ae.b,
                            Oe.attr("d", "M0,0Z")
                        }
                        if (Ae.l = Math.min(_e, n),
                        Ae.r = Math.max(_e, n),
                        Ae.t = Math.min(we, a),
                        Ae.b = Math.max(we, a),
                        re.isSubplotConstrained)
                            i > L || o > L ? (Se = "xy",
                            i / ee > o / te ? (o = i * te / ee,
                            we > a ? Ae.t = we - o : Ae.b = we + o) : (i = o * ee / te,
                            _e > n ? Ae.l = _e - i : Ae.r = _e + i),
                            Oe.attr("d", q(Ae))) : s();
                        else if (ne.isSubplotConstrained)
                            if (i > L || o > L) {
                                Se = "xy";
                                var l = Math.min(Ae.l / ee, (te - Ae.b) / te)
                                  , c = Math.max(Ae.r / ee, (te - Ae.t) / te);
                                Ae.l = l * ee,
                                Ae.r = c * ee,
                                Ae.b = (1 - l) * te,
                                Ae.t = (1 - c) * te,
                                Oe.attr("d", q(Ae))
                            } else
                                s();
                        else
                            !ie || o < Math.min(Math.max(.6 * i, D), L) ? i < D || !ae ? s() : (Ae.t = 0,
                            Ae.b = te,
                            Se = "x",
                            Oe.attr("d", function(e, t) {
                                return "M" + (e.l - .5) + "," + (t - L - .5) + "h-3v" + (2 * L + 1) + "h3ZM" + (e.r + .5) + "," + (t - L - .5) + "h3v" + (2 * L + 1) + "h-3Z"
                            }(Ae, we))) : !ae || i < Math.min(.6 * o, L) ? (Ae.l = 0,
                            Ae.r = ee,
                            Se = "y",
                            Oe.attr("d", function(e, t) {
                                return "M" + (t - L - .5) + "," + (e.t - .5) + "v-3h" + (2 * L + 1) + "v3ZM" + (t - L - .5) + "," + (e.b + .5) + "v3h" + (2 * L + 1) + "v-3Z"
                            }(Ae, _e))) : (Se = "xy",
                            Oe.attr("d", q(Ae)));
                        Ae.w = Ae.r - Ae.l,
                        Ae.h = Ae.b - Ae.t,
                        Se && (De = !0),
                        e._dragged = De,
                        H(Ce, Oe, Ae, Te, Me, ke),
                        Pe(),
                        e.emit("plotly_relayouting", de),
                        Me = !0
                    }
                    function Pe() {
                        de = {},
                        "xy" !== Se && "x" !== Se || (I(X, Ae.l / ee, Ae.r / ee, de, re.xaxes),
                        Ue("x", de)),
                        "xy" !== Se && "y" !== Se || (I(Q, (te - Ae.b) / te, (te - Ae.t) / te, de, re.yaxes),
                        Ue("y", de))
                    }
                    function Ie() {
                        Pe(),
                        Y(e),
                        qe(),
                        V(e)
                    }
                    Le.prepFn = function(t, r, n) {
                        var i = Le.dragmode
                          , s = e._fullLayout.dragmode;
                        s !== i && (Le.dragmode = s),
                        me(),
                        he = e._fullLayout._invScaleX,
                        pe = e._fullLayout._invScaleY,
                        oe || (ye ? t.shiftKey ? "pan" === s ? s = "zoom" : m(s) || (s = "pan") : t.ctrlKey && (s = "pan") : s = "pan"),
                        b(s) ? Le.minDrag = 1 : Le.minDrag = void 0,
                        m(s) ? (Le.xaxes = X,
                        Le.yaxes = Q,
                        T(t, r, n, Le, s)) : (Le.clickFn = ze,
                        m(i) && Ee(),
                        oe || ("zoom" === s ? (Le.moveFn = Fe,
                        Le.doneFn = Ie,
                        Le.minDrag = 1,
                        function(t, r, n) {
                            var i = xe.getBoundingClientRect();
                            _e = r - i.left,
                            we = n - i.top,
                            e._fullLayout._calcInverseTransform(e);
                            var s = a.apply3DTransform(e._fullLayout._invTransform)(_e, we);
                            _e = s[0],
                            we = s[1],
                            Ae = {
                                l: _e,
                                r: _e,
                                w: 0,
                                t: we,
                                b: we,
                                h: 0
                            },
                            ke = e._hmpixcount ? e._hmlumcount / e._hmpixcount : o(e._fullLayout.plot_bgcolor).getLuminance(),
                            Me = !1,
                            Se = "xy",
                            De = !1,
                            Ce = j(ge, ke, $, K, Te = "M0,0H" + ee + "V" + te + "H0V0"),
                            Oe = B(ge, $, K)
                        }(0, r, n)) : "pan" === s && (Le.moveFn = He,
                        Le.doneFn = qe))),
                        e._fullLayout._redrag = function() {
                            var t = e._dragdata;
                            if (t && t.element === xe) {
                                var r = e._fullLayout.dragmode;
                                m(r) || (me(),
                                We([0, 0, ee, te]),
                                Le.moveFn(t.dx, t.dy))
                            }
                        }
                    }
                    ,
                    y.init(Le);
                    var Ne = [0, 0, ee, te]
                      , Re = null
                      , je = O.REDRAWDELAY
                      , Be = t.mainplot ? e._fullLayout._plots[t.mainplot] : t;
                    function He(t, r) {
                        if (t *= he,
                        r *= pe,
                        !e._transitioningWithDuration) {
                            if (e._fullLayout._replotting = !0,
                            "ew" === ae || "ns" === ie) {
                                var n = ae ? -t : 0
                                  , a = ie ? -r : 0;
                                if (ne.isSubplotConstrained) {
                                    if (ae && ie) {
                                        var i = (t / ee - r / te) / 2;
                                        n = -(t = i * ee),
                                        a = -(r = -i * te)
                                    }
                                    ie ? n = -a * ee / te : a = -n * te / ee
                                }
                                return ae && (N(X, t),
                                Ue("x")),
                                ie && (N(Q, r),
                                Ue("y")),
                                We([n, a, ee, te]),
                                Ye(),
                                void e.emit("plotly_relayouting", de)
                            }
                            var o, s, l = "w" === ae == ("n" === ie) ? 1 : -1;
                            if (ae && ie && (re.isSubplotConstrained || ne.isSubplotConstrained)) {
                                var c = (t / ee + l * r / te) / 2;
                                t = c * ee,
                                r = l * c * te
                            }
                            if ("w" === ae ? t = h(X, 0, t) : "e" === ae ? t = h(X, 1, -t) : ae || (t = 0),
                            "n" === ie ? r = h(Q, 1, r) : "s" === ie ? r = h(Q, 0, -r) : ie || (r = 0),
                            o = "w" === ae ? t : 0,
                            s = "n" === ie ? r : 0,
                            re.isSubplotConstrained && !ne.isSubplotConstrained || ne.isSubplotConstrained && ae && ie && l > 0) {
                                var u;
                                if (ne.isSubplotConstrained || !ae && 1 === ie.length) {
                                    for (u = 0; u < X.length; u++)
                                        X[u].range = X[u]._r.slice(),
                                        C(X[u], 1 - r / te);
                                    o = (t = r * ee / te) / 2
                                }
                                if (ne.isSubplotConstrained || !ie && 1 === ae.length) {
                                    for (u = 0; u < Q.length; u++)
                                        Q[u].range = Q[u]._r.slice(),
                                        C(Q[u], 1 - t / ee);
                                    s = (r = t * te / ee) / 2
                                }
                            }
                            ne.isSubplotConstrained && ie || Ue("x"),
                            ne.isSubplotConstrained && ae || Ue("y");
                            var f = ee - t
                              , d = te - r;
                            !ne.isSubplotConstrained || ae && ie || (ae ? (s = o ? 0 : t * te / ee,
                            d = f * te / ee) : (o = s ? 0 : r * ee / te,
                            f = d * ee / te)),
                            We([o, s, f, d]),
                            Ye(),
                            e.emit("plotly_relayouting", de)
                        }
                        function h(e, t, r) {
                            for (var n, a, i = 1 - t, o = 0; o < e.length; o++) {
                                var s = e[o];
                                if (!s.fixedrange) {
                                    n = s,
                                    a = s._rl[i] + (s._rl[t] - s._rl[i]) / R(r / s._length);
                                    var l = s.l2r(a);
                                    !1 !== l && void 0 !== l && (s.range[t] = l)
                                }
                            }
                            return n._length * (n._rl[t] - a) / (n._rl[t] - n._rl[i])
                        }
                    }
                    function Ue(e, t) {
                        for (var r = ne.isSubplotConstrained ? {
                            x: Q,
                            y: X
                        }[e] : ne[e + "axes"], n = ne.isSubplotConstrained ? {
                            x: X,
                            y: Q
                        }[e] : [], a = 0; a < r.length; a++) {
                            var i = r[a]
                              , o = i._id
                              , s = ne.xLinks[o] || ne.yLinks[o]
                              , l = n[0] || U[s] || J[s];
                            l && (t ? (t[i._name + ".range[0]"] = t[l._name + ".range[0]"],
                            t[i._name + ".range[1]"] = t[l._name + ".range[1]"]) : i.range = l.range.slice())
                        }
                    }
                    function Ye() {
                        var t, r = [];
                        function n(e) {
                            for (t = 0; t < e.length; t++)
                                e[t].fixedrange || r.push(e[t]._id)
                        }
                        for (se && (n(X),
                        n(re.xaxes),
                        n(ne.xaxes)),
                        le && (n(Q),
                        n(re.yaxes),
                        n(ne.yaxes)),
                        de = {},
                        t = 0; t < r.length; t++) {
                            var a = r[t]
                              , i = k(e, a);
                            p.drawOne(e, i, {
                                skipTitle: !0
                            }),
                            de[i._name + ".range[0]"] = i.range[0],
                            de[i._name + ".range[1]"] = i.range[1]
                        }
                        p.redrawComponents(e, r)
                    }
                    function Ve() {
                        if (!e._transitioningWithDuration) {
                            var t = e._context.doubleClick
                              , r = [];
                            ae && (r = r.concat(X)),
                            ie && (r = r.concat(Q)),
                            ne.xaxes && (r = r.concat(ne.xaxes)),
                            ne.yaxes && (r = r.concat(ne.yaxes));
                            var n, a, i, o = {};
                            if ("reset+autosize" === t)
                                for (t = "autosize",
                                a = 0; a < r.length; a++)
                                    if ((n = r[a])._rangeInitial && (n.range[0] !== n._rangeInitial[0] || n.range[1] !== n._rangeInitial[1]) || !n._rangeInitial && !n.autorange) {
                                        t = "reset";
                                        break
                                    }
                            if ("autosize" === t)
                                for (a = 0; a < r.length; a++)
                                    (n = r[a]).fixedrange || (o[n._name + ".autorange"] = !0);
                            else if ("reset" === t)
                                for ((ae || re.isSubplotConstrained) && (r = r.concat(re.xaxes)),
                                ie && !re.isSubplotConstrained && (r = r.concat(re.yaxes)),
                                re.isSubplotConstrained && (ae ? ie || (r = r.concat(Q)) : r = r.concat(X)),
                                a = 0; a < r.length; a++)
                                    (n = r[a]).fixedrange || (n._rangeInitial ? (i = n._rangeInitial,
                                    o[n._name + ".range[0]"] = i[0],
                                    o[n._name + ".range[1]"] = i[1]) : o[n._name + ".autorange"] = !0);
                            e.emit("plotly_doubleclick", null),
                            l.call("_guiRelayout", e, o)
                        }
                    }
                    function qe() {
                        We([0, 0, ee, te]),
                        a.syncOrAsync([A.previousPromises, function() {
                            e._fullLayout._replotting = !1,
                            l.call("_guiRelayout", e, de)
                        }
                        ], e)
                    }
                    function We(t) {
                        var r, n, i, o, s = e._fullLayout, c = s._plots, u = s._subplots.cartesian;
                        if (ue && l.subplotsRegistry.splom.drag(e),
                        ce)
                            for (r = 0; r < u.length; r++)
                                if (i = (n = c[u[r]]).xaxis,
                                o = n.yaxis,
                                n._scene) {
                                    var f = a.simpleMap(i.range, i.r2l)
                                      , h = a.simpleMap(o.range, o.r2l);
                                    n._scene.update({
                                        range: [f[0], h[0], f[1], h[1]]
                                    })
                                }
                        if ((ue || ce) && (_(e),
                        w(e)),
                        fe) {
                            var p = t[2] / E._length
                              , y = t[3] / z._length;
                            for (r = 0; r < u.length; r++) {
                                i = (n = c[u[r]]).xaxis,
                                o = n.yaxis;
                                var m, b, x, A, k = (se || ne.isSubplotConstrained) && !i.fixedrange && U[i._id], T = (le || ne.isSubplotConstrained) && !o.fixedrange && J[o._id];
                                if (k ? (m = p,
                                x = v || ne.isSubplotConstrained ? t[0] : Je(i, m)) : ne.xaHash[i._id] ? (m = p,
                                x = t[0] * i._length / E._length) : ne.yaHash[i._id] ? (m = y,
                                x = "ns" === ie ? -t[1] * i._length / z._length : Je(i, m, {
                                    n: "top",
                                    s: "bottom"
                                }[ie])) : x = Ze(i, m = Ge(i, p, y)),
                                T ? (b = y,
                                A = g || ne.isSubplotConstrained ? t[1] : Je(o, b)) : ne.yaHash[o._id] ? (b = y,
                                A = t[1] * o._length / z._length) : ne.xaHash[o._id] ? (b = p,
                                A = "ew" === ae ? -t[0] * o._length / E._length : Je(o, b, {
                                    e: "right",
                                    w: "left"
                                }[ae])) : A = Ze(o, b = Ge(o, p, y)),
                                m || b) {
                                    m || (m = 1),
                                    b || (b = 1);
                                    var M = i._offset - x / m
                                      , S = o._offset - A / b;
                                    n.clipRect.call(d.setTranslate, x, A).call(d.setScale, m, b),
                                    n.plot.call(d.setTranslate, M, S).call(d.setScale, 1 / m, 1 / b),
                                    m === n.xScaleFactor && b === n.yScaleFactor || (d.setPointGroupScale(n.zoomScalePts, m, b),
                                    d.setTextPointsScale(n.zoomScaleTxt, m, b)),
                                    d.hideOutsideRangePoints(n.clipOnAxisFalseTraces, n),
                                    n.xScaleFactor = m,
                                    n.yScaleFactor = b
                                }
                            }
                        }
                    }
                    function Ge(e, t, r) {
                        return e.fixedrange ? 0 : se && re.xaHash[e._id] ? t : le && (re.isSubplotConstrained ? re.xaHash : re.yaHash)[e._id] ? r : 0
                    }
                    function Ze(e, t) {
                        return t ? (e.range = e._r.slice(),
                        C(e, t),
                        Je(e, t)) : 0
                    }
                    function Je(e, t, r) {
                        return e._length * (1 - t) * x[r || e.constraintoward || "middle"]
                    }
                    return g.length * v.length != 1 && G(xe, (function(t) {
                        if (e._context._scrollZoom.cartesian || e._fullLayout._enablescrollzoom) {
                            if (Ee(),
                            e._transitioningWithDuration)
                                return t.preventDefault(),
                                void t.stopPropagation();
                            me(),
                            clearTimeout(Re);
                            var r = -t.deltaY;
                            if (isFinite(r) || (r = t.wheelDelta / 10),
                            isFinite(r)) {
                                var n, i = Math.exp(-Math.min(Math.max(r, -20), 20) / 200), o = Be.draglayer.select(".nsewdrag").node().getBoundingClientRect(), s = (t.clientX - o.left) / o.width, l = (o.bottom - t.clientY) / o.height;
                                if (se) {
                                    for (v || (s = .5),
                                    n = 0; n < X.length; n++)
                                        c(X[n], s, i);
                                    Ue("x"),
                                    Ne[2] *= i,
                                    Ne[0] += Ne[2] * s * (1 / i - 1)
                                }
                                if (le) {
                                    for (g || (l = .5),
                                    n = 0; n < Q.length; n++)
                                        c(Q[n], l, i);
                                    Ue("y"),
                                    Ne[3] *= i,
                                    Ne[1] += Ne[3] * (1 - l) * (1 / i - 1)
                                }
                                We(Ne),
                                Ye(),
                                e.emit("plotly_relayouting", de),
                                Re = setTimeout((function() {
                                    e._fullLayout && (Ne = [0, 0, ee, te],
                                    qe())
                                }
                                ), je),
                                t.preventDefault()
                            } else
                                a.log("Did not find wheel motion attributes: ", t)
                        }
                        function c(e, t, r) {
                            if (!e.fixedrange) {
                                var n = a.simpleMap(e.range, e.r2l)
                                  , i = n[0] + (n[1] - n[0]) * t;
                                e.range = n.map((function(t) {
                                    return e.l2r(i + (t - i) * r)
                                }
                                ))
                            }
                        }
                    }
                    )),
                    xe
                },
                makeDragger: z,
                makeRectDragger: F,
                makeZoombox: j,
                makeCorners: B,
                updateZoombox: H,
                xyCorners: q,
                transitionZoombox: U,
                removeZoombox: Y,
                showDoubleClickNotifier: V,
                attachWheelEventHandler: G
            }
        }
        , {
            "../../components/color": 235,
            "../../components/dragelement": 254,
            "../../components/dragelement/helpers": 253,
            "../../components/drawing": 257,
            "../../components/fx": 275,
            "../../constants/alignment": 340,
            "../../lib": 365,
            "../../lib/clear_gl_canvases": 352,
            "../../lib/setcursor": 386,
            "../../lib/svg_text_utils": 390,
            "../../plot_api/subroutines": 404,
            "../../registry": 451,
            "../plots": 449,
            "./axes": 414,
            "./axis_ids": 418,
            "./constants": 421,
            "./scale_zoom": 433,
            "./select": 434,
            "@plotly/d3": 6,
            "has-passive-events": 146,
            tinycolor2: 184
        }],
        424: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../../components/fx")
              , i = e("../../components/dragelement")
              , o = e("../../lib/setcursor")
              , s = e("./dragbox").makeDragBox
              , l = e("./constants").DRAGGERSIZE;
            r.initInteractions = function(e) {
                var t = e._fullLayout;
                if (e._context.staticPlot)
                    n.select(e).selectAll(".drag").remove();
                else if (t._has("cartesian") || t._has("splom")) {
                    Object.keys(t._plots || {}).sort((function(e, r) {
                        if ((t._plots[e].mainplot && !0) === (t._plots[r].mainplot && !0)) {
                            var n = e.split("y")
                              , a = r.split("y");
                            return n[0] === a[0] ? Number(n[1] || 1) - Number(a[1] || 1) : Number(n[0] || 1) - Number(a[0] || 1)
                        }
                        return t._plots[e].mainplot ? 1 : -1
                    }
                    )).forEach((function(r) {
                        var n = t._plots[r]
                          , o = n.xaxis
                          , c = n.yaxis;
                        if (!n.mainplot) {
                            var u = s(e, n, o._offset, c._offset, o._length, c._length, "ns", "ew");
                            u.onmousemove = function(t) {
                                e._fullLayout._rehover = function() {
                                    e._fullLayout._hoversubplot === r && e._fullLayout._plots[r] && a.hover(e, t, r)
                                }
                                ,
                                a.hover(e, t, r),
                                e._fullLayout._lasthover = u,
                                e._fullLayout._hoversubplot = r
                            }
                            ,
                            u.onmouseout = function(t) {
                                e._dragging || (e._fullLayout._hoversubplot = null,
                                i.unhover(e, t))
                            }
                            ,
                            e._context.showAxisDragHandles && (s(e, n, o._offset - l, c._offset - l, l, l, "n", "w"),
                            s(e, n, o._offset + o._length, c._offset - l, l, l, "n", "e"),
                            s(e, n, o._offset - l, c._offset + c._length, l, l, "s", "w"),
                            s(e, n, o._offset + o._length, c._offset + c._length, l, l, "s", "e"))
                        }
                        if (e._context.showAxisDragHandles) {
                            if (r === o._mainSubplot) {
                                var f = o._mainLinePosition;
                                "top" === o.side && (f -= l),
                                s(e, n, o._offset + .1 * o._length, f, .8 * o._length, l, "", "ew"),
                                s(e, n, o._offset, f, .1 * o._length, l, "", "w"),
                                s(e, n, o._offset + .9 * o._length, f, .1 * o._length, l, "", "e")
                            }
                            if (r === c._mainSubplot) {
                                var d = c._mainLinePosition;
                                "right" !== c.side && (d -= l),
                                s(e, n, d, c._offset + .1 * c._length, l, .8 * c._length, "ns", ""),
                                s(e, n, d, c._offset + .9 * c._length, l, .1 * c._length, "s", ""),
                                s(e, n, d, c._offset, l, .1 * c._length, "n", "")
                            }
                        }
                    }
                    ));
                    var o = t._hoverlayer.node();
                    o.onmousemove = function(r) {
                        r.target = e._fullLayout._lasthover,
                        a.hover(e, r, t._hoversubplot)
                    }
                    ,
                    o.onclick = function(t) {
                        t.target = e._fullLayout._lasthover,
                        a.click(e, t)
                    }
                    ,
                    o.onmousedown = function(t) {
                        e._fullLayout._lasthover.onmousedown(t)
                    }
                    ,
                    r.updateFx(e)
                }
            }
            ,
            r.updateFx = function(e) {
                var t = e._fullLayout
                  , r = "pan" === t.dragmode ? "move" : "crosshair";
                o(t._draggers, r)
            }
        }
        , {
            "../../components/dragelement": 254,
            "../../components/fx": 275,
            "../../lib/setcursor": 386,
            "./constants": 421,
            "./dragbox": 423,
            "@plotly/d3": 6
        }],
        425: [function(e, t, r) {
            "use strict";
            t.exports = {
                clearOutlineControllers: function(e) {
                    var t = e._fullLayout._zoomlayer;
                    t && t.selectAll(".outline-controllers").remove()
                },
                clearSelect: function(e) {
                    var t = e._fullLayout._zoomlayer;
                    t && t.selectAll(".select-outline").remove(),
                    e._fullLayout._drawing = !1
                }
            }
        }
        , {}],
        426: [function(e, t, r) {
            "use strict";
            var n = e("../../lib").strTranslate;
            function a(e, t) {
                switch (e.type) {
                case "log":
                    return e.p2d(t);
                case "date":
                    return e.p2r(t, 0, e.calendar);
                default:
                    return e.p2r(t)
                }
            }
            t.exports = {
                p2r: a,
                r2p: function(e, t) {
                    switch (e.type) {
                    case "log":
                        return e.d2p(t);
                    case "date":
                        return e.r2p(t, 0, e.calendar);
                    default:
                        return e.r2p(t)
                    }
                },
                axValue: function(e) {
                    var t = "y" === e._id.charAt(0) ? 1 : 0;
                    return function(r) {
                        return a(e, r[t])
                    }
                },
                getTransform: function(e) {
                    return n(e.xaxis._offset, e.yaxis._offset)
                }
            }
        }
        , {
            "../../lib": 365
        }],
        427: [function(e, t, r) {
            "use strict";
            var n = e("../../registry")
              , a = e("../../lib")
              , i = e("./axis_ids");
            t.exports = function(e) {
                return function(t, r) {
                    var o = t[e];
                    if (Array.isArray(o))
                        for (var s = n.subplotsRegistry.cartesian, l = s.idRegex, c = r._subplots, u = c.xaxis, f = c.yaxis, d = c.cartesian, h = r._has("cartesian") || r._has("gl2d"), p = 0; p < o.length; p++) {
                            var g = o[p];
                            if (a.isPlainObject(g)) {
                                var y = i.cleanId(g.xref, "x", !1)
                                  , v = i.cleanId(g.yref, "y", !1)
                                  , m = l.x.test(y)
                                  , b = l.y.test(v);
                                if (m || b) {
                                    h || a.pushUnique(r._basePlotModules, s);
                                    var x = !1;
                                    m && -1 === u.indexOf(y) && (u.push(y),
                                    x = !0),
                                    b && -1 === f.indexOf(v) && (f.push(v),
                                    x = !0),
                                    x && m && b && d.push(y + v)
                                }
                            }
                        }
                }
            }
        }
        , {
            "../../lib": 365,
            "../../registry": 451,
            "./axis_ids": 418
        }],
        428: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../../registry")
              , i = e("../../lib")
              , o = e("../plots")
              , s = e("../../components/drawing")
              , l = e("../get_data").getModuleCalcData
              , c = e("./axis_ids")
              , u = e("./constants")
              , f = e("../../constants/xmlns_namespaces")
              , d = i.ensureSingle;
            function h(e, t, r) {
                return i.ensureSingle(e, t, r, (function(e) {
                    e.datum(r)
                }
                ))
            }
            function p(e, t, r, i, o) {
                for (var c, f, d, h = u.traceLayerClasses, p = e._fullLayout, g = p._modules, y = [], v = [], m = 0; m < g.length; m++) {
                    var b = (c = g[m]).name
                      , x = a.modules[b].categories;
                    if (x.svg) {
                        var _ = c.layerName || b + "layer"
                          , w = c.plot;
                        d = (f = l(r, w))[0],
                        r = f[1],
                        d.length && y.push({
                            i: h.indexOf(_),
                            className: _,
                            plotMethod: w,
                            cdModule: d
                        }),
                        x.zoomScale && v.push("." + _)
                    }
                }
                y.sort((function(e, t) {
                    return e.i - t.i
                }
                ));
                var A = t.plot.selectAll("g.mlayer").data(y, (function(e) {
                    return e.className
                }
                ));
                if (A.enter().append("g").attr("class", (function(e) {
                    return e.className
                }
                )).classed("mlayer", !0).classed("rangeplot", t.isRangePlot),
                A.exit().remove(),
                A.order(),
                A.each((function(r) {
                    var a = n.select(this)
                      , l = r.className;
                    r.plotMethod(e, t, r.cdModule, a, i, o),
                    -1 === u.clipOnAxisFalseQuery.indexOf("." + l) && s.setClipUrl(a, t.layerClipId, e)
                }
                )),
                p._has("scattergl") && (c = a.getModule("scattergl"),
                d = l(r, c)[0],
                c.plot(e, t, d)),
                !e._context.staticPlot && (t._hasClipOnAxisFalse && (t.clipOnAxisFalseTraces = t.plot.selectAll(u.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),
                v.length)) {
                    var k = t.plot.selectAll(v.join(",")).selectAll(".trace");
                    t.zoomScalePts = k.selectAll("path.point"),
                    t.zoomScaleTxt = k.selectAll(".textpoint")
                }
            }
            function g(e, t) {
                var r = t.plotgroup
                  , n = t.id
                  , a = u.layerValue2layerClass[t.xaxis.layer]
                  , i = u.layerValue2layerClass[t.yaxis.layer]
                  , o = e._fullLayout._hasOnlyLargeSploms;
                if (t.mainplot) {
                    var s = t.mainplotinfo
                      , l = s.plotgroup
                      , f = n + "-x"
                      , p = n + "-y";
                    t.gridlayer = s.gridlayer,
                    t.zerolinelayer = s.zerolinelayer,
                    d(s.overlinesBelow, "path", f),
                    d(s.overlinesBelow, "path", p),
                    d(s.overaxesBelow, "g", f),
                    d(s.overaxesBelow, "g", p),
                    t.plot = d(s.overplot, "g", n),
                    d(s.overlinesAbove, "path", f),
                    d(s.overlinesAbove, "path", p),
                    d(s.overaxesAbove, "g", f),
                    d(s.overaxesAbove, "g", p),
                    t.xlines = l.select(".overlines-" + a).select("." + f),
                    t.ylines = l.select(".overlines-" + i).select("." + p),
                    t.xaxislayer = l.select(".overaxes-" + a).select("." + f),
                    t.yaxislayer = l.select(".overaxes-" + i).select("." + p)
                } else if (o)
                    t.xlines = d(r, "path", "xlines-above"),
                    t.ylines = d(r, "path", "ylines-above"),
                    t.xaxislayer = d(r, "g", "xaxislayer-above"),
                    t.yaxislayer = d(r, "g", "yaxislayer-above");
                else {
                    var g = d(r, "g", "layer-subplot");
                    t.shapelayer = d(g, "g", "shapelayer"),
                    t.imagelayer = d(g, "g", "imagelayer"),
                    t.gridlayer = d(r, "g", "gridlayer"),
                    t.zerolinelayer = d(r, "g", "zerolinelayer"),
                    d(r, "path", "xlines-below"),
                    d(r, "path", "ylines-below"),
                    t.overlinesBelow = d(r, "g", "overlines-below"),
                    d(r, "g", "xaxislayer-below"),
                    d(r, "g", "yaxislayer-below"),
                    t.overaxesBelow = d(r, "g", "overaxes-below"),
                    t.plot = d(r, "g", "plot"),
                    t.overplot = d(r, "g", "overplot"),
                    t.xlines = d(r, "path", "xlines-above"),
                    t.ylines = d(r, "path", "ylines-above"),
                    t.overlinesAbove = d(r, "g", "overlines-above"),
                    d(r, "g", "xaxislayer-above"),
                    d(r, "g", "yaxislayer-above"),
                    t.overaxesAbove = d(r, "g", "overaxes-above"),
                    t.xlines = r.select(".xlines-" + a),
                    t.ylines = r.select(".ylines-" + i),
                    t.xaxislayer = r.select(".xaxislayer-" + a),
                    t.yaxislayer = r.select(".yaxislayer-" + i)
                }
                o || (h(t.gridlayer, "g", t.xaxis._id),
                h(t.gridlayer, "g", t.yaxis._id),
                t.gridlayer.selectAll("g").map((function(e) {
                    return e[0]
                }
                )).sort(c.idSort)),
                t.xlines.style("fill", "none").classed("crisp", !0),
                t.ylines.style("fill", "none").classed("crisp", !0)
            }
            function y(e, t) {
                if (e) {
                    var r = {};
                    for (var a in e.each((function(e) {
                        var a = e[0];
                        n.select(this).remove(),
                        v(a, t),
                        r[a] = !0
                    }
                    )),
                    t._plots)
                        for (var i = t._plots[a].overlays || [], o = 0; o < i.length; o++) {
                            var s = i[o];
                            r[s.id] && s.plot.selectAll(".trace").remove()
                        }
                }
            }
            function v(e, t) {
                t._draggers.selectAll("g." + e).remove(),
                t._defs.select("#clip" + t._uid + e + "plot").remove()
            }
            r.name = "cartesian",
            r.attr = ["xaxis", "yaxis"],
            r.idRoot = ["x", "y"],
            r.idRegex = u.idRegex,
            r.attrRegex = u.attrRegex,
            r.attributes = e("./attributes"),
            r.layoutAttributes = e("./layout_attributes"),
            r.supplyLayoutDefaults = e("./layout_defaults"),
            r.transitionAxes = e("./transition_axes"),
            r.finalizeSubplots = function(e, t) {
                var r, n, a, o = t._subplots, s = o.xaxis, l = o.yaxis, f = o.cartesian, d = f.concat(o.gl2d || []), h = {}, p = {};
                for (r = 0; r < d.length; r++) {
                    var g = d[r].split("y");
                    h[g[0]] = 1,
                    p["y" + g[1]] = 1
                }
                for (r = 0; r < s.length; r++)
                    h[n = s[r]] || (a = (e[c.id2name(n)] || {}).anchor,
                    u.idRegex.y.test(a) || (a = "y"),
                    f.push(n + a),
                    d.push(n + a),
                    p[a] || (p[a] = 1,
                    i.pushUnique(l, a)));
                for (r = 0; r < l.length; r++)
                    p[a = l[r]] || (n = (e[c.id2name(a)] || {}).anchor,
                    u.idRegex.x.test(n) || (n = "x"),
                    f.push(n + a),
                    d.push(n + a),
                    h[n] || (h[n] = 1,
                    i.pushUnique(s, n)));
                if (!d.length) {
                    for (var y in n = "",
                    a = "",
                    e) {
                        if (u.attrRegex.test(y))
                            "x" === y.charAt(0) ? (!n || +y.substr(5) < +n.substr(5)) && (n = y) : (!a || +y.substr(5) < +a.substr(5)) && (a = y)
                    }
                    n = n ? c.name2id(n) : "x",
                    a = a ? c.name2id(a) : "y",
                    s.push(n),
                    l.push(a),
                    f.push(n + a)
                }
            }
            ,
            r.plot = function(e, t, r, n) {
                var a, i = e._fullLayout, o = i._subplots.cartesian, s = e.calcdata;
                if (!Array.isArray(t))
                    for (t = [],
                    a = 0; a < s.length; a++)
                        t.push(a);
                for (a = 0; a < o.length; a++) {
                    for (var l, c = o[a], u = i._plots[c], f = [], d = 0; d < s.length; d++) {
                        var h = s[d]
                          , g = h[0].trace;
                        g.xaxis + g.yaxis === c && ((-1 !== t.indexOf(g.index) || g.carpet) && (l && l[0].trace.xaxis + l[0].trace.yaxis === c && -1 !== ["tonextx", "tonexty", "tonext"].indexOf(g.fill) && -1 === f.indexOf(l) && f.push(l),
                        f.push(h)),
                        l = h)
                    }
                    p(e, u, f, r, n)
                }
            }
            ,
            r.clean = function(e, t, r, n) {
                var a, i, o, s = n._plots || {}, l = t._plots || {}, u = n._subplots || {};
                if (n._hasOnlyLargeSploms && !t._hasOnlyLargeSploms)
                    for (o in s)
                        (a = s[o]).plotgroup && a.plotgroup.remove();
                var f = n._has && n._has("gl")
                  , d = t._has && t._has("gl");
                if (f && !d)
                    for (o in s)
                        (a = s[o])._scene && a._scene.destroy();
                if (u.xaxis && u.yaxis) {
                    var h = c.listIds({
                        _fullLayout: n
                    });
                    for (i = 0; i < h.length; i++) {
                        var p = h[i];
                        t[c.id2name(p)] || n._infolayer.selectAll(".g-" + p + "title").remove()
                    }
                }
                var g = n._has && n._has("cartesian")
                  , m = t._has && t._has("cartesian");
                if (g && !m)
                    y(n._cartesianlayer.selectAll(".subplot"), n),
                    n._defs.selectAll(".axesclip").remove(),
                    delete n._axisConstraintGroups,
                    delete n._axisMatchGroups;
                else if (u.cartesian)
                    for (i = 0; i < u.cartesian.length; i++) {
                        var b = u.cartesian[i];
                        if (!l[b]) {
                            var x = "." + b + ",." + b + "-x,." + b + "-y";
                            n._cartesianlayer.selectAll(x).remove(),
                            v(b, n)
                        }
                    }
            }
            ,
            r.drawFramework = function(e) {
                var t = e._fullLayout
                  , r = function(e) {
                    var t, r, n, a, i, o, s = e._fullLayout, l = s._subplots.cartesian, c = l.length, u = [], f = [];
                    for (t = 0; t < c; t++) {
                        n = l[t],
                        a = s._plots[n],
                        i = a.xaxis,
                        o = a.yaxis;
                        var d = i._mainAxis
                          , h = o._mainAxis
                          , p = d._id + h._id
                          , g = s._plots[p];
                        a.overlays = [],
                        p !== n && g ? (a.mainplot = p,
                        a.mainplotinfo = g,
                        f.push(n)) : (a.mainplot = void 0,
                        a.mainplotinfo = void 0,
                        u.push(n))
                    }
                    for (t = 0; t < f.length; t++)
                        n = f[t],
                        (a = s._plots[n]).mainplotinfo.overlays.push(a);
                    var y = u.concat(f)
                      , v = new Array(c);
                    for (t = 0; t < c; t++) {
                        n = y[t],
                        a = s._plots[n],
                        i = a.xaxis,
                        o = a.yaxis;
                        var m = [n, i.layer, o.layer, i.overlaying || "", o.overlaying || ""];
                        for (r = 0; r < a.overlays.length; r++)
                            m.push(a.overlays[r].id);
                        v[t] = m
                    }
                    return v
                }(e)
                  , a = t._cartesianlayer.selectAll(".subplot").data(r, String);
                a.enter().append("g").attr("class", (function(e) {
                    return "subplot " + e[0]
                }
                )),
                a.order(),
                a.exit().call(y, t),
                a.each((function(r) {
                    var a = r[0]
                      , i = t._plots[a];
                    i.plotgroup = n.select(this),
                    g(e, i),
                    i.draglayer = d(t._draggers, "g", a)
                }
                ))
            }
            ,
            r.rangePlot = function(e, t, r) {
                g(e, t),
                p(e, t, r),
                o.style(e)
            }
            ,
            r.toSVG = function(e) {
                var t = e._fullLayout._glimages
                  , r = n.select(e).selectAll(".svg-container");
                r.filter((function(e, t) {
                    return t === r.size() - 1
                }
                )).selectAll(".gl-canvas-context, .gl-canvas-focus").each((function() {
                    var e = this.toDataURL("image/png");
                    t.append("svg:image").attr({
                        xmlns: f.svg,
                        "xlink:href": e,
                        preserveAspectRatio: "none",
                        x: 0,
                        y: 0,
                        width: this.style.width,
                        height: this.style.height
                    })
                }
                ))
            }
            ,
            r.updateFx = e("./graph_interact").updateFx
        }
        , {
            "../../components/drawing": 257,
            "../../constants/xmlns_namespaces": 345,
            "../../lib": 365,
            "../../registry": 451,
            "../get_data": 445,
            "../plots": 449,
            "./attributes": 412,
            "./axis_ids": 418,
            "./constants": 421,
            "./graph_interact": 424,
            "./layout_attributes": 429,
            "./layout_defaults": 430,
            "./transition_axes": 439,
            "@plotly/d3": 6
        }],
        429: [function(e, t, r) {
            "use strict";
            var n = e("../font_attributes")
              , a = e("../../components/color/attributes")
              , i = e("../../components/drawing/attributes").dash
              , o = e("../../lib/extend").extendFlat
              , s = e("../../plot_api/plot_template").templatedArray
              , l = e("../../plots/cartesian/axis_format_attributes").descriptionWithDates
              , c = e("../../constants/numerical").ONEDAY
              , u = e("./constants")
              , f = u.HOUR_PATTERN
              , d = u.WEEKDAY_PATTERN;
            t.exports = {
                visible: {
                    valType: "boolean",
                    editType: "plot"
                },
                color: {
                    valType: "color",
                    dflt: a.defaultLine,
                    editType: "ticks"
                },
                title: {
                    text: {
                        valType: "string",
                        editType: "ticks"
                    },
                    font: n({
                        editType: "ticks"
                    }),
                    standoff: {
                        valType: "number",
                        min: 0,
                        editType: "ticks"
                    },
                    editType: "ticks"
                },
                type: {
                    valType: "enumerated",
                    values: ["-", "linear", "log", "date", "category", "multicategory"],
                    dflt: "-",
                    editType: "calc",
                    _noTemplating: !0
                },
                autotypenumbers: {
                    valType: "enumerated",
                    values: ["convert types", "strict"],
                    dflt: "convert types",
                    editType: "calc"
                },
                autorange: {
                    valType: "enumerated",
                    values: [!0, !1, "reversed"],
                    dflt: !0,
                    editType: "axrange",
                    impliedEdits: {
                        "range[0]": void 0,
                        "range[1]": void 0
                    }
                },
                rangemode: {
                    valType: "enumerated",
                    values: ["normal", "tozero", "nonnegative"],
                    dflt: "normal",
                    editType: "plot"
                },
                range: {
                    valType: "info_array",
                    items: [{
                        valType: "any",
                        editType: "axrange",
                        impliedEdits: {
                            "^autorange": !1
                        },
                        anim: !0
                    }, {
                        valType: "any",
                        editType: "axrange",
                        impliedEdits: {
                            "^autorange": !1
                        },
                        anim: !0
                    }],
                    editType: "axrange",
                    impliedEdits: {
                        autorange: !1
                    },
                    anim: !0
                },
                fixedrange: {
                    valType: "boolean",
                    dflt: !1,
                    editType: "calc"
                },
                scaleanchor: {
                    valType: "enumerated",
                    values: [u.idRegex.x.toString(), u.idRegex.y.toString()],
                    editType: "plot"
                },
                scaleratio: {
                    valType: "number",
                    min: 0,
                    dflt: 1,
                    editType: "plot"
                },
                constrain: {
                    valType: "enumerated",
                    values: ["range", "domain"],
                    editType: "plot"
                },
                constraintoward: {
                    valType: "enumerated",
                    values: ["left", "center", "right", "top", "middle", "bottom"],
                    editType: "plot"
                },
                matches: {
                    valType: "enumerated",
                    values: [u.idRegex.x.toString(), u.idRegex.y.toString()],
                    editType: "calc"
                },
                rangebreaks: s("rangebreak", {
                    enabled: {
                        valType: "boolean",
                        dflt: !0,
                        editType: "calc"
                    },
                    bounds: {
                        valType: "info_array",
                        items: [{
                            valType: "any",
                            editType: "calc"
                        }, {
                            valType: "any",
                            editType: "calc"
                        }],
                        editType: "calc"
                    },
                    pattern: {
                        valType: "enumerated",
                        values: [d, f, ""],
                        editType: "calc"
                    },
                    values: {
                        valType: "info_array",
                        freeLength: !0,
                        editType: "calc",
                        items: {
                            valType: "any",
                            editType: "calc"
                        }
                    },
                    dvalue: {
                        valType: "number",
                        editType: "calc",
                        min: 0,
                        dflt: c
                    },
                    editType: "calc"
                }),
                tickmode: {
                    valType: "enumerated",
                    values: ["auto", "linear", "array"],
                    editType: "ticks",
                    impliedEdits: {
                        tick0: void 0,
                        dtick: void 0
                    }
                },
                nticks: {
                    valType: "integer",
                    min: 0,
                    dflt: 0,
                    editType: "ticks"
                },
                tick0: {
                    valType: "any",
                    editType: "ticks",
                    impliedEdits: {
                        tickmode: "linear"
                    }
                },
                dtick: {
                    valType: "any",
                    editType: "ticks",
                    impliedEdits: {
                        tickmode: "linear"
                    }
                },
                tickvals: {
                    valType: "data_array",
                    editType: "ticks"
                },
                ticktext: {
                    valType: "data_array",
                    editType: "ticks"
                },
                ticks: {
                    valType: "enumerated",
                    values: ["outside", "inside", ""],
                    editType: "ticks"
                },
                tickson: {
                    valType: "enumerated",
                    values: ["labels", "boundaries"],
                    dflt: "labels",
                    editType: "ticks"
                },
                ticklabelmode: {
                    valType: "enumerated",
                    values: ["instant", "period"],
                    dflt: "instant",
                    editType: "ticks"
                },
                ticklabelposition: {
                    valType: "enumerated",
                    values: ["outside", "inside", "outside top", "inside top", "outside left", "inside left", "outside right", "inside right", "outside bottom", "inside bottom"],
                    dflt: "outside",
                    editType: "calc"
                },
                ticklabeloverflow: {
                    valType: "enumerated",
                    values: ["allow", "hide past div", "hide past domain"],
                    editType: "calc"
                },
                mirror: {
                    valType: "enumerated",
                    values: [!0, "ticks", !1, "all", "allticks"],
                    dflt: !1,
                    editType: "ticks+layoutstyle"
                },
                ticklen: {
                    valType: "number",
                    min: 0,
                    dflt: 5,
                    editType: "ticks"
                },
                tickwidth: {
                    valType: "number",
                    min: 0,
                    dflt: 1,
                    editType: "ticks"
                },
                tickcolor: {
                    valType: "color",
                    dflt: a.defaultLine,
                    editType: "ticks"
                },
                showticklabels: {
                    valType: "boolean",
                    dflt: !0,
                    editType: "ticks"
                },
                automargin: {
                    valType: "boolean",
                    dflt: !1,
                    editType: "ticks"
                },
                showspikes: {
                    valType: "boolean",
                    dflt: !1,
                    editType: "modebar"
                },
                spikecolor: {
                    valType: "color",
                    dflt: null,
                    editType: "none"
                },
                spikethickness: {
                    valType: "number",
                    dflt: 3,
                    editType: "none"
                },
                spikedash: o({}, i, {
                    dflt: "dash",
                    editType: "none"
                }),
                spikemode: {
                    valType: "flaglist",
                    flags: ["toaxis", "across", "marker"],
                    dflt: "toaxis",
                    editType: "none"
                },
                spikesnap: {
                    valType: "enumerated",
                    values: ["data", "cursor", "hovered data"],
                    dflt: "hovered data",
                    editType: "none"
                },
                tickfont: n({
                    editType: "ticks"
                }),
                tickangle: {
                    valType: "angle",
                    dflt: "auto",
                    editType: "ticks"
                },
                tickprefix: {
                    valType: "string",
                    dflt: "",
                    editType: "ticks"
                },
                showtickprefix: {
                    valType: "enumerated",
                    values: ["all", "first", "last", "none"],
                    dflt: "all",
                    editType: "ticks"
                },
                ticksuffix: {
                    valType: "string",
                    dflt: "",
                    editType: "ticks"
                },
                showticksuffix: {
                    valType: "enumerated",
                    values: ["all", "first", "last", "none"],
                    dflt: "all",
                    editType: "ticks"
                },
                showexponent: {
                    valType: "enumerated",
                    values: ["all", "first", "last", "none"],
                    dflt: "all",
                    editType: "ticks"
                },
                exponentformat: {
                    valType: "enumerated",
                    values: ["none", "e", "E", "power", "SI", "B"],
                    dflt: "B",
                    editType: "ticks"
                },
                minexponent: {
                    valType: "number",
                    dflt: 3,
                    min: 0,
                    editType: "ticks"
                },
                separatethousands: {
                    valType: "boolean",
                    dflt: !1,
                    editType: "ticks"
                },
                tickformat: {
                    valType: "string",
                    dflt: "",
                    editType: "ticks",
                    description: l("tick label")
                },
                tickformatstops: s("tickformatstop", {
                    enabled: {
                        valType: "boolean",
                        dflt: !0,
                        editType: "ticks"
                    },
                    dtickrange: {
                        valType: "info_array",
                        items: [{
                            valType: "any",
                            editType: "ticks"
                        }, {
                            valType: "any",
                            editType: "ticks"
                        }],
                        editType: "ticks"
                    },
                    value: {
                        valType: "string",
                        dflt: "",
                        editType: "ticks"
                    },
                    editType: "ticks"
                }),
                hoverformat: {
                    valType: "string",
                    dflt: "",
                    editType: "none",
                    description: l("hover text")
                },
                showline: {
                    valType: "boolean",
                    dflt: !1,
                    editType: "ticks+layoutstyle"
                },
                linecolor: {
                    valType: "color",
                    dflt: a.defaultLine,
                    editType: "layoutstyle"
                },
                linewidth: {
                    valType: "number",
                    min: 0,
                    dflt: 1,
                    editType: "ticks+layoutstyle"
                },
                showgrid: {
                    valType: "boolean",
                    editType: "ticks"
                },
                gridcolor: {
                    valType: "color",
                    dflt: a.lightLine,
                    editType: "ticks"
                },
                gridwidth: {
                    valType: "number",
                    min: 0,
                    dflt: 1,
                    editType: "ticks"
                },
                zeroline: {
                    valType: "boolean",
                    editType: "ticks"
                },
                zerolinecolor: {
                    valType: "color",
                    dflt: a.defaultLine,
                    editType: "ticks"
                },
                zerolinewidth: {
                    valType: "number",
                    dflt: 1,
                    editType: "ticks"
                },
                showdividers: {
                    valType: "boolean",
                    dflt: !0,
                    editType: "ticks"
                },
                dividercolor: {
                    valType: "color",
                    dflt: a.defaultLine,
                    editType: "ticks"
                },
                dividerwidth: {
                    valType: "number",
                    dflt: 1,
                    editType: "ticks"
                },
                anchor: {
                    valType: "enumerated",
                    values: ["free", u.idRegex.x.toString(), u.idRegex.y.toString()],
                    editType: "plot"
                },
                side: {
                    valType: "enumerated",
                    values: ["top", "bottom", "left", "right"],
                    editType: "plot"
                },
                overlaying: {
                    valType: "enumerated",
                    values: ["free", u.idRegex.x.toString(), u.idRegex.y.toString()],
                    editType: "plot"
                },
                layer: {
                    valType: "enumerated",
                    values: ["above traces", "below traces"],
                    dflt: "above traces",
                    editType: "plot"
                },
                domain: {
                    valType: "info_array",
                    items: [{
                        valType: "number",
                        min: 0,
                        max: 1,
                        editType: "plot"
                    }, {
                        valType: "number",
                        min: 0,
                        max: 1,
                        editType: "plot"
                    }],
                    dflt: [0, 1],
                    editType: "plot"
                },
                position: {
                    valType: "number",
                    min: 0,
                    max: 1,
                    dflt: 0,
                    editType: "plot"
                },
                categoryorder: {
                    valType: "enumerated",
                    values: ["trace", "category ascending", "category descending", "array", "total ascending", "total descending", "min ascending", "min descending", "max ascending", "max descending", "sum ascending", "sum descending", "mean ascending", "mean descending", "median ascending", "median descending"],
                    dflt: "trace",
                    editType: "calc"
                },
                categoryarray: {
                    valType: "data_array",
                    editType: "calc"
                },
                uirevision: {
                    valType: "any",
                    editType: "none"
                },
                editType: "calc",
                _deprecated: {
                    autotick: {
                        valType: "boolean",
                        editType: "ticks"
                    },
                    title: {
                        valType: "string",
                        editType: "ticks"
                    },
                    titlefont: n({
                        editType: "ticks"
                    })
                }
            }
        }
        , {
            "../../components/color/attributes": 234,
            "../../components/drawing/attributes": 256,
            "../../constants/numerical": 344,
            "../../lib/extend": 358,
            "../../plot_api/plot_template": 403,
            "../../plots/cartesian/axis_format_attributes": 417,
            "../font_attributes": 443,
            "./constants": 421
        }],
        430: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../components/color")
              , i = e("../../components/fx/helpers").isUnifiedHover
              , o = e("../../components/fx/hovermode_defaults")
              , s = e("../../plot_api/plot_template")
              , l = e("../layout_attributes")
              , c = e("./layout_attributes")
              , u = e("./type_defaults")
              , f = e("./axis_defaults")
              , d = e("./constraints")
              , h = e("./position_defaults")
              , p = e("./axis_ids")
              , g = p.id2name
              , y = p.name2id
              , v = e("./constants").AX_ID_PATTERN
              , m = e("../../registry")
              , b = m.traceIs
              , x = m.getComponentMethod;
            function _(e, t, r) {
                Array.isArray(e[t]) ? e[t].push(r) : e[t] = [r]
            }
            t.exports = function(e, t, r) {
                var m, w, A = t.autotypenumbers, k = {}, T = {}, M = {}, S = {}, C = {}, O = {}, D = {}, L = {}, E = {}, z = {};
                for (m = 0; m < r.length; m++) {
                    var F = r[m];
                    if (b(F, "cartesian") || b(F, "gl2d")) {
                        var P, I;
                        if (F.xaxis)
                            P = g(F.xaxis),
                            _(k, P, F);
                        else if (F.xaxes)
                            for (w = 0; w < F.xaxes.length; w++)
                                _(k, g(F.xaxes[w]), F);
                        if (F.yaxis)
                            I = g(F.yaxis),
                            _(k, I, F);
                        else if (F.yaxes)
                            for (w = 0; w < F.yaxes.length; w++)
                                _(k, g(F.yaxes[w]), F);
                        if ("funnel" === F.type ? "h" === F.orientation ? (P && (T[P] = !0),
                        I && (D[I] = !0)) : I && (M[I] = !0) : "image" === F.type ? (I && (L[I] = !0),
                        P && (L[P] = !0)) : (I && (C[I] = !0,
                        O[I] = !0),
                        b(F, "carpet") && ("carpet" !== F.type || F._cheater) || P && (S[P] = !0)),
                        "carpet" === F.type && F._cheater && P && (T[P] = !0),
                        b(F, "2dMap") && (E[P] = !0,
                        E[I] = !0),
                        b(F, "oriented"))
                            z["h" === F.orientation ? I : P] = !0
                    }
                }
                var N = t._subplots
                  , R = N.xaxis
                  , j = N.yaxis
                  , B = n.simpleMap(R, g)
                  , H = n.simpleMap(j, g)
                  , U = B.concat(H)
                  , Y = a.background;
                R.length && j.length && (Y = n.coerce(e, t, l, "plot_bgcolor"));
                var V, q, W, G, Z, J = a.combine(Y, t.paper_bgcolor);
                function X() {
                    var e = k[V] || [];
                    Z._traceIndices = e.map((function(e) {
                        return e._expandedIndex
                    }
                    )),
                    Z._annIndices = [],
                    Z._shapeIndices = [],
                    Z._imgIndices = [],
                    Z._subplotsWith = [],
                    Z._counterAxes = [],
                    Z._name = Z._attr = V,
                    Z._id = q
                }
                function Q(e, t) {
                    return n.coerce(G, Z, c, e, t)
                }
                function $(e, t) {
                    return n.coerce2(G, Z, c, e, t)
                }
                function K(e) {
                    return "x" === e ? j : R
                }
                function ee(t, r) {
                    for (var n = "x" === t ? B : H, a = [], i = 0; i < n.length; i++) {
                        var o = n[i];
                        o === r || (e[o] || {}).overlaying || a.push(y(o))
                    }
                    return a
                }
                var te = {
                    x: K("x"),
                    y: K("y")
                }
                  , re = te.x.concat(te.y)
                  , ne = {}
                  , ae = [];
                function ie() {
                    var e = G.matches;
                    v.test(e) && -1 === re.indexOf(e) && (ne[e] = G.type,
                    ae = Object.keys(ne))
                }
                var oe = o(e, t)
                  , se = i(oe);
                for (m = 0; m < U.length; m++) {
                    V = U[m],
                    q = y(V),
                    W = V.charAt(0),
                    n.isPlainObject(e[V]) || (e[V] = {}),
                    G = e[V],
                    Z = s.newContainer(t, V, W + "axis"),
                    X();
                    var le = "x" === W && !S[V] && T[V] || "y" === W && !C[V] && M[V]
                      , ce = "y" === W && (!O[V] && D[V] || L[V])
                      , ue = {
                        letter: W,
                        font: t.font,
                        outerTicks: E[V],
                        showGrid: !z[V],
                        data: k[V] || [],
                        bgColor: J,
                        calendar: t.calendar,
                        automargin: !0,
                        visibleDflt: le,
                        reverseDflt: ce,
                        autotypenumbersDflt: A,
                        splomStash: ((t._splomAxes || {})[W] || {})[q]
                    };
                    Q("uirevision", t.uirevision),
                    u(G, Z, Q, ue),
                    f(G, Z, Q, ue, t);
                    var fe = se && W === oe.charAt(0)
                      , de = $("spikecolor", se ? Z.color : void 0)
                      , he = $("spikethickness", se ? 1.5 : void 0)
                      , pe = $("spikedash", se ? "dot" : void 0)
                      , ge = $("spikemode", se ? "across" : void 0)
                      , ye = $("spikesnap");
                    Q("showspikes", !!(fe || de || he || pe || ge || ye)) || (delete Z.spikecolor,
                    delete Z.spikethickness,
                    delete Z.spikedash,
                    delete Z.spikemode,
                    delete Z.spikesnap),
                    h(G, Z, Q, {
                        letter: W,
                        counterAxes: te[W],
                        overlayableAxes: ee(W, V),
                        grid: t.grid
                    }),
                    Q("title.standoff"),
                    ie(),
                    Z._input = G
                }
                for (m = 0; m < ae.length; ) {
                    q = ae[m++],
                    W = (V = g(q)).charAt(0),
                    n.isPlainObject(e[V]) || (e[V] = {}),
                    G = e[V],
                    Z = s.newContainer(t, V, W + "axis"),
                    X();
                    var ve = {
                        letter: W,
                        font: t.font,
                        outerTicks: E[V],
                        showGrid: !z[V],
                        data: [],
                        bgColor: J,
                        calendar: t.calendar,
                        automargin: !0,
                        visibleDflt: !1,
                        reverseDflt: !1,
                        autotypenumbersDflt: A,
                        splomStash: ((t._splomAxes || {})[W] || {})[q]
                    };
                    Q("uirevision", t.uirevision),
                    Z.type = ne[q] || "linear",
                    f(G, Z, Q, ve, t),
                    h(G, Z, Q, {
                        letter: W,
                        counterAxes: te[W],
                        overlayableAxes: ee(W, V),
                        grid: t.grid
                    }),
                    Q("fixedrange"),
                    ie(),
                    Z._input = G
                }
                var me = x("rangeslider", "handleDefaults")
                  , be = x("rangeselector", "handleDefaults");
                for (m = 0; m < B.length; m++)
                    V = B[m],
                    G = e[V],
                    Z = t[V],
                    me(e, t, V),
                    "date" === Z.type && be(G, Z, t, H, Z.calendar),
                    Q("fixedrange");
                for (m = 0; m < H.length; m++) {
                    V = H[m],
                    G = e[V],
                    Z = t[V];
                    var xe = t[g(Z.anchor)];
                    Q("fixedrange", x("rangeslider", "isVisible")(xe))
                }
                d.handleDefaults(e, t, {
                    axIds: re.concat(ae).sort(p.idSort),
                    axHasImage: L
                })
            }
        }
        , {
            "../../components/color": 235,
            "../../components/fx/helpers": 271,
            "../../components/fx/hovermode_defaults": 274,
            "../../lib": 365,
            "../../plot_api/plot_template": 403,
            "../../registry": 451,
            "../layout_attributes": 447,
            "./axis_defaults": 416,
            "./axis_ids": 418,
            "./constants": 421,
            "./constraints": 422,
            "./layout_attributes": 429,
            "./position_defaults": 432,
            "./type_defaults": 440
        }],
        431: [function(e, t, r) {
            "use strict";
            var n = e("tinycolor2").mix
              , a = e("../../components/color/attributes").lightFraction
              , i = e("../../lib");
            t.exports = function(e, t, r, o) {
                var s = (o = o || {}).dfltColor;
                function l(r, n) {
                    return i.coerce2(e, t, o.attributes, r, n)
                }
                var c = l("linecolor", s)
                  , u = l("linewidth");
                r("showline", o.showLine || !!c || !!u) || (delete t.linecolor,
                delete t.linewidth);
                var f = l("gridcolor", n(s, o.bgColor, o.blend || a).toRgbString())
                  , d = l("gridwidth");
                if (r("showgrid", o.showGrid || !!f || !!d) || (delete t.gridcolor,
                delete t.gridwidth),
                !o.noZeroLine) {
                    var h = l("zerolinecolor", s)
                      , p = l("zerolinewidth");
                    r("zeroline", o.showGrid || !!h || !!p) || (delete t.zerolinecolor,
                    delete t.zerolinewidth)
                }
            }
        }
        , {
            "../../components/color/attributes": 234,
            "../../lib": 365,
            tinycolor2: 184
        }],
        432: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("../../lib");
            t.exports = function(e, t, r, i) {
                var o, s, l, c, u = i.counterAxes || [], f = i.overlayableAxes || [], d = i.letter, h = i.grid;
                h && (s = h._domains[d][h._axisMap[t._id]],
                o = h._anchors[t._id],
                s && (l = h[d + "side"].split(" ")[0],
                c = h.domain[d]["right" === l || "top" === l ? 1 : 0])),
                s = s || [0, 1],
                o = o || (n(e.position) ? "free" : u[0] || "free"),
                l = l || ("x" === d ? "bottom" : "left"),
                c = c || 0,
                "free" === a.coerce(e, t, {
                    anchor: {
                        valType: "enumerated",
                        values: ["free"].concat(u),
                        dflt: o
                    }
                }, "anchor") && r("position", c),
                a.coerce(e, t, {
                    side: {
                        valType: "enumerated",
                        values: "x" === d ? ["bottom", "top"] : ["left", "right"],
                        dflt: l
                    }
                }, "side");
                var p = !1;
                if (f.length && (p = a.coerce(e, t, {
                    overlaying: {
                        valType: "enumerated",
                        values: [!1].concat(f),
                        dflt: !1
                    }
                }, "overlaying")),
                !p) {
                    var g = r("domain", s);
                    g[0] > g[1] - 1 / 4096 && (t.domain = s),
                    a.noneOrAll(e.domain, t.domain, s)
                }
                return r("layer"),
                t
            }
        }
        , {
            "../../lib": 365,
            "fast-isnumeric": 107
        }],
        433: [function(e, t, r) {
            "use strict";
            var n = e("../../constants/alignment").FROM_BL;
            t.exports = function(e, t, r) {
                void 0 === r && (r = n[e.constraintoward || "center"]);
                var a = [e.r2l(e.range[0]), e.r2l(e.range[1])]
                  , i = a[0] + (a[1] - a[0]) * r;
                e.range = e._input.range = [e.l2r(i + (a[0] - i) * t), e.l2r(i + (a[1] - i) * t)],
                e.setScale()
            }
        }
        , {
            "../../constants/alignment": 340
        }],
        434: [function(e, t, r) {
            "use strict";
            var n = e("polybooljs")
              , a = e("../../registry")
              , i = e("../../components/drawing").dashStyle
              , o = e("../../components/color")
              , s = e("../../components/fx")
              , l = e("../../components/fx/helpers").makeEventData
              , c = e("../../components/dragelement/helpers")
              , u = c.freeMode
              , f = c.rectMode
              , d = c.drawMode
              , h = c.openMode
              , p = c.selectMode
              , g = e("../../components/shapes/draw_newshape/display_outlines")
              , y = e("../../components/shapes/draw_newshape/helpers").handleEllipse
              , v = e("../../components/shapes/draw_newshape/newshapes")
              , m = e("../../lib")
              , b = e("../../lib/polygon")
              , x = e("../../lib/throttle")
              , _ = e("./axis_ids").getFromId
              , w = e("../../lib/clear_gl_canvases")
              , A = e("../../plot_api/subroutines").redrawReglTraces
              , k = e("./constants")
              , T = k.MINSELECT
              , M = b.filter
              , S = b.tester
              , C = e("./handle_outline").clearSelect
              , O = e("./helpers")
              , D = O.p2r
              , L = O.axValue
              , E = O.getTransform;
            function z(e, t, r, n, a, i, o) {
                var s, l, c, u, f, d, p, y, v, m = t._hoverdata, b = t._fullLayout.clickmode.indexOf("event") > -1, x = [];
                if (function(e) {
                    return e && Array.isArray(e) && !0 !== e[0].hoverOnBox
                }(m)) {
                    N(e, t, i);
                    var _ = function(e, t) {
                        var r, n, a = e[0], i = -1, o = [];
                        for (n = 0; n < t.length; n++)
                            if (r = t[n],
                            a.fullData._expandedIndex === r.cd[0].trace._expandedIndex) {
                                if (!0 === a.hoverOnBox)
                                    break;
                                void 0 !== a.pointNumber ? i = a.pointNumber : void 0 !== a.binNumber && (i = a.binNumber,
                                o = a.pointNumbers);
                                break
                            }
                        return {
                            pointNumber: i,
                            pointNumbers: o,
                            searchInfo: r
                        }
                    }(m, s = j(t, r, n, a));
                    if (_.pointNumbers.length > 0 ? function(e, t) {
                        var r, n, a, i = [];
                        for (a = 0; a < e.length; a++)
                            (r = e[a]).cd[0].trace.selectedpoints && r.cd[0].trace.selectedpoints.length > 0 && i.push(r);
                        if (1 === i.length && i[0] === t.searchInfo && (n = t.searchInfo.cd[0].trace).selectedpoints.length === t.pointNumbers.length) {
                            for (a = 0; a < t.pointNumbers.length; a++)
                                if (n.selectedpoints.indexOf(t.pointNumbers[a]) < 0)
                                    return !1;
                            return !0
                        }
                        return !1
                    }(s, _) : function(e) {
                        var t, r, n, a = 0;
                        for (n = 0; n < e.length; n++)
                            if (t = e[n],
                            (r = t.cd[0].trace).selectedpoints) {
                                if (r.selectedpoints.length > 1)
                                    return !1;
                                if ((a += r.selectedpoints.length) > 1)
                                    return !1
                            }
                        return 1 === a
                    }(s) && (d = B(_))) {
                        for (o && o.remove(),
                        v = 0; v < s.length; v++)
                            (l = s[v])._module.selectPoints(l, !1);
                        H(t, s),
                        R(i),
                        b && t.emit("plotly_deselect", null)
                    } else {
                        for (p = e.shiftKey && (void 0 !== d ? d : B(_)),
                        c = function(e, t, r) {
                            return {
                                pointNumber: e,
                                searchInfo: t,
                                subtract: r
                            }
                        }(_.pointNumber, _.searchInfo, p),
                        u = I(i.selectionDefs.concat([c])),
                        v = 0; v < s.length; v++)
                            if (f = U(s[v]._module.selectPoints(s[v], u), s[v]),
                            x.length)
                                for (var w = 0; w < f.length; w++)
                                    x.push(f[w]);
                            else
                                x = f;
                        if (H(t, s, y = {
                            points: x
                        }),
                        c && i && i.selectionDefs.push(c),
                        o) {
                            var A = i.mergedPolygons
                              , k = h(i.dragmode);
                            g(Y(A, k), o, i)
                        }
                        b && t.emit("plotly_selected", y)
                    }
                }
            }
            function F(e) {
                return "pointNumber"in e && "searchInfo"in e
            }
            function P(e) {
                return {
                    xmin: 0,
                    xmax: 0,
                    ymin: 0,
                    ymax: 0,
                    pts: [],
                    contains: function(t, r, n, a) {
                        var i = e.searchInfo.cd[0].trace._expandedIndex;
                        return a.cd[0].trace._expandedIndex === i && n === e.pointNumber
                    },
                    isRect: !1,
                    degenerate: !1,
                    subtract: e.subtract
                }
            }
            function I(e) {
                for (var t = [], r = F(e[0]) ? 0 : e[0][0][0], n = r, a = F(e[0]) ? 0 : e[0][0][1], i = a, o = 0; o < e.length; o++)
                    if (F(e[o]))
                        t.push(P(e[o]));
                    else {
                        var s = b.tester(e[o]);
                        s.subtract = e[o].subtract,
                        t.push(s),
                        r = Math.min(r, s.xmin),
                        n = Math.max(n, s.xmax),
                        a = Math.min(a, s.ymin),
                        i = Math.max(i, s.ymax)
                    }
                return {
                    xmin: r,
                    xmax: n,
                    ymin: a,
                    ymax: i,
                    pts: [],
                    contains: function(e, r, n, a) {
                        for (var i = !1, o = 0; o < t.length; o++)
                            t[o].contains(e, r, n, a) && (i = !1 === t[o].subtract);
                        return i
                    },
                    isRect: !1,
                    degenerate: !1
                }
            }
            function N(e, t, r) {
                t._fullLayout._drawing = !1;
                var n = t._fullLayout
                  , a = r.plotinfo
                  , i = r.dragmode
                  , o = n._lastSelectedSubplot && n._lastSelectedSubplot === a.id
                  , s = (e.shiftKey || e.altKey) && !(d(i) && h(i));
                o && s && a.selection && a.selection.selectionDefs && !r.selectionDefs ? (r.selectionDefs = a.selection.selectionDefs,
                r.mergedPolygons = a.selection.mergedPolygons) : s && a.selection || R(r),
                o || (C(t),
                n._lastSelectedSubplot = a.id)
            }
            function R(e) {
                var t = e.dragmode
                  , r = e.plotinfo
                  , n = e.gd;
                if (n._fullLayout._activeShapeIndex >= 0 && n._fullLayout._deactivateShape(n),
                d(t)) {
                    var i = n._fullLayout._zoomlayer.selectAll(".select-outline-" + r.id);
                    if (i && n._fullLayout._drawing) {
                        var o = v(i, e);
                        o && a.call("_guiRelayout", n, {
                            shapes: o
                        }),
                        n._fullLayout._drawing = !1
                    }
                }
                r.selection = {},
                r.selection.selectionDefs = e.selectionDefs = [],
                r.selection.mergedPolygons = e.mergedPolygons = []
            }
            function j(e, t, r, n) {
                var a, i, o, s = [], l = t.map((function(e) {
                    return e._id
                }
                )), c = r.map((function(e) {
                    return e._id
                }
                ));
                for (o = 0; o < e.calcdata.length; o++)
                    if (!0 === (i = (a = e.calcdata[o])[0].trace).visible && i._module && i._module.selectPoints)
                        if (!n || i.subplot !== n && i.geo !== n)
                            if ("splom" === i.type && i._xaxes[l[0]] && i._yaxes[c[0]]) {
                                var u = d(i._module, a, t[0], r[0]);
                                u.scene = e._fullLayout._splomScenes[i.uid],
                                s.push(u)
                            } else if ("sankey" === i.type) {
                                var f = d(i._module, a, t[0], r[0]);
                                s.push(f)
                            } else {
                                if (-1 === l.indexOf(i.xaxis))
                                    continue;
                                if (-1 === c.indexOf(i.yaxis))
                                    continue;
                                s.push(d(i._module, a, _(e, i.xaxis), _(e, i.yaxis)))
                            }
                        else
                            s.push(d(i._module, a, t[0], r[0]));
                return s;
                function d(e, t, r, n) {
                    return {
                        _module: e,
                        cd: t,
                        xaxis: r,
                        yaxis: n
                    }
                }
            }
            function B(e) {
                var t = e.searchInfo.cd[0].trace
                  , r = e.pointNumber
                  , n = e.pointNumbers
                  , a = n.length > 0 ? n[0] : r;
                return !!t.selectedpoints && t.selectedpoints.indexOf(a) > -1
            }
            function H(e, t, r) {
                var n, i, o, s;
                for (n = 0; n < t.length; n++) {
                    var l = t[n].cd[0].trace._fullInput
                      , c = e._fullLayout._tracePreGUI[l.uid] || {};
                    void 0 === c.selectedpoints && (c.selectedpoints = l._input.selectedpoints || null)
                }
                if (r) {
                    var u = r.points || [];
                    for (n = 0; n < t.length; n++)
                        (s = t[n].cd[0].trace)._input.selectedpoints = s._fullInput.selectedpoints = [],
                        s._fullInput !== s && (s.selectedpoints = []);
                    for (n = 0; n < u.length; n++) {
                        var f = u[n]
                          , d = f.data
                          , h = f.fullData;
                        f.pointIndices ? ([].push.apply(d.selectedpoints, f.pointIndices),
                        s._fullInput !== s && [].push.apply(h.selectedpoints, f.pointIndices)) : (d.selectedpoints.push(f.pointIndex),
                        s._fullInput !== s && h.selectedpoints.push(f.pointIndex))
                    }
                } else
                    for (n = 0; n < t.length; n++)
                        delete (s = t[n].cd[0].trace).selectedpoints,
                        delete s._input.selectedpoints,
                        s._fullInput !== s && delete s._fullInput.selectedpoints;
                var p = !1;
                for (n = 0; n < t.length; n++) {
                    s = (o = (i = t[n]).cd)[0].trace,
                    a.traceIs(s, "regl") && (p = !0);
                    var g = i._module
                      , y = g.styleOnSelect || g.style;
                    y && (y(e, o, o[0].node3),
                    o[0].nodeRangePlot3 && y(e, o, o[0].nodeRangePlot3))
                }
                p && (w(e),
                A(e))
            }
            function U(e, t) {
                if (Array.isArray(e))
                    for (var r = t.cd, n = t.cd[0].trace, a = 0; a < e.length; a++)
                        e[a] = l(e[a], n, r);
                return e
            }
            function Y(e, t) {
                for (var r = [], n = 0; n < e.length; n++) {
                    r[n] = [];
                    for (var a = 0; a < e[n].length; a++) {
                        r[n][a] = [],
                        r[n][a][0] = a ? "L" : "M";
                        for (var i = 0; i < e[n][a].length; i++)
                            r[n][a].push(e[n][a][i])
                    }
                    t || r[n].push(["Z", r[n][0][1], r[n][0][2]])
                }
                return r
            }
            t.exports = {
                prepSelect: function(e, t, r, a, l) {
                    var c = u(l)
                      , v = f(l)
                      , b = h(l)
                      , _ = d(l)
                      , w = p(l)
                      , A = "drawcircle" === l
                      , C = "drawline" === l || A
                      , O = a.gd
                      , F = O._fullLayout
                      , P = F._zoomlayer
                      , B = a.element.getBoundingClientRect()
                      , V = a.plotinfo
                      , q = E(V)
                      , W = t - B.left
                      , G = r - B.top;
                    F._calcInverseTransform(O);
                    var Z = m.apply3DTransform(F._invTransform)(W, G);
                    W = Z[0],
                    G = Z[1];
                    var J, X, Q, $, K, ee, te, re = F._invScaleX, ne = F._invScaleY, ae = W, ie = G, oe = "M" + W + "," + G, se = a.xaxes[0]._length, le = a.yaxes[0]._length, ce = a.xaxes.concat(a.yaxes), ue = e.altKey && !(d(l) && b);
                    N(e, O, a),
                    c && (J = M([[W, G]], k.BENDPX));
                    var fe = P.selectAll("path.select-outline-" + V.id).data(_ ? [0] : [1, 2])
                      , de = F.newshape;
                    fe.enter().append("path").attr("class", (function(e) {
                        return "select-outline select-outline-" + e + " select-outline-" + V.id
                    }
                    )).style(_ ? {
                        opacity: de.opacity / 2,
                        fill: b ? void 0 : de.fillcolor,
                        stroke: de.line.color,
                        "stroke-dasharray": i(de.line.dash, de.line.width),
                        "stroke-width": de.line.width + "px"
                    } : {}).attr("fill-rule", de.fillrule).classed("cursor-move", !!_).attr("transform", q).attr("d", oe + "Z");
                    var he, pe = P.append("path").attr("class", "zoombox-corners").style({
                        fill: o.background,
                        stroke: o.defaultLine,
                        "stroke-width": 1
                    }).attr("transform", q).attr("d", "M0,0Z"), ge = F._uid + k.SELECTID, ye = [], ve = j(O, a.xaxes, a.yaxes, a.subplot);
                    function me(e, t) {
                        return e - t
                    }
                    he = V.fillRangeItems ? V.fillRangeItems : v ? function(e, t) {
                        var r = e.range = {};
                        for (K = 0; K < ce.length; K++) {
                            var n = ce[K]
                              , a = n._id.charAt(0);
                            r[n._id] = [D(n, t[a + "min"]), D(n, t[a + "max"])].sort(me)
                        }
                    }
                    : function(e, t, r) {
                        var n = e.lassoPoints = {};
                        for (K = 0; K < ce.length; K++) {
                            var a = ce[K];
                            n[a._id] = r.filtered.map(L(a))
                        }
                    }
                    ,
                    a.moveFn = function(e, t) {
                        ae = Math.max(0, Math.min(se, re * e + W)),
                        ie = Math.max(0, Math.min(le, ne * t + G));
                        var r = Math.abs(ae - W)
                          , i = Math.abs(ie - G);
                        if (v) {
                            var o, s, l;
                            if (w) {
                                var u = F.selectdirection;
                                switch (o = "any" === u ? i < Math.min(.6 * r, T) ? "h" : r < Math.min(.6 * i, T) ? "v" : "d" : u) {
                                case "h":
                                    s = A ? le / 2 : 0,
                                    l = le;
                                    break;
                                case "v":
                                    s = A ? se / 2 : 0,
                                    l = se
                                }
                            }
                            if (_)
                                switch (F.newshape.drawdirection) {
                                case "vertical":
                                    o = "h",
                                    s = A ? le / 2 : 0,
                                    l = le;
                                    break;
                                case "horizontal":
                                    o = "v",
                                    s = A ? se / 2 : 0,
                                    l = se;
                                    break;
                                case "ortho":
                                    r < i ? (o = "h",
                                    s = G,
                                    l = ie) : (o = "v",
                                    s = W,
                                    l = ae);
                                    break;
                                default:
                                    o = "d"
                                }
                            "h" === o ? (($ = C ? y(A, [ae, s], [ae, l]) : [[W, s], [W, l], [ae, l], [ae, s]]).xmin = C ? ae : Math.min(W, ae),
                            $.xmax = C ? ae : Math.max(W, ae),
                            $.ymin = Math.min(s, l),
                            $.ymax = Math.max(s, l),
                            pe.attr("d", "M" + $.xmin + "," + (G - T) + "h-4v" + 2 * T + "h4ZM" + ($.xmax - 1) + "," + (G - T) + "h4v" + 2 * T + "h-4Z")) : "v" === o ? (($ = C ? y(A, [s, ie], [l, ie]) : [[s, G], [s, ie], [l, ie], [l, G]]).xmin = Math.min(s, l),
                            $.xmax = Math.max(s, l),
                            $.ymin = C ? ie : Math.min(G, ie),
                            $.ymax = C ? ie : Math.max(G, ie),
                            pe.attr("d", "M" + (W - T) + "," + $.ymin + "v-4h" + 2 * T + "v4ZM" + (W - T) + "," + ($.ymax - 1) + "v4h" + 2 * T + "v-4Z")) : "d" === o && (($ = C ? y(A, [W, G], [ae, ie]) : [[W, G], [W, ie], [ae, ie], [ae, G]]).xmin = Math.min(W, ae),
                            $.xmax = Math.max(W, ae),
                            $.ymin = Math.min(G, ie),
                            $.ymax = Math.max(G, ie),
                            pe.attr("d", "M0,0Z"))
                        } else
                            c && (J.addPt([ae, ie]),
                            $ = J.filtered);
                        a.selectionDefs && a.selectionDefs.length ? (Q = function(e, t, r) {
                            if (r)
                                return n.difference({
                                    regions: e,
                                    inverted: !1
                                }, {
                                    regions: [t],
                                    inverted: !1
                                }).regions;
                            return n.union({
                                regions: e,
                                inverted: !1
                            }, {
                                regions: [t],
                                inverted: !1
                            }).regions
                        }(a.mergedPolygons, $, ue),
                        $.subtract = ue,
                        X = I(a.selectionDefs.concat([$]))) : (Q = [$],
                        X = S($)),
                        g(Y(Q, b), fe, a),
                        w && x.throttle(ge, k.SELECTDELAY, (function() {
                            var e;
                            ye = [];
                            var t, r = [];
                            for (K = 0; K < ve.length; K++)
                                if (t = (ee = ve[K])._module.selectPoints(ee, X),
                                r.push(t),
                                e = U(t, ee),
                                ye.length)
                                    for (var n = 0; n < e.length; n++)
                                        ye.push(e[n]);
                                else
                                    ye = e;
                            H(O, ve, te = {
                                points: ye
                            }),
                            he(te, $, J),
                            a.gd.emit("plotly_selecting", te)
                        }
                        ))
                    }
                    ,
                    a.clickFn = function(e, t) {
                        if (pe.remove(),
                        O._fullLayout._activeShapeIndex >= 0)
                            O._fullLayout._deactivateShape(O);
                        else if (!_) {
                            var r = F.clickmode;
                            x.done(ge).then((function() {
                                if (x.clear(ge),
                                2 === e) {
                                    for (fe.remove(),
                                    K = 0; K < ve.length; K++)
                                        (ee = ve[K])._module.selectPoints(ee, !1);
                                    H(O, ve),
                                    R(a),
                                    O.emit("plotly_deselect", null)
                                } else
                                    r.indexOf("select") > -1 && z(t, O, a.xaxes, a.yaxes, a.subplot, a, fe),
                                    "event" === r && O.emit("plotly_selected", void 0);
                                s.click(O, t)
                            }
                            )).catch(m.error)
                        }
                    }
                    ,
                    a.doneFn = function() {
                        pe.remove(),
                        x.done(ge).then((function() {
                            x.clear(ge),
                            a.gd.emit("plotly_selected", te),
                            $ && a.selectionDefs && ($.subtract = ue,
                            a.selectionDefs.push($),
                            a.mergedPolygons.length = 0,
                            [].push.apply(a.mergedPolygons, Q)),
                            a.doneFnCompleted && a.doneFnCompleted(ye)
                        }
                        )).catch(m.error),
                        _ && R(a)
                    }
                },
                clearSelect: C,
                clearSelectionsCache: R,
                selectOnClick: z
            }
        }
        , {
            "../../components/color": 235,
            "../../components/dragelement/helpers": 253,
            "../../components/drawing": 257,
            "../../components/fx": 275,
            "../../components/fx/helpers": 271,
            "../../components/shapes/draw_newshape/display_outlines": 323,
            "../../components/shapes/draw_newshape/helpers": 324,
            "../../components/shapes/draw_newshape/newshapes": 325,
            "../../lib": 365,
            "../../lib/clear_gl_canvases": 352,
            "../../lib/polygon": 377,
            "../../lib/throttle": 391,
            "../../plot_api/subroutines": 404,
            "../../registry": 451,
            "./axis_ids": 418,
            "./constants": 421,
            "./handle_outline": 425,
            "./helpers": 426,
            polybooljs: 165
        }],
        435: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("d3-time-format").utcFormat
              , i = e("../../lib")
              , o = i.numberFormat
              , s = e("fast-isnumeric")
              , l = i.cleanNumber
              , c = i.ms2DateTime
              , u = i.dateTime2ms
              , f = i.ensureNumber
              , d = i.isArrayOrTypedArray
              , h = e("../../constants/numerical")
              , p = h.FP_SAFE
              , g = h.BADNUM
              , y = h.LOG_CLIP
              , v = h.ONEWEEK
              , m = h.ONEDAY
              , b = h.ONEHOUR
              , x = h.ONEMIN
              , _ = h.ONESEC
              , w = e("./axis_ids")
              , A = e("./constants")
              , k = A.HOUR_PATTERN
              , T = A.WEEKDAY_PATTERN;
            function M(e) {
                return Math.pow(10, e)
            }
            function S(e) {
                return null != e
            }
            t.exports = function(e, t) {
                t = t || {};
                var r = e._id || "x"
                  , h = r.charAt(0);
                function C(t, r) {
                    if (t > 0)
                        return Math.log(t) / Math.LN10;
                    if (t <= 0 && r && e.range && 2 === e.range.length) {
                        var n = e.range[0]
                          , a = e.range[1];
                        return .5 * (n + a - 2 * y * Math.abs(n - a))
                    }
                    return g
                }
                function O(t, r, n, a) {
                    if ((a || {}).msUTC && s(t))
                        return +t;
                    var o = u(t, n || e.calendar);
                    if (o === g) {
                        if (!s(t))
                            return g;
                        t = +t;
                        var l = Math.floor(10 * i.mod(t + .05, 1))
                          , c = Math.round(t - l / 10);
                        o = u(new Date(c)) + l / 10
                    }
                    return o
                }
                function D(t, r, n) {
                    return c(t, r, n || e.calendar)
                }
                function L(t) {
                    return e._categories[Math.round(t)]
                }
                function E(t) {
                    if (S(t)) {
                        if (void 0 === e._categoriesMap && (e._categoriesMap = {}),
                        void 0 !== e._categoriesMap[t])
                            return e._categoriesMap[t];
                        e._categories.push("number" == typeof t ? String(t) : t);
                        var r = e._categories.length - 1;
                        return e._categoriesMap[t] = r,
                        r
                    }
                    return g
                }
                function z(t) {
                    if (e._categoriesMap)
                        return e._categoriesMap[t]
                }
                function F(e) {
                    var t = z(e);
                    return void 0 !== t ? t : s(e) ? +e : void 0
                }
                function P(e) {
                    return s(e) ? +e : z(e)
                }
                function I(e, t, r) {
                    return n.round(r + t * e, 2)
                }
                function N(e, t, r) {
                    return (e - r) / t
                }
                var R = function(t) {
                    return s(t) ? I(t, e._m, e._b) : g
                }
                  , j = function(t) {
                    return N(t, e._m, e._b)
                };
                if (e.rangebreaks) {
                    var B = "y" === h;
                    R = function(t) {
                        if (!s(t))
                            return g;
                        var r = e._rangebreaks.length;
                        if (!r)
                            return I(t, e._m, e._b);
                        var n = B;
                        e.range[0] > e.range[1] && (n = !n);
                        for (var a = n ? -1 : 1, i = a * t, o = 0, l = 0; l < r; l++) {
                            var c = a * e._rangebreaks[l].min
                              , u = a * e._rangebreaks[l].max;
                            if (i < c)
                                break;
                            if (!(i > u)) {
                                o = i < (c + u) / 2 ? l : l + 1;
                                break
                            }
                            o = l + 1
                        }
                        var f = e._B[o] || 0;
                        return isFinite(f) ? I(t, e._m2, f) : 0
                    }
                    ,
                    j = function(t) {
                        var r = e._rangebreaks.length;
                        if (!r)
                            return N(t, e._m, e._b);
                        for (var n = 0, a = 0; a < r && !(t < e._rangebreaks[a].pmin); a++)
                            t > e._rangebreaks[a].pmax && (n = a + 1);
                        return N(t, e._m2, e._B[n])
                    }
                }
                e.c2l = "log" === e.type ? C : f,
                e.l2c = "log" === e.type ? M : f,
                e.l2p = R,
                e.p2l = j,
                e.c2p = "log" === e.type ? function(e, t) {
                    return R(C(e, t))
                }
                : R,
                e.p2c = "log" === e.type ? function(e) {
                    return M(j(e))
                }
                : j,
                -1 !== ["linear", "-"].indexOf(e.type) ? (e.d2r = e.r2d = e.d2c = e.r2c = e.d2l = e.r2l = l,
                e.c2d = e.c2r = e.l2d = e.l2r = f,
                e.d2p = e.r2p = function(t) {
                    return e.l2p(l(t))
                }
                ,
                e.p2d = e.p2r = j,
                e.cleanPos = f) : "log" === e.type ? (e.d2r = e.d2l = function(e, t) {
                    return C(l(e), t)
                }
                ,
                e.r2d = e.r2c = function(e) {
                    return M(l(e))
                }
                ,
                e.d2c = e.r2l = l,
                e.c2d = e.l2r = f,
                e.c2r = C,
                e.l2d = M,
                e.d2p = function(t, r) {
                    return e.l2p(e.d2r(t, r))
                }
                ,
                e.p2d = function(e) {
                    return M(j(e))
                }
                ,
                e.r2p = function(t) {
                    return e.l2p(l(t))
                }
                ,
                e.p2r = j,
                e.cleanPos = f) : "date" === e.type ? (e.d2r = e.r2d = i.identity,
                e.d2c = e.r2c = e.d2l = e.r2l = O,
                e.c2d = e.c2r = e.l2d = e.l2r = D,
                e.d2p = e.r2p = function(t, r, n) {
                    return e.l2p(O(t, 0, n))
                }
                ,
                e.p2d = e.p2r = function(e, t, r) {
                    return D(j(e), t, r)
                }
                ,
                e.cleanPos = function(t) {
                    return i.cleanDate(t, g, e.calendar)
                }
                ) : "category" === e.type ? (e.d2c = e.d2l = E,
                e.r2d = e.c2d = e.l2d = L,
                e.d2r = e.d2l_noadd = F,
                e.r2c = function(t) {
                    var r = P(t);
                    return void 0 !== r ? r : e.fraction2r(.5)
                }
                ,
                e.l2r = e.c2r = f,
                e.r2l = P,
                e.d2p = function(t) {
                    return e.l2p(e.r2c(t))
                }
                ,
                e.p2d = function(e) {
                    return L(j(e))
                }
                ,
                e.r2p = e.d2p,
                e.p2r = j,
                e.cleanPos = function(e) {
                    return "string" == typeof e && "" !== e ? e : f(e)
                }
                ) : "multicategory" === e.type && (e.r2d = e.c2d = e.l2d = L,
                e.d2r = e.d2l_noadd = F,
                e.r2c = function(t) {
                    var r = F(t);
                    return void 0 !== r ? r : e.fraction2r(.5)
                }
                ,
                e.r2c_just_indices = z,
                e.l2r = e.c2r = f,
                e.r2l = F,
                e.d2p = function(t) {
                    return e.l2p(e.r2c(t))
                }
                ,
                e.p2d = function(e) {
                    return L(j(e))
                }
                ,
                e.r2p = e.d2p,
                e.p2r = j,
                e.cleanPos = function(e) {
                    return Array.isArray(e) || "string" == typeof e && "" !== e ? e : f(e)
                }
                ,
                e.setupMultiCategory = function(n) {
                    var a, o, s = e._traceIndices, l = e._matchGroup;
                    if (l && 0 === e._categories.length)
                        for (var c in l)
                            if (c !== r) {
                                var u = t[w.id2name(c)];
                                s = s.concat(u._traceIndices)
                            }
                    var f = [[0, {}], [0, {}]]
                      , p = [];
                    for (a = 0; a < s.length; a++) {
                        var g = n[s[a]];
                        if (h in g) {
                            var y = g[h]
                              , v = g._length || i.minRowLength(y);
                            if (d(y[0]) && d(y[1]))
                                for (o = 0; o < v; o++) {
                                    var m = y[0][o]
                                      , b = y[1][o];
                                    S(m) && S(b) && (p.push([m, b]),
                                    m in f[0][1] || (f[0][1][m] = f[0][0]++),
                                    b in f[1][1] || (f[1][1][b] = f[1][0]++))
                                }
                        }
                    }
                    for (p.sort((function(e, t) {
                        var r = f[0][1]
                          , n = r[e[0]] - r[t[0]];
                        if (n)
                            return n;
                        var a = f[1][1];
                        return a[e[1]] - a[t[1]]
                    }
                    )),
                    a = 0; a < p.length; a++)
                        E(p[a])
                }
                ),
                e.fraction2r = function(t) {
                    var r = e.r2l(e.range[0])
                      , n = e.r2l(e.range[1]);
                    return e.l2r(r + t * (n - r))
                }
                ,
                e.r2fraction = function(t) {
                    var r = e.r2l(e.range[0])
                      , n = e.r2l(e.range[1]);
                    return (e.r2l(t) - r) / (n - r)
                }
                ,
                e.cleanRange = function(t, r) {
                    r || (r = {}),
                    t || (t = "range");
                    var n, a, o = i.nestedProperty(e, t).get();
                    if (a = (a = "date" === e.type ? i.dfltRange(e.calendar) : "y" === h ? A.DFLTRANGEY : r.dfltRange || A.DFLTRANGEX).slice(),
                    "tozero" !== e.rangemode && "nonnegative" !== e.rangemode || (a[0] = 0),
                    o && 2 === o.length)
                        for ("date" !== e.type || e.autorange || (o[0] = i.cleanDate(o[0], g, e.calendar),
                        o[1] = i.cleanDate(o[1], g, e.calendar)),
                        n = 0; n < 2; n++)
                            if ("date" === e.type) {
                                if (!i.isDateTime(o[n], e.calendar)) {
                                    e[t] = a;
                                    break
                                }
                                if (e.r2l(o[0]) === e.r2l(o[1])) {
                                    var l = i.constrain(e.r2l(o[0]), i.MIN_MS + 1e3, i.MAX_MS - 1e3);
                                    o[0] = e.l2r(l - 1e3),
                                    o[1] = e.l2r(l + 1e3);
                                    break
                                }
                            } else {
                                if (!s(o[n])) {
                                    if (!s(o[1 - n])) {
                                        e[t] = a;
                                        break
                                    }
                                    o[n] = o[1 - n] * (n ? 10 : .1)
                                }
                                if (o[n] < -p ? o[n] = -p : o[n] > p && (o[n] = p),
                                o[0] === o[1]) {
                                    var c = Math.max(1, Math.abs(1e-6 * o[0]));
                                    o[0] -= c,
                                    o[1] += c
                                }
                            }
                    else
                        i.nestedProperty(e, t).set(a)
                }
                ,
                e.setScale = function(r) {
                    var n = t._size;
                    if (e.overlaying) {
                        var a = w.getFromId({
                            _fullLayout: t
                        }, e.overlaying);
                        e.domain = a.domain
                    }
                    var i = r && e._r ? "_r" : "range"
                      , o = e.calendar;
                    e.cleanRange(i);
                    var s, l, c = e.r2l(e[i][0], o), u = e.r2l(e[i][1], o), f = "y" === h;
                    if ((f ? (e._offset = n.t + (1 - e.domain[1]) * n.h,
                    e._length = n.h * (e.domain[1] - e.domain[0]),
                    e._m = e._length / (c - u),
                    e._b = -e._m * u) : (e._offset = n.l + e.domain[0] * n.w,
                    e._length = n.w * (e.domain[1] - e.domain[0]),
                    e._m = e._length / (u - c),
                    e._b = -e._m * c),
                    e._rangebreaks = [],
                    e._lBreaks = 0,
                    e._m2 = 0,
                    e._B = [],
                    e.rangebreaks) && (e._rangebreaks = e.locateBreaks(Math.min(c, u), Math.max(c, u)),
                    e._rangebreaks.length)) {
                        for (s = 0; s < e._rangebreaks.length; s++)
                            l = e._rangebreaks[s],
                            e._lBreaks += Math.abs(l.max - l.min);
                        var d = f;
                        c > u && (d = !d),
                        d && e._rangebreaks.reverse();
                        var p = d ? -1 : 1;
                        for (e._m2 = p * e._length / (Math.abs(u - c) - e._lBreaks),
                        e._B.push(-e._m2 * (f ? u : c)),
                        s = 0; s < e._rangebreaks.length; s++)
                            l = e._rangebreaks[s],
                            e._B.push(e._B[e._B.length - 1] - p * e._m2 * (l.max - l.min));
                        for (s = 0; s < e._rangebreaks.length; s++)
                            (l = e._rangebreaks[s]).pmin = R(l.min),
                            l.pmax = R(l.max)
                    }
                    if (!isFinite(e._m) || !isFinite(e._b) || e._length < 0)
                        throw t._replotting = !1,
                        new Error("Something went wrong with axis scaling")
                }
                ,
                e.maskBreaks = function(t) {
                    var r, n, a, o, s, c = e.rangebreaks || [];
                    c._cachedPatterns || (c._cachedPatterns = c.map((function(t) {
                        return t.enabled && t.bounds ? i.simpleMap(t.bounds, t.pattern ? l : e.d2c) : null
                    }
                    ))),
                    c._cachedValues || (c._cachedValues = c.map((function(t) {
                        return t.enabled && t.values ? i.simpleMap(t.values, e.d2c).sort(i.sorterAsc) : null
                    }
                    )));
                    for (var u = 0; u < c.length; u++) {
                        var f = c[u];
                        if (f.enabled)
                            if (f.bounds) {
                                var d = f.pattern;
                                switch (n = (r = c._cachedPatterns[u])[0],
                                a = r[1],
                                d) {
                                case T:
                                    o = (s = new Date(t)).getUTCDay(),
                                    n > a && (a += 7,
                                    o < n && (o += 7));
                                    break;
                                case k:
                                    o = (s = new Date(t)).getUTCHours() + (s.getUTCMinutes() / 60 + s.getUTCSeconds() / 3600 + s.getUTCMilliseconds() / 36e5),
                                    n > a && (a += 24,
                                    o < n && (o += 24));
                                    break;
                                case "":
                                    o = t
                                }
                                if (o >= n && o < a)
                                    return g
                            } else
                                for (var h = c._cachedValues[u], p = 0; p < h.length; p++)
                                    if (a = (n = h[p]) + f.dvalue,
                                    t >= n && t < a)
                                        return g
                    }
                    return t
                }
                ,
                e.locateBreaks = function(t, r) {
                    var n, a, o, s, c = [];
                    if (!e.rangebreaks)
                        return c;
                    var u = e.rangebreaks.slice().sort((function(e, t) {
                        return e.pattern === T && t.pattern === k ? -1 : t.pattern === T && e.pattern === k ? 1 : 0
                    }
                    ))
                      , f = function(e, n) {
                        if ((e = i.constrain(e, t, r)) !== (n = i.constrain(n, t, r))) {
                            for (var a = !0, o = 0; o < c.length; o++) {
                                var s = c[o];
                                e < s.max && n >= s.min && (e < s.min && (s.min = e),
                                n > s.max && (s.max = n),
                                a = !1)
                            }
                            a && c.push({
                                min: e,
                                max: n
                            })
                        }
                    };
                    for (n = 0; n < u.length; n++) {
                        var d = u[n];
                        if (d.enabled)
                            if (d.bounds) {
                                var h = t
                                  , p = r;
                                d.pattern && (h = Math.floor(h)),
                                o = (a = i.simpleMap(d.bounds, d.pattern ? l : e.r2l))[0],
                                s = a[1];
                                var g, y, w = new Date(h);
                                switch (d.pattern) {
                                case T:
                                    y = v,
                                    g = (s - o + (s < o ? 7 : 0)) * m,
                                    h += o * m - (w.getUTCDay() * m + w.getUTCHours() * b + w.getUTCMinutes() * x + w.getUTCSeconds() * _ + w.getUTCMilliseconds());
                                    break;
                                case k:
                                    y = m,
                                    g = (s - o + (s < o ? 24 : 0)) * b,
                                    h += o * b - (w.getUTCHours() * b + w.getUTCMinutes() * x + w.getUTCSeconds() * _ + w.getUTCMilliseconds());
                                    break;
                                default:
                                    h = Math.min(a[0], a[1]),
                                    g = y = (p = Math.max(a[0], a[1])) - h
                                }
                                for (var A = h; A < p; A += y)
                                    f(A, A + g)
                            } else
                                for (var M = i.simpleMap(d.values, e.d2c), S = 0; S < M.length; S++)
                                    f(o = M[S], s = o + d.dvalue)
                    }
                    return c.sort((function(e, t) {
                        return e.min - t.min
                    }
                    )),
                    c
                }
                ,
                e.makeCalcdata = function(t, r, n) {
                    var a, o, s, l, c = e.type, u = "date" === c && t[r + "calendar"];
                    if (r in t) {
                        if (a = t[r],
                        l = t._length || i.minRowLength(a),
                        i.isTypedArray(a) && ("linear" === c || "log" === c)) {
                            if (l === a.length)
                                return a;
                            if (a.subarray)
                                return a.subarray(0, l)
                        }
                        if ("multicategory" === c)
                            return function(e, t) {
                                for (var r = new Array(t), n = 0; n < t; n++) {
                                    var a = (e[0] || [])[n]
                                      , i = (e[1] || [])[n];
                                    r[n] = z([a, i])
                                }
                                return r
                            }(a, l);
                        for (o = new Array(l),
                        s = 0; s < l; s++)
                            o[s] = e.d2c(a[s], 0, u, n)
                    } else {
                        var f = r + "0"in t ? e.d2c(t[r + "0"], 0, u) : 0
                          , d = t["d" + r] ? Number(t["d" + r]) : 1;
                        for (a = t[{
                            x: "y",
                            y: "x"
                        }[r]],
                        l = t._length || a.length,
                        o = new Array(l),
                        s = 0; s < l; s++)
                            o[s] = f + s * d
                    }
                    if (e.rangebreaks)
                        for (s = 0; s < l; s++)
                            o[s] = e.maskBreaks(o[s]);
                    return o
                }
                ,
                e.isValidRange = function(t) {
                    return Array.isArray(t) && 2 === t.length && s(e.r2l(t[0])) && s(e.r2l(t[1]))
                }
                ,
                e.isPtWithinRange = function(t, r) {
                    var n = e.c2l(t[h], null, r)
                      , a = e.r2l(e.range[0])
                      , i = e.r2l(e.range[1]);
                    return a < i ? a <= n && n <= i : i <= n && n <= a
                }
                ,
                e._emptyCategories = function() {
                    e._categories = [],
                    e._categoriesMap = {}
                }
                ,
                e.clearCalc = function() {
                    var r = e._matchGroup;
                    if (r) {
                        var n = null
                          , a = null;
                        for (var i in r) {
                            var o = t[w.id2name(i)];
                            if (o._categories) {
                                n = o._categories,
                                a = o._categoriesMap;
                                break
                            }
                        }
                        n && a ? (e._categories = n,
                        e._categoriesMap = a) : e._emptyCategories()
                    } else
                        e._emptyCategories();
                    if (e._initialCategories)
                        for (var s = 0; s < e._initialCategories.length; s++)
                            E(e._initialCategories[s])
                }
                ,
                e.sortByInitialCategories = function() {
                    var n = [];
                    if (e._emptyCategories(),
                    e._initialCategories)
                        for (var a = 0; a < e._initialCategories.length; a++)
                            E(e._initialCategories[a]);
                    n = n.concat(e._traceIndices);
                    var i = e._matchGroup;
                    for (var o in i)
                        if (r !== o) {
                            var s = t[w.id2name(o)];
                            s._categories = e._categories,
                            s._categoriesMap = e._categoriesMap,
                            n = n.concat(s._traceIndices)
                        }
                    return n
                }
                ;
                var H = t._d3locale;
                "date" === e.type && (e._dateFormat = H ? H.timeFormat : a,
                e._extraFormat = t._extraFormat),
                e._separators = t.separators,
                e._numFormat = H ? H.numberFormat : o,
                delete e._minDtick,
                delete e._forceTick0
            }
        }
        , {
            "../../constants/numerical": 344,
            "../../lib": 365,
            "./axis_ids": 418,
            "./constants": 421,
            "@plotly/d3": 6,
            "d3-time-format": 39,
            "fast-isnumeric": 107
        }],
        436: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../components/color").contrast
              , i = e("./layout_attributes")
              , o = e("../array_container_defaults");
            function s(e) {
                var t = ["showexponent", "showtickprefix", "showticksuffix"].filter((function(t) {
                    return void 0 !== e[t]
                }
                ));
                if (t.every((function(r) {
                    return e[r] === e[t[0]]
                }
                )) || 1 === t.length)
                    return e[t[0]]
            }
            function l(e, t) {
                function r(r, a) {
                    return n.coerce(e, t, i.tickformatstops, r, a)
                }
                r("enabled") && (r("dtickrange"),
                r("value"))
            }
            t.exports = function(e, t, r, c, u, f) {
                f && 1 !== f.pass || function(e, t, r, n, a) {
                    var i = s(e);
                    r("tickprefix") && r("showtickprefix", i);
                    r("ticksuffix", a.tickSuffixDflt) && r("showticksuffix", i)
                }(e, 0, r, 0, u),
                f && 2 !== f.pass || function(e, t, r, c, u) {
                    var f = s(e);
                    r("tickprefix") && r("showtickprefix", f);
                    r("ticksuffix", u.tickSuffixDflt) && r("showticksuffix", f);
                    if (r("showticklabels")) {
                        var d = u.font || {}
                          , h = t.color
                          , p = -1 !== (t.ticklabelposition || "").indexOf("inside") ? a(u.bgColor) : h && h !== i.color.dflt ? h : d.color;
                        if (n.coerceFont(r, "tickfont", {
                            family: d.family,
                            size: d.size,
                            color: p
                        }),
                        r("tickangle"),
                        "category" !== c) {
                            var g = r("tickformat");
                            o(e, t, {
                                name: "tickformatstops",
                                inclusionAttr: "enabled",
                                handleItemDefaults: l
                            }),
                            t.tickformatstops.length || delete t.tickformatstops,
                            g || "date" === c || (r("showexponent", f),
                            r("exponentformat"),
                            r("minexponent"),
                            r("separatethousands"))
                        }
                    }
                }(e, t, r, c, u)
            }
        }
        , {
            "../../components/color": 235,
            "../../lib": 365,
            "../array_container_defaults": 409,
            "./layout_attributes": 429
        }],
        437: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("./layout_attributes");
            t.exports = function(e, t, r, i) {
                var o = n.coerce2(e, t, a, "ticklen")
                  , s = n.coerce2(e, t, a, "tickwidth")
                  , l = n.coerce2(e, t, a, "tickcolor", t.color);
                r("ticks", i.outerTicks || o || s || l ? "outside" : "") || (delete t.ticklen,
                delete t.tickwidth,
                delete t.tickcolor)
            }
        }
        , {
            "../../lib": 365,
            "./layout_attributes": 429
        }],
        438: [function(e, t, r) {
            "use strict";
            var n = e("./clean_ticks")
              , a = e("../../lib").isArrayOrTypedArray;
            t.exports = function(e, t, r, i) {
                function o(r) {
                    var n = e[r];
                    return void 0 !== n ? n : (t._template || {})[r]
                }
                var s = o("tick0")
                  , l = o("dtick")
                  , c = o("tickvals")
                  , u = r("tickmode", a(c) ? "array" : l ? "linear" : "auto");
                if ("auto" === u)
                    r("nticks");
                else if ("linear" === u) {
                    var f = t.dtick = n.dtick(l, i);
                    t.tick0 = n.tick0(s, i, t.calendar, f)
                } else if ("multicategory" !== i) {
                    void 0 === r("tickvals") ? t.tickmode = "auto" : r("ticktext")
                }
            }
        }
        , {
            "../../lib": 365,
            "./clean_ticks": 420
        }],
        439: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../../registry")
              , i = e("../../lib")
              , o = e("../../components/drawing")
              , s = e("./axes");
            t.exports = function(e, t, r, l) {
                var c = e._fullLayout;
                if (0 !== t.length) {
                    var u, f, d, h;
                    l && (u = l());
                    var p = n.ease(r.easing);
                    return e._transitionData._interruptCallbacks.push((function() {
                        return window.cancelAnimationFrame(h),
                        h = null,
                        function() {
                            for (var r = {}, n = 0; n < t.length; n++) {
                                var i = t[n]
                                  , o = i.plotinfo.xaxis
                                  , s = i.plotinfo.yaxis;
                                i.xr0 && (r[o._name + ".range"] = i.xr0.slice()),
                                i.yr0 && (r[s._name + ".range"] = i.yr0.slice())
                            }
                            return a.call("relayout", e, r).then((function() {
                                for (var e = 0; e < t.length; e++)
                                    g(t[e].plotinfo)
                            }
                            ))
                        }()
                    }
                    )),
                    f = Date.now(),
                    h = window.requestAnimationFrame((function n() {
                        d = Date.now();
                        for (var i = Math.min(1, (d - f) / r.duration), o = p(i), s = 0; s < t.length; s++)
                            y(t[s], o);
                        d - f > r.duration ? (!function() {
                            for (var r = {}, n = 0; n < t.length; n++) {
                                var i = t[n]
                                  , o = i.plotinfo.xaxis
                                  , s = i.plotinfo.yaxis;
                                i.xr1 && (r[o._name + ".range"] = i.xr1.slice()),
                                i.yr1 && (r[s._name + ".range"] = i.yr1.slice())
                            }
                            u && u(),
                            a.call("relayout", e, r).then((function() {
                                for (var e = 0; e < t.length; e++)
                                    g(t[e].plotinfo)
                            }
                            ))
                        }(),
                        h = window.cancelAnimationFrame(n)) : h = window.requestAnimationFrame(n)
                    }
                    )),
                    Promise.resolve()
                }
                function g(e) {
                    var t = e.xaxis
                      , r = e.yaxis;
                    c._defs.select("#" + e.clipId + "> rect").call(o.setTranslate, 0, 0).call(o.setScale, 1, 1),
                    e.plot.call(o.setTranslate, t._offset, r._offset).call(o.setScale, 1, 1);
                    var n = e.plot.selectAll(".scatterlayer .trace");
                    n.selectAll(".point").call(o.setPointGroupScale, 1, 1),
                    n.selectAll(".textpoint").call(o.setTextPointsScale, 1, 1),
                    n.call(o.hideOutsideRangePoints, e)
                }
                function y(t, r) {
                    var n = t.plotinfo
                      , a = n.xaxis
                      , l = n.yaxis
                      , c = a._length
                      , u = l._length
                      , f = !!t.xr1
                      , d = !!t.yr1
                      , h = [];
                    if (f) {
                        var p = i.simpleMap(t.xr0, a.r2l)
                          , g = i.simpleMap(t.xr1, a.r2l)
                          , y = p[1] - p[0]
                          , v = g[1] - g[0];
                        h[0] = (p[0] * (1 - r) + r * g[0] - p[0]) / (p[1] - p[0]) * c,
                        h[2] = c * (1 - r + r * v / y),
                        a.range[0] = a.l2r(p[0] * (1 - r) + r * g[0]),
                        a.range[1] = a.l2r(p[1] * (1 - r) + r * g[1])
                    } else
                        h[0] = 0,
                        h[2] = c;
                    if (d) {
                        var m = i.simpleMap(t.yr0, l.r2l)
                          , b = i.simpleMap(t.yr1, l.r2l)
                          , x = m[1] - m[0]
                          , _ = b[1] - b[0];
                        h[1] = (m[1] * (1 - r) + r * b[1] - m[1]) / (m[0] - m[1]) * u,
                        h[3] = u * (1 - r + r * _ / x),
                        l.range[0] = a.l2r(m[0] * (1 - r) + r * b[0]),
                        l.range[1] = l.l2r(m[1] * (1 - r) + r * b[1])
                    } else
                        h[1] = 0,
                        h[3] = u;
                    s.drawOne(e, a, {
                        skipTitle: !0
                    }),
                    s.drawOne(e, l, {
                        skipTitle: !0
                    }),
                    s.redrawComponents(e, [a._id, l._id]);
                    var w = f ? c / h[2] : 1
                      , A = d ? u / h[3] : 1
                      , k = f ? h[0] : 0
                      , T = d ? h[1] : 0
                      , M = f ? h[0] / h[2] * c : 0
                      , S = d ? h[1] / h[3] * u : 0
                      , C = a._offset - M
                      , O = l._offset - S;
                    n.clipRect.call(o.setTranslate, k, T).call(o.setScale, 1 / w, 1 / A),
                    n.plot.call(o.setTranslate, C, O).call(o.setScale, w, A),
                    o.setPointGroupScale(n.zoomScalePts, 1 / w, 1 / A),
                    o.setTextPointsScale(n.zoomScaleTxt, 1 / w, 1 / A)
                }
                s.redrawComponents(e)
            }
        }
        , {
            "../../components/drawing": 257,
            "../../lib": 365,
            "../../registry": 451,
            "./axes": 414,
            "@plotly/d3": 6
        }],
        440: [function(e, t, r) {
            "use strict";
            var n = e("../../registry").traceIs
              , a = e("./axis_autotype");
            function i(e) {
                return {
                    v: "x",
                    h: "y"
                }[e.orientation || "v"]
            }
            function o(e, t) {
                var r = i(e)
                  , a = n(e, "box-violin")
                  , o = n(e._fullInput || {}, "candlestick");
                return a && !o && t === r && void 0 === e[r] && void 0 === e[r + "0"]
            }
            t.exports = function(e, t, r, s) {
                r("autotypenumbers", s.autotypenumbersDflt),
                "-" === r("type", (s.splomStash || {}).type) && (!function(e, t) {
                    if ("-" !== e.type)
                        return;
                    var r, s = e._id, l = s.charAt(0);
                    -1 !== s.indexOf("scene") && (s = l);
                    var c = function(e, t, r) {
                        for (var n = 0; n < e.length; n++) {
                            var a = e[n];
                            if ("splom" === a.type && a._length > 0 && (a["_" + r + "axes"] || {})[t])
                                return a;
                            if ((a[r + "axis"] || r) === t) {
                                if (o(a, r))
                                    return a;
                                if ((a[r] || []).length || a[r + "0"])
                                    return a
                            }
                        }
                    }(t, s, l);
                    if (!c)
                        return;
                    if ("histogram" === c.type && l === {
                        v: "y",
                        h: "x"
                    }[c.orientation || "v"])
                        return void (e.type = "linear");
                    var u = l + "calendar"
                      , f = c[u]
                      , d = {
                        noMultiCategory: !n(c, "cartesian") || n(c, "noMultiCategory")
                    };
                    "box" === c.type && c._hasPreCompStats && l === {
                        h: "x",
                        v: "y"
                    }[c.orientation || "v"] && (d.noMultiCategory = !0);
                    if (d.autotypenumbers = e.autotypenumbers,
                    o(c, l)) {
                        var h = i(c)
                          , p = [];
                        for (r = 0; r < t.length; r++) {
                            var g = t[r];
                            n(g, "box-violin") && (g[l + "axis"] || l) === s && (void 0 !== g[h] ? p.push(g[h][0]) : void 0 !== g.name ? p.push(g.name) : p.push("text"),
                            g[u] !== f && (f = void 0))
                        }
                        e.type = a(p, f, d)
                    } else if ("splom" === c.type) {
                        var y = c.dimensions[c._axesDim[s]];
                        y.visible && (e.type = a(y.values, f, d))
                    } else
                        e.type = a(c[l] || [c[l + "0"]], f, d)
                }(t, s.data),
                "-" === t.type ? t.type = "linear" : e.type = t.type)
            }
        }
        , {
            "../../registry": 451,
            "./axis_autotype": 415
        }],
        441: [function(e, t, r) {
            "use strict";
            var n = e("../registry")
              , a = e("../lib");
            function i(e, t, r) {
                var n, i, o, s = !1;
                if ("data" === t.type)
                    n = e._fullData[null !== t.traces ? t.traces[0] : 0];
                else {
                    if ("layout" !== t.type)
                        return !1;
                    n = e._fullLayout
                }
                return i = a.nestedProperty(n, t.prop).get(),
                (o = r[t.type] = r[t.type] || {}).hasOwnProperty(t.prop) && o[t.prop] !== i && (s = !0),
                o[t.prop] = i,
                {
                    changed: s,
                    value: i
                }
            }
            function o(e, t) {
                var r = []
                  , n = t[0]
                  , i = {};
                if ("string" == typeof n)
                    i[n] = t[1];
                else {
                    if (!a.isPlainObject(n))
                        return r;
                    i = n
                }
                return l(i, (function(e, t, n) {
                    r.push({
                        type: "layout",
                        prop: e,
                        value: n
                    })
                }
                ), "", 0),
                r
            }
            function s(e, t) {
                var r, n, i, o, s = [];
                if (n = t[0],
                i = t[1],
                r = t[2],
                o = {},
                "string" == typeof n)
                    o[n] = i;
                else {
                    if (!a.isPlainObject(n))
                        return s;
                    o = n,
                    void 0 === r && (r = i)
                }
                return void 0 === r && (r = null),
                l(o, (function(t, n, a) {
                    var i, o;
                    if (Array.isArray(a)) {
                        o = a.slice();
                        var l = Math.min(o.length, e.data.length);
                        r && (l = Math.min(l, r.length)),
                        i = [];
                        for (var c = 0; c < l; c++)
                            i[c] = r ? r[c] : c
                    } else
                        o = a,
                        i = r ? r.slice() : null;
                    if (null === i)
                        Array.isArray(o) && (o = o[0]);
                    else if (Array.isArray(i)) {
                        if (!Array.isArray(o)) {
                            var u = o;
                            o = [];
                            for (var f = 0; f < i.length; f++)
                                o[f] = u
                        }
                        o.length = Math.min(i.length, o.length)
                    }
                    s.push({
                        type: "data",
                        prop: t,
                        traces: i,
                        value: o
                    })
                }
                ), "", 0),
                s
            }
            function l(e, t, r, n) {
                Object.keys(e).forEach((function(i) {
                    var o = e[i];
                    if ("_" !== i[0]) {
                        var s = r + (n > 0 ? "." : "") + i;
                        a.isPlainObject(o) ? l(o, t, s, n + 1) : t(s, i, o)
                    }
                }
                ))
            }
            r.manageCommandObserver = function(e, t, n, o) {
                var s = {}
                  , l = !0;
                t && t._commandObserver && (s = t._commandObserver),
                s.cache || (s.cache = {}),
                s.lookupTable = {};
                var c = r.hasSimpleAPICommandBindings(e, n, s.lookupTable);
                if (t && t._commandObserver) {
                    if (c)
                        return s;
                    if (t._commandObserver.remove)
                        return t._commandObserver.remove(),
                        t._commandObserver = null,
                        s
                }
                if (c) {
                    i(e, c, s.cache),
                    s.check = function() {
                        if (l) {
                            var t = i(e, c, s.cache);
                            return t.changed && o && void 0 !== s.lookupTable[t.value] && (s.disable(),
                            Promise.resolve(o({
                                value: t.value,
                                type: c.type,
                                prop: c.prop,
                                traces: c.traces,
                                index: s.lookupTable[t.value]
                            })).then(s.enable, s.enable)),
                            t.changed
                        }
                    }
                    ;
                    for (var u = ["plotly_relayout", "plotly_redraw", "plotly_restyle", "plotly_update", "plotly_animatingframe", "plotly_afterplot"], f = 0; f < u.length; f++)
                        e._internalOn(u[f], s.check);
                    s.remove = function() {
                        for (var t = 0; t < u.length; t++)
                            e._removeInternalListener(u[t], s.check)
                    }
                } else
                    a.log("Unable to automatically bind plot updates to API command"),
                    s.lookupTable = {},
                    s.remove = function() {}
                    ;
                return s.disable = function() {
                    l = !1
                }
                ,
                s.enable = function() {
                    l = !0
                }
                ,
                t && (t._commandObserver = s),
                s
            }
            ,
            r.hasSimpleAPICommandBindings = function(e, t, n) {
                var a, i, o = t.length;
                for (a = 0; a < o; a++) {
                    var s, l = t[a], c = l.method, u = l.args;
                    if (Array.isArray(u) || (u = []),
                    !c)
                        return !1;
                    var f = r.computeAPICommandBindings(e, c, u);
                    if (1 !== f.length)
                        return !1;
                    if (i) {
                        if ((s = f[0]).type !== i.type)
                            return !1;
                        if (s.prop !== i.prop)
                            return !1;
                        if (Array.isArray(i.traces)) {
                            if (!Array.isArray(s.traces))
                                return !1;
                            s.traces.sort();
                            for (var d = 0; d < i.traces.length; d++)
                                if (i.traces[d] !== s.traces[d])
                                    return !1
                        } else if (s.prop !== i.prop)
                            return !1
                    } else
                        i = f[0],
                        Array.isArray(i.traces) && i.traces.sort();
                    var h = (s = f[0]).value;
                    if (Array.isArray(h)) {
                        if (1 !== h.length)
                            return !1;
                        h = h[0]
                    }
                    n && (n[h] = a)
                }
                return i
            }
            ,
            r.executeAPICommand = function(e, t, r) {
                if ("skip" === t)
                    return Promise.resolve();
                var i = n.apiMethodRegistry[t]
                  , o = [e];
                Array.isArray(r) || (r = []);
                for (var s = 0; s < r.length; s++)
                    o.push(r[s]);
                return i.apply(null, o).catch((function(e) {
                    return a.warn("API call to Plotly." + t + " rejected.", e),
                    Promise.reject(e)
                }
                ))
            }
            ,
            r.computeAPICommandBindings = function(e, t, r) {
                var n;
                switch (Array.isArray(r) || (r = []),
                t) {
                case "restyle":
                    n = s(e, r);
                    break;
                case "relayout":
                    n = o(e, r);
                    break;
                case "update":
                    n = s(e, [r[0], r[2]]).concat(o(e, [r[1]]));
                    break;
                case "animate":
                    n = function(e, t) {
                        return Array.isArray(t[0]) && 1 === t[0].length && -1 !== ["string", "number"].indexOf(typeof t[0][0]) ? [{
                            type: "layout",
                            prop: "_currentFrame",
                            value: t[0][0].toString()
                        }] : []
                    }(0, r);
                    break;
                default:
                    n = []
                }
                return n
            }
        }
        , {
            "../lib": 365,
            "../registry": 451
        }],
        442: [function(e, t, r) {
            "use strict";
            var n = e("../lib/extend").extendFlat;
            r.attributes = function(e, t) {
                t = t || {};
                var r = {
                    valType: "info_array",
                    editType: (e = e || {}).editType,
                    items: [{
                        valType: "number",
                        min: 0,
                        max: 1,
                        editType: e.editType
                    }, {
                        valType: "number",
                        min: 0,
                        max: 1,
                        editType: e.editType
                    }],
                    dflt: [0, 1]
                }
                  , a = (e.name && e.name,
                e.trace,
                t.description && t.description,
                {
                    x: n({}, r, {}),
                    y: n({}, r, {}),
                    editType: e.editType
                });
                return e.noGridCell || (a.row = {
                    valType: "integer",
                    min: 0,
                    dflt: 0,
                    editType: e.editType
                },
                a.column = {
                    valType: "integer",
                    min: 0,
                    dflt: 0,
                    editType: e.editType
                }),
                a
            }
            ,
            r.defaults = function(e, t, r, n) {
                var a = n && n.x || [0, 1]
                  , i = n && n.y || [0, 1]
                  , o = t.grid;
                if (o) {
                    var s = r("domain.column");
                    void 0 !== s && (s < o.columns ? a = o._domains.x[s] : delete e.domain.column);
                    var l = r("domain.row");
                    void 0 !== l && (l < o.rows ? i = o._domains.y[l] : delete e.domain.row)
                }
                var c = r("domain.x", a)
                  , u = r("domain.y", i);
                c[0] < c[1] || (e.domain.x = a.slice()),
                u[0] < u[1] || (e.domain.y = i.slice())
            }
        }
        , {
            "../lib/extend": 358
        }],
        443: [function(e, t, r) {
            "use strict";
            t.exports = function(e) {
                var t = e.editType
                  , r = e.colorEditType;
                void 0 === r && (r = t);
                var n = {
                    family: {
                        valType: "string",
                        noBlank: !0,
                        strict: !0,
                        editType: t
                    },
                    size: {
                        valType: "number",
                        min: 1,
                        editType: t
                    },
                    color: {
                        valType: "color",
                        editType: r
                    },
                    editType: t
                };
                return e.arrayOk && (n.family.arrayOk = !0,
                n.size.arrayOk = !0,
                n.color.arrayOk = !0),
                n
            }
        }
        , {}],
        444: [function(e, t, r) {
            "use strict";
            t.exports = {
                _isLinkedToArray: "frames_entry",
                group: {
                    valType: "string"
                },
                name: {
                    valType: "string"
                },
                traces: {
                    valType: "any"
                },
                baseframe: {
                    valType: "string"
                },
                data: {
                    valType: "any"
                },
                layout: {
                    valType: "any"
                }
            }
        }
        , {}],
        445: [function(e, t, r) {
            "use strict";
            var n = e("../registry")
              , a = e("./cartesian/constants").SUBPLOT_PATTERN;
            r.getSubplotCalcData = function(e, t, r) {
                var a = n.subplotsRegistry[t];
                if (!a)
                    return [];
                for (var i = a.attr, o = [], s = 0; s < e.length; s++) {
                    var l = e[s];
                    l[0].trace[i] === r && o.push(l)
                }
                return o
            }
            ,
            r.getModuleCalcData = function(e, t) {
                var r, a = [], i = [];
                if (!(r = "string" == typeof t ? n.getModule(t).plot : "function" == typeof t ? t : t.plot))
                    return [a, e];
                for (var o = 0; o < e.length; o++) {
                    var s = e[o]
                      , l = s[0].trace;
                    !0 === l.visible && 0 !== l._length && (l._module.plot === r ? a.push(s) : i.push(s))
                }
                return [a, i]
            }
            ,
            r.getSubplotData = function(e, t, r) {
                if (!n.subplotsRegistry[t])
                    return [];
                var i, o, s, l = n.subplotsRegistry[t].attr, c = [];
                if ("gl2d" === t) {
                    var u = r.match(a);
                    o = "x" + u[1],
                    s = "y" + u[2]
                }
                for (var f = 0; f < e.length; f++)
                    i = e[f],
                    "gl2d" === t && n.traceIs(i, "gl2d") ? i[l[0]] === o && i[l[1]] === s && c.push(i) : i[l] === r && c.push(i);
                return c
            }
        }
        , {
            "../registry": 451,
            "./cartesian/constants": 421
        }],
        446: [function(e, t, r) {
            "use strict";
            function n(e, t) {
                var r, n, a = [0, 0, 0, 0];
                for (r = 0; r < 4; ++r)
                    for (n = 0; n < 4; ++n)
                        a[n] += e[4 * r + n] * t[r];
                return a
            }
            t.exports = function(e, t) {
                return n(e.projection, n(e.view, n(e.model, [t[0], t[1], t[2], 1])))
            }
        }
        , {}],
        447: [function(e, t, r) {
            "use strict";
            var n = e("./font_attributes")
              , a = e("./animation_attributes")
              , i = e("../components/color/attributes")
              , o = e("../components/shapes/draw_newshape/attributes")
              , s = e("./pad_attributes")
              , l = e("../lib/extend").extendFlat
              , c = n({
                editType: "calc"
            });
            c.family.dflt = '"Open Sans", verdana, arial, sans-serif',
            c.size.dflt = 12,
            c.color.dflt = i.defaultLine,
            t.exports = {
                font: c,
                title: {
                    text: {
                        valType: "string",
                        editType: "layoutstyle"
                    },
                    font: n({
                        editType: "layoutstyle"
                    }),
                    xref: {
                        valType: "enumerated",
                        dflt: "container",
                        values: ["container", "paper"],
                        editType: "layoutstyle"
                    },
                    yref: {
                        valType: "enumerated",
                        dflt: "container",
                        values: ["container", "paper"],
                        editType: "layoutstyle"
                    },
                    x: {
                        valType: "number",
                        min: 0,
                        max: 1,
                        dflt: .5,
                        editType: "layoutstyle"
                    },
                    y: {
                        valType: "number",
                        min: 0,
                        max: 1,
                        dflt: "auto",
                        editType: "layoutstyle"
                    },
                    xanchor: {
                        valType: "enumerated",
                        dflt: "auto",
                        values: ["auto", "left", "center", "right"],
                        editType: "layoutstyle"
                    },
                    yanchor: {
                        valType: "enumerated",
                        dflt: "auto",
                        values: ["auto", "top", "middle", "bottom"],
                        editType: "layoutstyle"
                    },
                    pad: l(s({
                        editType: "layoutstyle"
                    }), {}),
                    editType: "layoutstyle"
                },
                uniformtext: {
                    mode: {
                        valType: "enumerated",
                        values: [!1, "hide", "show"],
                        dflt: !1,
                        editType: "plot"
                    },
                    minsize: {
                        valType: "number",
                        min: 0,
                        dflt: 0,
                        editType: "plot"
                    },
                    editType: "plot"
                },
                autosize: {
                    valType: "boolean",
                    dflt: !1,
                    editType: "none"
                },
                width: {
                    valType: "number",
                    min: 10,
                    dflt: 700,
                    editType: "plot"
                },
                height: {
                    valType: "number",
                    min: 10,
                    dflt: 450,
                    editType: "plot"
                },
                margin: {
                    l: {
                        valType: "number",
                        min: 0,
                        dflt: 80,
                        editType: "plot"
                    },
                    r: {
                        valType: "number",
                        min: 0,
                        dflt: 80,
                        editType: "plot"
                    },
                    t: {
                        valType: "number",
                        min: 0,
                        dflt: 100,
                        editType: "plot"
                    },
                    b: {
                        valType: "number",
                        min: 0,
                        dflt: 80,
                        editType: "plot"
                    },
                    pad: {
                        valType: "number",
                        min: 0,
                        dflt: 0,
                        editType: "plot"
                    },
                    autoexpand: {
                        valType: "boolean",
                        dflt: !0,
                        editType: "plot"
                    },
                    editType: "plot"
                },
                computed: {
                    valType: "any",
                    editType: "none"
                },
                paper_bgcolor: {
                    valType: "color",
                    dflt: i.background,
                    editType: "plot"
                },
                plot_bgcolor: {
                    valType: "color",
                    dflt: i.background,
                    editType: "layoutstyle"
                },
                autotypenumbers: {
                    valType: "enumerated",
                    values: ["convert types", "strict"],
                    dflt: "convert types",
                    editType: "calc"
                },
                separators: {
                    valType: "string",
                    editType: "plot"
                },
                hidesources: {
                    valType: "boolean",
                    dflt: !1,
                    editType: "plot"
                },
                showlegend: {
                    valType: "boolean",
                    editType: "legend"
                },
                colorway: {
                    valType: "colorlist",
                    dflt: i.defaults,
                    editType: "calc"
                },
                datarevision: {
                    valType: "any",
                    editType: "calc"
                },
                uirevision: {
                    valType: "any",
                    editType: "none"
                },
                editrevision: {
                    valType: "any",
                    editType: "none"
                },
                selectionrevision: {
                    valType: "any",
                    editType: "none"
                },
                template: {
                    valType: "any",
                    editType: "calc"
                },
                newshape: o.newshape,
                activeshape: o.activeshape,
                meta: {
                    valType: "any",
                    arrayOk: !0,
                    editType: "plot"
                },
                transition: l({}, a.transition, {
                    editType: "none"
                }),
                _deprecated: {
                    title: {
                        valType: "string",
                        editType: "layoutstyle"
                    },
                    titlefont: n({
                        editType: "layoutstyle"
                    })
                }
            }
        }
        , {
            "../components/color/attributes": 234,
            "../components/shapes/draw_newshape/attributes": 320,
            "../lib/extend": 358,
            "./animation_attributes": 408,
            "./font_attributes": 443,
            "./pad_attributes": 448
        }],
        448: [function(e, t, r) {
            "use strict";
            t.exports = function(e) {
                var t = e.editType;
                return {
                    t: {
                        valType: "number",
                        dflt: 0,
                        editType: t
                    },
                    r: {
                        valType: "number",
                        dflt: 0,
                        editType: t
                    },
                    b: {
                        valType: "number",
                        dflt: 0,
                        editType: t
                    },
                    l: {
                        valType: "number",
                        dflt: 0,
                        editType: t
                    },
                    editType: t
                }
            }
        }
        , {}],
        449: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("d3-time-format").timeFormatLocale
              , i = e("d3-format").formatLocale
              , o = e("fast-isnumeric")
              , s = e("../registry")
              , l = e("../plot_api/plot_schema")
              , c = e("../plot_api/plot_template")
              , u = e("../lib")
              , f = e("../components/color")
              , d = e("../constants/numerical").BADNUM
              , h = e("./cartesian/axis_ids")
              , p = e("./cartesian/handle_outline").clearSelect
              , g = e("./animation_attributes")
              , y = e("./frame_attributes")
              , v = e("../plots/get_data").getModuleCalcData
              , m = u.relinkPrivateKeys
              , b = u._
              , x = t.exports = {};
            u.extendFlat(x, s),
            x.attributes = e("./attributes"),
            x.attributes.type.values = x.allTypes,
            x.fontAttrs = e("./font_attributes"),
            x.layoutAttributes = e("./layout_attributes"),
            x.fontWeight = "normal";
            var _ = x.transformsRegistry
              , w = e("./command");
            x.executeAPICommand = w.executeAPICommand,
            x.computeAPICommandBindings = w.computeAPICommandBindings,
            x.manageCommandObserver = w.manageCommandObserver,
            x.hasSimpleAPICommandBindings = w.hasSimpleAPICommandBindings,
            x.redrawText = function(e) {
                return e = u.getGraphDiv(e),
                new Promise((function(t) {
                    setTimeout((function() {
                        e._fullLayout && (s.getComponentMethod("annotations", "draw")(e),
                        s.getComponentMethod("legend", "draw")(e),
                        s.getComponentMethod("colorbar", "draw")(e),
                        t(x.previousPromises(e)))
                    }
                    ), 300)
                }
                ))
            }
            ,
            x.resize = function(e) {
                var t;
                e = u.getGraphDiv(e);
                var r = new Promise((function(r, n) {
                    e && !u.isHidden(e) || n(new Error("Resize must be passed a displayed plot div element.")),
                    e._redrawTimer && clearTimeout(e._redrawTimer),
                    e._resolveResize && (t = e._resolveResize),
                    e._resolveResize = r,
                    e._redrawTimer = setTimeout((function() {
                        if (!e.layout || e.layout.width && e.layout.height || u.isHidden(e))
                            r(e);
                        else {
                            delete e.layout.width,
                            delete e.layout.height;
                            var t = e.changed;
                            e.autoplay = !0,
                            s.call("relayout", e, {
                                autosize: !0
                            }).then((function() {
                                e.changed = t,
                                e._resolveResize === r && (delete e._resolveResize,
                                r(e))
                            }
                            ))
                        }
                    }
                    ), 100)
                }
                ));
                return t && t(r),
                r
            }
            ,
            x.previousPromises = function(e) {
                if ((e._promises || []).length)
                    return Promise.all(e._promises).then((function() {
                        e._promises = []
                    }
                    ))
            }
            ,
            x.addLinks = function(e) {
                if (e._context.showLink || e._context.showSources) {
                    var t = e._fullLayout
                      , r = u.ensureSingle(t._paper, "text", "js-plot-link-container", (function(e) {
                        e.style({
                            "font-family": '"Open Sans", Arial, sans-serif',
                            "font-size": "12px",
                            fill: f.defaultLine,
                            "pointer-events": "all"
                        }).each((function() {
                            var e = n.select(this);
                            e.append("tspan").classed("js-link-to-tool", !0),
                            e.append("tspan").classed("js-link-spacer", !0),
                            e.append("tspan").classed("js-sourcelinks", !0)
                        }
                        ))
                    }
                    ))
                      , a = r.node()
                      , i = {
                        y: t._paper.attr("height") - 9
                    };
                    document.body.contains(a) && a.getComputedTextLength() >= t.width - 20 ? (i["text-anchor"] = "start",
                    i.x = 5) : (i["text-anchor"] = "end",
                    i.x = t._paper.attr("width") - 7),
                    r.attr(i);
                    var o = r.select(".js-link-to-tool")
                      , s = r.select(".js-link-spacer")
                      , l = r.select(".js-sourcelinks");
                    e._context.showSources && e._context.showSources(e),
                    e._context.showLink && function(e, t) {
                        t.text("");
                        var r = t.append("a").attr({
                            "xlink:xlink:href": "#",
                            class: "link--impt link--embedview",
                            "font-weight": "bold"
                        }).text(e._context.linkText + " " + String.fromCharCode(187));
                        if (e._context.sendData)
                            r.on("click", (function() {
                                x.sendDataToCloud(e)
                            }
                            ));
                        else {
                            var n = window.location.pathname.split("/")
                              , a = window.location.search;
                            r.attr({
                                "xlink:xlink:show": "new",
                                "xlink:xlink:href": "/" + n[2].split(".")[0] + "/" + n[1] + a
                            })
                        }
                    }(e, o),
                    s.text(o.text() && l.text() ? " - " : "")
                }
            }
            ,
            x.sendDataToCloud = function(e) {
                var t = (window.PLOTLYENV || {}).BASE_URL || e._context.plotlyServerURL;
                if (t) {
                    e.emit("plotly_beforeexport");
                    var r = n.select(e).append("div").attr("id", "hiddenform").style("display", "none")
                      , a = r.append("form").attr({
                        action: t + "/external",
                        method: "post",
                        target: "_blank"
                    });
                    return a.append("input").attr({
                        type: "text",
                        name: "data"
                    }).node().value = x.graphJson(e, !1, "keepdata"),
                    a.node().submit(),
                    r.remove(),
                    e.emit("plotly_afterexport"),
                    !1
                }
            }
            ;
            var A = ["days", "shortDays", "months", "shortMonths", "periods", "dateTime", "date", "time", "decimal", "thousands", "grouping", "currency"]
              , k = ["year", "month", "dayMonth", "dayMonthYear"];
            function T(e, t) {
                var r = e._context.locale;
                r || (r = "en-US");
                var n = !1
                  , a = {};
                function i(e) {
                    for (var r = !0, i = 0; i < t.length; i++) {
                        var o = t[i];
                        a[o] || (e[o] ? a[o] = e[o] : r = !1)
                    }
                    r && (n = !0)
                }
                for (var o = 0; o < 2; o++) {
                    for (var l = e._context.locales, c = 0; c < 2; c++) {
                        var u = (l[r] || {}).format;
                        if (u && (i(u),
                        n))
                            break;
                        l = s.localeRegistry
                    }
                    var f = r.split("-")[0];
                    if (n || f === r)
                        break;
                    r = f
                }
                return n || i(s.localeRegistry.en.format),
                a
            }
            function M(e, t) {
                var r = {
                    _fullLayout: t
                }
                  , n = "x" === e._id.charAt(0)
                  , a = e._mainAxis._anchorAxis
                  , i = ""
                  , o = ""
                  , s = "";
                if (a && (s = a._mainAxis._id,
                i = n ? e._id + s : s + e._id),
                !i || !t._plots[i]) {
                    i = "";
                    for (var l = e._counterAxes, c = 0; c < l.length; c++) {
                        var u = l[c]
                          , f = n ? e._id + u : u + e._id;
                        o || (o = f);
                        var d = h.getFromId(r, u);
                        if (s && d.overlaying === s) {
                            i = f;
                            break
                        }
                    }
                }
                return i || o
            }
            function S(e) {
                var t = e.transforms;
                if (Array.isArray(t) && t.length)
                    for (var r = 0; r < t.length; r++) {
                        var n = t[r]
                          , a = n._module || _[n.type];
                        if (a && a.makesData)
                            return !0
                    }
                return !1
            }
            function C(e, t, r, n) {
                for (var a = e.transforms, i = [e], o = 0; o < a.length; o++) {
                    var s = a[o]
                      , l = _[s.type];
                    l && l.transform && (i = l.transform(i, {
                        transform: s,
                        fullTrace: e,
                        fullData: t,
                        layout: r,
                        fullLayout: n,
                        transformIndex: o
                    }))
                }
                return i
            }
            function O(e) {
                return "string" == typeof e && "px" === e.substr(e.length - 2) && parseFloat(e)
            }
            function D(e) {
                var t = e.margin;
                if (!e._size) {
                    var r = e._size = {
                        l: Math.round(t.l),
                        r: Math.round(t.r),
                        t: Math.round(t.t),
                        b: Math.round(t.b),
                        p: Math.round(t.pad)
                    };
                    r.w = Math.round(e.width) - r.l - r.r,
                    r.h = Math.round(e.height) - r.t - r.b
                }
                e._pushmargin || (e._pushmargin = {}),
                e._pushmarginIds || (e._pushmarginIds = {})
            }
            x.supplyDefaults = function(e, t) {
                var r = t && t.skipUpdateCalc
                  , n = e._fullLayout || {};
                if (n._skipDefaults)
                    delete n._skipDefaults;
                else {
                    var o, l = e._fullLayout = {}, c = e.layout || {}, f = e._fullData || [], d = e._fullData = [], h = e.data || [], g = e.calcdata || [], y = e._context || {};
                    e._transitionData || x.createTransitionData(e),
                    l._dfltTitle = {
                        plot: b(e, "Click to enter Plot title"),
                        x: b(e, "Click to enter X axis title"),
                        y: b(e, "Click to enter Y axis title"),
                        colorbar: b(e, "Click to enter Colorscale title"),
                        annotation: b(e, "new text")
                    },
                    l._traceWord = b(e, "trace");
                    var v = T(e, A);
                    if (l._mapboxAccessToken = y.mapboxAccessToken,
                    n._initialAutoSizeIsDone) {
                        var _ = n.width
                          , w = n.height;
                        x.supplyLayoutGlobalDefaults(c, l, v),
                        c.width || (l.width = _),
                        c.height || (l.height = w),
                        x.sanitizeMargins(l)
                    } else {
                        x.supplyLayoutGlobalDefaults(c, l, v);
                        var M = !c.width || !c.height
                          , S = l.autosize
                          , C = y.autosizable;
                        M && (S || C) ? x.plotAutoSize(e, c, l) : M && x.sanitizeMargins(l),
                        !S && M && (c.width = l.width,
                        c.height = l.height)
                    }
                    l._d3locale = function(e, t) {
                        return e.decimal = t.charAt(0),
                        e.thousands = t.charAt(1),
                        {
                            numberFormat: function(t) {
                                try {
                                    t = i(e).format(u.adjustFormat(t))
                                } catch (e) {
                                    return u.warnBadFormat(t),
                                    u.noFormat
                                }
                                return t
                            },
                            timeFormat: a(e).utcFormat
                        }
                    }(v, l.separators),
                    l._extraFormat = T(e, k),
                    l._initialAutoSizeIsDone = !0,
                    l._dataLength = h.length,
                    l._modules = [],
                    l._visibleModules = [],
                    l._basePlotModules = [];
                    var O = l._subplots = function() {
                        var e, t, r = s.collectableSubplotTypes, n = {};
                        if (!r) {
                            r = [];
                            var a = s.subplotsRegistry;
                            for (var i in a) {
                                var o = a[i].attr;
                                if (o && (r.push(i),
                                Array.isArray(o)))
                                    for (t = 0; t < o.length; t++)
                                        u.pushUnique(r, o[t])
                            }
                        }
                        for (e = 0; e < r.length; e++)
                            n[r[e]] = [];
                        return n
                    }()
                      , L = l._splomAxes = {
                        x: {},
                        y: {}
                    }
                      , E = l._splomSubplots = {};
                    l._splomGridDflt = {},
                    l._scatterStackOpts = {},
                    l._firstScatter = {},
                    l._alignmentOpts = {},
                    l._colorAxes = {},
                    l._requestRangeslider = {},
                    l._traceUids = function(e, t) {
                        var r, n, a = t.length, i = [];
                        for (r = 0; r < e.length; r++) {
                            var o = e[r]._fullInput;
                            o !== n && i.push(o),
                            n = o
                        }
                        var s = i.length
                          , l = new Array(a)
                          , c = {};
                        function f(e, t) {
                            l[t] = e,
                            c[e] = 1
                        }
                        function d(e, t) {
                            if (e && "string" == typeof e && !c[e])
                                return f(e, t),
                                !0
                        }
                        for (r = 0; r < a; r++) {
                            var h = t[r].uid;
                            "number" == typeof h && (h = String(h)),
                            d(h, r) || (r < s && d(i[r].uid, r) || f(u.randstr(c), r))
                        }
                        return l
                    }(f, h),
                    l._globalTransforms = (e._context || {}).globalTransforms,
                    x.supplyDataDefaults(h, d, c, l);
                    var z = Object.keys(L.x)
                      , F = Object.keys(L.y);
                    if (z.length > 1 && F.length > 1) {
                        for (s.getComponentMethod("grid", "sizeDefaults")(c, l),
                        o = 0; o < z.length; o++)
                            u.pushUnique(O.xaxis, z[o]);
                        for (o = 0; o < F.length; o++)
                            u.pushUnique(O.yaxis, F[o]);
                        for (var P in E)
                            u.pushUnique(O.cartesian, P)
                    }
                    if (l._has = x._hasPlotType.bind(l),
                    f.length === d.length)
                        for (o = 0; o < d.length; o++)
                            m(d[o], f[o]);
                    x.supplyLayoutModuleDefaults(c, l, d, e._transitionData);
                    var I = l._visibleModules
                      , N = [];
                    for (o = 0; o < I.length; o++) {
                        var R = I[o].crossTraceDefaults;
                        R && u.pushUnique(N, R)
                    }
                    for (o = 0; o < N.length; o++)
                        N[o](d, l);
                    l._hasOnlyLargeSploms = 1 === l._basePlotModules.length && "splom" === l._basePlotModules[0].name && z.length > 15 && F.length > 15 && 0 === l.shapes.length && 0 === l.images.length,
                    x.linkSubplots(d, l, f, n),
                    x.cleanPlot(d, l, f, n);
                    var j = !(!n._has || !n._has("gl2d"))
                      , B = !(!l._has || !l._has("gl2d"))
                      , H = !(!n._has || !n._has("cartesian")) || j
                      , U = !(!l._has || !l._has("cartesian")) || B;
                    H && !U ? n._bgLayer.remove() : U && !H && (l._shouldCreateBgLayer = !0),
                    n._zoomlayer && !e._dragging && p({
                        _fullLayout: n
                    }),
                    function(e, t) {
                        var r, n = [];
                        t.meta && (r = t._meta = {
                            meta: t.meta,
                            layout: {
                                meta: t.meta
                            }
                        });
                        for (var a = 0; a < e.length; a++) {
                            var i = e[a];
                            i.meta ? n[i.index] = i._meta = {
                                meta: i.meta
                            } : t.meta && (i._meta = {
                                meta: t.meta
                            }),
                            t.meta && (i._meta.layout = {
                                meta: t.meta
                            })
                        }
                        n.length && (r || (r = t._meta = {}),
                        r.data = n)
                    }(d, l),
                    m(l, n),
                    s.getComponentMethod("colorscale", "crossTraceDefaults")(d, l),
                    l._preGUI || (l._preGUI = {}),
                    l._tracePreGUI || (l._tracePreGUI = {});
                    var Y, V = l._tracePreGUI, q = {};
                    for (Y in V)
                        q[Y] = "old";
                    for (o = 0; o < d.length; o++)
                        q[Y = d[o]._fullInput.uid] || (V[Y] = {}),
                        q[Y] = "new";
                    for (Y in q)
                        "old" === q[Y] && delete V[Y];
                    D(l),
                    s.getComponentMethod("rangeslider", "makeData")(l),
                    r || g.length !== d.length || x.supplyDefaultsUpdateCalc(g, d)
                }
            }
            ,
            x.supplyDefaultsUpdateCalc = function(e, t) {
                for (var r = 0; r < t.length; r++) {
                    var n = t[r]
                      , a = (e[r] || [])[0];
                    if (a && a.trace) {
                        var i = a.trace;
                        if (i._hasCalcTransform) {
                            var o, s, l, c = i._arrayAttrs;
                            for (o = 0; o < c.length; o++)
                                s = c[o],
                                l = u.nestedProperty(i, s).get().slice(),
                                u.nestedProperty(n, s).set(l)
                        }
                        a.trace = n
                    }
                }
            }
            ,
            x.createTransitionData = function(e) {
                e._transitionData || (e._transitionData = {}),
                e._transitionData._frames || (e._transitionData._frames = []),
                e._transitionData._frameHash || (e._transitionData._frameHash = {}),
                e._transitionData._counter || (e._transitionData._counter = 0),
                e._transitionData._interruptCallbacks || (e._transitionData._interruptCallbacks = [])
            }
            ,
            x._hasPlotType = function(e) {
                var t, r = this._basePlotModules || [];
                for (t = 0; t < r.length; t++)
                    if (r[t].name === e)
                        return !0;
                var n = this._modules || [];
                for (t = 0; t < n.length; t++) {
                    var a = n[t].name;
                    if (a === e)
                        return !0;
                    var i = s.modules[a];
                    if (i && i.categories[e])
                        return !0
                }
                return !1
            }
            ,
            x.cleanPlot = function(e, t, r, n) {
                var a, i, o = n._basePlotModules || [];
                for (a = 0; a < o.length; a++) {
                    var s = o[a];
                    s.clean && s.clean(e, t, r, n)
                }
                var l = n._has && n._has("gl")
                  , c = t._has && t._has("gl");
                l && !c && void 0 !== n._glcontainer && (n._glcontainer.selectAll(".gl-canvas").remove(),
                n._glcontainer.selectAll(".no-webgl").remove(),
                n._glcanvas = null);
                var u = !!n._infolayer;
                e: for (a = 0; a < r.length; a++) {
                    var f = r[a].uid;
                    for (i = 0; i < e.length; i++) {
                        if (f === e[i].uid)
                            continue e
                    }
                    u && n._infolayer.select(".cb" + f).remove()
                }
            }
            ,
            x.linkSubplots = function(e, t, r, n) {
                var a, i, o = n._plots || {}, l = t._plots = {}, c = t._subplots, f = {
                    _fullData: e,
                    _fullLayout: t
                }, d = c.cartesian.concat(c.gl2d || []);
                for (a = 0; a < d.length; a++) {
                    var p, g = d[a], y = o[g], v = h.getFromId(f, g, "x"), m = h.getFromId(f, g, "y");
                    for (y ? p = l[g] = y : (p = l[g] = {}).id = g,
                    v._counterAxes.push(m._id),
                    m._counterAxes.push(v._id),
                    v._subplotsWith.push(g),
                    m._subplotsWith.push(g),
                    p.xaxis = v,
                    p.yaxis = m,
                    p._hasClipOnAxisFalse = !1,
                    i = 0; i < e.length; i++) {
                        var b = e[i];
                        if (b.xaxis === p.xaxis._id && b.yaxis === p.yaxis._id && !1 === b.cliponaxis) {
                            p._hasClipOnAxisFalse = !0;
                            break
                        }
                    }
                }
                var x, _ = h.list(f, null, !0);
                for (a = 0; a < _.length; a++) {
                    var w = null;
                    (x = _[a]).overlaying && (w = h.getFromId(f, x.overlaying)) && w.overlaying && (x.overlaying = !1,
                    w = null),
                    x._mainAxis = w || x,
                    w && (x.domain = w.domain.slice()),
                    x._anchorAxis = "free" === x.anchor ? null : h.getFromId(f, x.anchor)
                }
                for (a = 0; a < _.length; a++)
                    if ((x = _[a])._counterAxes.sort(h.idSort),
                    x._subplotsWith.sort(u.subplotSort),
                    x._mainSubplot = M(x, t),
                    x._counterAxes.length && (x.spikemode && -1 !== x.spikemode.indexOf("across") || x.automargin && x.mirror && "free" !== x.anchor || s.getComponentMethod("rangeslider", "isVisible")(x))) {
                        var A = 1
                          , k = 0;
                        for (i = 0; i < x._counterAxes.length; i++) {
                            var T = h.getFromId(f, x._counterAxes[i]);
                            A = Math.min(A, T.domain[0]),
                            k = Math.max(k, T.domain[1])
                        }
                        A < k && (x._counterDomainMin = A,
                        x._counterDomainMax = k)
                    }
            }
            ,
            x.clearExpandedTraceDefaultColors = function(e) {
                var t, r, n;
                for (r = [],
                (t = e._module._colorAttrs) || (e._module._colorAttrs = t = [],
                l.crawl(e._module.attributes, (function(e, n, a, i) {
                    r[i] = n,
                    r.length = i + 1,
                    "color" === e.valType && void 0 === e.dflt && t.push(r.join("."))
                }
                ))),
                n = 0; n < t.length; n++) {
                    u.nestedProperty(e, "_input." + t[n]).get() || u.nestedProperty(e, t[n]).set(null)
                }
            }
            ,
            x.supplyDataDefaults = function(e, t, r, n) {
                var a, i, o, l = n._modules, f = n._visibleModules, d = n._basePlotModules, h = 0, p = 0;
                function g(e) {
                    t.push(e);
                    var r = e._module;
                    r && (u.pushUnique(l, r),
                    !0 === e.visible && u.pushUnique(f, r),
                    u.pushUnique(d, e._module.basePlotModule),
                    h++,
                    !1 !== e._input.visible && p++)
                }
                n._transformModules = [];
                var y = {}
                  , v = []
                  , b = (r.template || {}).data || {}
                  , _ = c.traceTemplater(b);
                for (a = 0; a < e.length; a++) {
                    if (o = e[a],
                    (i = _.newTrace(o)).uid = n._traceUids[a],
                    x.supplyTraceDefaults(o, i, p, n, a),
                    i.index = a,
                    i._input = o,
                    i._expandedIndex = h,
                    i.transforms && i.transforms.length)
                        for (var w = !1 !== o.visible && !1 === i.visible, A = C(i, t, r, n), k = 0; k < A.length; k++) {
                            var T = A[k]
                              , M = {
                                _template: i._template,
                                type: i.type,
                                uid: i.uid + k
                            };
                            w && !1 === T.visible && delete T.visible,
                            x.supplyTraceDefaults(T, M, h, n, a),
                            m(M, T),
                            M.index = a,
                            M._input = o,
                            M._fullInput = i,
                            M._expandedIndex = h,
                            M._expandedInput = T,
                            g(M)
                        }
                    else
                        i._fullInput = i,
                        i._expandedInput = i,
                        g(i);
                    s.traceIs(i, "carpetAxis") && (y[i.carpet] = i),
                    s.traceIs(i, "carpetDependent") && v.push(a)
                }
                for (a = 0; a < v.length; a++)
                    if ((i = t[v[a]]).visible) {
                        var S = y[i.carpet];
                        i._carpet = S,
                        S && S.visible ? (i.xaxis = S.xaxis,
                        i.yaxis = S.yaxis) : i.visible = !1
                    }
            }
            ,
            x.supplyAnimationDefaults = function(e) {
                var t;
                e = e || {};
                var r = {};
                function n(t, n) {
                    return u.coerce(e || {}, r, g, t, n)
                }
                if (n("mode"),
                n("direction"),
                n("fromcurrent"),
                Array.isArray(e.frame))
                    for (r.frame = [],
                    t = 0; t < e.frame.length; t++)
                        r.frame[t] = x.supplyAnimationFrameDefaults(e.frame[t] || {});
                else
                    r.frame = x.supplyAnimationFrameDefaults(e.frame || {});
                if (Array.isArray(e.transition))
                    for (r.transition = [],
                    t = 0; t < e.transition.length; t++)
                        r.transition[t] = x.supplyAnimationTransitionDefaults(e.transition[t] || {});
                else
                    r.transition = x.supplyAnimationTransitionDefaults(e.transition || {});
                return r
            }
            ,
            x.supplyAnimationFrameDefaults = function(e) {
                var t = {};
                function r(r, n) {
                    return u.coerce(e || {}, t, g.frame, r, n)
                }
                return r("duration"),
                r("redraw"),
                t
            }
            ,
            x.supplyAnimationTransitionDefaults = function(e) {
                var t = {};
                function r(r, n) {
                    return u.coerce(e || {}, t, g.transition, r, n)
                }
                return r("duration"),
                r("easing"),
                t
            }
            ,
            x.supplyFrameDefaults = function(e) {
                var t = {};
                function r(r, n) {
                    return u.coerce(e, t, y, r, n)
                }
                return r("group"),
                r("name"),
                r("traces"),
                r("baseframe"),
                r("data"),
                r("layout"),
                t
            }
            ,
            x.supplyTraceDefaults = function(e, t, r, n, a) {
                var i, o = n.colorway || f.defaults, l = o[r % o.length];
                function c(r, n) {
                    return u.coerce(e, t, x.attributes, r, n)
                }
                var d = c("visible");
                c("type"),
                c("name", n._traceWord + " " + a),
                c("uirevision", n.uirevision);
                var h = x.getModule(t);
                if (t._module = h,
                h) {
                    var p = h.basePlotModule
                      , g = p.attr
                      , y = p.attributes;
                    if (g && y) {
                        var v = n._subplots
                          , m = "";
                        if (d || "gl2d" !== p.name) {
                            if (Array.isArray(g))
                                for (i = 0; i < g.length; i++) {
                                    var b = g[i]
                                      , _ = u.coerce(e, t, y, b);
                                    v[b] && u.pushUnique(v[b], _),
                                    m += _
                                }
                            else
                                m = u.coerce(e, t, y, g);
                            v[p.name] && u.pushUnique(v[p.name], m)
                        }
                    }
                }
                if (d) {
                    if (c("customdata"),
                    c("ids"),
                    c("meta"),
                    s.traceIs(t, "showLegend"))
                        u.coerce(e, t, h.attributes.showlegend ? h.attributes : x.attributes, "showlegend"),
                        c("legendgroup"),
                        c("legendgrouptitle.text") && u.coerceFont(c, "legendgrouptitle.font", u.extendFlat({}, n.font, {
                            size: Math.round(1.1 * n.font.size)
                        })),
                        c("legendrank"),
                        t._dfltShowLegend = !0;
                    else
                        t._dfltShowLegend = !1;
                    h && h.supplyDefaults(e, t, l, n),
                    s.traceIs(t, "noOpacity") || c("opacity"),
                    s.traceIs(t, "notLegendIsolatable") && (t.visible = !!t.visible),
                    s.traceIs(t, "noHover") || (t.hovertemplate || u.coerceHoverinfo(e, t, n),
                    "parcats" !== t.type && s.getComponentMethod("fx", "supplyDefaults")(e, t, l, n)),
                    h && h.selectPoints && c("selectedpoints"),
                    x.supplyTransformDefaults(e, t, n)
                }
                return t
            }
            ,
            x.hasMakesDataTransform = S,
            x.supplyTransformDefaults = function(e, t, r) {
                if (t._length || S(e)) {
                    var n = r._globalTransforms || []
                      , a = r._transformModules || [];
                    if (Array.isArray(e.transforms) || 0 !== n.length)
                        for (var i = e.transforms || [], o = n.concat(i), s = t.transforms = [], l = 0; l < o.length; l++) {
                            var c, f = o[l], d = f.type, h = _[d], p = !(f._module && f._module === h), g = h && "function" == typeof h.transform;
                            h || u.warn("Unrecognized transform type " + d + "."),
                            h && h.supplyDefaults && (p || g) ? ((c = h.supplyDefaults(f, t, r, e)).type = d,
                            c._module = h,
                            u.pushUnique(a, h)) : c = u.extendFlat({}, f),
                            s.push(c)
                        }
                }
            }
            ,
            x.supplyLayoutGlobalDefaults = function(e, t, r) {
                function n(r, n) {
                    return u.coerce(e, t, x.layoutAttributes, r, n)
                }
                var a = e.template;
                u.isPlainObject(a) && (t.template = a,
                t._template = a.layout,
                t._dataTemplate = a.data),
                n("autotypenumbers");
                var i = u.coerceFont(n, "font");
                n("title.text", t._dfltTitle.plot),
                u.coerceFont(n, "title.font", {
                    family: i.family,
                    size: Math.round(1.4 * i.size),
                    color: i.color
                }),
                n("title.xref"),
                n("title.yref"),
                n("title.x"),
                n("title.y"),
                n("title.xanchor"),
                n("title.yanchor"),
                n("title.pad.t"),
                n("title.pad.r"),
                n("title.pad.b"),
                n("title.pad.l"),
                n("uniformtext.mode") && n("uniformtext.minsize"),
                n("autosize", !(e.width && e.height)),
                n("width"),
                n("height"),
                n("margin.l"),
                n("margin.r"),
                n("margin.t"),
                n("margin.b"),
                n("margin.pad"),
                n("margin.autoexpand"),
                e.width && e.height && x.sanitizeMargins(t),
                s.getComponentMethod("grid", "sizeDefaults")(e, t),
                n("paper_bgcolor"),
                n("separators", r.decimal + r.thousands),
                n("hidesources"),
                n("colorway"),
                n("datarevision");
                var o = n("uirevision");
                n("editrevision", o),
                n("selectionrevision", o),
                s.getComponentMethod("modebar", "supplyLayoutDefaults")(e, t),
                s.getComponentMethod("shapes", "supplyDrawNewShapeDefaults")(e, t, n),
                n("meta"),
                u.isPlainObject(e.transition) && (n("transition.duration"),
                n("transition.easing"),
                n("transition.ordering")),
                s.getComponentMethod("calendars", "handleDefaults")(e, t, "calendar"),
                s.getComponentMethod("fx", "supplyLayoutGlobalDefaults")(e, t, n)
            }
            ,
            x.plotAutoSize = function(e, t, r) {
                var n, a, i = e._context || {}, s = i.frameMargins, l = u.isPlotDiv(e);
                if (l && e.emit("plotly_autosize"),
                i.fillFrame)
                    n = window.innerWidth,
                    a = window.innerHeight,
                    document.body.style.overflow = "hidden";
                else {
                    var c = l ? window.getComputedStyle(e) : {};
                    if (n = O(c.width) || O(c.maxWidth) || r.width,
                    a = O(c.height) || O(c.maxHeight) || r.height,
                    o(s) && s > 0) {
                        var f = 1 - 2 * s;
                        n = Math.round(f * n),
                        a = Math.round(f * a)
                    }
                }
                var d = x.layoutAttributes.width.min
                  , h = x.layoutAttributes.height.min;
                n < d && (n = d),
                a < h && (a = h);
                var p = !t.width && Math.abs(r.width - n) > 1
                  , g = !t.height && Math.abs(r.height - a) > 1;
                (g || p) && (p && (r.width = n),
                g && (r.height = a)),
                e._initialAutoSize || (e._initialAutoSize = {
                    width: n,
                    height: a
                }),
                x.sanitizeMargins(r)
            }
            ,
            x.supplyLayoutModuleDefaults = function(e, t, r, n) {
                var a, i, o, l = s.componentsRegistry, c = t._basePlotModules, f = s.subplotsRegistry.cartesian;
                for (a in l)
                    (o = l[a]).includeBasePlot && o.includeBasePlot(e, t);
                for (var d in c.length || c.push(f),
                t._has("cartesian") && (s.getComponentMethod("grid", "contentDefaults")(e, t),
                f.finalizeSubplots(e, t)),
                t._subplots)
                    t._subplots[d].sort(u.subplotSort);
                for (i = 0; i < c.length; i++)
                    (o = c[i]).supplyLayoutDefaults && o.supplyLayoutDefaults(e, t, r);
                var h = t._modules;
                for (i = 0; i < h.length; i++)
                    (o = h[i]).supplyLayoutDefaults && o.supplyLayoutDefaults(e, t, r);
                var p = t._transformModules;
                for (i = 0; i < p.length; i++)
                    (o = p[i]).supplyLayoutDefaults && o.supplyLayoutDefaults(e, t, r, n);
                for (a in l)
                    (o = l[a]).supplyLayoutDefaults && o.supplyLayoutDefaults(e, t, r)
            }
            ,
            x.purge = function(e) {
                var t = e._fullLayout || {};
                void 0 !== t._glcontainer && (t._glcontainer.selectAll(".gl-canvas").remove(),
                t._glcontainer.remove(),
                t._glcanvas = null),
                t._modeBar && t._modeBar.destroy(),
                e._transitionData && (e._transitionData._interruptCallbacks && (e._transitionData._interruptCallbacks.length = 0),
                e._transitionData._animationRaf && window.cancelAnimationFrame(e._transitionData._animationRaf)),
                u.clearThrottle(),
                u.clearResponsive(e),
                delete e.data,
                delete e.layout,
                delete e._fullData,
                delete e._fullLayout,
                delete e.calcdata,
                delete e.empty,
                delete e.fid,
                delete e.undoqueue,
                delete e.undonum,
                delete e.autoplay,
                delete e.changed,
                delete e._promises,
                delete e._redrawTimer,
                delete e._hmlumcount,
                delete e._hmpixcount,
                delete e._transitionData,
                delete e._transitioning,
                delete e._initialAutoSize,
                delete e._transitioningWithDuration,
                delete e._dragging,
                delete e._dragged,
                delete e._dragdata,
                delete e._hoverdata,
                delete e._snapshotInProgress,
                delete e._editing,
                delete e._mouseDownTime,
                delete e._legendMouseDownTime,
                e.removeAllListeners && e.removeAllListeners()
            }
            ,
            x.style = function(e) {
                var t, r = e._fullLayout._visibleModules, n = [];
                for (t = 0; t < r.length; t++) {
                    var a = r[t];
                    a.style && u.pushUnique(n, a.style)
                }
                for (t = 0; t < n.length; t++)
                    n[t](e)
            }
            ,
            x.sanitizeMargins = function(e) {
                if (e && e.margin) {
                    var t, r = e.width, n = e.height, a = e.margin, i = r - (a.l + a.r), o = n - (a.t + a.b);
                    i < 0 && (t = (r - 1) / (a.l + a.r),
                    a.l = Math.floor(t * a.l),
                    a.r = Math.floor(t * a.r)),
                    o < 0 && (t = (n - 1) / (a.t + a.b),
                    a.t = Math.floor(t * a.t),
                    a.b = Math.floor(t * a.b))
                }
            }
            ,
            x.clearAutoMarginIds = function(e) {
                e._fullLayout._pushmarginIds = {}
            }
            ,
            x.allowAutoMargin = function(e, t) {
                e._fullLayout._pushmarginIds[t] = 1
            }
            ;
            x.autoMargin = function(e, t, r) {
                var n = e._fullLayout
                  , a = n.width
                  , i = n.height
                  , o = n.margin
                  , s = u.constrain(a - o.l - o.r, 2, 64)
                  , l = u.constrain(i - o.t - o.b, 2, 64)
                  , c = Math.max(0, a - s)
                  , f = Math.max(0, i - l)
                  , d = n._pushmargin
                  , h = n._pushmarginIds;
                if (!1 !== o.autoexpand) {
                    if (r) {
                        var p = r.pad;
                        if (void 0 === p && (p = Math.min(12, o.l, o.r, o.t, o.b)),
                        c) {
                            var g = (r.l + r.r) / c;
                            g > 1 && (r.l /= g,
                            r.r /= g)
                        }
                        if (f) {
                            var y = (r.t + r.b) / f;
                            y > 1 && (r.t /= y,
                            r.b /= y)
                        }
                        var v = void 0 !== r.xl ? r.xl : r.x
                          , m = void 0 !== r.xr ? r.xr : r.x
                          , b = void 0 !== r.yt ? r.yt : r.y
                          , _ = void 0 !== r.yb ? r.yb : r.y;
                        d[t] = {
                            l: {
                                val: v,
                                size: r.l + p
                            },
                            r: {
                                val: m,
                                size: r.r + p
                            },
                            b: {
                                val: _,
                                size: r.b + p
                            },
                            t: {
                                val: b,
                                size: r.t + p
                            }
                        },
                        h[t] = 1
                    } else
                        delete d[t],
                        delete h[t];
                    if (!n._replotting)
                        return x.doAutoMargin(e)
                }
            }
            ,
            x.doAutoMargin = function(e) {
                var t = e._fullLayout
                  , r = t.width
                  , n = t.height;
                t._size || (t._size = {}),
                D(t);
                var a = t._size
                  , i = t.margin
                  , l = u.extendFlat({}, a)
                  , c = i.l
                  , f = i.r
                  , d = i.t
                  , p = i.b
                  , g = t._pushmargin
                  , y = t._pushmarginIds;
                if (!1 !== t.margin.autoexpand) {
                    for (var v in g)
                        y[v] || delete g[v];
                    for (var m in g.base = {
                        l: {
                            val: 0,
                            size: c
                        },
                        r: {
                            val: 1,
                            size: f
                        },
                        t: {
                            val: 1,
                            size: d
                        },
                        b: {
                            val: 0,
                            size: p
                        }
                    },
                    g) {
                        var b = g[m].l || {}
                          , _ = g[m].b || {}
                          , w = b.val
                          , A = b.size
                          , k = _.val
                          , T = _.size;
                        for (var M in g) {
                            if (o(A) && g[M].r) {
                                var S = g[M].r.val
                                  , C = g[M].r.size;
                                if (S > w) {
                                    var O = (A * S + (C - r) * w) / (S - w)
                                      , L = (C * (1 - w) + (A - r) * (1 - S)) / (S - w);
                                    O + L > c + f && (c = O,
                                    f = L)
                                }
                            }
                            if (o(T) && g[M].t) {
                                var E = g[M].t.val
                                  , z = g[M].t.size;
                                if (E > k) {
                                    var F = (T * E + (z - n) * k) / (E - k)
                                      , P = (z * (1 - k) + (T - n) * (1 - E)) / (E - k);
                                    F + P > p + d && (p = F,
                                    d = P)
                                }
                            }
                        }
                    }
                }
                var I = u.constrain(r - i.l - i.r, 2, 64)
                  , N = u.constrain(n - i.t - i.b, 2, 64)
                  , R = Math.max(0, r - I)
                  , j = Math.max(0, n - N);
                if (R) {
                    var B = (c + f) / R;
                    B > 1 && (c /= B,
                    f /= B)
                }
                if (j) {
                    var H = (p + d) / j;
                    H > 1 && (p /= H,
                    d /= H)
                }
                if (a.l = Math.round(c),
                a.r = Math.round(f),
                a.t = Math.round(d),
                a.b = Math.round(p),
                a.p = Math.round(i.pad),
                a.w = Math.round(r) - a.l - a.r,
                a.h = Math.round(n) - a.t - a.b,
                !t._replotting && x.didMarginChange(l, a)) {
                    "_redrawFromAutoMarginCount"in t ? t._redrawFromAutoMarginCount++ : t._redrawFromAutoMarginCount = 1;
                    var U = 3 * (1 + Object.keys(y).length);
                    if (t._redrawFromAutoMarginCount < U)
                        return s.call("_doPlot", e);
                    t._size = l,
                    u.warn("Too many auto-margin redraws.")
                }
                !function(e) {
                    var t = h.list(e, "", !0);
                    ["_adjustTickLabelsOverflow", "_hideCounterAxisInsideTickLabels"].forEach((function(e) {
                        for (var r = 0; r < t.length; r++) {
                            var n = t[r][e];
                            n && n()
                        }
                    }
                    ))
                }(e)
            }
            ;
            var L = ["l", "r", "t", "b", "p", "w", "h"];
            function E(e, t, r) {
                var n = !1;
                var a = [x.previousPromises, function() {
                    if (e._transitionData)
                        return e._transitioning = !1,
                        function(e) {
                            var t = Promise.resolve();
                            if (!e)
                                return t;
                            for (; e.length; )
                                t = t.then(e.shift());
                            return t
                        }(e._transitionData._interruptCallbacks)
                }
                , r.prepareFn, x.rehover, function() {
                    return e.emit("plotly_transitioning", []),
                    new Promise((function(a) {
                        e._transitioning = !0,
                        t.duration > 0 && (e._transitioningWithDuration = !0),
                        e._transitionData._interruptCallbacks.push((function() {
                            n = !0
                        }
                        )),
                        r.redraw && e._transitionData._interruptCallbacks.push((function() {
                            return s.call("redraw", e)
                        }
                        )),
                        e._transitionData._interruptCallbacks.push((function() {
                            e.emit("plotly_transitioninterrupted", [])
                        }
                        ));
                        var i = 0
                          , o = 0;
                        function l() {
                            return i++,
                            function() {
                                o++,
                                n || o !== i || function(t) {
                                    if (!e._transitionData)
                                        return;
                                    (function(e) {
                                        if (e)
                                            for (; e.length; )
                                                e.shift()
                                    }
                                    )(e._transitionData._interruptCallbacks),
                                    Promise.resolve().then((function() {
                                        if (r.redraw)
                                            return s.call("redraw", e)
                                    }
                                    )).then((function() {
                                        e._transitioning = !1,
                                        e._transitioningWithDuration = !1,
                                        e.emit("plotly_transitioned", [])
                                    }
                                    )).then(t)
                                }(a)
                            }
                        }
                        r.runFn(l),
                        setTimeout(l())
                    }
                    ))
                }
                ]
                  , i = u.syncOrAsync(a, e);
                return i && i.then || (i = Promise.resolve()),
                i.then((function() {
                    return e
                }
                ))
            }
            x.didMarginChange = function(e, t) {
                for (var r = 0; r < L.length; r++) {
                    var n = L[r]
                      , a = e[n]
                      , i = t[n];
                    if (!o(a) || Math.abs(i - a) > 1)
                        return !0
                }
                return !1
            }
            ,
            x.graphJson = function(e, t, r, n, a, i) {
                (a && t && !e._fullData || a && !t && !e._fullLayout) && x.supplyDefaults(e);
                var o = a ? e._fullData : e.data
                  , s = a ? e._fullLayout : e.layout
                  , l = (e._transitionData || {})._frames;
                function c(e, t) {
                    if ("function" == typeof e)
                        return t ? "_function_" : null;
                    if (u.isPlainObject(e)) {
                        var n, a = {};
                        return Object.keys(e).sort().forEach((function(i) {
                            if (-1 === ["_", "["].indexOf(i.charAt(0)))
                                if ("function" != typeof e[i]) {
                                    if ("keepdata" === r) {
                                        if ("src" === i.substr(i.length - 3))
                                            return
                                    } else if ("keepstream" === r) {
                                        if ("string" == typeof (n = e[i + "src"]) && n.indexOf(":") > 0 && !u.isPlainObject(e.stream))
                                            return
                                    } else if ("keepall" !== r && "string" == typeof (n = e[i + "src"]) && n.indexOf(":") > 0)
                                        return;
                                    a[i] = c(e[i], t)
                                } else
                                    t && (a[i] = "_function")
                        }
                        )),
                        a
                    }
                    return Array.isArray(e) ? e.map((function(e) {
                        return c(e, t)
                    }
                    )) : u.isTypedArray(e) ? u.simpleMap(e, u.identity) : u.isJSDate(e) ? u.ms2DateTimeLocal(+e) : e
                }
                var f = {
                    data: (o || []).map((function(e) {
                        var r = c(e);
                        return t && delete r.fit,
                        r
                    }
                    ))
                };
                if (!t && (f.layout = c(s),
                a)) {
                    var d = s._size;
                    f.layout.computed = {
                        margin: {
                            b: d.b,
                            l: d.l,
                            r: d.r,
                            t: d.t
                        }
                    }
                }
                return l && (f.frames = c(l)),
                i && (f.config = c(e._context, !0)),
                "object" === n ? f : JSON.stringify(f)
            }
            ,
            x.modifyFrames = function(e, t) {
                var r, n, a, i = e._transitionData._frames, o = e._transitionData._frameHash;
                for (r = 0; r < t.length; r++)
                    switch ((n = t[r]).type) {
                    case "replace":
                        a = n.value;
                        var s = (i[n.index] || {}).name
                          , l = a.name;
                        i[n.index] = o[l] = a,
                        l !== s && (delete o[s],
                        o[l] = a);
                        break;
                    case "insert":
                        o[(a = n.value).name] = a,
                        i.splice(n.index, 0, a);
                        break;
                    case "delete":
                        delete o[(a = i[n.index]).name],
                        i.splice(n.index, 1)
                    }
                return Promise.resolve()
            }
            ,
            x.computeFrame = function(e, t) {
                var r, n, a, i, o = e._transitionData._frameHash;
                if (!t)
                    throw new Error("computeFrame must be given a string frame name");
                var s = o[t.toString()];
                if (!s)
                    return !1;
                for (var l = [s], c = [s.name]; s.baseframe && (s = o[s.baseframe.toString()]) && -1 === c.indexOf(s.name); )
                    l.push(s),
                    c.push(s.name);
                for (var u = {}; s = l.pop(); )
                    if (s.layout && (u.layout = x.extendLayout(u.layout, s.layout)),
                    s.data) {
                        if (u.data || (u.data = []),
                        !(n = s.traces))
                            for (n = [],
                            r = 0; r < s.data.length; r++)
                                n[r] = r;
                        for (u.traces || (u.traces = []),
                        r = 0; r < s.data.length; r++)
                            null != (a = n[r]) && (-1 === (i = u.traces.indexOf(a)) && (i = u.data.length,
                            u.traces[i] = a),
                            u.data[i] = x.extendTrace(u.data[i], s.data[r]))
                    }
                return u
            }
            ,
            x.recomputeFrameHash = function(e) {
                for (var t = e._transitionData._frameHash = {}, r = e._transitionData._frames, n = 0; n < r.length; n++) {
                    var a = r[n];
                    a && a.name && (t[a.name] = a)
                }
            }
            ,
            x.extendObjectWithContainers = function(e, t, r) {
                var n, a, i, o, s, l, c, f = u.extendDeepNoArrays({}, t || {}), d = u.expandObjectPaths(f), h = {};
                if (r && r.length)
                    for (i = 0; i < r.length; i++)
                        void 0 === (a = (n = u.nestedProperty(d, r[i])).get()) ? u.nestedProperty(h, r[i]).set(null) : (n.set(null),
                        u.nestedProperty(h, r[i]).set(a));
                if (e = u.extendDeepNoArrays(e || {}, d),
                r && r.length)
                    for (i = 0; i < r.length; i++)
                        if (l = u.nestedProperty(h, r[i]).get()) {
                            for (c = (s = u.nestedProperty(e, r[i])).get(),
                            Array.isArray(c) || (c = [],
                            s.set(c)),
                            o = 0; o < l.length; o++) {
                                var p = l[o];
                                c[o] = null === p ? null : x.extendObjectWithContainers(c[o], p)
                            }
                            s.set(c)
                        }
                return e
            }
            ,
            x.dataArrayContainers = ["transforms", "dimensions"],
            x.layoutArrayContainers = s.layoutArrayContainers,
            x.extendTrace = function(e, t) {
                return x.extendObjectWithContainers(e, t, x.dataArrayContainers)
            }
            ,
            x.extendLayout = function(e, t) {
                return x.extendObjectWithContainers(e, t, x.layoutArrayContainers)
            }
            ,
            x.transition = function(e, t, r, n, a, i) {
                var o = {
                    redraw: a.redraw
                }
                  , s = {}
                  , l = [];
                return o.prepareFn = function() {
                    for (var a = Array.isArray(t) ? t.length : 0, i = n.slice(0, a), o = 0; o < i.length; o++) {
                        var c = i[o]
                          , f = e._fullData[c]._module;
                        if (f) {
                            if (f.animatable) {
                                var d = f.basePlotModule.name;
                                s[d] || (s[d] = []),
                                s[d].push(c)
                            }
                            e.data[i[o]] = x.extendTrace(e.data[i[o]], t[o])
                        }
                    }
                    var h = u.expandObjectPaths(u.extendDeepNoArrays({}, r))
                      , p = /^[xy]axis[0-9]*$/;
                    for (var g in h)
                        p.test(g) && delete h[g].range;
                    x.extendLayout(e.layout, h),
                    delete e.calcdata,
                    x.supplyDefaults(e),
                    x.doCalcdata(e);
                    var y = u.expandObjectPaths(r);
                    if (y) {
                        var v = e._fullLayout._plots;
                        for (var m in v) {
                            var b = v[m]
                              , _ = b.xaxis
                              , w = b.yaxis
                              , A = _.range.slice()
                              , k = w.range.slice()
                              , T = null
                              , M = null
                              , S = null
                              , C = null;
                            Array.isArray(y[_._name + ".range"]) ? T = y[_._name + ".range"].slice() : Array.isArray((y[_._name] || {}).range) && (T = y[_._name].range.slice()),
                            Array.isArray(y[w._name + ".range"]) ? M = y[w._name + ".range"].slice() : Array.isArray((y[w._name] || {}).range) && (M = y[w._name].range.slice()),
                            A && T && (_.r2l(A[0]) !== _.r2l(T[0]) || _.r2l(A[1]) !== _.r2l(T[1])) && (S = {
                                xr0: A,
                                xr1: T
                            }),
                            k && M && (w.r2l(k[0]) !== w.r2l(M[0]) || w.r2l(k[1]) !== w.r2l(M[1])) && (C = {
                                yr0: k,
                                yr1: M
                            }),
                            (S || C) && l.push(u.extendFlat({
                                plotinfo: b
                            }, S, C))
                        }
                    }
                    return Promise.resolve()
                }
                ,
                o.runFn = function(t) {
                    var n, a, o = e._fullLayout._basePlotModules, c = l.length;
                    if (r)
                        for (a = 0; a < o.length; a++)
                            o[a].transitionAxes && o[a].transitionAxes(e, l, i, t);
                    for (var f in c ? ((n = u.extendFlat({}, i)).duration = 0,
                    delete s.cartesian) : n = i,
                    s) {
                        var d = s[f];
                        e._fullData[d[0]]._module.basePlotModule.plot(e, d, n, t)
                    }
                }
                ,
                E(e, i, o)
            }
            ,
            x.transitionFromReact = function(e, t, r, n) {
                var a = e._fullLayout
                  , i = a.transition
                  , o = {}
                  , s = [];
                return o.prepareFn = function() {
                    var e = a._plots;
                    for (var i in o.redraw = !1,
                    "some" === t.anim && (o.redraw = !0),
                    "some" === r.anim && (o.redraw = !0),
                    e) {
                        var l = e[i]
                          , c = l.xaxis
                          , f = l.yaxis
                          , d = n[c._name].range.slice()
                          , h = n[f._name].range.slice()
                          , p = c.range.slice()
                          , g = f.range.slice();
                        c.setScale(),
                        f.setScale();
                        var y = null
                          , v = null;
                        c.r2l(d[0]) === c.r2l(p[0]) && c.r2l(d[1]) === c.r2l(p[1]) || (y = {
                            xr0: d,
                            xr1: p
                        }),
                        f.r2l(h[0]) === f.r2l(g[0]) && f.r2l(h[1]) === f.r2l(g[1]) || (v = {
                            yr0: h,
                            yr1: g
                        }),
                        (y || v) && s.push(u.extendFlat({
                            plotinfo: l
                        }, y, v))
                    }
                    return Promise.resolve()
                }
                ,
                o.runFn = function(r) {
                    for (var n, a, o, l = e._fullData, c = e._fullLayout._basePlotModules, f = [], d = 0; d < l.length; d++)
                        f.push(d);
                    function h() {
                        if (e._fullLayout)
                            for (var t = 0; t < c.length; t++)
                                c[t].transitionAxes && c[t].transitionAxes(e, s, n, r)
                    }
                    function p() {
                        if (e._fullLayout)
                            for (var t = 0; t < c.length; t++)
                                c[t].plot(e, o, a, r)
                    }
                    s.length && t.anim ? "traces first" === i.ordering ? (n = u.extendFlat({}, i, {
                        duration: 0
                    }),
                    o = f,
                    a = i,
                    setTimeout(h, i.duration),
                    p()) : (n = i,
                    o = null,
                    a = u.extendFlat({}, i, {
                        duration: 0
                    }),
                    setTimeout(p, n.duration),
                    h()) : s.length ? (n = i,
                    h()) : t.anim && (o = f,
                    a = i,
                    p())
                }
                ,
                E(e, i, o)
            }
            ,
            x.doCalcdata = function(e, t) {
                var r, n, a, i, o = h.list(e), c = e._fullData, f = e._fullLayout, p = new Array(c.length), g = (e.calcdata || []).slice();
                for (e.calcdata = p,
                f._numBoxes = 0,
                f._numViolins = 0,
                f._violinScaleGroupStats = {},
                e._hmpixcount = 0,
                e._hmlumcount = 0,
                f._piecolormap = {},
                f._sunburstcolormap = {},
                f._treemapcolormap = {},
                f._iciclecolormap = {},
                f._funnelareacolormap = {},
                a = 0; a < c.length; a++)
                    Array.isArray(t) && -1 === t.indexOf(a) && (p[a] = g[a]);
                for (a = 0; a < c.length; a++)
                    (r = c[a])._arrayAttrs = l.findArrayAttributes(r),
                    r._extremes = {};
                var y = f._subplots.polar || [];
                for (a = 0; a < y.length; a++)
                    o.push(f[y[a]].radialaxis, f[y[a]].angularaxis);
                for (var v in f._colorAxes) {
                    var m = f[v];
                    !1 !== m.cauto && (delete m.cmin,
                    delete m.cmax)
                }
                var b = !1;
                function x(t) {
                    if (r = c[t],
                    n = r._module,
                    !0 === r.visible && r.transforms) {
                        if (n && n.calc) {
                            var a = n.calc(e, r);
                            a[0] && a[0].t && a[0].t._scene && delete a[0].t._scene.dirty
                        }
                        for (i = 0; i < r.transforms.length; i++) {
                            var o = r.transforms[i];
                            (n = _[o.type]) && n.calcTransform && (r._hasCalcTransform = !0,
                            b = !0,
                            n.calcTransform(e, r, o))
                        }
                    }
                }
                function w(t, a) {
                    if (r = c[t],
                    !!(n = r._module).isContainer === a) {
                        var o = [];
                        if (!0 === r.visible && 0 !== r._length) {
                            delete r._indexToPoints;
                            var s = r.transforms || [];
                            for (i = s.length - 1; i >= 0; i--)
                                if (s[i].enabled) {
                                    r._indexToPoints = s[i]._indexToPoints;
                                    break
                                }
                            n && n.calc && (o = n.calc(e, r))
                        }
                        Array.isArray(o) && o[0] || (o = [{
                            x: d,
                            y: d
                        }]),
                        o[0].t || (o[0].t = {}),
                        o[0].trace = r,
                        p[t] = o
                    }
                }
                for (F(o, c, f),
                a = 0; a < c.length; a++)
                    w(a, !0);
                for (a = 0; a < c.length; a++)
                    x(a);
                for (b && F(o, c, f),
                a = 0; a < c.length; a++)
                    w(a, !0);
                for (a = 0; a < c.length; a++)
                    w(a, !1);
                P(e);
                var A = function(e, t) {
                    var r, n, a, i, o, l = [];
                    function c(e, r, n) {
                        var a = r._id.charAt(0);
                        if ("histogram2dcontour" === e) {
                            var i = r._counterAxes[0]
                              , o = h.getFromId(t, i)
                              , s = "x" === a || "x" === i && "category" === o.type
                              , l = "y" === a || "y" === i && "category" === o.type;
                            return function(e, t) {
                                return 0 === e || 0 === t || s && e === n[t].length - 1 || l && t === n.length - 1 ? -1 : ("y" === a ? t : e) - 1
                            }
                        }
                        return function(e, t) {
                            return "y" === a ? t : e
                        }
                    }
                    var f = {
                        min: function(e) {
                            return u.aggNums(Math.min, null, e)
                        },
                        max: function(e) {
                            return u.aggNums(Math.max, null, e)
                        },
                        sum: function(e) {
                            return u.aggNums((function(e, t) {
                                return e + t
                            }
                            ), null, e)
                        },
                        total: function(e) {
                            return u.aggNums((function(e, t) {
                                return e + t
                            }
                            ), null, e)
                        },
                        mean: function(e) {
                            return u.mean(e)
                        },
                        median: function(e) {
                            return u.median(e)
                        }
                    };
                    for (r = 0; r < e.length; r++) {
                        var d = e[r];
                        if ("category" === d.type) {
                            var p = d.categoryorder.match(z);
                            if (p) {
                                var g = p[1]
                                  , y = p[2]
                                  , v = d._id.charAt(0)
                                  , m = "x" === v
                                  , b = [];
                                for (n = 0; n < d._categories.length; n++)
                                    b.push([d._categories[n], []]);
                                for (n = 0; n < d._traceIndices.length; n++) {
                                    var x = d._traceIndices[n]
                                      , _ = t._fullData[x];
                                    if (!0 === _.visible) {
                                        var w = _.type;
                                        s.traceIs(_, "histogram") && (delete _._xautoBinFinished,
                                        delete _._yautoBinFinished);
                                        var A = "splom" === w
                                          , k = "scattergl" === w
                                          , T = t.calcdata[x];
                                        for (a = 0; a < T.length; a++) {
                                            var M, S, C = T[a];
                                            if (A) {
                                                var O = _._axesDim[d._id];
                                                if (!m) {
                                                    var D = _._diag[O][0];
                                                    D && (d = t._fullLayout[h.id2name(D)])
                                                }
                                                var L = C.trace.dimensions[O].values;
                                                for (i = 0; i < L.length; i++)
                                                    for (M = d._categoriesMap[L[i]],
                                                    o = 0; o < C.trace.dimensions.length; o++)
                                                        if (o !== O) {
                                                            var E = C.trace.dimensions[o];
                                                            b[M][1].push(E.values[i])
                                                        }
                                            } else if (k) {
                                                for (i = 0; i < C.t.x.length; i++)
                                                    m ? (M = C.t.x[i],
                                                    S = C.t.y[i]) : (M = C.t.y[i],
                                                    S = C.t.x[i]),
                                                    b[M][1].push(S);
                                                C.t && C.t._scene && delete C.t._scene.dirty
                                            } else if (C.hasOwnProperty("z")) {
                                                S = C.z;
                                                var F = c(_.type, d, S);
                                                for (i = 0; i < S.length; i++)
                                                    for (o = 0; o < S[i].length; o++)
                                                        (M = F(o, i)) + 1 && b[M][1].push(S[i][o])
                                            } else
                                                for (void 0 === (M = C.p) && (M = C[v]),
                                                void 0 === (S = C.s) && (S = C.v),
                                                void 0 === S && (S = m ? C.y : C.x),
                                                Array.isArray(S) || (S = void 0 === S ? [] : [S]),
                                                i = 0; i < S.length; i++)
                                                    b[M][1].push(S[i])
                                        }
                                    }
                                }
                                d._categoriesValue = b;
                                var P = [];
                                for (n = 0; n < b.length; n++)
                                    P.push([b[n][0], f[g](b[n][1])]);
                                P.sort((function(e, t) {
                                    return e[1] - t[1]
                                }
                                )),
                                d._categoriesAggregatedValue = P,
                                d._initialCategories = P.map((function(e) {
                                    return e[0]
                                }
                                )),
                                "descending" === y && d._initialCategories.reverse(),
                                l = l.concat(d.sortByInitialCategories())
                            }
                        }
                    }
                    return l
                }(o, e);
                if (A.length) {
                    for (f._numBoxes = 0,
                    f._numViolins = 0,
                    a = 0; a < A.length; a++)
                        w(A[a], !0);
                    for (a = 0; a < A.length; a++)
                        w(A[a], !1);
                    P(e)
                }
                s.getComponentMethod("fx", "calc")(e),
                s.getComponentMethod("errorbars", "calc")(e)
            }
            ;
            var z = /(total|sum|min|max|mean|median) (ascending|descending)/;
            function F(e, t, r) {
                var n = {};
                function a(e) {
                    e.clearCalc(),
                    "multicategory" === e.type && e.setupMultiCategory(t),
                    n[e._id] = 1
                }
                u.simpleMap(e, a);
                for (var i = r._axisMatchGroups || [], o = 0; o < i.length; o++)
                    for (var s in i[o])
                        n[s] || a(r[h.id2name(s)])
            }
            function P(e) {
                var t, r, n, a = e._fullLayout, i = a._visibleModules, o = {};
                for (r = 0; r < i.length; r++) {
                    var s = i[r]
                      , l = s.crossTraceCalc;
                    if (l) {
                        var c = s.basePlotModule.name;
                        o[c] ? u.pushUnique(o[c], l) : o[c] = [l]
                    }
                }
                for (n in o) {
                    var f = o[n]
                      , d = a._subplots[n];
                    if (Array.isArray(d))
                        for (t = 0; t < d.length; t++) {
                            var h = d[t]
                              , p = "cartesian" === n ? a._plots[h] : a[h];
                            for (r = 0; r < f.length; r++)
                                f[r](e, p, h)
                        }
                    else
                        for (r = 0; r < f.length; r++)
                            f[r](e)
                }
            }
            x.rehover = function(e) {
                e._fullLayout._rehover && e._fullLayout._rehover()
            }
            ,
            x.redrag = function(e) {
                e._fullLayout._redrag && e._fullLayout._redrag()
            }
            ,
            x.generalUpdatePerTraceModule = function(e, t, r, n) {
                var a, i = t.traceHash, o = {};
                for (a = 0; a < r.length; a++) {
                    var s = r[a]
                      , l = s[0].trace;
                    l.visible && (o[l.type] = o[l.type] || [],
                    o[l.type].push(s))
                }
                for (var c in i)
                    if (!o[c]) {
                        var f = i[c][0];
                        f[0].trace.visible = !1,
                        o[c] = [f]
                    }
                for (var d in o) {
                    var h = o[d];
                    h[0][0].trace._module.plot(e, t, u.filterVisible(h), n)
                }
                t.traceHash = o
            }
            ,
            x.plotBasePlot = function(e, t, r, n, a) {
                var i = s.getModule(e)
                  , o = v(t.calcdata, i)[0];
                i.plot(t, o, n, a)
            }
            ,
            x.cleanBasePlot = function(e, t, r, n, a) {
                var i = a._has && a._has(e)
                  , o = r._has && r._has(e);
                i && !o && a["_" + e + "layer"].selectAll("g.trace").remove()
            }
        }
        , {
            "../components/color": 235,
            "../constants/numerical": 344,
            "../lib": 365,
            "../plot_api/plot_schema": 402,
            "../plot_api/plot_template": 403,
            "../plots/get_data": 445,
            "../registry": 451,
            "./animation_attributes": 408,
            "./attributes": 410,
            "./cartesian/axis_ids": 418,
            "./cartesian/handle_outline": 425,
            "./command": 441,
            "./font_attributes": 443,
            "./frame_attributes": 444,
            "./layout_attributes": 447,
            "@plotly/d3": 6,
            "d3-format": 38,
            "d3-time-format": 39,
            "fast-isnumeric": 107
        }],
        450: [function(e, t, r) {
            "use strict";
            var n = e("../constants/docs");
            n.FORMAT_LINK,
            n.DATE_FORMAT_LINK;
            function a(e) {
                var t = e.description ? " " + e.description : ""
                  , r = e.keys || [];
                if (r.length > 0) {
                    for (var n = [], a = 0; a < r.length; a++)
                        n[a] = "`" + r[a] + "`";
                    t += "Finally, the template string has access to ",
                    t = 1 === r.length ? "variable " + n[0] : "variables " + n.slice(0, -1).join(", ") + " and " + n.slice(-1) + "."
                }
                return t
            }
            r.hovertemplateAttrs = function(e, t) {
                e = e || {};
                a(t = t || {});
                var r = {
                    valType: "string",
                    dflt: "",
                    editType: e.editType || "none"
                };
                return !1 !== e.arrayOk && (r.arrayOk = !0),
                r
            }
            ,
            r.texttemplateAttrs = function(e, t) {
                e = e || {};
                a(t = t || {});
                var r = {
                    valType: "string",
                    dflt: "",
                    editType: e.editType || "calc"
                };
                return !1 !== e.arrayOk && (r.arrayOk = !0),
                r
            }
        }
        , {
            "../constants/docs": 342
        }],
        451: [function(e, t, r) {
            "use strict";
            var n = e("./lib/loggers")
              , a = e("./lib/noop")
              , i = e("./lib/push_unique")
              , o = e("./lib/is_plain_object")
              , s = e("./lib/dom").addStyleRule
              , l = e("./lib/extend")
              , c = e("./plots/attributes")
              , u = e("./plots/layout_attributes")
              , f = l.extendFlat
              , d = l.extendDeepAll;
            function h(e) {
                var t = e.name
                  , a = e.categories
                  , i = e.meta;
                if (r.modules[t])
                    n.log("Type " + t + " already registered");
                else {
                    r.subplotsRegistry[e.basePlotModule.name] || function(e) {
                        var t = e.name;
                        if (r.subplotsRegistry[t])
                            return void n.log("Plot type " + t + " already registered.");
                        for (var a in v(e),
                        r.subplotsRegistry[t] = e,
                        r.componentsRegistry)
                            x(a, e.name)
                    }(e.basePlotModule);
                    for (var o = {}, l = 0; l < a.length; l++)
                        o[a[l]] = !0,
                        r.allCategories[a[l]] = !0;
                    for (var c in r.modules[t] = {
                        _module: e,
                        categories: o
                    },
                    i && Object.keys(i).length && (r.modules[t].meta = i),
                    r.allTypes.push(t),
                    r.componentsRegistry)
                        m(c, t);
                    e.layoutAttributes && f(r.traceLayoutAttributes, e.layoutAttributes);
                    var u = e.basePlotModule
                      , d = u.name;
                    if ("mapbox" === d) {
                        var h = u.constants.styleRules;
                        for (var p in h)
                            s(".js-plotly-plot .plotly .mapboxgl-" + p, h[p])
                    }
                    "geo" !== d && "mapbox" !== d || void 0 === typeof window || void 0 !== window.PlotlyGeoAssets || (window.PlotlyGeoAssets = {
                        topojson: {}
                    })
                }
            }
            function p(e) {
                if ("string" != typeof e.name)
                    throw new Error("Component module *name* must be a string.");
                var t = e.name;
                for (var n in r.componentsRegistry[t] = e,
                e.layoutAttributes && (e.layoutAttributes._isLinkedToArray && i(r.layoutArrayContainers, t),
                v(e)),
                r.modules)
                    m(t, n);
                for (var a in r.subplotsRegistry)
                    x(t, a);
                for (var o in r.transformsRegistry)
                    b(t, o);
                e.schema && e.schema.layout && d(u, e.schema.layout)
            }
            function g(e) {
                if ("string" != typeof e.name)
                    throw new Error("Transform module *name* must be a string.");
                var t = "Transform module " + e.name
                  , a = "function" == typeof e.transform
                  , i = "function" == typeof e.calcTransform;
                if (!a && !i)
                    throw new Error(t + " is missing a *transform* or *calcTransform* method.");
                for (var s in a && i && n.log([t + " has both a *transform* and *calcTransform* methods.", "Please note that all *transform* methods are executed", "before all *calcTransform* methods."].join(" ")),
                o(e.attributes) || n.log(t + " registered without an *attributes* object."),
                "function" != typeof e.supplyDefaults && n.log(t + " registered without a *supplyDefaults* method."),
                r.transformsRegistry[e.name] = e,
                r.componentsRegistry)
                    b(s, e.name)
            }
            function y(e) {
                var t = e.name
                  , n = t.split("-")[0]
                  , a = e.dictionary
                  , i = e.format
                  , o = a && Object.keys(a).length
                  , s = i && Object.keys(i).length
                  , l = r.localeRegistry
                  , c = l[t];
                if (c || (l[t] = c = {}),
                n !== t) {
                    var u = l[n];
                    u || (l[n] = u = {}),
                    o && u.dictionary === c.dictionary && (u.dictionary = a),
                    s && u.format === c.format && (u.format = i)
                }
                o && (c.dictionary = a),
                s && (c.format = i)
            }
            function v(e) {
                if (e.layoutAttributes) {
                    var t = e.layoutAttributes._arrayAttrRegexps;
                    if (t)
                        for (var n = 0; n < t.length; n++)
                            i(r.layoutArrayRegexes, t[n])
                }
            }
            function m(e, t) {
                var n = r.componentsRegistry[e].schema;
                if (n && n.traces) {
                    var a = n.traces[t];
                    a && d(r.modules[t]._module.attributes, a)
                }
            }
            function b(e, t) {
                var n = r.componentsRegistry[e].schema;
                if (n && n.transforms) {
                    var a = n.transforms[t];
                    a && d(r.transformsRegistry[t].attributes, a)
                }
            }
            function x(e, t) {
                var n = r.componentsRegistry[e].schema;
                if (n && n.subplots) {
                    var a = r.subplotsRegistry[t]
                      , i = a.layoutAttributes
                      , o = "subplot" === a.attr ? a.name : a.attr;
                    Array.isArray(o) && (o = o[0]);
                    var s = n.subplots[o];
                    i && s && d(i, s)
                }
            }
            function _(e) {
                return "object" == typeof e && (e = e.type),
                e
            }
            r.modules = {},
            r.allCategories = {},
            r.allTypes = [],
            r.subplotsRegistry = {},
            r.transformsRegistry = {},
            r.componentsRegistry = {},
            r.layoutArrayContainers = [],
            r.layoutArrayRegexes = [],
            r.traceLayoutAttributes = {},
            r.localeRegistry = {},
            r.apiMethodRegistry = {},
            r.collectableSubplotTypes = null,
            r.register = function(e) {
                if (r.collectableSubplotTypes = null,
                !e)
                    throw new Error("No argument passed to Plotly.register.");
                e && !Array.isArray(e) && (e = [e]);
                for (var t = 0; t < e.length; t++) {
                    var n = e[t];
                    if (!n)
                        throw new Error("Invalid module was attempted to be registered!");
                    switch (n.moduleType) {
                    case "trace":
                        h(n);
                        break;
                    case "transform":
                        g(n);
                        break;
                    case "component":
                        p(n);
                        break;
                    case "locale":
                        y(n);
                        break;
                    case "apiMethod":
                        var a = n.name;
                        r.apiMethodRegistry[a] = n.fn;
                        break;
                    default:
                        throw new Error("Invalid module was attempted to be registered!")
                    }
                }
            }
            ,
            r.getModule = function(e) {
                var t = r.modules[_(e)];
                return !!t && t._module
            }
            ,
            r.traceIs = function(e, t) {
                if ("various" === (e = _(e)))
                    return !1;
                var a = r.modules[e];
                return a || (e && n.log("Unrecognized trace type " + e + "."),
                a = r.modules[c.type.dflt]),
                !!a.categories[t]
            }
            ,
            r.getTransformIndices = function(e, t) {
                for (var r = [], n = e.transforms || [], a = 0; a < n.length; a++)
                    n[a].type === t && r.push(a);
                return r
            }
            ,
            r.hasTransform = function(e, t) {
                for (var r = e.transforms || [], n = 0; n < r.length; n++)
                    if (r[n].type === t)
                        return !0;
                return !1
            }
            ,
            r.getComponentMethod = function(e, t) {
                var n = r.componentsRegistry[e];
                return n && n[t] || a
            }
            ,
            r.call = function() {
                var e = arguments[0]
                  , t = [].slice.call(arguments, 1);
                return r.apiMethodRegistry[e].apply(null, t)
            }
        }
        , {
            "./lib/dom": 356,
            "./lib/extend": 358,
            "./lib/is_plain_object": 366,
            "./lib/loggers": 369,
            "./lib/noop": 374,
            "./lib/push_unique": 380,
            "./plots/attributes": 410,
            "./plots/layout_attributes": 447
        }],
        452: [function(e, t, r) {
            "use strict";
            var n = e("../registry")
              , a = e("../lib")
              , i = a.extendFlat
              , o = a.extendDeep;
            function s(e) {
                var t;
                switch (e) {
                case "themes__thumb":
                    t = {
                        autosize: !0,
                        width: 150,
                        height: 150,
                        title: {
                            text: ""
                        },
                        showlegend: !1,
                        margin: {
                            l: 5,
                            r: 5,
                            t: 5,
                            b: 5,
                            pad: 0
                        },
                        annotations: []
                    };
                    break;
                case "thumbnail":
                    t = {
                        title: {
                            text: ""
                        },
                        hidesources: !0,
                        showlegend: !1,
                        borderwidth: 0,
                        bordercolor: "",
                        margin: {
                            l: 1,
                            r: 1,
                            t: 1,
                            b: 1,
                            pad: 0
                        },
                        annotations: []
                    };
                    break;
                default:
                    t = {}
                }
                return t
            }
            t.exports = function(e, t) {
                var r, a, l = e.data, c = e.layout, u = o([], l), f = o({}, c, s(t.tileClass)), d = e._context || {};
                if (t.width && (f.width = t.width),
                t.height && (f.height = t.height),
                "thumbnail" === t.tileClass || "themes__thumb" === t.tileClass) {
                    f.annotations = [];
                    var h = Object.keys(f);
                    for (r = 0; r < h.length; r++)
                        a = h[r],
                        ["xaxis", "yaxis", "zaxis"].indexOf(a.slice(0, 5)) > -1 && (f[h[r]].title = {
                            text: ""
                        });
                    for (r = 0; r < u.length; r++) {
                        var p = u[r];
                        p.showscale = !1,
                        p.marker && (p.marker.showscale = !1),
                        n.traceIs(p, "pie-like") && (p.textposition = "none")
                    }
                }
                if (Array.isArray(t.annotations))
                    for (r = 0; r < t.annotations.length; r++)
                        f.annotations.push(t.annotations[r]);
                var g = Object.keys(f).filter((function(e) {
                    return e.match(/^scene\d*$/)
                }
                ));
                if (g.length) {
                    var y = {};
                    for ("thumbnail" === t.tileClass && (y = {
                        title: {
                            text: ""
                        },
                        showaxeslabels: !1,
                        showticklabels: !1,
                        linetickenable: !1
                    }),
                    r = 0; r < g.length; r++) {
                        var v = f[g[r]];
                        v.xaxis || (v.xaxis = {}),
                        v.yaxis || (v.yaxis = {}),
                        v.zaxis || (v.zaxis = {}),
                        i(v.xaxis, y),
                        i(v.yaxis, y),
                        i(v.zaxis, y),
                        v._scene = null
                    }
                }
                var m = document.createElement("div");
                t.tileClass && (m.className = t.tileClass);
                var b = {
                    gd: m,
                    td: m,
                    layout: f,
                    data: u,
                    config: {
                        staticPlot: void 0 === t.staticPlot || t.staticPlot,
                        plotGlPixelRatio: void 0 === t.plotGlPixelRatio ? 2 : t.plotGlPixelRatio,
                        displaylogo: t.displaylogo || !1,
                        showLink: t.showLink || !1,
                        showTips: t.showTips || !1,
                        mapboxAccessToken: d.mapboxAccessToken
                    }
                };
                return "transparent" !== t.setBackground && (b.config.setBackground = t.setBackground || "opaque"),
                b.gd.defaultLayout = s(t.tileClass),
                b
            }
        }
        , {
            "../lib": 365,
            "../registry": 451
        }],
        453: [function(e, t, r) {
            "use strict";
            var n = e("../lib")
              , a = e("../plot_api/to_image")
              , i = e("./filesaver")
              , o = e("./helpers");
            t.exports = function(e, t) {
                var r;
                return n.isPlainObject(e) || (r = n.getGraphDiv(e)),
                (t = t || {}).format = t.format || "png",
                t.width = t.width || null,
                t.height = t.height || null,
                t.imageDataOnly = !0,
                new Promise((function(s, l) {
                    r && r._snapshotInProgress && l(new Error("Snapshotting already in progress.")),
                    n.isIE() && "svg" !== t.format && l(new Error(o.MSG_IE_BAD_FORMAT)),
                    r && (r._snapshotInProgress = !0);
                    var c = a(e, t)
                      , u = t.filename || e.fn || "newplot";
                    u += "." + t.format.replace("-", "."),
                    c.then((function(e) {
                        return r && (r._snapshotInProgress = !1),
                        i(e, u, t.format)
                    }
                    )).then((function(e) {
                        s(e)
                    }
                    )).catch((function(e) {
                        r && (r._snapshotInProgress = !1),
                        l(e)
                    }
                    ))
                }
                ))
            }
        }
        , {
            "../lib": 365,
            "../plot_api/to_image": 406,
            "./filesaver": 454,
            "./helpers": 455
        }],
        454: [function(e, t, r) {
            "use strict";
            var n = e("../lib")
              , a = e("./helpers");
            t.exports = function(e, t, r) {
                var i = document.createElement("a")
                  , o = "download"in i;
                return new Promise((function(s, l) {
                    var c, u;
                    if (n.isIE())
                        return c = a.createBlob(e, "svg"),
                        window.navigator.msSaveBlob(c, t),
                        c = null,
                        s(t);
                    if (o)
                        return c = a.createBlob(e, r),
                        u = a.createObjectURL(c),
                        i.href = u,
                        i.download = t,
                        document.body.appendChild(i),
                        i.click(),
                        document.body.removeChild(i),
                        a.revokeObjectURL(u),
                        c = null,
                        s(t);
                    if (n.isSafari()) {
                        var f = "svg" === r ? "," : ";base64,";
                        return a.octetStream(f + encodeURIComponent(e)),
                        s(t)
                    }
                    l(new Error("download error"))
                }
                ))
            }
        }
        , {
            "../lib": 365,
            "./helpers": 455
        }],
        455: [function(e, t, r) {
            "use strict";
            var n = e("../registry");
            r.getDelay = function(e) {
                return e._has && (e._has("gl3d") || e._has("gl2d") || e._has("mapbox")) ? 500 : 0
            }
            ,
            r.getRedrawFunc = function(e) {
                return function() {
                    n.getComponentMethod("colorbar", "draw")(e)
                }
            }
            ,
            r.encodeSVG = function(e) {
                return "data:image/svg+xml," + encodeURIComponent(e)
            }
            ,
            r.encodeJSON = function(e) {
                return "data:application/json," + encodeURIComponent(e)
            }
            ;
            var a = window.URL || window.webkitURL;
            r.createObjectURL = function(e) {
                return a.createObjectURL(e)
            }
            ,
            r.revokeObjectURL = function(e) {
                return a.revokeObjectURL(e)
            }
            ,
            r.createBlob = function(e, t) {
                if ("svg" === t)
                    return new window.Blob([e],{
                        type: "image/svg+xml;charset=utf-8"
                    });
                if ("full-json" === t)
                    return new window.Blob([e],{
                        type: "application/json;charset=utf-8"
                    });
                var r = function(e) {
                    for (var t = e.length, r = new ArrayBuffer(t), n = new Uint8Array(r), a = 0; a < t; a++)
                        n[a] = e.charCodeAt(a);
                    return r
                }(window.atob(e));
                return new window.Blob([r],{
                    type: "image/" + t
                })
            }
            ,
            r.octetStream = function(e) {
                document.location.href = "data:application/octet-stream" + e
            }
            ,
            r.IMAGE_URL_PREFIX = /^data:image\/\w+;base64,/,
            r.MSG_IE_BAD_FORMAT = "Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."
        }
        , {
            "../registry": 451
        }],
        456: [function(e, t, r) {
            "use strict";
            var n = e("./helpers")
              , a = {
                getDelay: n.getDelay,
                getRedrawFunc: n.getRedrawFunc,
                clone: e("./cloneplot"),
                toSVG: e("./tosvg"),
                svgToImg: e("./svgtoimg"),
                toImage: e("./toimage"),
                downloadImage: e("./download")
            };
            t.exports = a
        }
        , {
            "./cloneplot": 452,
            "./download": 453,
            "./helpers": 455,
            "./svgtoimg": 457,
            "./toimage": 458,
            "./tosvg": 459
        }],
        457: [function(e, t, r) {
            "use strict";
            var n = e("../lib")
              , a = e("events").EventEmitter
              , i = e("./helpers");
            t.exports = function(e) {
                var t = e.emitter || new a
                  , r = new Promise((function(a, o) {
                    var s = window.Image
                      , l = e.svg
                      , c = e.format || "png";
                    if (n.isIE() && "svg" !== c) {
                        var u = new Error(i.MSG_IE_BAD_FORMAT);
                        return o(u),
                        e.promise ? r : t.emit("error", u)
                    }
                    var f, d, h = e.canvas, p = e.scale || 1, g = e.width || 300, y = e.height || 150, v = p * g, m = p * y, b = h.getContext("2d"), x = new s;
                    "svg" === c || n.isSafari() ? d = i.encodeSVG(l) : (f = i.createBlob(l, "svg"),
                    d = i.createObjectURL(f)),
                    h.width = v,
                    h.height = m,
                    x.onload = function() {
                        var r;
                        switch (f = null,
                        i.revokeObjectURL(d),
                        "svg" !== c && b.drawImage(x, 0, 0, v, m),
                        c) {
                        case "jpeg":
                            r = h.toDataURL("image/jpeg");
                            break;
                        case "png":
                            r = h.toDataURL("image/png");
                            break;
                        case "webp":
                            r = h.toDataURL("image/webp");
                            break;
                        case "svg":
                            r = d;
                            break;
                        default:
                            var n = "Image format is not jpeg, png, svg or webp.";
                            if (o(new Error(n)),
                            !e.promise)
                                return t.emit("error", n)
                        }
                        a(r),
                        e.promise || t.emit("success", r)
                    }
                    ,
                    x.onerror = function(r) {
                        if (f = null,
                        i.revokeObjectURL(d),
                        o(r),
                        !e.promise)
                            return t.emit("error", r)
                    }
                    ,
                    x.src = d
                }
                ));
                return e.promise ? r : t
            }
        }
        , {
            "../lib": 365,
            "./helpers": 455,
            events: 103
        }],
        458: [function(e, t, r) {
            "use strict";
            var n = e("events").EventEmitter
              , a = e("../registry")
              , i = e("../lib")
              , o = e("./helpers")
              , s = e("./cloneplot")
              , l = e("./tosvg")
              , c = e("./svgtoimg");
            t.exports = function(e, t) {
                var r = new n
                  , u = s(e, {
                    format: "png"
                })
                  , f = u.gd;
                f.style.position = "absolute",
                f.style.left = "-5000px",
                document.body.appendChild(f);
                var d = o.getRedrawFunc(f);
                return a.call("_doPlot", f, u.data, u.layout, u.config).then(d).then((function() {
                    var e = o.getDelay(f._fullLayout);
                    setTimeout((function() {
                        var e = l(f)
                          , n = document.createElement("canvas");
                        n.id = i.randstr(),
                        (r = c({
                            format: t.format,
                            width: f._fullLayout.width,
                            height: f._fullLayout.height,
                            canvas: n,
                            emitter: r,
                            svg: e
                        })).clean = function() {
                            f && document.body.removeChild(f)
                        }
                    }
                    ), e)
                }
                )).catch((function(e) {
                    r.emit("error", e)
                }
                )),
                r
            }
        }
        , {
            "../lib": 365,
            "../registry": 451,
            "./cloneplot": 452,
            "./helpers": 455,
            "./svgtoimg": 457,
            "./tosvg": 459,
            events: 103
        }],
        459: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../lib")
              , i = e("../components/drawing")
              , o = e("../components/color")
              , s = e("../constants/xmlns_namespaces")
              , l = /"/g
              , c = new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");
            t.exports = function(e, t, r) {
                var u, f, d = e._fullLayout, h = d._paper, p = d._toppaper, g = d.width, y = d.height;
                h.insert("rect", ":first-child").call(i.setRect, 0, 0, g, y).call(o.fill, d.paper_bgcolor);
                var v = d._basePlotModules || [];
                for (u = 0; u < v.length; u++) {
                    var m = v[u];
                    m.toSVG && m.toSVG(e)
                }
                if (p) {
                    var b = p.node().childNodes
                      , x = Array.prototype.slice.call(b);
                    for (u = 0; u < x.length; u++) {
                        var _ = x[u];
                        _.childNodes.length && h.node().appendChild(_)
                    }
                }
                d._draggers && d._draggers.remove(),
                h.node().style.background = "",
                h.selectAll("text").attr({
                    "data-unformatted": null,
                    "data-math": null
                }).each((function() {
                    var e = n.select(this);
                    if ("hidden" !== this.style.visibility && "none" !== this.style.display) {
                        e.style({
                            visibility: null,
                            display: null
                        });
                        var t = this.style.fontFamily;
                        t && -1 !== t.indexOf('"') && e.style("font-family", t.replace(l, "TOBESTRIPPED"))
                    } else
                        e.remove()
                }
                ));
                var w = [];
                if (d._gradientUrlQueryParts)
                    for (f in d._gradientUrlQueryParts)
                        w.push(f);
                if (d._patternUrlQueryParts)
                    for (f in d._patternUrlQueryParts)
                        w.push(f);
                w.length && h.selectAll(w.join(",")).each((function() {
                    var e = n.select(this)
                      , t = this.style.fill;
                    t && -1 !== t.indexOf("url(") && e.style("fill", t.replace(l, "TOBESTRIPPED"));
                    var r = this.style.stroke;
                    r && -1 !== r.indexOf("url(") && e.style("stroke", r.replace(l, "TOBESTRIPPED"))
                }
                )),
                "pdf" !== t && "eps" !== t || h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width", 0),
                h.node().setAttributeNS(s.xmlns, "xmlns", s.svg),
                h.node().setAttributeNS(s.xmlns, "xmlns:xlink", s.xlink),
                "svg" === t && r && (h.attr("width", r * g),
                h.attr("height", r * y),
                h.attr("viewBox", "0 0 " + g + " " + y));
                var A = (new window.XMLSerializer).serializeToString(h.node());
                return A = function(e) {
                    var t = n.select("body").append("div").style({
                        display: "none"
                    }).html("")
                      , r = e.replace(/(&[^;]*;)/gi, (function(e) {
                        return "&lt;" === e ? "&#60;" : "&rt;" === e ? "&#62;" : -1 !== e.indexOf("<") || -1 !== e.indexOf(">") ? "" : t.html(e).text()
                    }
                    ));
                    return t.remove(),
                    r
                }(A),
                A = (A = A.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g, "&amp;")).replace(c, "'"),
                a.isIE() && (A = (A = (A = A.replace(/"/gi, "'")).replace(/(\('#)([^']*)('\))/gi, '("#$2")')).replace(/(\\')/gi, '"')),
                A
            }
        }
        , {
            "../components/color": 235,
            "../components/drawing": 257,
            "../constants/xmlns_namespaces": 345,
            "../lib": 365,
            "@plotly/d3": 6
        }],
        460: [function(e, t, r) {
            "use strict";
            var n = e("../../lib");
            function a(e) {
                return -1 !== e.indexOf("e") ? e.replace(/[.]?0+e/, "e") : -1 !== e.indexOf(".") ? e.replace(/[.]?0+$/, "") : e
            }
            r.formatPiePercent = function(e, t) {
                var r = a((100 * e).toPrecision(3));
                return n.numSeparate(r, t) + "%"
            }
            ,
            r.formatPieValue = function(e, t) {
                var r = a(e.toPrecision(10));
                return n.numSeparate(r, t)
            }
            ,
            r.getFirstFilled = function(e, t) {
                if (Array.isArray(e))
                    for (var r = 0; r < t.length; r++) {
                        var n = e[t[r]];
                        if (n || 0 === n || "" === n)
                            return n
                    }
            }
            ,
            r.castOption = function(e, t) {
                return Array.isArray(e) ? r.getFirstFilled(e, t) : e || void 0
            }
            ,
            r.getRotationAngle = function(e) {
                return ("auto" === e ? 0 : e) * Math.PI / 180
            }
        }
        , {
            "../../lib": 365
        }],
        461: [function(e, t, r) {
            "use strict";
            var n = e("../../components/color")
              , a = e("./helpers").castOption;
            t.exports = function(e, t, r) {
                var i = r.marker.line
                  , o = a(i.color, t.pts) || n.defaultLine
                  , s = a(i.width, t.pts) || 0;
                e.style("stroke-width", s).call(n.fill, t.color).call(n.stroke, o)
            }
        }
        , {
            "../../components/color": 235,
            "./helpers": 460
        }],
        462: [function(e, t, r) {
            "use strict";
            var n = e("../../lib");
            t.exports = function(e, t) {
                for (var r = 0; r < e.length; r++)
                    e[r].i = r;
                n.mergeArray(t.text, e, "tx"),
                n.mergeArray(t.texttemplate, e, "txt"),
                n.mergeArray(t.hovertext, e, "htx"),
                n.mergeArray(t.customdata, e, "data"),
                n.mergeArray(t.textposition, e, "tp"),
                t.textfont && (n.mergeArrayCastPositive(t.textfont.size, e, "ts"),
                n.mergeArray(t.textfont.color, e, "tc"),
                n.mergeArray(t.textfont.family, e, "tf"));
                var a = t.marker;
                if (a) {
                    n.mergeArrayCastPositive(a.size, e, "ms"),
                    n.mergeArrayCastPositive(a.opacity, e, "mo"),
                    n.mergeArray(a.symbol, e, "mx"),
                    n.mergeArray(a.color, e, "mc");
                    var i = a.line;
                    a.line && (n.mergeArray(i.color, e, "mlc"),
                    n.mergeArrayCastPositive(i.width, e, "mlw"));
                    var o = a.gradient;
                    o && "none" !== o.type && (n.mergeArray(o.type, e, "mgt"),
                    n.mergeArray(o.color, e, "mgc"))
                }
            }
        }
        , {
            "../../lib": 365
        }],
        463: [function(e, t, r) {
            "use strict";
            var n = e("../../plots/cartesian/axis_format_attributes").axisHoverFormat
              , a = e("../../plots/template_attributes").texttemplateAttrs
              , i = e("../../plots/template_attributes").hovertemplateAttrs
              , o = e("../../components/colorscale/attributes")
              , s = e("../../plots/font_attributes")
              , l = e("../../components/drawing/attributes").dash
              , c = e("../../components/drawing")
              , u = e("./constants")
              , f = e("../../lib/extend").extendFlat;
            t.exports = {
                x: {
                    valType: "data_array",
                    editType: "calc+clearAxisTypes",
                    anim: !0
                },
                x0: {
                    valType: "any",
                    dflt: 0,
                    editType: "calc+clearAxisTypes",
                    anim: !0
                },
                dx: {
                    valType: "number",
                    dflt: 1,
                    editType: "calc",
                    anim: !0
                },
                y: {
                    valType: "data_array",
                    editType: "calc+clearAxisTypes",
                    anim: !0
                },
                y0: {
                    valType: "any",
                    dflt: 0,
                    editType: "calc+clearAxisTypes",
                    anim: !0
                },
                dy: {
                    valType: "number",
                    dflt: 1,
                    editType: "calc",
                    anim: !0
                },
                xperiod: {
                    valType: "any",
                    dflt: 0,
                    editType: "calc"
                },
                yperiod: {
                    valType: "any",
                    dflt: 0,
                    editType: "calc"
                },
                xperiod0: {
                    valType: "any",
                    editType: "calc"
                },
                yperiod0: {
                    valType: "any",
                    editType: "calc"
                },
                xperiodalignment: {
                    valType: "enumerated",
                    values: ["start", "middle", "end"],
                    dflt: "middle",
                    editType: "calc"
                },
                yperiodalignment: {
                    valType: "enumerated",
                    values: ["start", "middle", "end"],
                    dflt: "middle",
                    editType: "calc"
                },
                xhoverformat: n("x"),
                yhoverformat: n("y"),
                stackgroup: {
                    valType: "string",
                    dflt: "",
                    editType: "calc"
                },
                orientation: {
                    valType: "enumerated",
                    values: ["v", "h"],
                    editType: "calc"
                },
                groupnorm: {
                    valType: "enumerated",
                    values: ["", "fraction", "percent"],
                    dflt: "",
                    editType: "calc"
                },
                stackgaps: {
                    valType: "enumerated",
                    values: ["infer zero", "interpolate"],
                    dflt: "infer zero",
                    editType: "calc"
                },
                text: {
                    valType: "string",
                    dflt: "",
                    arrayOk: !0,
                    editType: "calc"
                },
                texttemplate: a({}, {}),
                hovertext: {
                    valType: "string",
                    dflt: "",
                    arrayOk: !0,
                    editType: "style"
                },
                mode: {
                    valType: "flaglist",
                    flags: ["lines", "markers", "text"],
                    extras: ["none"],
                    editType: "calc"
                },
                hoveron: {
                    valType: "flaglist",
                    flags: ["points", "fills"],
                    editType: "style"
                },
                hovertemplate: i({}, {
                    keys: u.eventDataKeys
                }),
                line: {
                    color: {
                        valType: "color",
                        editType: "style",
                        anim: !0
                    },
                    width: {
                        valType: "number",
                        min: 0,
                        dflt: 2,
                        editType: "style",
                        anim: !0
                    },
                    shape: {
                        valType: "enumerated",
                        values: ["linear", "spline", "hv", "vh", "hvh", "vhv"],
                        dflt: "linear",
                        editType: "plot"
                    },
                    smoothing: {
                        valType: "number",
                        min: 0,
                        max: 1.3,
                        dflt: 1,
                        editType: "plot"
                    },
                    dash: f({}, l, {
                        editType: "style"
                    }),
                    simplify: {
                        valType: "boolean",
                        dflt: !0,
                        editType: "plot"
                    },
                    editType: "plot"
                },
                connectgaps: {
                    valType: "boolean",
                    dflt: !1,
                    editType: "calc"
                },
                cliponaxis: {
                    valType: "boolean",
                    dflt: !0,
                    editType: "plot"
                },
                fill: {
                    valType: "enumerated",
                    values: ["none", "tozeroy", "tozerox", "tonexty", "tonextx", "toself", "tonext"],
                    editType: "calc"
                },
                fillcolor: {
                    valType: "color",
                    editType: "style",
                    anim: !0
                },
                marker: f({
                    symbol: {
                        valType: "enumerated",
                        values: c.symbolList,
                        dflt: "circle",
                        arrayOk: !0,
                        editType: "style"
                    },
                    opacity: {
                        valType: "number",
                        min: 0,
                        max: 1,
                        arrayOk: !0,
                        editType: "style",
                        anim: !0
                    },
                    size: {
                        valType: "number",
                        min: 0,
                        dflt: 6,
                        arrayOk: !0,
                        editType: "calc",
                        anim: !0
                    },
                    maxdisplayed: {
                        valType: "number",
                        min: 0,
                        dflt: 0,
                        editType: "plot"
                    },
                    sizeref: {
                        valType: "number",
                        dflt: 1,
                        editType: "calc"
                    },
                    sizemin: {
                        valType: "number",
                        min: 0,
                        dflt: 0,
                        editType: "calc"
                    },
                    sizemode: {
                        valType: "enumerated",
                        values: ["diameter", "area"],
                        dflt: "diameter",
                        editType: "calc"
                    },
                    line: f({
                        width: {
                            valType: "number",
                            min: 0,
                            arrayOk: !0,
                            editType: "style",
                            anim: !0
                        },
                        editType: "calc"
                    }, o("marker.line", {
                        anim: !0
                    })),
                    gradient: {
                        type: {
                            valType: "enumerated",
                            values: ["radial", "horizontal", "vertical", "none"],
                            arrayOk: !0,
                            dflt: "none",
                            editType: "calc"
                        },
                        color: {
                            valType: "color",
                            arrayOk: !0,
                            editType: "calc"
                        },
                        editType: "calc"
                    },
                    editType: "calc"
                }, o("marker", {
                    anim: !0
                })),
                selected: {
                    marker: {
                        opacity: {
                            valType: "number",
                            min: 0,
                            max: 1,
                            editType: "style"
                        },
                        color: {
                            valType: "color",
                            editType: "style"
                        },
                        size: {
                            valType: "number",
                            min: 0,
                            editType: "style"
                        },
                        editType: "style"
                    },
                    textfont: {
                        color: {
                            valType: "color",
                            editType: "style"
                        },
                        editType: "style"
                    },
                    editType: "style"
                },
                unselected: {
                    marker: {
                        opacity: {
                            valType: "number",
                            min: 0,
                            max: 1,
                            editType: "style"
                        },
                        color: {
                            valType: "color",
                            editType: "style"
                        },
                        size: {
                            valType: "number",
                            min: 0,
                            editType: "style"
                        },
                        editType: "style"
                    },
                    textfont: {
                        color: {
                            valType: "color",
                            editType: "style"
                        },
                        editType: "style"
                    },
                    editType: "style"
                },
                textposition: {
                    valType: "enumerated",
                    values: ["top left", "top center", "top right", "middle left", "middle center", "middle right", "bottom left", "bottom center", "bottom right"],
                    dflt: "middle center",
                    arrayOk: !0,
                    editType: "calc"
                },
                textfont: s({
                    editType: "calc",
                    colorEditType: "style",
                    arrayOk: !0
                })
            }
        }
        , {
            "../../components/colorscale/attributes": 242,
            "../../components/drawing": 257,
            "../../components/drawing/attributes": 256,
            "../../lib/extend": 358,
            "../../plots/cartesian/axis_format_attributes": 417,
            "../../plots/font_attributes": 443,
            "../../plots/template_attributes": 450,
            "./constants": 467
        }],
        464: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("../../lib")
              , i = e("../../plots/cartesian/axes")
              , o = e("../../plots/cartesian/align_period")
              , s = e("../../constants/numerical").BADNUM
              , l = e("./subtypes")
              , c = e("./colorscale_calc")
              , u = e("./arrays_to_calcdata")
              , f = e("./calc_selection");
            function d(e, t, r, n, a, o, s) {
                var c = t._length
                  , u = e._fullLayout
                  , f = r._id
                  , d = n._id
                  , h = u._firstScatter[g(t)] === t.uid
                  , p = (y(t, u, r, n) || {}).orientation
                  , v = t.fill;
                r._minDtick = 0,
                n._minDtick = 0;
                var m = {
                    padded: !0
                }
                  , b = {
                    padded: !0
                };
                s && (m.ppad = b.ppad = s);
                var x = c < 2 || a[0] !== a[c - 1] || o[0] !== o[c - 1];
                x && ("tozerox" === v || "tonextx" === v && (h || "h" === p)) ? m.tozero = !0 : (t.error_y || {}).visible || "tonexty" !== v && "tozeroy" !== v && (l.hasMarkers(t) || l.hasText(t)) || (m.padded = !1,
                m.ppad = 0),
                x && ("tozeroy" === v || "tonexty" === v && (h || "v" === p)) ? b.tozero = !0 : "tonextx" !== v && "tozerox" !== v || (b.padded = !1),
                f && (t._extremes[f] = i.findExtremes(r, a, m)),
                d && (t._extremes[d] = i.findExtremes(n, o, b))
            }
            function h(e, t) {
                if (l.hasMarkers(e)) {
                    var r, n = e.marker, o = 1.6 * (e.marker.sizeref || 1);
                    if (r = "area" === e.marker.sizemode ? function(e) {
                        return Math.max(Math.sqrt((e || 0) / o), 3)
                    }
                    : function(e) {
                        return Math.max((e || 0) / o, 3)
                    }
                    ,
                    a.isArrayOrTypedArray(n.size)) {
                        var s = {
                            type: "linear"
                        };
                        i.setConvert(s);
                        for (var c = s.makeCalcdata(e.marker, "size"), u = new Array(t), f = 0; f < t; f++)
                            u[f] = r(c[f]);
                        return u
                    }
                    return r(n.size)
                }
            }
            function p(e, t) {
                var r = g(t)
                  , n = e._firstScatter;
                n[r] || (n[r] = t.uid)
            }
            function g(e) {
                var t = e.stackgroup;
                return e.xaxis + e.yaxis + e.type + (t ? "-" + t : "")
            }
            function y(e, t, r, n) {
                var a = e.stackgroup;
                if (a) {
                    var i = t._scatterStackOpts[r._id + n._id][a]
                      , o = "v" === i.orientation ? n : r;
                    return "linear" === o.type || "log" === o.type ? i : void 0
                }
            }
            t.exports = {
                calc: function(e, t) {
                    var r, l, g, v, m, b, x = e._fullLayout, _ = i.getFromId(e, t.xaxis || "x"), w = i.getFromId(e, t.yaxis || "y"), A = _.makeCalcdata(t, "x"), k = w.makeCalcdata(t, "y"), T = o(t, _, "x", A), M = o(t, w, "y", k), S = T.vals, C = M.vals, O = t._length, D = new Array(O), L = t.ids, E = y(t, x, _, w), z = !1;
                    p(x, t);
                    var F, P = "x", I = "y";
                    E ? (a.pushUnique(E.traceIndices, t._expandedIndex),
                    (r = "v" === E.orientation) ? (I = "s",
                    F = "x") : (P = "s",
                    F = "y"),
                    m = "interpolate" === E.stackgaps) : d(e, t, _, w, S, C, h(t, O));
                    var N = !!t.xperiodalignment
                      , R = !!t.yperiodalignment;
                    for (l = 0; l < O; l++) {
                        var j = D[l] = {}
                          , B = n(S[l])
                          , H = n(C[l]);
                        B && H ? (j[P] = S[l],
                        j[I] = C[l],
                        N && (j.orig_x = A[l],
                        j.xEnd = T.ends[l],
                        j.xStart = T.starts[l]),
                        R && (j.orig_y = k[l],
                        j.yEnd = M.ends[l],
                        j.yStart = M.starts[l])) : E && (r ? B : H) ? (j[F] = r ? S[l] : C[l],
                        j.gap = !0,
                        m ? (j.s = s,
                        z = !0) : j.s = 0) : j[P] = j[I] = s,
                        L && (j.id = String(L[l]))
                    }
                    if (u(D, t),
                    c(e, t),
                    f(D, t),
                    E) {
                        for (l = 0; l < D.length; )
                            D[l][F] === s ? D.splice(l, 1) : l++;
                        if (a.sort(D, (function(e, t) {
                            return e[F] - t[F] || e.i - t.i
                        }
                        )),
                        z) {
                            for (l = 0; l < D.length - 1 && D[l].gap; )
                                l++;
                            for ((b = D[l].s) || (b = D[l].s = 0),
                            g = 0; g < l; g++)
                                D[g].s = b;
                            for (v = D.length - 1; v > l && D[v].gap; )
                                v--;
                            for (b = D[v].s,
                            g = D.length - 1; g > v; g--)
                                D[g].s = b;
                            for (; l < v; )
                                if (D[++l].gap) {
                                    for (g = l + 1; D[g].gap; )
                                        g++;
                                    for (var U = D[l - 1][F], Y = D[l - 1].s, V = (D[g].s - Y) / (D[g][F] - U); l < g; )
                                        D[l].s = Y + (D[l][F] - U) * V,
                                        l++
                                }
                        }
                    }
                    return D
                },
                calcMarkerSize: h,
                calcAxisExpansion: d,
                setFirstScatter: p,
                getStackOpts: y
            }
        }
        , {
            "../../constants/numerical": 344,
            "../../lib": 365,
            "../../plots/cartesian/align_period": 411,
            "../../plots/cartesian/axes": 414,
            "./arrays_to_calcdata": 462,
            "./calc_selection": 465,
            "./colorscale_calc": 466,
            "./subtypes": 488,
            "fast-isnumeric": 107
        }],
        465: [function(e, t, r) {
            "use strict";
            var n = e("../../lib");
            t.exports = function(e, t) {
                n.isArrayOrTypedArray(t.selectedpoints) && n.tagSelected(e, t)
            }
        }
        , {
            "../../lib": 365
        }],
        466: [function(e, t, r) {
            "use strict";
            var n = e("../../components/colorscale/helpers").hasColorscale
              , a = e("../../components/colorscale/calc")
              , i = e("./subtypes");
            t.exports = function(e, t) {
                i.hasLines(t) && n(t, "line") && a(e, t, {
                    vals: t.line.color,
                    containerStr: "line",
                    cLetter: "c"
                }),
                i.hasMarkers(t) && (n(t, "marker") && a(e, t, {
                    vals: t.marker.color,
                    containerStr: "marker",
                    cLetter: "c"
                }),
                n(t, "marker.line") && a(e, t, {
                    vals: t.marker.line.color,
                    containerStr: "marker.line",
                    cLetter: "c"
                }))
            }
        }
        , {
            "../../components/colorscale/calc": 243,
            "../../components/colorscale/helpers": 246,
            "./subtypes": 488
        }],
        467: [function(e, t, r) {
            "use strict";
            t.exports = {
                PTS_LINESONLY: 20,
                minTolerance: .2,
                toleranceGrowth: 10,
                maxScreensAway: 20,
                eventDataKeys: []
            }
        }
        , {}],
        468: [function(e, t, r) {
            "use strict";
            var n = e("./calc");
            function a(e, t, r, n, a, i, o) {
                a[n] = !0;
                var s = {
                    i: null,
                    gap: !0,
                    s: 0
                };
                if (s[o] = r,
                e.splice(t, 0, s),
                t && r === e[t - 1][o]) {
                    var l = e[t - 1];
                    s.s = l.s,
                    s.i = l.i,
                    s.gap = l.gap
                } else
                    i && (s.s = function(e, t, r, n) {
                        var a = e[t - 1]
                          , i = e[t + 1];
                        return i ? a ? a.s + (i.s - a.s) * (r - a[n]) / (i[n] - a[n]) : i.s : a.s
                    }(e, t, r, o));
                t || (e[0].t = e[1].t,
                e[0].trace = e[1].trace,
                delete e[1].t,
                delete e[1].trace)
            }
            t.exports = function(e, t) {
                var r = t.xaxis
                  , i = t.yaxis
                  , o = r._id + i._id
                  , s = e._fullLayout._scatterStackOpts[o];
                if (s) {
                    var l, c, u, f, d, h, p, g, y, v, m, b, x, _, w, A = e.calcdata;
                    for (var k in s) {
                        var T = (v = s[k]).traceIndices;
                        if (T.length) {
                            for (m = "interpolate" === v.stackgaps,
                            b = v.groupnorm,
                            "v" === v.orientation ? (x = "x",
                            _ = "y") : (x = "y",
                            _ = "x"),
                            w = new Array(T.length),
                            l = 0; l < w.length; l++)
                                w[l] = !1;
                            h = A[T[0]];
                            var M = new Array(h.length);
                            for (l = 0; l < h.length; l++)
                                M[l] = h[l][x];
                            for (l = 1; l < T.length; l++) {
                                for (d = A[T[l]],
                                c = u = 0; c < d.length; c++) {
                                    for (p = d[c][x]; p > M[u] && u < M.length; u++)
                                        a(d, c, M[u], l, w, m, x),
                                        c++;
                                    if (p !== M[u]) {
                                        for (f = 0; f < l; f++)
                                            a(A[T[f]], u, p, f, w, m, x);
                                        M.splice(u, 0, p)
                                    }
                                    u++
                                }
                                for (; u < M.length; u++)
                                    a(d, c, M[u], l, w, m, x),
                                    c++
                            }
                            var S = M.length;
                            for (c = 0; c < h.length; c++) {
                                for (g = h[c][_] = h[c].s,
                                l = 1; l < T.length; l++)
                                    (d = A[T[l]])[0].trace._rawLength = d[0].trace._length,
                                    d[0].trace._length = S,
                                    g += d[c].s,
                                    d[c][_] = g;
                                if (b)
                                    for (y = ("fraction" === b ? g : g / 100) || 1,
                                    l = 0; l < T.length; l++) {
                                        var C = A[T[l]][c];
                                        C[_] /= y,
                                        C.sNorm = C.s / y
                                    }
                            }
                            for (l = 0; l < T.length; l++) {
                                var O = (d = A[T[l]])[0].trace
                                  , D = n.calcMarkerSize(O, O._rawLength)
                                  , L = Array.isArray(D);
                                if (D && w[l] || L) {
                                    var E = D;
                                    for (D = new Array(S),
                                    c = 0; c < S; c++)
                                        D[c] = d[c].gap ? 0 : L ? E[d[c].i] : E
                                }
                                var z = new Array(S)
                                  , F = new Array(S);
                                for (c = 0; c < S; c++)
                                    z[c] = d[c].x,
                                    F[c] = d[c].y;
                                n.calcAxisExpansion(e, O, r, i, z, F, D),
                                d[0].t.orientation = v.orientation
                            }
                        }
                    }
                }
            }
        }
        , {
            "./calc": 464
        }],
        469: [function(e, t, r) {
            "use strict";
            t.exports = function(e) {
                for (var t = 0; t < e.length; t++) {
                    var r = e[t];
                    if ("scatter" === r.type) {
                        var n = r.fill;
                        if ("none" !== n && "toself" !== n && (r.opacity = void 0,
                        "tonexty" === n || "tonextx" === n))
                            for (var a = t - 1; a >= 0; a--) {
                                var i = e[a];
                                if ("scatter" === i.type && i.xaxis === r.xaxis && i.yaxis === r.yaxis) {
                                    i.opacity = void 0;
                                    break
                                }
                            }
                    }
                }
            }
        }
        , {}],
        470: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../registry")
              , i = e("./attributes")
              , o = e("./constants")
              , s = e("./subtypes")
              , l = e("./xy_defaults")
              , c = e("./period_defaults")
              , u = e("./stack_defaults")
              , f = e("./marker_defaults")
              , d = e("./line_defaults")
              , h = e("./line_shape_defaults")
              , p = e("./text_defaults")
              , g = e("./fillcolor_defaults");
            t.exports = function(e, t, r, y) {
                function v(r, a) {
                    return n.coerce(e, t, i, r, a)
                }
                var m = l(e, t, y, v);
                if (m || (t.visible = !1),
                t.visible) {
                    c(e, t, y, v),
                    v("xhoverformat"),
                    v("yhoverformat");
                    var b = u(e, t, y, v)
                      , x = !b && m < o.PTS_LINESONLY ? "lines+markers" : "lines";
                    v("text"),
                    v("hovertext"),
                    v("mode", x),
                    s.hasLines(t) && (d(e, t, r, y, v),
                    h(e, t, v),
                    v("connectgaps"),
                    v("line.simplify")),
                    s.hasMarkers(t) && f(e, t, r, y, v, {
                        gradient: !0
                    }),
                    s.hasText(t) && (v("texttemplate"),
                    p(e, t, y, v));
                    var _ = [];
                    (s.hasMarkers(t) || s.hasText(t)) && (v("cliponaxis"),
                    v("marker.maxdisplayed"),
                    _.push("points")),
                    v("fill", b ? b.fillDflt : "none"),
                    "none" !== t.fill && (g(e, t, r, v),
                    s.hasLines(t) || h(e, t, v));
                    var w = (t.line || {}).color
                      , A = (t.marker || {}).color;
                    "tonext" !== t.fill && "toself" !== t.fill || _.push("fills"),
                    v("hoveron", _.join("+") || "points"),
                    "fills" !== t.hoveron && v("hovertemplate");
                    var k = a.getComponentMethod("errorbars", "supplyDefaults");
                    k(e, t, w || A || r, {
                        axis: "y"
                    }),
                    k(e, t, w || A || r, {
                        axis: "x",
                        inherit: "y"
                    }),
                    n.coerceSelectionMarkerOpacity(t, v)
                }
            }
        }
        , {
            "../../lib": 365,
            "../../registry": 451,
            "./attributes": 463,
            "./constants": 467,
            "./fillcolor_defaults": 471,
            "./line_defaults": 476,
            "./line_shape_defaults": 478,
            "./marker_defaults": 482,
            "./period_defaults": 483,
            "./stack_defaults": 486,
            "./subtypes": 488,
            "./text_defaults": 489,
            "./xy_defaults": 490
        }],
        471: [function(e, t, r) {
            "use strict";
            var n = e("../../components/color")
              , a = e("../../lib").isArrayOrTypedArray;
            t.exports = function(e, t, r, i) {
                var o = !1;
                if (t.marker) {
                    var s = t.marker.color
                      , l = (t.marker.line || {}).color;
                    s && !a(s) ? o = s : l && !a(l) && (o = l)
                }
                i("fillcolor", n.addOpacity((t.line || {}).color || o || r, .5))
            }
        }
        , {
            "../../components/color": 235,
            "../../lib": 365
        }],
        472: [function(e, t, r) {
            "use strict";
            var n = e("../../plots/cartesian/axes");
            t.exports = function(e, t, r) {
                var a = {}
                  , i = {
                    _fullLayout: r
                }
                  , o = n.getFromTrace(i, t, "x")
                  , s = n.getFromTrace(i, t, "y");
                return a.xLabel = n.tickText(o, o.c2l(e.x), !0).text,
                a.yLabel = n.tickText(s, s.c2l(e.y), !0).text,
                a
            }
        }
        , {
            "../../plots/cartesian/axes": 414
        }],
        473: [function(e, t, r) {
            "use strict";
            var n = e("../../components/color")
              , a = e("./subtypes");
            t.exports = function(e, t) {
                var r, i;
                if ("lines" === e.mode)
                    return (r = e.line.color) && n.opacity(r) ? r : e.fillcolor;
                if ("none" === e.mode)
                    return e.fill ? e.fillcolor : "";
                var o = t.mcc || (e.marker || {}).color
                  , s = t.mlcc || ((e.marker || {}).line || {}).color;
                return (i = o && n.opacity(o) ? o : s && n.opacity(s) && (t.mlw || ((e.marker || {}).line || {}).width) ? s : "") ? n.opacity(i) < .3 ? n.addOpacity(i, .3) : i : (r = (e.line || {}).color) && n.opacity(r) && a.hasLines(e) && e.line.width ? r : e.fillcolor
            }
        }
        , {
            "../../components/color": 235,
            "./subtypes": 488
        }],
        474: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../components/fx")
              , i = e("../../registry")
              , o = e("./get_trace_color")
              , s = e("../../components/color")
              , l = n.fillText;
            t.exports = function(e, t, r, c) {
                var u = e.cd
                  , f = u[0].trace
                  , d = e.xa
                  , h = e.ya
                  , p = d.c2p(t)
                  , g = h.c2p(r)
                  , y = [p, g]
                  , v = f.hoveron || ""
                  , m = -1 !== f.mode.indexOf("markers") ? 3 : .5
                  , b = !!f.xperiodalignment
                  , x = !!f.yperiodalignment;
                if (-1 !== v.indexOf("points")) {
                    var _ = function(e) {
                        var t = Math.max(m, e.mrc || 0)
                          , r = d.c2p(e.x) - p
                          , n = h.c2p(e.y) - g;
                        return Math.max(Math.sqrt(r * r + n * n) - t, 1 - m / t)
                    }
                      , w = a.getDistanceFunction(c, (function(e) {
                        if (b) {
                            var t = d.c2p(e.xStart)
                              , r = d.c2p(e.xEnd);
                            return p >= Math.min(t, r) && p <= Math.max(t, r) ? 0 : 1 / 0
                        }
                        var n = Math.max(3, e.mrc || 0)
                          , a = 1 - 1 / n
                          , i = Math.abs(d.c2p(e.x) - p);
                        return i < n ? a * i / n : i - n + a
                    }
                    ), (function(e) {
                        if (x) {
                            var t = h.c2p(e.yStart)
                              , r = h.c2p(e.yEnd);
                            return g >= Math.min(t, r) && g <= Math.max(t, r) ? 0 : 1 / 0
                        }
                        var n = Math.max(3, e.mrc || 0)
                          , a = 1 - 1 / n
                          , i = Math.abs(h.c2p(e.y) - g);
                        return i < n ? a * i / n : i - n + a
                    }
                    ), _);
                    if (a.getClosest(u, w, e),
                    !1 !== e.index) {
                        var A = u[e.index]
                          , k = d.c2p(A.x, !0)
                          , T = h.c2p(A.y, !0)
                          , M = A.mrc || 1;
                        e.index = A.i;
                        var S = u[0].t.orientation
                          , C = S && (A.sNorm || A.s)
                          , O = "h" === S ? C : void 0 !== A.orig_x ? A.orig_x : A.x
                          , D = "v" === S ? C : void 0 !== A.orig_y ? A.orig_y : A.y;
                        return n.extendFlat(e, {
                            color: o(f, A),
                            x0: k - M,
                            x1: k + M,
                            xLabelVal: O,
                            y0: T - M,
                            y1: T + M,
                            yLabelVal: D,
                            spikeDistance: _(A),
                            hovertemplate: f.hovertemplate
                        }),
                        l(A, f, e),
                        i.getComponentMethod("errorbars", "hoverInfo")(A, f, e),
                        [e]
                    }
                }
                if (-1 !== v.indexOf("fills") && f._polygons) {
                    var L, E, z, F, P, I, N, R, j, B = f._polygons, H = [], U = !1, Y = 1 / 0, V = -1 / 0, q = 1 / 0, W = -1 / 0;
                    for (L = 0; L < B.length; L++)
                        (z = B[L]).contains(y) && (U = !U,
                        H.push(z),
                        q = Math.min(q, z.ymin),
                        W = Math.max(W, z.ymax));
                    if (U) {
                        var G = ((q = Math.max(q, 0)) + (W = Math.min(W, h._length))) / 2;
                        for (L = 0; L < H.length; L++)
                            for (F = H[L].pts,
                            E = 1; E < F.length; E++)
                                (R = F[E - 1][1]) > G != (j = F[E][1]) >= G && (I = F[E - 1][0],
                                N = F[E][0],
                                j - R && (P = I + (N - I) * (G - R) / (j - R),
                                Y = Math.min(Y, P),
                                V = Math.max(V, P)));
                        Y = Math.max(Y, 0),
                        V = Math.min(V, d._length);
                        var Z = s.defaultLine;
                        return s.opacity(f.fillcolor) ? Z = f.fillcolor : s.opacity((f.line || {}).color) && (Z = f.line.color),
                        n.extendFlat(e, {
                            distance: e.maxHoverDistance,
                            x0: Y,
                            x1: V,
                            y0: G,
                            y1: G,
                            color: Z,
                            hovertemplate: !1
                        }),
                        delete e.index,
                        f.text && !Array.isArray(f.text) ? e.text = String(f.text) : e.text = f.name,
                        [e]
                    }
                }
            }
        }
        , {
            "../../components/color": 235,
            "../../components/fx": 275,
            "../../lib": 365,
            "../../registry": 451,
            "./get_trace_color": 473
        }],
        475: [function(e, t, r) {
            "use strict";
            var n = e("./subtypes");
            t.exports = {
                hasLines: n.hasLines,
                hasMarkers: n.hasMarkers,
                hasText: n.hasText,
                isBubble: n.isBubble,
                attributes: e("./attributes"),
                supplyDefaults: e("./defaults"),
                crossTraceDefaults: e("./cross_trace_defaults"),
                calc: e("./calc").calc,
                crossTraceCalc: e("./cross_trace_calc"),
                arraysToCalcdata: e("./arrays_to_calcdata"),
                plot: e("./plot"),
                colorbar: e("./marker_colorbar"),
                formatLabels: e("./format_labels"),
                style: e("./style").style,
                styleOnSelect: e("./style").styleOnSelect,
                hoverPoints: e("./hover"),
                selectPoints: e("./select"),
                animatable: !0,
                moduleType: "trace",
                name: "scatter",
                basePlotModule: e("../../plots/cartesian"),
                categories: ["cartesian", "svg", "symbols", "errorBarsOK", "showLegend", "scatter-like", "zoomScale"],
                meta: {}
            }
        }
        , {
            "../../plots/cartesian": 428,
            "./arrays_to_calcdata": 462,
            "./attributes": 463,
            "./calc": 464,
            "./cross_trace_calc": 468,
            "./cross_trace_defaults": 469,
            "./defaults": 470,
            "./format_labels": 472,
            "./hover": 474,
            "./marker_colorbar": 481,
            "./plot": 484,
            "./select": 485,
            "./style": 487,
            "./subtypes": 488
        }],
        476: [function(e, t, r) {
            "use strict";
            var n = e("../../lib").isArrayOrTypedArray
              , a = e("../../components/colorscale/helpers").hasColorscale
              , i = e("../../components/colorscale/defaults");
            t.exports = function(e, t, r, o, s, l) {
                var c = (e.marker || {}).color;
                (s("line.color", r),
                a(e, "line")) ? i(e, t, o, s, {
                    prefix: "line.",
                    cLetter: "c"
                }) : s("line.color", !n(c) && c || r);
                s("line.width"),
                (l || {}).noDash || s("line.dash")
            }
        }
        , {
            "../../components/colorscale/defaults": 245,
            "../../components/colorscale/helpers": 246,
            "../../lib": 365
        }],
        477: [function(e, t, r) {
            "use strict";
            var n = e("../../constants/numerical")
              , a = n.BADNUM
              , i = n.LOG_CLIP
              , o = i + .5
              , s = i - .5
              , l = e("../../lib")
              , c = l.segmentsIntersect
              , u = l.constrain
              , f = e("./constants");
            t.exports = function(e, t) {
                var r, n, i, d, h, p, g, y, v, m, b, x, _, w, A, k, T, M, S = t.xaxis, C = t.yaxis, O = "log" === S.type, D = "log" === C.type, L = S._length, E = C._length, z = t.connectGaps, F = t.baseTolerance, P = t.shape, I = "linear" === P, N = t.fill && "none" !== t.fill, R = [], j = f.minTolerance, B = e.length, H = new Array(B), U = 0;
                function Y(r) {
                    var n = e[r];
                    if (!n)
                        return !1;
                    var i = t.linearized ? S.l2p(n.x) : S.c2p(n.x)
                      , l = t.linearized ? C.l2p(n.y) : C.c2p(n.y);
                    if (i === a) {
                        if (O && (i = S.c2p(n.x, !0)),
                        i === a)
                            return !1;
                        D && l === a && (i *= Math.abs(S._m * E * (S._m > 0 ? o : s) / (C._m * L * (C._m > 0 ? o : s)))),
                        i *= 1e3
                    }
                    if (l === a) {
                        if (D && (l = C.c2p(n.y, !0)),
                        l === a)
                            return !1;
                        l *= 1e3
                    }
                    return [i, l]
                }
                function V(e, t, r, n) {
                    var a = r - e
                      , i = n - t
                      , o = .5 - e
                      , s = .5 - t
                      , l = a * a + i * i
                      , c = a * o + i * s;
                    if (c > 0 && c < l) {
                        var u = o * i - s * a;
                        if (u * u < l)
                            return !0
                    }
                }
                function q(e, t) {
                    var r = e[0] / L
                      , n = e[1] / E
                      , a = Math.max(0, -r, r - 1, -n, n - 1);
                    return a && void 0 !== T && V(r, n, T, M) && (a = 0),
                    a && t && V(r, n, t[0] / L, t[1] / E) && (a = 0),
                    (1 + f.toleranceGrowth * a) * F
                }
                function W(e, t) {
                    var r = e[0] - t[0]
                      , n = e[1] - t[1];
                    return Math.sqrt(r * r + n * n)
                }
                var G, Z, J, X, Q, $, K, ee = f.maxScreensAway, te = -L * ee, re = L * (1 + ee), ne = -E * ee, ae = E * (1 + ee), ie = [[te, ne, re, ne], [re, ne, re, ae], [re, ae, te, ae], [te, ae, te, ne]];
                function oe(e) {
                    if (e[0] < te || e[0] > re || e[1] < ne || e[1] > ae)
                        return [u(e[0], te, re), u(e[1], ne, ae)]
                }
                function se(e, t) {
                    return e[0] === t[0] && (e[0] === te || e[0] === re) || (e[1] === t[1] && (e[1] === ne || e[1] === ae) || void 0)
                }
                function le(e, t, r) {
                    return function(n, a) {
                        var i = oe(n)
                          , o = oe(a)
                          , s = [];
                        if (i && o && se(i, o))
                            return s;
                        i && s.push(i),
                        o && s.push(o);
                        var c = 2 * l.constrain((n[e] + a[e]) / 2, t, r) - ((i || n)[e] + (o || a)[e]);
                        c && ((i && o ? c > 0 == i[e] > o[e] ? i : o : i || o)[e] += c);
                        return s
                    }
                }
                function ce(e) {
                    var t = e[0]
                      , r = e[1]
                      , n = t === H[U - 1][0]
                      , a = r === H[U - 1][1];
                    if (!n || !a)
                        if (U > 1) {
                            var i = t === H[U - 2][0]
                              , o = r === H[U - 2][1];
                            n && (t === te || t === re) && i ? o ? U-- : H[U - 1] = e : a && (r === ne || r === ae) && o ? i ? U-- : H[U - 1] = e : H[U++] = e
                        } else
                            H[U++] = e
                }
                function ue(e) {
                    H[U - 1][0] !== e[0] && H[U - 1][1] !== e[1] && ce([J, X]),
                    ce(e),
                    Q = null,
                    J = X = 0
                }
                function fe(e) {
                    if (T = e[0] / L,
                    M = e[1] / E,
                    G = e[0] < te ? te : e[0] > re ? re : 0,
                    Z = e[1] < ne ? ne : e[1] > ae ? ae : 0,
                    G || Z) {
                        if (U)
                            if (Q) {
                                var t = K(Q, e);
                                t.length > 1 && (ue(t[0]),
                                H[U++] = t[1])
                            } else
                                $ = K(H[U - 1], e)[0],
                                H[U++] = $;
                        else
                            H[U++] = [G || e[0], Z || e[1]];
                        var r = H[U - 1];
                        G && Z && (r[0] !== G || r[1] !== Z) ? (Q && (J !== G && X !== Z ? ce(J && X ? (n = Q,
                        i = (a = e)[0] - n[0],
                        o = (a[1] - n[1]) / i,
                        (n[1] * a[0] - a[1] * n[0]) / i > 0 ? [o > 0 ? te : re, ae] : [o > 0 ? re : te, ne]) : [J || G, X || Z]) : J && X && ce([J, X])),
                        ce([G, Z])) : J - G && X - Z && ce([G || J, Z || X]),
                        Q = e,
                        J = G,
                        X = Z
                    } else
                        Q && ue(K(Q, e)[0]),
                        H[U++] = e;
                    var n, a, i, o
                }
                for ("linear" === P || "spline" === P ? K = function(e, t) {
                    for (var r = [], n = 0, a = 0; a < 4; a++) {
                        var i = ie[a]
                          , o = c(e[0], e[1], t[0], t[1], i[0], i[1], i[2], i[3]);
                        o && (!n || Math.abs(o.x - r[0][0]) > 1 || Math.abs(o.y - r[0][1]) > 1) && (o = [o.x, o.y],
                        n && W(o, e) < W(r[0], e) ? r.unshift(o) : r.push(o),
                        n++)
                    }
                    return r
                }
                : "hv" === P || "vh" === P ? K = function(e, t) {
                    var r = []
                      , n = oe(e)
                      , a = oe(t);
                    return n && a && se(n, a) || (n && r.push(n),
                    a && r.push(a)),
                    r
                }
                : "hvh" === P ? K = le(0, te, re) : "vhv" === P && (K = le(1, ne, ae)),
                r = 0; r < B; r++)
                    if (n = Y(r)) {
                        for (U = 0,
                        Q = null,
                        fe(n),
                        r++; r < B; r++) {
                            if (!(d = Y(r))) {
                                if (z)
                                    continue;
                                break
                            }
                            if (I && t.simplify) {
                                var de = Y(r + 1);
                                if (m = W(d, n),
                                N && (0 === U || U === B - 1) || !(m < q(d, de) * j)) {
                                    for (y = [(d[0] - n[0]) / m, (d[1] - n[1]) / m],
                                    h = n,
                                    b = m,
                                    x = w = A = 0,
                                    g = !1,
                                    i = d,
                                    r++; r < e.length; r++) {
                                        if (p = de,
                                        de = Y(r + 1),
                                        !p) {
                                            if (z)
                                                continue;
                                            break
                                        }
                                        if (k = (v = [p[0] - n[0], p[1] - n[1]])[0] * y[1] - v[1] * y[0],
                                        w = Math.min(w, k),
                                        (A = Math.max(A, k)) - w > q(p, de))
                                            break;
                                        i = p,
                                        (_ = v[0] * y[0] + v[1] * y[1]) > b ? (b = _,
                                        d = p,
                                        g = !1) : _ < x && (x = _,
                                        h = p,
                                        g = !0)
                                    }
                                    if (g ? (fe(d),
                                    i !== h && fe(h)) : (h !== n && fe(h),
                                    i !== d && fe(d)),
                                    fe(i),
                                    r >= e.length || !p)
                                        break;
                                    fe(p),
                                    n = p
                                }
                            } else
                                fe(d)
                        }
                        Q && ce([J || Q[0], X || Q[1]]),
                        R.push(H.slice(0, U))
                    }
                return R
            }
        }
        , {
            "../../constants/numerical": 344,
            "../../lib": 365,
            "./constants": 467
        }],
        478: [function(e, t, r) {
            "use strict";
            t.exports = function(e, t, r) {
                "spline" === r("line.shape") && r("line.smoothing")
            }
        }
        , {}],
        479: [function(e, t, r) {
            "use strict";
            var n = {
                tonextx: 1,
                tonexty: 1,
                tonext: 1
            };
            t.exports = function(e, t, r) {
                var a, i, o, s, l, c = {}, u = !1, f = -1, d = 0, h = -1;
                for (i = 0; i < r.length; i++)
                    (o = (a = r[i][0].trace).stackgroup || "") ? o in c ? l = c[o] : (l = c[o] = d,
                    d++) : a.fill in n && h >= 0 ? l = h : (l = h = d,
                    d++),
                    l < f && (u = !0),
                    a._groupIndex = f = l;
                var p = r.slice();
                u && p.sort((function(e, t) {
                    var r = e[0].trace
                      , n = t[0].trace;
                    return r._groupIndex - n._groupIndex || r.index - n.index
                }
                ));
                var g = {};
                for (i = 0; i < p.length; i++)
                    o = (a = p[i][0].trace).stackgroup || "",
                    !0 === a.visible ? (a._nexttrace = null,
                    a.fill in n && (s = g[o],
                    a._prevtrace = s || null,
                    s && (s._nexttrace = a)),
                    a._ownfill = a.fill && ("tozero" === a.fill.substr(0, 6) || "toself" === a.fill || "to" === a.fill.substr(0, 2) && !a._prevtrace),
                    g[o] = a) : a._prevtrace = a._nexttrace = a._ownfill = null;
                return p
            }
        }
        , {}],
        480: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric");
            t.exports = function(e, t) {
                t || (t = 2);
                var r = e.marker
                  , a = r.sizeref || 1
                  , i = r.sizemin || 0
                  , o = "area" === r.sizemode ? function(e) {
                    return Math.sqrt(e / a)
                }
                : function(e) {
                    return e / a
                }
                ;
                return function(e) {
                    var r = o(e / t);
                    return n(r) && r > 0 ? Math.max(r, i) : 0
                }
            }
        }
        , {
            "fast-isnumeric": 107
        }],
        481: [function(e, t, r) {
            "use strict";
            t.exports = {
                container: "marker",
                min: "cmin",
                max: "cmax"
            }
        }
        , {}],
        482: [function(e, t, r) {
            "use strict";
            var n = e("../../components/color")
              , a = e("../../components/colorscale/helpers").hasColorscale
              , i = e("../../components/colorscale/defaults")
              , o = e("./subtypes");
            t.exports = function(e, t, r, s, l, c) {
                var u = o.isBubble(e)
                  , f = (e.line || {}).color;
                (c = c || {},
                f && (r = f),
                l("marker.symbol"),
                l("marker.opacity", u ? .7 : 1),
                l("marker.size"),
                l("marker.color", r),
                a(e, "marker") && i(e, t, s, l, {
                    prefix: "marker.",
                    cLetter: "c"
                }),
                c.noSelect || (l("selected.marker.color"),
                l("unselected.marker.color"),
                l("selected.marker.size"),
                l("unselected.marker.size")),
                c.noLine || (l("marker.line.color", f && !Array.isArray(f) && t.marker.color !== f ? f : u ? n.background : n.defaultLine),
                a(e, "marker.line") && i(e, t, s, l, {
                    prefix: "marker.line.",
                    cLetter: "c"
                }),
                l("marker.line.width", u ? 1 : 0)),
                u && (l("marker.sizeref"),
                l("marker.sizemin"),
                l("marker.sizemode")),
                c.gradient) && ("none" !== l("marker.gradient.type") && l("marker.gradient.color"))
            }
        }
        , {
            "../../components/color": 235,
            "../../components/colorscale/defaults": 245,
            "../../components/colorscale/helpers": 246,
            "./subtypes": 488
        }],
        483: [function(e, t, r) {
            "use strict";
            var n = e("../../lib").dateTick0
              , a = e("../../constants/numerical").ONEWEEK;
            function i(e, t) {
                return n(t, e % a == 0 ? 1 : 0)
            }
            t.exports = function(e, t, r, n, a) {
                if (a || (a = {
                    x: !0,
                    y: !0
                }),
                a.x) {
                    var o = n("xperiod");
                    o && (n("xperiod0", i(o, t.xcalendar)),
                    n("xperiodalignment"))
                }
                if (a.y) {
                    var s = n("yperiod");
                    s && (n("yperiod0", i(s, t.ycalendar)),
                    n("yperiodalignment"))
                }
            }
        }
        , {
            "../../constants/numerical": 344,
            "../../lib": 365
        }],
        484: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../../registry")
              , i = e("../../lib")
              , o = i.ensureSingle
              , s = i.identity
              , l = e("../../components/drawing")
              , c = e("./subtypes")
              , u = e("./line_points")
              , f = e("./link_traces")
              , d = e("../../lib/polygon").tester;
            function h(e, t, r, f, h, p, g) {
                var y;
                !function(e, t, r, a, o) {
                    var s = r.xaxis
                      , l = r.yaxis
                      , u = n.extent(i.simpleMap(s.range, s.r2c))
                      , f = n.extent(i.simpleMap(l.range, l.r2c))
                      , d = a[0].trace;
                    if (!c.hasMarkers(d))
                        return;
                    var h = d.marker.maxdisplayed;
                    if (0 === h)
                        return;
                    var p = a.filter((function(e) {
                        return e.x >= u[0] && e.x <= u[1] && e.y >= f[0] && e.y <= f[1]
                    }
                    ))
                      , g = Math.ceil(p.length / h)
                      , y = 0;
                    o.forEach((function(e, r) {
                        var n = e[0].trace;
                        c.hasMarkers(n) && n.marker.maxdisplayed > 0 && r < t && y++
                    }
                    ));
                    var v = Math.round(y * g / 3 + Math.floor(y / 3) * g / 7.1);
                    a.forEach((function(e) {
                        delete e.vis
                    }
                    )),
                    p.forEach((function(e, t) {
                        0 === Math.round((t + v) % g) && (e.vis = !0)
                    }
                    ))
                }(0, t, r, f, h);
                var v = !!g && g.duration > 0;
                function m(e) {
                    return v ? e.transition() : e
                }
                var b = r.xaxis
                  , x = r.yaxis
                  , _ = f[0].trace
                  , w = _.line
                  , A = n.select(p)
                  , k = o(A, "g", "errorbars")
                  , T = o(A, "g", "lines")
                  , M = o(A, "g", "points")
                  , S = o(A, "g", "text");
                if (a.getComponentMethod("errorbars", "plot")(e, k, r, g),
                !0 === _.visible) {
                    var C, O;
                    m(A).style("opacity", _.opacity);
                    var D = _.fill.charAt(_.fill.length - 1);
                    "x" !== D && "y" !== D && (D = ""),
                    f[0][r.isRangePlot ? "nodeRangePlot3" : "node3"] = A;
                    var L, E, z = "", F = [], P = _._prevtrace;
                    P && (z = P._prevRevpath || "",
                    O = P._nextFill,
                    F = P._polygons);
                    var I, N, R, j, B, H, U, Y = "", V = "", q = [], W = i.noop;
                    if (C = _._ownFill,
                    c.hasLines(_) || "none" !== _.fill) {
                        for (O && O.datum(f),
                        -1 !== ["hv", "vh", "hvh", "vhv"].indexOf(w.shape) ? (I = l.steps(w.shape),
                        N = l.steps(w.shape.split("").reverse().join(""))) : I = N = "spline" === w.shape ? function(e) {
                            var t = e[e.length - 1];
                            return e.length > 1 && e[0][0] === t[0] && e[0][1] === t[1] ? l.smoothclosed(e.slice(1), w.smoothing) : l.smoothopen(e, w.smoothing)
                        }
                        : function(e) {
                            return "M" + e.join("L")
                        }
                        ,
                        R = function(e) {
                            return N(e.reverse())
                        }
                        ,
                        q = u(f, {
                            xaxis: b,
                            yaxis: x,
                            connectGaps: _.connectgaps,
                            baseTolerance: Math.max(w.width || 1, 3) / 4,
                            shape: w.shape,
                            simplify: w.simplify,
                            fill: _.fill
                        }),
                        U = _._polygons = new Array(q.length),
                        y = 0; y < q.length; y++)
                            _._polygons[y] = d(q[y]);
                        q.length && (j = q[0][0],
                        H = (B = q[q.length - 1])[B.length - 1]),
                        W = function(e) {
                            return function(t) {
                                if (L = I(t),
                                E = R(t),
                                Y ? D ? (Y += "L" + L.substr(1),
                                V = E + "L" + V.substr(1)) : (Y += "Z" + L,
                                V = E + "Z" + V) : (Y = L,
                                V = E),
                                c.hasLines(_) && t.length > 1) {
                                    var r = n.select(this);
                                    if (r.datum(f),
                                    e)
                                        m(r.style("opacity", 0).attr("d", L).call(l.lineGroupStyle)).style("opacity", 1);
                                    else {
                                        var a = m(r);
                                        a.attr("d", L),
                                        l.singleLineStyle(f, a)
                                    }
                                }
                            }
                        }
                    }
                    var G = T.selectAll(".js-line").data(q);
                    m(G.exit()).style("opacity", 0).remove(),
                    G.each(W(!1)),
                    G.enter().append("path").classed("js-line", !0).style("vector-effect", "non-scaling-stroke").call(l.lineGroupStyle).each(W(!0)),
                    l.setClipUrl(G, r.layerClipId, e),
                    q.length ? (C ? (C.datum(f),
                    j && H && (D ? ("y" === D ? j[1] = H[1] = x.c2p(0, !0) : "x" === D && (j[0] = H[0] = b.c2p(0, !0)),
                    m(C).attr("d", "M" + H + "L" + j + "L" + Y.substr(1)).call(l.singleFillStyle)) : m(C).attr("d", Y + "Z").call(l.singleFillStyle))) : O && ("tonext" === _.fill.substr(0, 6) && Y && z ? ("tonext" === _.fill ? m(O).attr("d", Y + "Z" + z + "Z").call(l.singleFillStyle) : m(O).attr("d", Y + "L" + z.substr(1) + "Z").call(l.singleFillStyle),
                    _._polygons = _._polygons.concat(F)) : (J(O),
                    _._polygons = null)),
                    _._prevRevpath = V,
                    _._prevPolygons = U) : (C ? J(C) : O && J(O),
                    _._polygons = _._prevRevpath = _._prevPolygons = null),
                    M.datum(f),
                    S.datum(f),
                    function(t, a, i) {
                        var o, u = i[0].trace, f = c.hasMarkers(u), d = c.hasText(u), h = ee(u), p = te, g = te;
                        if (f || d) {
                            var y = s
                              , _ = u.stackgroup
                              , w = _ && "infer zero" === e._fullLayout._scatterStackOpts[b._id + x._id][_].stackgaps;
                            u.marker.maxdisplayed || u._needsCull ? y = w ? Q : X : _ && !w && (y = $),
                            f && (p = y),
                            d && (g = y)
                        }
                        var A, k = (o = t.selectAll("path.point").data(p, h)).enter().append("path").classed("point", !0);
                        v && k.call(l.pointStyle, u, e).call(l.translatePoints, b, x).style("opacity", 0).transition().style("opacity", 1),
                        o.order(),
                        f && (A = l.makePointStyleFns(u)),
                        o.each((function(t) {
                            var a = n.select(this)
                              , i = m(a);
                            l.translatePoint(t, i, b, x) ? (l.singlePointStyle(t, i, u, A, e),
                            r.layerClipId && l.hideOutsideRangePoint(t, i, b, x, u.xcalendar, u.ycalendar),
                            u.customdata && a.classed("plotly-customdata", null !== t.data && void 0 !== t.data)) : i.remove()
                        }
                        )),
                        v ? o.exit().transition().style("opacity", 0).remove() : o.exit().remove(),
                        (o = a.selectAll("g").data(g, h)).enter().append("g").classed("textpoint", !0).append("text"),
                        o.order(),
                        o.each((function(e) {
                            var t = n.select(this)
                              , a = m(t.select("text"));
                            l.translatePoint(e, a, b, x) ? r.layerClipId && l.hideOutsideRangePoint(e, t, b, x, u.xcalendar, u.ycalendar) : t.remove()
                        }
                        )),
                        o.selectAll("text").call(l.textPointStyle, u, e).each((function(e) {
                            var t = b.c2p(e.x)
                              , r = x.c2p(e.y);
                            n.select(this).selectAll("tspan.line").each((function() {
                                m(n.select(this)).attr({
                                    x: t,
                                    y: r
                                })
                            }
                            ))
                        }
                        )),
                        o.exit().remove()
                    }(M, S, f);
                    var Z = !1 === _.cliponaxis ? null : r.layerClipId;
                    l.setClipUrl(M, Z, e),
                    l.setClipUrl(S, Z, e)
                }
                function J(e) {
                    m(e).attr("d", "M0,0Z")
                }
                function X(e) {
                    return e.filter((function(e) {
                        return !e.gap && e.vis
                    }
                    ))
                }
                function Q(e) {
                    return e.filter((function(e) {
                        return e.vis
                    }
                    ))
                }
                function $(e) {
                    return e.filter((function(e) {
                        return !e.gap
                    }
                    ))
                }
                function K(e) {
                    return e.id
                }
                function ee(e) {
                    if (e.ids)
                        return K
                }
                function te() {
                    return !1
                }
            }
            t.exports = function(e, t, r, a, i, c) {
                var u, d, p = !i, g = !!i && i.duration > 0, y = f(e, t, r);
                ((u = a.selectAll("g.trace").data(y, (function(e) {
                    return e[0].trace.uid
                }
                ))).enter().append("g").attr("class", (function(e) {
                    return "trace scatter trace" + e[0].trace.uid
                }
                )).style("stroke-miterlimit", 2),
                u.order(),
                function(e, t, r) {
                    t.each((function(t) {
                        var a = o(n.select(this), "g", "fills");
                        l.setClipUrl(a, r.layerClipId, e);
                        var i = t[0].trace
                          , c = [];
                        i._ownfill && c.push("_ownFill"),
                        i._nexttrace && c.push("_nextFill");
                        var u = a.selectAll("g").data(c, s);
                        u.enter().append("g"),
                        u.exit().each((function(e) {
                            i[e] = null
                        }
                        )).remove(),
                        u.order().each((function(e) {
                            i[e] = o(n.select(this), "path", "js-fill")
                        }
                        ))
                    }
                    ))
                }(e, u, t),
                g) ? (c && (d = c()),
                n.transition().duration(i.duration).ease(i.easing).each("end", (function() {
                    d && d()
                }
                )).each("interrupt", (function() {
                    d && d()
                }
                )).each((function() {
                    a.selectAll("g.trace").each((function(r, n) {
                        h(e, n, t, r, y, this, i)
                    }
                    ))
                }
                ))) : u.each((function(r, n) {
                    h(e, n, t, r, y, this, i)
                }
                ));
                p && u.exit().remove(),
                a.selectAll("path:not([d])").remove()
            }
        }
        , {
            "../../components/drawing": 257,
            "../../lib": 365,
            "../../lib/polygon": 377,
            "../../registry": 451,
            "./line_points": 477,
            "./link_traces": 479,
            "./subtypes": 488,
            "@plotly/d3": 6
        }],
        485: [function(e, t, r) {
            "use strict";
            var n = e("./subtypes");
            t.exports = function(e, t) {
                var r, a, i, o, s = e.cd, l = e.xaxis, c = e.yaxis, u = [], f = s[0].trace;
                if (!n.hasMarkers(f) && !n.hasText(f))
                    return [];
                if (!1 === t)
                    for (r = 0; r < s.length; r++)
                        s[r].selected = 0;
                else
                    for (r = 0; r < s.length; r++)
                        a = s[r],
                        i = l.c2p(a.x),
                        o = c.c2p(a.y),
                        null !== a.i && t.contains([i, o], !1, r, e) ? (u.push({
                            pointNumber: a.i,
                            x: l.c2d(a.x),
                            y: c.c2d(a.y)
                        }),
                        a.selected = 1) : a.selected = 0;
                return u
            }
        }
        , {
            "./subtypes": 488
        }],
        486: [function(e, t, r) {
            "use strict";
            var n = ["orientation", "groupnorm", "stackgaps"];
            t.exports = function(e, t, r, a) {
                var i = r._scatterStackOpts
                  , o = a("stackgroup");
                if (o) {
                    var s = t.xaxis + t.yaxis
                      , l = i[s];
                    l || (l = i[s] = {});
                    var c = l[o]
                      , u = !1;
                    c ? c.traces.push(t) : (c = l[o] = {
                        traceIndices: [],
                        traces: [t]
                    },
                    u = !0);
                    for (var f = {
                        orientation: t.x && !t.y ? "h" : "v"
                    }, d = 0; d < n.length; d++) {
                        var h = n[d]
                          , p = h + "Found";
                        if (!c[p]) {
                            var g = void 0 !== e[h]
                              , y = "orientation" === h;
                            if ((g || u) && (c[h] = a(h, f[h]),
                            y && (c.fillDflt = "h" === c[h] ? "tonextx" : "tonexty"),
                            g && (c[p] = !0,
                            !u && (delete c.traces[0][h],
                            y))))
                                for (var v = 0; v < c.traces.length - 1; v++) {
                                    var m = c.traces[v];
                                    m._input.fill !== m.fill && (m.fill = c.fillDflt)
                                }
                        }
                    }
                    return c
                }
            }
        }
        , {}],
        487: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/d3")
              , a = e("../../components/drawing")
              , i = e("../../registry");
            function o(e, t, r) {
                a.pointStyle(e.selectAll("path.point"), t, r)
            }
            function s(e, t, r) {
                a.textPointStyle(e.selectAll("text"), t, r)
            }
            t.exports = {
                style: function(e) {
                    var t = n.select(e).selectAll("g.trace.scatter");
                    t.style("opacity", (function(e) {
                        return e[0].trace.opacity
                    }
                    )),
                    t.selectAll("g.points").each((function(t) {
                        o(n.select(this), t.trace || t[0].trace, e)
                    }
                    )),
                    t.selectAll("g.text").each((function(t) {
                        s(n.select(this), t.trace || t[0].trace, e)
                    }
                    )),
                    t.selectAll("g.trace path.js-line").call(a.lineGroupStyle),
                    t.selectAll("g.trace path.js-fill").call(a.fillGroupStyle),
                    i.getComponentMethod("errorbars", "style")(t)
                },
                stylePoints: o,
                styleText: s,
                styleOnSelect: function(e, t, r) {
                    var n = t[0].trace;
                    n.selectedpoints ? (a.selectedPointStyle(r.selectAll("path.point"), n),
                    a.selectedTextStyle(r.selectAll("text"), n)) : (o(r, n, e),
                    s(r, n, e))
                }
            }
        }
        , {
            "../../components/drawing": 257,
            "../../registry": 451,
            "@plotly/d3": 6
        }],
        488: [function(e, t, r) {
            "use strict";
            var n = e("../../lib");
            t.exports = {
                hasLines: function(e) {
                    return e.visible && e.mode && -1 !== e.mode.indexOf("lines")
                },
                hasMarkers: function(e) {
                    return e.visible && (e.mode && -1 !== e.mode.indexOf("markers") || "splom" === e.type)
                },
                hasText: function(e) {
                    return e.visible && e.mode && -1 !== e.mode.indexOf("text")
                },
                isBubble: function(e) {
                    return n.isPlainObject(e.marker) && n.isArrayOrTypedArray(e.marker.size)
                }
            }
        }
        , {
            "../../lib": 365
        }],
        489: [function(e, t, r) {
            "use strict";
            var n = e("../../lib");
            t.exports = function(e, t, r, a, i) {
                i = i || {},
                a("textposition"),
                n.coerceFont(a, "textfont", r.font),
                i.noSelect || (a("selected.textfont.color"),
                a("unselected.textfont.color"))
            }
        }
        , {
            "../../lib": 365
        }],
        490: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../registry");
            t.exports = function(e, t, r, i) {
                var o, s = i("x"), l = i("y");
                if (a.getComponentMethod("calendars", "handleTraceDefaults")(e, t, ["x", "y"], r),
                s) {
                    var c = n.minRowLength(s);
                    l ? o = Math.min(c, n.minRowLength(l)) : (o = c,
                    i("y0"),
                    i("dy"))
                } else {
                    if (!l)
                        return 0;
                    o = n.minRowLength(l),
                    i("x0"),
                    i("dx")
                }
                return t._length = o,
                o
            }
        }
        , {
            "../../lib": 365,
            "../../registry": 451
        }],
        491: [function(e, t, r) {
            "use strict";
            var n = e("../../plots/attributes")
              , a = e("../scatter/attributes")
              , i = e("../../plots/cartesian/axis_format_attributes").axisHoverFormat
              , o = e("../../components/colorscale/attributes")
              , s = e("../../lib/sort_object_keys")
              , l = e("../../lib/extend").extendFlat
              , c = e("../../plot_api/edit_types").overrideAll
              , u = e("./constants").DASHES
              , f = a.line
              , d = a.marker
              , h = d.line
              , p = t.exports = c({
                x: a.x,
                x0: a.x0,
                dx: a.dx,
                y: a.y,
                y0: a.y0,
                dy: a.dy,
                xperiod: a.xperiod,
                yperiod: a.yperiod,
                xperiod0: a.xperiod0,
                yperiod0: a.yperiod0,
                xperiodalignment: a.xperiodalignment,
                yperiodalignment: a.yperiodalignment,
                xhoverformat: i("x"),
                yhoverformat: i("y"),
                text: a.text,
                hovertext: a.hovertext,
                textposition: a.textposition,
                textfont: a.textfont,
                mode: {
                    valType: "flaglist",
                    flags: ["lines", "markers", "text"],
                    extras: ["none"]
                },
                line: {
                    color: f.color,
                    width: f.width,
                    shape: {
                        valType: "enumerated",
                        values: ["linear", "hv", "vh", "hvh", "vhv"],
                        dflt: "linear",
                        editType: "plot"
                    },
                    dash: {
                        valType: "enumerated",
                        values: s(u),
                        dflt: "solid"
                    }
                },
                marker: l({}, o("marker"), {
                    symbol: d.symbol,
                    size: d.size,
                    sizeref: d.sizeref,
                    sizemin: d.sizemin,
                    sizemode: d.sizemode,
                    opacity: d.opacity,
                    colorbar: d.colorbar,
                    line: l({}, o("marker.line"), {
                        width: h.width
                    })
                }),
                connectgaps: a.connectgaps,
                fill: l({}, a.fill, {
                    dflt: "none"
                }),
                fillcolor: a.fillcolor,
                selected: {
                    marker: a.selected.marker,
                    textfont: a.selected.textfont
                },
                unselected: {
                    marker: a.unselected.marker,
                    textfont: a.unselected.textfont
                },
                opacity: n.opacity
            }, "calc", "nested");
            p.x.editType = p.y.editType = p.x0.editType = p.y0.editType = "calc+clearAxisTypes",
            p.hovertemplate = a.hovertemplate,
            p.texttemplate = a.texttemplate
        }
        , {
            "../../components/colorscale/attributes": 242,
            "../../lib/extend": 358,
            "../../lib/sort_object_keys": 388,
            "../../plot_api/edit_types": 396,
            "../../plots/attributes": 410,
            "../../plots/cartesian/axis_format_attributes": 417,
            "../scatter/attributes": 463,
            "./constants": 493
        }],
        492: [function(e, t, r) {
            "use strict";
            var n = e("@plotly/point-cluster")
              , a = e("../../lib")
              , i = e("../../plots/cartesian/axis_ids")
              , o = e("../../plots/cartesian/autorange").findExtremes
              , s = e("../../plots/cartesian/align_period")
              , l = e("../scatter/calc")
              , c = l.calcMarkerSize
              , u = l.calcAxisExpansion
              , f = l.setFirstScatter
              , d = e("../scatter/colorscale_calc")
              , h = e("./convert")
              , p = e("./scene_update")
              , g = e("../../constants/numerical").BADNUM
              , y = e("./constants").TOO_MANY_POINTS;
            function v(e, t, r) {
                var n = e._extremes[t._id]
                  , a = o(t, r._bnds, {
                    padded: !0
                });
                n.min = n.min.concat(a.min),
                n.max = n.max.concat(a.max)
            }
            t.exports = function(e, t) {
                var r, o = e._fullLayout, l = i.getFromId(e, t.xaxis), m = i.getFromId(e, t.yaxis), b = o._plots[t.xaxis + t.yaxis], x = t._length, _ = x >= y, w = 2 * x, A = {}, k = l.makeCalcdata(t, "x"), T = m.makeCalcdata(t, "y"), M = s(t, l, "x", k), S = s(t, m, "y", T), C = M.vals, O = S.vals;
                t._x = C,
                t._y = O,
                t.xperiodalignment && (t._origX = k,
                t._xStarts = M.starts,
                t._xEnds = M.ends),
                t.yperiodalignment && (t._origY = T,
                t._yStarts = S.starts,
                t._yEnds = S.ends);
                var D = new Array(w)
                  , L = new Array(x);
                for (r = 0; r < x; r++)
                    D[2 * r] = C[r] === g ? NaN : C[r],
                    D[2 * r + 1] = O[r] === g ? NaN : O[r],
                    L[r] = r;
                if ("log" === l.type)
                    for (r = 0; r < w; r += 2)
                        D[r] = l.c2l(D[r]);
                if ("log" === m.type)
                    for (r = 1; r < w; r += 2)
                        D[r] = m.c2l(D[r]);
                _ && "log" !== l.type && "log" !== m.type ? A.tree = n(D) : A.ids = L,
                d(e, t);
                var E, z = function(e, t, r, n, i, o) {
                    var s = h.style(e, r);
                    s.marker && (s.marker.positions = n);
                    s.line && n.length > 1 && a.extendFlat(s.line, h.linePositions(e, r, n));
                    if (s.errorX || s.errorY) {
                        var l = h.errorBarPositions(e, r, n, i, o);
                        s.errorX && a.extendFlat(s.errorX, l.x),
                        s.errorY && a.extendFlat(s.errorY, l.y)
                    }
                    s.text && (a.extendFlat(s.text, {
                        positions: n
                    }, h.textPosition(e, r, s.text, s.marker)),
                    a.extendFlat(s.textSel, {
                        positions: n
                    }, h.textPosition(e, r, s.text, s.markerSel)),
                    a.extendFlat(s.textUnsel, {
                        positions: n
                    }, h.textPosition(e, r, s.text, s.markerUnsel)));
                    return s
                }(e, 0, t, D, C, O), F = p(e, b);
                return f(o, t),
                _ ? z.marker && (E = z.marker.sizeAvg || Math.max(z.marker.size, 3)) : E = c(t, x),
                u(e, t, l, m, C, O, E),
                z.errorX && v(t, l, z.errorX),
                z.errorY && v(t, m, z.errorY),
                z.fill && !F.fill2d && (F.fill2d = !0),
                z.marker && !F.scatter2d && (F.scatter2d = !0),
                z.line && !F.line2d && (F.line2d = !0),
                !z.errorX && !z.errorY || F.error2d || (F.error2d = !0),
                z.text && !F.glText && (F.glText = !0),
                z.marker && (z.marker.snap = x),
                F.lineOptions.push(z.line),
                F.errorXOptions.push(z.errorX),
                F.errorYOptions.push(z.errorY),
                F.fillOptions.push(z.fill),
                F.markerOptions.push(z.marker),
                F.markerSelectedOptions.push(z.markerSel),
                F.markerUnselectedOptions.push(z.markerUnsel),
                F.textOptions.push(z.text),
                F.textSelectedOptions.push(z.textSel),
                F.textUnselectedOptions.push(z.textUnsel),
                F.selectBatch.push([]),
                F.unselectBatch.push([]),
                A._scene = F,
                A.index = F.count,
                A.x = C,
                A.y = O,
                A.positions = D,
                F.count++,
                [{
                    x: !1,
                    y: !1,
                    t: A,
                    trace: t
                }]
            }
        }
        , {
            "../../constants/numerical": 344,
            "../../lib": 365,
            "../../plots/cartesian/align_period": 411,
            "../../plots/cartesian/autorange": 413,
            "../../plots/cartesian/axis_ids": 418,
            "../scatter/calc": 464,
            "../scatter/colorscale_calc": 466,
            "./constants": 493,
            "./convert": 494,
            "./scene_update": 502,
            "@plotly/point-cluster": 7
        }],
        493: [function(e, t, r) {
            "use strict";
            t.exports = {
                TOO_MANY_POINTS: 1e5,
                SYMBOL_SDF_SIZE: 200,
                SYMBOL_SIZE: 20,
                SYMBOL_STROKE: 1,
                DOT_RE: /-dot/,
                OPEN_RE: /-open/,
                DASHES: {
                    solid: [1],
                    dot: [1, 1],
                    dash: [4, 1],
                    longdash: [8, 1],
                    dashdot: [4, 1, 1, 1],
                    longdashdot: [8, 1, 1, 1]
                }
            }
        }
        , {}],
        494: [function(e, t, r) {
            "use strict";
            var n = e("fast-isnumeric")
              , a = e("svg-path-sdf")
              , i = e("color-normalize")
              , o = e("../../registry")
              , s = e("../../lib")
              , l = e("../../components/drawing")
              , c = e("../../plots/cartesian/axis_ids")
              , u = e("../../lib/gl_format_color").formatColor
              , f = e("../scatter/subtypes")
              , d = e("../scatter/make_bubble_size_func")
              , h = e("./helpers")
              , p = e("./constants")
              , g = e("../../constants/interactions").DESELECTDIM
              , y = {
                start: 1,
                left: 1,
                end: -1,
                right: -1,
                middle: 0,
                center: 0,
                bottom: 1,
                top: -1
            }
              , v = e("../../components/fx/helpers").appendArrayPointValue;
            function m(e, t) {
                var r, a = e._fullLayout, i = t._length, o = t.textfont, l = t.textposition, c = Array.isArray(l) ? l : [l], u = o.color, f = o.size, d = o.family, h = {}, p = e._context.plotGlPixelRatio, g = t.texttemplate;
                if (g) {
                    h.text = [];
                    var y = a._d3locale
                      , m = Array.isArray(g)
                      , b = m ? Math.min(g.length, i) : i
                      , x = m ? function(e) {
                        return g[e]
                    }
                    : function() {
                        return g
                    }
                    ;
                    for (r = 0; r < b; r++) {
                        var _ = {
                            i: r
                        }
                          , w = t._module.formatLabels(_, t, a)
                          , A = {};
                        v(A, t, r);
                        var k = t._meta || {};
                        h.text.push(s.texttemplateString(x(r), w, y, A, _, k))
                    }
                } else
                    Array.isArray(t.text) && t.text.length < i ? h.text = t.text.slice() : h.text = t.text;
                if (Array.isArray(h.text))
                    for (r = h.text.length; r < i; r++)
                        h.text[r] = "";
                for (h.opacity = t.opacity,
                h.font = {},
                h.align = [],
                h.baseline = [],
                r = 0; r < c.length; r++) {
                    var T = c[r].split(/\s+/);
                    switch (T[1]) {
                    case "left":
                        h.align.push("right");
                        break;
                    case "right":
                        h.align.push("left");
                        break;
                    default:
                        h.align.push(T[1])
                    }
                    switch (T[0]) {
                    case "top":
                        h.baseline.push("bottom");
                        break;
                    case "bottom":
                        h.baseline.push("top");
                        break;
                    default:
                        h.baseline.push(T[0])
                    }
                }
                if (Array.isArray(u))
                    for (h.color = new Array(i),
                    r = 0; r < i; r++)
                        h.color[r] = u[r];
                else
                    h.color = u;
                if (s.isArrayOrTypedArray(f) || Array.isArray(d))
                    for (h.font = new Array(i),
                    r = 0; r < i; r++) {
                        var M = h.font[r] = {};
                        M.size = (s.isTypedArray(f) ? f[r] : Array.isArray(f) ? n(f[r]) ? f[r] : 0 : f) * p,
                        M.family = Array.isArray(d) ? d[r] : d
                    }
                else
                    h.font = {
                        size: f * p,
                        family: d
                    };
                return h
            }
            function b(e) {
                var t, r, n = e._length, a = e.marker, o = {}, l = s.isArrayOrTypedArray(a.symbol), c = s.isArrayOrTypedArray(a.color), f = s.isArrayOrTypedArray(a.line.color), p = s.isArrayOrTypedArray(a.opacity), g = s.isArrayOrTypedArray(a.size), y = s.isArrayOrTypedArray(a.line.width);
                if (l || (r = h.isOpenSymbol(a.symbol)),
                l || c || f || p) {
                    o.colors = new Array(n),
                    o.borderColors = new Array(n);
                    var v = u(a, a.opacity, n)
                      , m = u(a.line, a.opacity, n);
                    if (!Array.isArray(m[0])) {
                        var b = m;
                        for (m = Array(n),
                        t = 0; t < n; t++)
                            m[t] = b
                    }
                    if (!Array.isArray(v[0])) {
                        var x = v;
                        for (v = Array(n),
                        t = 0; t < n; t++)
                            v[t] = x
                    }
                    for (o.colors = v,
                    o.borderColors = m,
                    t = 0; t < n; t++) {
                        if (l) {
                            var _ = a.symbol[t];
                            r = h.isOpenSymbol(_)
                        }
                        r && (m[t] = v[t].slice(),
                        v[t] = v[t].slice(),
                        v[t][3] = 0)
                    }
                    o.opacity = e.opacity
                } else
                    r ? (o.color = i(a.color, "uint8"),
                    o.color[3] = 0,
                    o.borderColor = i(a.color, "uint8")) : (o.color = i(a.color, "uint8"),
                    o.borderColor = i(a.line.color, "uint8")),
                    o.opacity = e.opacity * a.opacity;
                if (l)
                    for (o.markers = new Array(n),
                    t = 0; t < n; t++)
                        o.markers[t] = C(a.symbol[t]);
                else
                    o.marker = C(a.symbol);
                var w, A = d(e, 1);
                if (g || y) {
                    var k, T = o.sizes = new Array(n), M = o.borderSizes = new Array(n), S = 0;
                    if (g) {
                        for (t = 0; t < n; t++)
                            T[t] = A(a.size[t]),
                            S += T[t];
                        k = S / n
                    } else
                        for (w = A(a.size),
                        t = 0; t < n; t++)
                            T[t] = w;
                    if (y)
                        for (t = 0; t < n; t++)
                            M[t] = a.line.width[t];
                    else
                        for (w = a.line.width,
                        t = 0; t < n; t++)
                            M[t] = w;
                    o.sizeAvg = k
                } else
                    o.size = A(a && a.size || 10),
                    o.borderSizes = A(a.line.width);
                return o
            }
            function x(e, t) {
                var r = e.marker
                  , n = {};
                return t ? (t.marker && t.marker.symbol ? n = b(s.extendFlat({}, r, t.marker)) : t.marker && (t.marker.size && (n.size = t.marker.size),
                t.marker.color && (n.colors = t.marker.color),
                void 0 !== t.marker.opacity && (n.opacity = t.marker.opacity)),
                n) : n
            }
            function _(e, t, r) {
                var n = {};
                if (!r)
                    return n;
                if (r.textfont) {
                    var a = {
                        opacity: 1,
                        text: t.text,
                        texttemplate: t.texttemplate,
                        textposition: t.textposition,
                        textfont: s.extendFlat({}, t.textfont)
                    };
                    r.textfont && s.extendFlat(a.textfont, r.textfont),
                    n = m(e, a)
                }
                return n
            }
            function w(e, t, r) {
                var n = {
                    capSize: 2 * t.width * r,
                    lineWidth: t.thickness * r,
                    color: t.color
                };
                return t.copy_ystyle && (n = e.error_y),
                n
            }
            var A = p.SYMBOL_SDF_SIZE
              , k = p.SYMBOL_SIZE
              , T = p.SYMBOL_STROKE
              , M = {}
              , S = l.symbolFuncs[0](.05 * k);
            function C(e) {
                if ("circle" === e)
                    return null;
                var t, r, n = l.symbolNumber(e), i = l.symbolFuncs[n % 100], o = !!l.symbolNoDot[n % 100], s = !!l.symbolNoFill[n % 100], c = h.isDotSymbol(e);
                return M[e] ? M[e] : (t = c && !o ? i(1.1 * k) + S : i(k),
                r = a(t, {
                    w: A,
                    h: A,
                    viewBox: [-k, -k, k, k],
                    stroke: s ? T : -T
                }),
                M[e] = r,
                r || null)
            }
            t.exports = {
                style: function(e, t) {
                    var r, n = {
                        marker: void 0,
                        markerSel: void 0,
                        markerUnsel: void 0,
                        line: void 0,
                        fill: void 0,
                        errorX: void 0,
                        errorY: void 0,
                        text: void 0,
                        textSel: void 0,
                        textUnsel: void 0
                    }, a = e._context.plotGlPixelRatio;
                    if (!0 !== t.visible)
                        return n;
                    if (f.hasText(t) && (n.text = m(e, t),
                    n.textSel = _(e, t, t.selected),
                    n.textUnsel = _(e, t, t.unselected)),
                    f.hasMarkers(t) && (n.marker = b(t),
                    n.markerSel = x(t, t.selected),
                    n.markerUnsel = x(t, t.unselected),
                    !t.unselected && s.isArrayOrTypedArray(t.marker.opacity))) {
                        var i = t.marker.opacity;
                        for (n.markerUnsel.opacity = new Array(i.length),
                        r = 0; r < i.length; r++)
                            n.markerUnsel.opacity[r] = g * i[r]
                    }
                    if (f.hasLines(t)) {
                        n.line = {
                            overlay: !0,
                            thickness: t.line.width * a,
                            color: t.line.color,
                            opacity: t.opacity
                        };
                        var o = (p.DASHES[t.line.dash] || [1]).slice();
                        for (r = 0; r < o.length; ++r)
                            o[r] *= t.line.width * a;
                        n.line.dashes = o
                    }
                    return t.error_x && t.error_x.visible && (n.errorX = w(t, t.error_x, a)),
                    t.error_y && t.error_y.visible && (n.errorY = w(t, t.error_y, a)),
                    t.fill && "none" !== t.fill && (n.fill = {
                        closed: !0,
                        fill: t.fillcolor,
                        thickness: 0
                    }),
                    n
                },
                markerStyle: b,
                markerSelection: x,
                linePositions: function(e, t, r) {
                    var n, a, i = r.length, o = i / 2;
                    if (f.hasLines(t) && o)
                        if ("hv" === t.line.shape) {
                            for (n = [],
                            a = 0; a < o - 1; a++)
                                isNaN(r[2 * a]) || isNaN(r[2 * a + 1]) ? n.push(NaN, NaN, NaN, NaN) : (n.push(r[2 * a], r[2 * a + 1]),
                                isNaN(r[2 * a + 2]) || isNaN(r[2 * a + 3]) ? n.push(NaN, NaN) : n.push(r[2 * a + 2], r[2 * a + 1]));
                            n.push(r[i - 2], r[i - 1])
                        } else if ("hvh" === t.line.shape) {
                            for (n = [],
                            a = 0; a < o - 1; a++)
                                if (isNaN(r[2 * a]) || isNaN(r[2 * a + 1]) || isNaN(r[2 * a + 2]) || isNaN(r[2 * a + 3]))
                                    isNaN(r[2 * a]) || isNaN(r[2 * a + 1]) ? n.push(NaN, NaN) : n.push(r[2 * a], r[2 * a + 1]),
                                    n.push(NaN, NaN);
                                else {
                                    var s = (r[2 * a] + r[2 * a + 2]) / 2;
                                    n.push(r[2 * a], r[2 * a + 1], s, r[2 * a + 1], s, r[2 * a + 3])
                                }
                            n.push(r[i - 2], r[i - 1])
                        } else if ("vhv" === t.line.shape) {
                            for (n = [],
                            a = 0; a < o - 1; a++)
                                if (isNaN(r[2 * a]) || isNaN(r[2 * a + 1]) || isNaN(r[2 * a + 2]) || isNaN(r[2 * a + 3]))
                                    isNaN(r[2 * a]) || isNaN(r[2 * a + 1]) ? n.push(NaN, NaN) : n.push(r[2 * a], r[2 * a + 1]),
                                    n.push(NaN, NaN);
                                else {
                                    var l = (r[2 * a + 1] + r[2 * a + 3]) / 2;
                                    n.push(r[2 * a], r[2 * a + 1], r[2 * a], l, r[2 * a + 2], l)
                                }
                            n.push(r[i - 2], r[i - 1])
                        } else if ("vh" === t.line.shape) {
                            for (n = [],
                            a = 0; a < o - 1; a++)
                                isNaN(r[2 * a]) || isNaN(r[2 * a + 1]) ? n.push(NaN, NaN, NaN, NaN) : (n.push(r[2 * a], r[2 * a + 1]),
                                isNaN(r[2 * a + 2]) || isNaN(r[2 * a + 3]) ? n.push(NaN, NaN) : n.push(r[2 * a], r[2 * a + 3]));
                            n.push(r[i - 2], r[i - 1])
                        } else
                            n = r;
                    var c = !1;
                    for (a = 0; a < n.length; a++)
                        if (isNaN(n[a])) {
                            c = !0;
                            break
                        }
                    var u = c || n.length > p.TOO_MANY_POINTS || f.hasMarkers(t) ? "rect" : "round";
                    if (c && t.connectgaps) {
                        var d = n[0]
                          , h = n[1];
                        for (a = 0; a < n.length; a += 2)
                            isNaN(n[a]) || isNaN(n[a + 1]) ? (n[a] = d,
                            n[a + 1] = h) : (d = n[a],
                            h = n[a + 1])
                    }
                    return {
                        join: u,
                        positions: n
                    }
                },
                errorBarPositions: function(e, t, r, a, i) {
                    var s = o.getComponentMethod("errorbars", "makeComputeError")
                      , l = c.getFromId(e, t.xaxis)
                      , u = c.getFromId(e, t.yaxis)
                      , f = r.length / 2
                      , d = {};
                    function h(e, a) {
                        var i = a._id.charAt(0)
                          , o = t["error_" + i];
                        if (o && o.visible && ("linear" === a.type || "log" === a.type)) {
                            for (var l = s(o), c = {
                                x: 0,
                                y: 1
                            }[i], u = {
                                x: [0, 1, 2, 3],
                                y: [2, 3, 0, 1]
                            }[i], h = new Float64Array(4 * f), p = 1 / 0, g = -1 / 0, y = 0, v = 0; y < f; y++,
                            v += 4) {
                                var m = e[y];
                                if (n(m)) {
                                    var b = r[2 * y + c]
                                      , x = l(m, y)
                                      , _ = x[0]
                                      , w = x[1];
                                    if (n(_) && n(w)) {
                                        var A = m - _
                                          , k = m + w;
                                        h[v + u[0]] = b - a.c2l(A),
                                        h[v + u[1]] = a.c2l(k) - b,
                                        h[v + u[2]] = 0,
                                        h[v + u[3]] = 0,
                                        p = Math.min(p, m - _),
                                        g = Math.max(g, m + w)
                                    }
                                }
                            }
                            d[i] = {
                                positions: r,
                                errors: h,
                                _bnds: [p, g]
                            }
                        }
                    }
                    return h(a, l),
                    h(i, u),
                    d
                },
                textPosition: function(e, t, r, n) {
                    var a, i = t._length, o = {};
                    if (f.hasMarkers(t)) {
                        var s = r.font
                          , l = r.align
                          , c = r.baseline;
                        for (o.offset = new Array(i),
                        a = 0; a < i; a++) {
                            var u = n.sizes ? n.sizes[a] : n.size
                              , d = Array.isArray(s) ? s[a].size : s.size
                              , h = Array.isArray(l) ? l.length > 1 ? l[a] : l[0] : l
                              , p = Array.isArray(c) ? c.length > 1 ? c[a] : c[0] : c
                              , g = y[h]
                              , v = y[p]
                              , m = u ? u / .8 + 1 : 0
                              , b = -v * m - .5 * v;
                            o.offset[a] = [g * m / d, b / d]
                        }
                    }
                    return o
                }
            }
        }
        , {
            "../../components/drawing": 257,
            "../../components/fx/helpers": 271,
            "../../constants/interactions": 343,
            "../../lib": 365,
            "../../lib/gl_format_color": 362,
            "../../plots/cartesian/axis_ids": 418,
            "../../registry": 451,
            "../scatter/make_bubble_size_func": 480,
            "../scatter/subtypes": 488,
            "./constants": 493,
            "./helpers": 498,
            "color-normalize": 21,
            "fast-isnumeric": 107,
            "svg-path-sdf": 182
        }],
        495: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../registry")
              , i = e("./helpers")
              , o = e("./attributes")
              , s = e("../scatter/constants")
              , l = e("../scatter/subtypes")
              , c = e("../scatter/xy_defaults")
              , u = e("../scatter/period_defaults")
              , f = e("../scatter/marker_defaults")
              , d = e("../scatter/line_defaults")
              , h = e("../scatter/fillcolor_defaults")
              , p = e("../scatter/text_defaults");
            t.exports = function(e, t, r, g) {
                function y(r, a) {
                    return n.coerce(e, t, o, r, a)
                }
                var v = !!e.marker && i.isOpenSymbol(e.marker.symbol)
                  , m = l.isBubble(e)
                  , b = c(e, t, g, y);
                if (b) {
                    u(e, t, g, y),
                    y("xhoverformat"),
                    y("yhoverformat");
                    var x = b < s.PTS_LINESONLY ? "lines+markers" : "lines";
                    y("text"),
                    y("hovertext"),
                    y("hovertemplate"),
                    y("mode", x),
                    l.hasLines(t) && (y("connectgaps"),
                    d(e, t, r, g, y),
                    y("line.shape")),
                    l.hasMarkers(t) && (f(e, t, r, g, y),
                    y("marker.line.width", v || m ? 1 : 0)),
                    l.hasText(t) && (y("texttemplate"),
                    p(e, t, g, y));
                    var _ = (t.line || {}).color
                      , w = (t.marker || {}).color;
                    y("fill"),
                    "none" !== t.fill && h(e, t, r, y);
                    var A = a.getComponentMethod("errorbars", "supplyDefaults");
                    A(e, t, _ || w || r, {
                        axis: "y"
                    }),
                    A(e, t, _ || w || r, {
                        axis: "x",
                        inherit: "y"
                    }),
                    n.coerceSelectionMarkerOpacity(t, y)
                } else
                    t.visible = !1
            }
        }
        , {
            "../../lib": 365,
            "../../registry": 451,
            "../scatter/constants": 467,
            "../scatter/fillcolor_defaults": 471,
            "../scatter/line_defaults": 476,
            "../scatter/marker_defaults": 482,
            "../scatter/period_defaults": 483,
            "../scatter/subtypes": 488,
            "../scatter/text_defaults": 489,
            "../scatter/xy_defaults": 490,
            "./attributes": 491,
            "./helpers": 498
        }],
        496: [function(e, t, r) {
            "use strict";
            var n = e("../../lib")
              , a = e("../../components/color")
              , i = e("../../constants/interactions").DESELECTDIM;
            t.exports = {
                styleTextSelection: function(e) {
                    var t, r, o = e[0], s = o.trace, l = o.t, c = l._scene, u = l.index, f = c.selectBatch[u], d = c.unselectBatch[u], h = c.textOptions[u], p = c.textSelectedOptions[u] || {}, g = c.textUnselectedOptions[u] || {}, y = n.extendFlat({}, h);
                    if (f.length || d.length) {
                        var v = p.color
                          , m = g.color
                          , b = h.color
                          , x = Array.isArray(b);
                        for (y.color = new Array(s._length),
                        t = 0; t < f.length; t++)
                            r = f[t],
                            y.color[r] = v || (x ? b[r] : b);
                        for (t = 0; t < d.length; t++) {
                            r = d[t];
                            var _ = x ? b[r] : b;
                            y.color[r] = m || (v ? _ : a.addOpacity(_, i))
                        }
                    }
                    c.glText[u].update(y)
                }
            }
        }
        , {
            "../../components/color": 235,
            "../../constants/interactions": 343,
            "../../lib": 365
        }],
        497: [function(e, t, r) {
            "use strict";
            var n = e("../scatter/format_labels");
            t.exports = function(e, t, r) {
                var a = e.i;
                return "x"in e || (e.x = t._x[a]),
                "y"in e || (e.y = t._y[a]),
                n(e, t, r)
            }
        }
        , {
            "../scatter/format_labels": 472
        }],
        498: [function(e, t, r) {
            "use strict";
            var n = e("./constants");
            r.isOpenSymbol = function(e) {
                return "string" == typeof e ? n.OPEN_RE.test(e) : e % 200 > 100
            }
            ,
            r.isDotSymbol = function(e) {
                return "string" == typeof e ? n.DOT_RE.test(e) : e > 200
            }
        }
        , {
            "./constants": 493
        }],
        499: [function(e, t, r) {
            "use strict";
            var n = e("../../registry")
              , a = e("../../lib")
              , i = e("../scatter/get_trace_color");
            function o(e, t, r, o) {
                var s = e.xa
                  , l = e.ya
                  , c = e.distance
                  , u = e.dxy
                  , f = e.index
                  , d = {
                    pointNumber: f,
                    x: t[f],
                    y: r[f]
                };
                d.tx = Array.isArray(o.text) ? o.text[f] : o.text,
                d.htx = Array.isArray(o.hovertext) ? o.hovertext[f] : o.hovertext,
                d.data = Array.isArray(o.customdata) ? o.customdata[f] : o.customdata,
                d.tp = Array.isArray(o.textposition) ? o.textposition[f] : o.textposition;
                var h = o.textfont;
                h && (d.ts = a.isArrayOrTypedArray(h.size) ? h.size[f] : h.size,
                d.tc = Array.isArray(h.color) ? h.color[f] : h.color,
                d.tf = Array.isArray(h.family) ? h.family[f] : h.family);
                var p = o.marker;
                p && (d.ms = a.isArrayOrTypedArray(p.size) ? p.size[f] : p.size,
                d.mo = a.isArrayOrTypedArray(p.opacity) ? p.opacity[f] : p.opacity,
                d.mx = a.isArrayOrTypedArray(p.symbol) ? p.symbol[f] : p.symbol,
                d.mc = a.isArrayOrTypedArray(p.color) ? p.color[f] : p.color);
                var g = p && p.line;
                g && (d.mlc = Array.isArray(g.color) ? g.color[f] : g.color,
                d.mlw = a.isArrayOrTypedArray(g.width) ? g.width[f] : g.width);
                var y = p && p.gradient;
                y && "none" !== y.type && (d.mgt = Array.isArray(y.type) ? y.type[f] : y.type,
                d.mgc = Array.isArray(y.color) ? y.color[f] : y.color);
                var v = s.c2p(d.x, !0)
                  , m = l.c2p(d.y, !0)
                  , b = d.mrc || 1
                  , x = o.hoverlabel;
                x && (d.hbg = Array.isArray(x.bgcolor) ? x.bgcolor[f] : x.bgcolor,
                d.hbc = Array.isArray(x.bordercolor) ? x.bordercolor[f] : x.bordercolor,
                d.hts = a.isArrayOrTypedArray(x.font.size) ? x.font.size[f] : x.font.size,
                d.htc = Array.isArray(x.font.color) ? x.font.color[f] : x.font.color,
                d.htf = Array.isArray(x.font.family) ? x.font.family[f] : x.font.family,
                d.hnl = a.isArrayOrTypedArray(x.namelength) ? x.namelength[f] : x.namelength);
                var _ = o.hoverinfo;
                _ && (d.hi = Array.isArray(_) ? _[f] : _);
                var w = o.hovertemplate;
                w && (d.ht = Array.isArray(w) ? w[f] : w);
                var A = {};
                A[e.index] = d;
                var k = o._origX
                  , T = o._origY
                  , M = a.extendFlat({}, e, {
                    color: i(o, d),
                    x0: v - b,
                    x1: v + b,
                    xLabelVal: k ? k[f] : d.x,
                    y0: m - b,
                    y1: m + b,
                    yLabelVal: T ? T[f] : d.y,
                    cd: A,
                    distance: c,
                    spikeDistance: u,
                    hovertemplate: d.ht
                });
                return d.htx ? M.text = d.htx : d.tx ? M.text = d.tx : o.text && (M.text = o.text),
                a.fillText(d, o, M),
                n.getComponentMethod("errorbars", "hoverInfo")(d, o, M),
                M
            }
            t.exports = {
                hoverPoints: function(e, t, r, n) {
                    var a, i, s, l, c, u, f, d, h, p, g = e.cd, y = g[0].t, v = g[0].trace, m = e.xa, b = e.ya, x = y.x, _ = y.y, w = m.c2p(t), A = b.c2p(r), k = e.distance;
                    if (y.tree) {
                        var T = m.p2c(w - k)
                          , M = m.p2c(w + k)
                          , S = b.p2c(A - k)
                          , C = b.p2c(A + k);
                        a = "x" === n ? y.tree.range(Math.min(T, M), Math.min(b._rl[0], b._rl[1]), Math.max(T, M), Math.max(b._rl[0], b._rl[1])) : y.tree.range(Math.min(T, M), Math.min(S, C), Math.max(T, M), Math.max(S, C))
                    } else
                        a = y.ids;
                    var O = k;
                    if ("x" === n) {
                        var D = !!v.xperiodalignment
                          , L = !!v.yperiodalignment;
                        for (u = 0; u < a.length; u++) {
                            if (l = x[i = a[u]],
                            f = Math.abs(m.c2p(l) - w),
                            D) {
                                var E = m.c2p(v._xStarts[i])
                                  , z = m.c2p(v._xEnds[i]);
                                f = w >= Math.min(E, z) && w <= Math.max(E, z) ? 0 : 1 / 0
                            }
                            if (f < O) {
                                if (O = f,
                                c = _[i],
                                d = b.c2p(c) - A,
                                L) {
                                    var F = b.c2p(v._yStarts[i])
                                      , P = b.c2p(v._yEnds[i]);
                                    d = A >= Math.min(F, P) && A <= Math.max(F, P) ? 0 : 1 / 0
                                }
                                p = Math.sqrt(f * f + d * d),
                                s = a[u]
                            }
                        }
                    } else
                        for (u = a.length - 1; u > -1; u--)
                            l = x[i = a[u]],
                            c = _[i],
                            f = m.c2p(l) - w,
                            d = b.c2p(c) - A,
                            (h = Math.sqrt(f * f + d * d)) < O && (O = p = h,
                            s = i);
                    return e.index = s,
                    e.distance = O,
                    e.dxy = p,
                    void 0 === s ? [e] : [o(e, x, _, v)]
                },
                calcHover: o
            }
        }
        , {
            "../../lib": 365,
            "../../registry": 451,
            "../scatter/get_trace_color": 473
        }],
        500: [function(e, t, r) {
            "use strict";
            var n = e("./hover");
            t.exports = {
                moduleType: "trace",
                name: "scattergl",
                basePlotModule: e("../../plots/cartesian"),
                categories: ["gl", "regl", "cartesian", "symbols", "errorBarsOK", "showLegend", "scatter-like"],
                attributes: e("./attributes"),
                supplyDefaults: e("./defaults"),
                crossTraceDefaults: e("../scatter/cross_trace_defaults"),
                colorbar: e("../scatter/marker_colorbar"),
                formatLabels: e("./format_labels"),
                calc: e("./calc"),
                plot: e("./plot"),
                hoverPoints: n.hoverPoints,
                selectPoints: e("./select"),
                meta: {}
            }
        }
        , {
            "../../plots/cartesian": 428,
            "../scatter/cross_trace_defaults": 469,
            "../scatter/marker_colorbar": 481,
            "./attributes": 491,
            "./calc": 492,
            "./defaults": 495,
            "./format_labels": 497,
            "./hover": 499,
            "./plot": 501,
            "./select": 503
        }],
        501: [function(e, t, r) {
            "use strict";
            var n = e("regl-scatter2d")
              , a = e("regl-line2d")
              , i = e("regl-error2d")
              , o = e("gl-text")
              , s = e("../../lib")
              , l = e("../../components/dragelement/helpers").selectMode
              , c = e("../../lib/prepare_regl")
              , u = e("../scatter/subtypes")
              , f = e("../scatter/link_traces")
              , d = e("./edit_style").styleTextSelection;
            function h(e, t, r, n) {
                var a = e._size
                  , i = e.width * n
                  , o = e.height * n
                  , s = a.l * n
                  , l = a.b * n
                  , c = a.r * n
                  , u = a.t * n
                  , f = a.w * n
                  , d = a.h * n;
                return [s + t.domain[0] * f, l + r.domain[0] * d, i - c - (1 - t.domain[1]) * f, o - u - (1 - r.domain[1]) * d]
            }
            t.exports = function(e, t, r) {
                if (r.length) {
                    var p, g, y = e._fullLayout, v = t._scene, m = t.xaxis, b = t.yaxis;
                    if (v)
                        if (c(e, ["ANGLE_instanced_arrays", "OES_element_index_uint"])) {
                            var x = v.count
                              , _ = y._glcanvas.data()[0].regl;
                            if (f(e, t, r),
                            v.dirty) {
                                if (!0 === v.error2d && (v.error2d = i(_)),
                                !0 === v.line2d && (v.line2d = a(_)),
                                !0 === v.scatter2d && (v.scatter2d = n(_)),
                                !0 === v.fill2d && (v.fill2d = a(_)),
                                !0 === v.glText)
                                    for (v.glText = new Array(x),
                                    p = 0; p < x; p++)
                                        v.glText[p] = new o(_);
                                if (v.glText) {
                                    if (x > v.glText.length) {
                                        var w = x - v.glText.length;
                                        for (p = 0; p < w; p++)
                                            v.glText.push(new o(_))
                                    } else if (x < v.glText.length) {
                                        var A = v.glText.length - x;
                                        v.glText.splice(x, A).forEach((function(e) {
                                            e.destroy()
                                        }
                                        ))
                                    }
                                    for (p = 0; p < x; p++)
                                        v.glText[p].update(v.textOptions[p])
                                }
                                if (v.line2d && (v.line2d.update(v.lineOptions),
                                v.lineOptions = v.lineOptions.map((function(e) {
                                    if (e && e.positions) {
                                        for (var t = e.positions, r = 0; r < t.length && (isNaN(t[r]) || isNaN(t[r + 1])); )
                                            r += 2;
                                        for (var n = t.length - 2; n > r && (isNaN(t[n]) || isNaN(t[n + 1])); )
                                            n -= 2;
                                        e.positions = t.slice(r, n + 2)
                                    }
                                    return e
                                }
                                )),
                                v.line2d.update(v.lineOptions)),
                                v.error2d) {
                                    var k = (v.errorXOptions || []).concat(v.errorYOptions || []);
                                    v.error2d.update(k)
                                }
                                v.scatter2d && v.scatter2d.update(v.markerOptions),
                                v.fillOrder = s.repeat(null, x),
                                v.fill2d && (v.fillOptions = v.fillOptions.map((function(e, t) {
                                    var n = r[t];
                                    if (e && n && n[0] && n[0].trace) {
                                        var a, i, o = n[0], s = o.trace, l = o.t, c = v.lineOptions[t], u = [];
                                        s._ownfill && u.push(t),
                                        s._nexttrace && u.push(t + 1),
                                        u.length && (v.fillOrder[t] = u);
                                        var f, d, h = [], p = c && c.positions || l.positions;
                                        if ("tozeroy" === s.fill) {
                                            for (f = 0; f < p.length && isNaN(p[f + 1]); )
                                                f += 2;
                                            for (d = p.length - 2; d > f && isNaN(p[d + 1]); )
                                                d -= 2;
                                            0 !== p[f + 1] && (h = [p[f], 0]),
                                            h = h.concat(p.slice(f, d + 2)),
                                            0 !== p[d + 1] && (h = h.concat([p[d], 0]))
                                        } else if ("tozerox" === s.fill) {
                                            for (f = 0; f < p.length && isNaN(p[f]); )
                                                f += 2;
                                            for (d = p.length - 2; d > f && isNaN(p[d]); )
                                                d -= 2;
                                            0 !== p[f] && (h = [0, p[f + 1]]),
                                            h = h.concat(p.slice(f, d + 2)),
                                            0 !== p[d] && (h = h.concat([0, p[d + 1]]))
                                        } else if ("toself" === s.fill || "tonext" === s.fill) {
                                            for (h = [],
                                            a = 0,
                                            e.splitNull = !0,
                                            i = 0; i < p.length; i += 2)
                                                (isNaN(p[i]) || isNaN(p[i + 1])) && ((h = h.concat(p.slice(a, i))).push(p[a], p[a + 1]),
                                                h.push(null, null),
                                                a = i + 2);
                                            h = h.concat(p.slice(a)),
                                            a && h.push(p[a], p[a + 1])
                                        } else {
                                            var g = s._nexttrace;
                                            if (g) {
                                                var y = v.lineOptions[t + 1];
                                                if (y) {
                                                    var m = y.positions;
                                                    if ("tonexty" === s.fill) {
                                                        for (h = p.slice(),
                                                        t = Math.floor(m.length / 2); t--; ) {
                                                            var b = m[2 * t]
                                                              , x = m[2 * t + 1];
                                                            isNaN(b) || isNaN(x) || h.push(b, x)
                                                        }
                                                        e.fill = g.fillcolor
                                                    }
                                                }
                                            }
                                        }
                                        if (s._prevtrace && "tonext" === s._prevtrace.fill) {
                                            var _ = v.lineOptions[t - 1].positions
                                              , w = h.length / 2
                                              , A = [a = w];
                                            for (i = 0; i < _.length; i += 2)
                                                (isNaN(_[i]) || isNaN(_[i + 1])) && (A.push(i / 2 + w + 1),
                                                a = i + 2);
                                            h = h.concat(_),
                                            e.hole = A
                                        }
                                        return e.fillmode = s.fill,
                                        e.opacity = s.opacity,
                                        e.positions = h,
                                        e
                                    }
                                }
                                )),
                                v.fill2d.update(v.fillOptions))
                            }
                            var T = y.dragmode
                              , M = l(T)
                              , S = y.clickmode.indexOf("select") > -1;
                            for (p = 0; p < x; p++) {
                                var C = r[p][0]
                                  , O = C.trace
                                  , D = C.t
                                  , L = D.index
                                  , E = O._length
                                  , z = D.x
                                  , F = D.y;
                                if (O.selectedpoints || M || S) {
                                    if (M || (M = !0),
                                    O.selectedpoints) {
                                        var P = v.selectBatch[L] = s.selIndices2selPoints(O)
                                          , I = {};
                                        for (g = 0; g < P.length; g++)
                                            I[P[g]] = 1;
                                        var N = [];
                                        for (g = 0; g < E; g++)
                                            I[g] || N.push(g);
                                        v.unselectBatch[L] = N
                                    }
                                    var R = D.xpx = new Array(E)
                                      , j = D.ypx = new Array(E);
                                    for (g = 0; g < E; g++)
                                        R[g] = m.c2p(z[g]),
                                        j[g] = b.c2p(F[g])
                                } else
                                    D.xpx = D.ypx = null
                            }
                            if (M) {
                                if (v.select2d || (v.select2d = n(y._glcanvas.data()[1].regl)),
                                v.scatter2d) {
                                    var B = new Array(x);
                                    for (p = 0; p < x; p++)
                                        B[p] = v.selectBatch[p].length || v.unselectBatch[p].length ? v.markerUnselectedOptions[p] : {};
                                    v.scatter2d.update(B)
                                }
                                v.select2d && (v.select2d.update(v.markerOptions),
                                v.select2d.update(v.markerSelectedOptions)),
                                v.glText && r.forEach((function(e) {
                                    var t = ((e || [])[0] || {}).trace || {};
                                    u.hasText(t) && d(e)
                                }
                                ))
                            } else
                                v.scatter2d && v.scatter2d.update(v.markerOptions);
                            var H = {
                                viewport: h(y, m, b, e._context.plotGlPixelRatio),
                                range: [(m._rl || m.range)[0], (b._rl || b.range)[0], (m._rl || m.range)[1], (b._rl || b.range)[1]]
                            }
                              , U = s.repeat(H, v.count);
                            v.fill2d && v.fill2d.update(U),
                            v.line2d && v.line2d.update(U),
                            v.error2d && v.error2d.update(U.concat(U)),
                            v.scatter2d && v.scatter2d.update(U),
                            v.select2d && v.select2d.update(U),
                            v.glText && v.glText.forEach((function(e) {
                                e.update(H)
                            }
                            ))
                        } else
                            v.init()
                }
            }
        }
        , {
            "../../components/dragelement/helpers": 253,
            "../../lib": 365,
            "../../lib/prepare_regl": 378,
            "../scatter/link_traces": 479,
            "../scatter/subtypes": 488,
            "./edit_style": 496,
            "gl-text": 141,
            "regl-error2d": 174,
            "regl-line2d": 175,
            "regl-scatter2d": 176
        }],
        502: [function(e, t, r) {
            "use strict";
            var n = e("../../lib");
            t.exports = function(e, t) {
                var r = t._scene
                  , a = {
                    count: 0,
                    dirty: !0,
                    lineOptions: [],
                    fillOptions: [],
                    markerOptions: [],
                    markerSelectedOptions: [],
                    markerUnselectedOptions: [],
                    errorXOptions: [],
                    errorYOptions: [],
                    textOptions: [],
                    textSelectedOptions: [],
                    textUnselectedOptions: [],
                    selectBatch: [],
                    unselectBatch: []
                }
                  , i = {
                    fill2d: !1,
                    scatter2d: !1,
                    error2d: !1,
                    line2d: !1,
                    glText: !1,
                    select2d: !1
                };
                return t._scene || ((r = t._scene = {}).init = function() {
                    n.extendFlat(r, i, a)
                }
                ,
                r.init(),
                r.update = function(e) {
                    var t = n.repeat(e, r.count);
                    if (r.fill2d && r.fill2d.update(t),
                    r.scatter2d && r.scatter2d.update(t),
                    r.line2d && r.line2d.update(t),
                    r.error2d && r.error2d.update(t.concat(t)),
                    r.select2d && r.select2d.update(t),
                    r.glText)
                        for (var a = 0; a < r.count; a++)
                            r.glText[a].update(e)
                }
                ,
                r.draw = function() {
                    for (var e = r.count, t = r.fill2d, a = r.error2d, i = r.line2d, o = r.scatter2d, s = r.glText, l = r.select2d, c = r.selectBatch, u = r.unselectBatch, f = 0; f < e; f++) {
                        if (t && r.fillOrder[f] && t.draw(r.fillOrder[f]),
                        i && r.lineOptions[f] && i.draw(f),
                        a && (r.errorXOptions[f] && a.draw(f),
                        r.errorYOptions[f] && a.draw(f + e)),
                        o && r.markerOptions[f])
                            if (u[f].length) {
                                var d = n.repeat([], r.count);
                                d[f] = u[f],
                                o.draw(d)
                            } else
                                c[f].length || o.draw(f);
                        s[f] && r.textOptions[f] && s[f].render()
                    }
                    l && l.draw(c),
                    r.dirty = !1
                }
                ,
                r.destroy = function() {
                    r.fill2d && r.fill2d.destroy && r.fill2d.destroy(),
                    r.scatter2d && r.scatter2d.destroy && r.scatter2d.destroy(),
                    r.error2d && r.error2d.destroy && r.error2d.destroy(),
                    r.line2d && r.line2d.destroy && r.line2d.destroy(),
                    r.select2d && r.select2d.destroy && r.select2d.destroy(),
                    r.glText && r.glText.forEach((function(e) {
                        e.destroy && e.destroy()
                    }
                    )),
                    r.lineOptions = null,
                    r.fillOptions = null,
                    r.markerOptions = null,
                    r.markerSelectedOptions = null,
                    r.markerUnselectedOptions = null,
                    r.errorXOptions = null,
                    r.errorYOptions = null,
                    r.textOptions = null,
                    r.textSelectedOptions = null,
                    r.textUnselectedOptions = null,
                    r.selectBatch = null,
                    r.unselectBatch = null,
                    t._scene = null
                }
                ),
                r.dirty || n.extendFlat(r, a),
                r
            }
        }
        , {
            "../../lib": 365
        }],
        503: [function(e, t, r) {
            "use strict";
            var n = e("../scatter/subtypes")
              , a = e("./edit_style").styleTextSelection;
            t.exports = function(e, t) {
                var r = e.cd
                  , i = e.xaxis
                  , o = e.yaxis
                  , s = []
                  , l = r[0].trace
                  , c = r[0].t
                  , u = l._length
                  , f = c.x
                  , d = c.y
                  , h = c._scene
                  , p = c.index;
                if (!h)
                    return s;
                var g = n.hasText(l)
                  , y = n.hasMarkers(l)
                  , v = !y && !g;
                if (!0 !== l.visible || v)
                    return s;
                var m = []
                  , b = [];
                if (!1 !== t && !t.degenerate)
                    for (var x = 0; x < u; x++)
                        t.contains([c.xpx[x], c.ypx[x]], !1, x, e) ? (m.push(x),
                        s.push({
                            pointNumber: x,
                            x: i.c2d(f[x]),
                            y: o.c2d(d[x])
                        })) : b.push(x);
                if (y) {
                    var _ = h.scatter2d;
                    if (m.length || b.length) {
                        if (!h.selectBatch[p].length && !h.unselectBatch[p].length) {
                            var w = new Array(h.count);
                            w[p] = h.markerUnselectedOptions[p],
                            _.update.apply(_, w)
                        }
                    } else {
                        var A = new Array(h.count);
                        A[p] = h.markerOptions[p],
                        _.update.apply(_, A)
                    }
                }
                return h.selectBatch[p] = m,
                h.unselectBatch[p] = b,
                g && a(r),
                s
            }
        }
        , {
            "../scatter/subtypes": 488,
            "./edit_style": 496
        }],
        504: [function(e, t, r) {
            "use strict";
            r.version = "2.3.1"
        }
        , {}]
    }, {}, [4])(4)
}
));
